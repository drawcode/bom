-- -----------------------------------------------------------------------------
-- SQL SETUP 
-- -----------------------------------------------------------------------------

DELIMITER $$

DROP PROCEDURE IF EXISTS drop_index_if_exists $$
CREATE PROCEDURE drop_index_if_exists(in theTable varchar(128), in theIndexName varchar(128) )
BEGIN
 IF((SELECT COUNT(*) AS index_exists FROM information_schema.statistics WHERE TABLE_SCHEMA = DATABASE() and table_name =
theTable AND index_name = theIndexName) > 0) THEN
   SET @s = CONCAT('DROP INDEX `' , theIndexName , '` ON `' , theTable, '`');
   PREPARE stmt FROM @s;
   EXECUTE stmt;
 END IF;
END $$

DELIMITER ;

-- TABLES
/*
        
DROP TABLE IF EXISTS `game` CASCADE;
    
        
DROP TABLE IF EXISTS `game_attribute` CASCADE;
    
        
DROP TABLE IF EXISTS `game_attribute_text` CASCADE;
    
        
DROP TABLE IF EXISTS `game_attribute_data` CASCADE;
    
        
DROP TABLE IF EXISTS `game_category` CASCADE;
    
        
DROP TABLE IF EXISTS `game_category_tree` CASCADE;
    
        
DROP TABLE IF EXISTS `game_category_assoc` CASCADE;
    
        
DROP TABLE IF EXISTS `game_type` CASCADE;
    
        
DROP TABLE IF EXISTS `profile_game` CASCADE;
    
        
DROP TABLE IF EXISTS `game_profile_attribute` CASCADE;
    
        
DROP TABLE IF EXISTS `game_profile_attribute_text` CASCADE;
    
        
DROP TABLE IF EXISTS `game_profile_attribute_data` CASCADE;
    
        
DROP TABLE IF EXISTS `game_network` CASCADE;
    
        
DROP TABLE IF EXISTS `game_network_auth` CASCADE;
    
        
DROP TABLE IF EXISTS `profile_game_network` CASCADE;
    
        
DROP TABLE IF EXISTS `profile_game_data_attribute` CASCADE;
    
        
DROP TABLE IF EXISTS `game_session` CASCADE;
    
        
DROP TABLE IF EXISTS `game_session_data` CASCADE;
    
        
DROP TABLE IF EXISTS `game_content` CASCADE;
    
        
DROP TABLE IF EXISTS `game_profile_content` CASCADE;
    
        
DROP TABLE IF EXISTS `game_app` CASCADE;
    
        
DROP TABLE IF EXISTS `profile_game_location` CASCADE;
    
        
DROP TABLE IF EXISTS `game_photo` CASCADE;
    
        
DROP TABLE IF EXISTS `game_video` CASCADE;
    
        
DROP TABLE IF EXISTS `game_rpg_item_weapon` CASCADE;
    
        
DROP TABLE IF EXISTS `game_rpg_item_skill` CASCADE;
    
        
DROP TABLE IF EXISTS `game_product` CASCADE;
    
        
DROP TABLE IF EXISTS `game_leaderboard` CASCADE;
    
        
DROP TABLE IF EXISTS `game_leaderboard_item` CASCADE;
    
        
DROP TABLE IF EXISTS `game_leaderboard_rollup` CASCADE;
    
        
DROP TABLE IF EXISTS `game_live_queue` CASCADE;
    
        
DROP TABLE IF EXISTS `game_live_recent_queue` CASCADE;
    
        
DROP TABLE IF EXISTS `game_profile_statistic` CASCADE;
    
        
DROP TABLE IF EXISTS `game_statistic_meta` CASCADE;
    
        
DROP TABLE IF EXISTS `game_profile_statistic_item` CASCADE;
    
        
DROP TABLE IF EXISTS `game_key_meta` CASCADE;
    
        
DROP TABLE IF EXISTS `game_level` CASCADE;
    
        
DROP TABLE IF EXISTS `game_profile_achievement` CASCADE;
    
        
DROP TABLE IF EXISTS `game_achievement_meta` CASCADE;
    
        
DROP TABLE IF EXISTS `profile_reward` CASCADE;
    
        
DROP TABLE IF EXISTS `coupon` CASCADE;
    
        
DROP TABLE IF EXISTS `profile_coupon` CASCADE;
    
        
DROP TABLE IF EXISTS `org` CASCADE;
    
        
DROP TABLE IF EXISTS `channel` CASCADE;
    
        
DROP TABLE IF EXISTS `channel_type` CASCADE;
    
        
DROP TABLE IF EXISTS `reward` CASCADE;
    
        
DROP TABLE IF EXISTS `reward_type` CASCADE;
    
        
DROP TABLE IF EXISTS `reward_condition` CASCADE;
    
        
DROP TABLE IF EXISTS `reward_condition_type` CASCADE;
    
        
DROP TABLE IF EXISTS `question` CASCADE;
    
        
DROP TABLE IF EXISTS `profile_question` CASCADE;
    
        
DROP TABLE IF EXISTS `profile_channel` CASCADE;
    
        
DROP TABLE IF EXISTS `profile_reward_points` CASCADE;
    
        
DROP TABLE IF EXISTS `reward_competition` CASCADE;
    
*/

        
CREATE TABLE `game` 
(
    `status` VARCHAR (255)
    , `code` VARCHAR (255)
    , `display_name` VARCHAR (255)
    , `name` VARCHAR (255)
    , `date_modified` TIMESTAMP
                    DEFAULT NOW()
    , `org_id` BINARY(16)
    , `uuid` BINARY(16) 
    , `app_id` BINARY(16)
    , `active` int
                DEFAULT 1
    , `date_created` TIMESTAMP
                    DEFAULT '0000-00-00 00:00:00'
    , `type` VARCHAR (500)
    , `description` VARCHAR (255)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

ALTER TABLE `game` ADD PRIMARY KEY (`uuid`);
    
        
CREATE TABLE `game_attribute` 
(
    `status` VARCHAR (255)
    , `sort` INTEGER
    , `code` VARCHAR (255)
    , `display_name` VARCHAR (255)
    , `name` VARCHAR (255)
    , `date_modified` TIMESTAMP
                    DEFAULT NOW()
    , `uuid` BINARY(16) 
    , `group` INTEGER
    , `game_id` BINARY(16)
    , `active` int
                DEFAULT 1
    , `date_created` TIMESTAMP
                    DEFAULT '0000-00-00 00:00:00'
    , `type` INTEGER
    , `order` INTEGER
    , `description` VARCHAR (255)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

ALTER TABLE `game_attribute` ADD PRIMARY KEY (`uuid`);
    
        
CREATE TABLE `game_attribute_text` 
(
    `status` VARCHAR (255)
    , `sort` INTEGER
    , `attribute_value` VARCHAR (1000)
    , `active` int
                DEFAULT 1
    , `game_id` BINARY(16)
    , `group` INTEGER
    , `uuid` BINARY(16) 
    , `date_modified` TIMESTAMP
                    DEFAULT NOW()
    , `attribute_id` BINARY(16)
    , `date_created` TIMESTAMP
                    DEFAULT '0000-00-00 00:00:00'
    , `type` INTEGER
    , `order` INTEGER
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

ALTER TABLE `game_attribute_text` ADD PRIMARY KEY (`uuid`);
    
        
CREATE TABLE `game_attribute_data` 
(
    `status` VARCHAR (255)
    , `sort` INTEGER
    , `attribute_value` TEXT
    , `active` int
                DEFAULT 1
    , `game_id` BINARY(16)
    , `group` INTEGER
    , `uuid` BINARY(16) 
    , `date_modified` TIMESTAMP
                    DEFAULT NOW()
    , `attribute_id` BINARY(16)
    , `date_created` TIMESTAMP
                    DEFAULT '0000-00-00 00:00:00'
    , `type` INTEGER
    , `order` INTEGER
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

ALTER TABLE `game_attribute_data` ADD PRIMARY KEY (`uuid`);
    
        
CREATE TABLE `game_category` 
(
    `status` VARCHAR (255)
    , `code` VARCHAR (255)
    , `display_name` VARCHAR (255)
    , `name` VARCHAR (255)
    , `date_modified` TIMESTAMP
                    DEFAULT NOW()
    , `type_id` BINARY(16) 
    , `org_id` BINARY(16) 
    , `uuid` BINARY(16) 
    , `active` int
                DEFAULT 1
    , `date_created` TIMESTAMP
                    DEFAULT '0000-00-00 00:00:00'
    , `type` VARCHAR (500)
    , `description` VARCHAR (255)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

ALTER TABLE `game_category` ADD PRIMARY KEY (`uuid`);
    
        
CREATE TABLE `game_category_tree` 
(
    `status` VARCHAR (255)
    , `parent_id` BINARY(16) 
    , `uuid` BINARY(16) 
    , `date_modified` TIMESTAMP
                    DEFAULT NOW()
    , `active` int
                DEFAULT 1
    , `date_created` TIMESTAMP
                    DEFAULT '0000-00-00 00:00:00'
    , `category_id` BINARY(16) 
    , `type` VARCHAR (500)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

ALTER TABLE `game_category_tree` ADD PRIMARY KEY (`uuid`);
    
        
CREATE TABLE `game_category_assoc` 
(
    `status` VARCHAR (255)
    , `uuid` BINARY(16) 
    , `date_modified` TIMESTAMP
                    DEFAULT NOW()
    , `active` int
                DEFAULT 1
    , `date_created` TIMESTAMP
                    DEFAULT '0000-00-00 00:00:00'
    , `game_id` BINARY(16) 
    , `category_id` BINARY(16) 
    , `type` VARCHAR (500)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

ALTER TABLE `game_category_assoc` ADD PRIMARY KEY (`uuid`);
    
        
CREATE TABLE `game_type` 
(
    `status` VARCHAR (255)
    , `code` VARCHAR (255)
    , `display_name` VARCHAR (255)
    , `name` VARCHAR (255)
    , `date_modified` TIMESTAMP
                    DEFAULT NOW()
    , `uuid` BINARY(16) 
    , `active` int
                DEFAULT 1
    , `date_created` TIMESTAMP
                    DEFAULT '0000-00-00 00:00:00'
    , `type` VARCHAR (50) 
    , `description` VARCHAR (255)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

ALTER TABLE `game_type` ADD PRIMARY KEY (`uuid`);
    
        
CREATE TABLE `profile_game` 
(
    `status` VARCHAR (255)
    , `type_id` BINARY(16)
    , `profile_id` BINARY(16)
    , `profile_iteration` VARCHAR (50)
    , `game_profile` TEXT
    , `active` int
                DEFAULT 1
    , `game_id` BINARY(16)
    , `uuid` BINARY(16) 
    , `date_modified` TIMESTAMP
                    DEFAULT NOW()
    , `profile_version` VARCHAR (50)
    , `date_created` TIMESTAMP
                    DEFAULT '0000-00-00 00:00:00'
    , `type` VARCHAR (500)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

ALTER TABLE `profile_game` ADD PRIMARY KEY (`uuid`);
    
        
CREATE TABLE `game_profile_attribute` 
(
    `status` VARCHAR (255)
    , `sort` INTEGER
    , `code` VARCHAR (255)
    , `display_name` VARCHAR (255)
    , `name` VARCHAR (255)
    , `date_modified` TIMESTAMP
                    DEFAULT NOW()
    , `uuid` BINARY(16) 
    , `group` INTEGER
    , `game_id` BINARY(16)
    , `active` int
                DEFAULT 1
    , `date_created` TIMESTAMP
                    DEFAULT '0000-00-00 00:00:00'
    , `type` INTEGER
    , `order` INTEGER
    , `description` VARCHAR (255)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

ALTER TABLE `game_profile_attribute` ADD PRIMARY KEY (`uuid`);
    
        
CREATE TABLE `game_profile_attribute_text` 
(
    `status` VARCHAR (255)
    , `sort` INTEGER
    , `profile_id` BINARY(16)
    , `game_id` BINARY(16)
    , `active` int
                DEFAULT 1
    , `attribute_value` VARCHAR (1000)
    , `group` INTEGER
    , `uuid` BINARY(16) 
    , `date_modified` TIMESTAMP
                    DEFAULT NOW()
    , `attribute_id` BINARY(16)
    , `date_created` TIMESTAMP
                    DEFAULT '0000-00-00 00:00:00'
    , `type` INTEGER
    , `order` INTEGER
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

ALTER TABLE `game_profile_attribute_text` ADD PRIMARY KEY (`uuid`);
    
        
CREATE TABLE `game_profile_attribute_data` 
(
    `status` VARCHAR (255)
    , `sort` INTEGER
    , `profile_id` BINARY(16)
    , `game_id` BINARY(16)
    , `active` int
                DEFAULT 1
    , `attribute_value` TEXT
    , `group` INTEGER
    , `uuid` BINARY(16) 
    , `date_modified` TIMESTAMP
                    DEFAULT NOW()
    , `attribute_id` BINARY(16)
    , `date_created` TIMESTAMP
                    DEFAULT '0000-00-00 00:00:00'
    , `type` INTEGER
    , `order` INTEGER
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

ALTER TABLE `game_profile_attribute_data` ADD PRIMARY KEY (`uuid`);
    
        
CREATE TABLE `game_network` 
(
    `status` VARCHAR (255)
    , `code` VARCHAR (255)
    , `display_name` VARCHAR (255)
    , `name` VARCHAR (255)
    , `date_modified` TIMESTAMP
                    DEFAULT NOW()
    , `url` VARCHAR (500)
    , `data` TEXT
    , `uuid` BINARY(16) 
    , `secret` VARCHAR (500)
    , `active` int
                DEFAULT 1
    , `date_created` TIMESTAMP
                    DEFAULT '0000-00-00 00:00:00'
    , `type` VARCHAR (500)
    , `description` VARCHAR (255)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

ALTER TABLE `game_network` ADD PRIMARY KEY (`uuid`);
    
        
CREATE TABLE `game_network_auth` 
(
    `status` VARCHAR (255)
    , `code` VARCHAR (255)
    , `display_name` VARCHAR (255)
    , `name` VARCHAR (255)
    , `date_modified` TIMESTAMP
                    DEFAULT NOW()
    , `url` VARCHAR (500)
    , `data` TEXT
    , `uuid` BINARY(16) 
    , `app_id` VARCHAR (500)
    , `game_network_id` BINARY(16)
    , `secret` VARCHAR (500)
    , `game_id` BINARY(16)
    , `active` int
                DEFAULT 1
    , `date_created` TIMESTAMP
                    DEFAULT '0000-00-00 00:00:00'
    , `type` VARCHAR (500)
    , `description` VARCHAR (255)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

ALTER TABLE `game_network_auth` ADD PRIMARY KEY (`uuid`);
    
        
CREATE TABLE `profile_game_network` 
(
    `status` VARCHAR (255)
    , `hash` VARCHAR (500)
    , `profile_id` BINARY(16)
    , `game_network_id` BINARY(16)
    , `network_username` VARCHAR (500)
    , `active` int
                DEFAULT 1
    , `game_id` BINARY(16)
    , `data` TEXT
    , `uuid` BINARY(16) 
    , `date_modified` TIMESTAMP
                    DEFAULT NOW()
    , `network_fullname` VARCHAR (500)
    , `secret` VARCHAR (500)
    , `token` VARCHAR (500)
    , `date_created` TIMESTAMP
                    DEFAULT '0000-00-00 00:00:00'
    , `network_auth` VARCHAR (500)
    , `type` VARCHAR (500)
    , `network_user_id` VARCHAR (500)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

ALTER TABLE `profile_game_network` ADD PRIMARY KEY (`uuid`);
    
        
CREATE TABLE `profile_game_data_attribute` 
(
    `status` VARCHAR (255)
    , `code` VARCHAR (500)
    , `profile_id` BINARY(16)
    , `active` int
                DEFAULT 1
    , `game_id` BINARY(16)
    , `name` VARCHAR (500)
    , `uuid` BINARY(16)
    , `val` TEXT
    , `date_modified` TIMESTAMP
                    DEFAULT NOW()
    , `otype` VARCHAR (500)
    , `date_created` TIMESTAMP
                    DEFAULT '0000-00-00 00:00:00'
    , `type` VARCHAR (500)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

ALTER TABLE `profile_game_data_attribute` ADD PRIMARY KEY (`uuid`);
    
        
CREATE TABLE `game_session` 
(
    `game_area` VARCHAR (255)
    , `code` VARCHAR (255)
    , `network_uuid` VARCHAR (40)
    , `profile_id` BINARY(16)
    , `game_level` VARCHAR (255)
    , `profile_network` VARCHAR (255)
    , `profile_device` VARCHAR (50)
    , `display_name` VARCHAR (255)
    , `uuid` BINARY(16) 
    , `network_external_port` INTEGER
    , `game_players_connected` INTEGER
    , `type` VARCHAR (500)
    , `status` VARCHAR (255)
    , `game_state` VARCHAR (50)
    , `hash` VARCHAR (255)
    , `description` VARCHAR (255)
    , `network_external_ip` VARCHAR (40)
    , `profile_username` VARCHAR (500)
    , `active` int
                DEFAULT 1
    , `game_id` BINARY(16)
    , `game_code` VARCHAR (255)
    , `game_player_z` decimal
    , `game_player_x` decimal
    , `game_player_y` decimal
    , `network_port` INTEGER
    , `game_players_allowed` INTEGER
    , `name` VARCHAR (255)
    , `date_modified` TIMESTAMP
                    DEFAULT NOW()
    , `game_type` VARCHAR (255)
    , `date_created` TIMESTAMP
                    DEFAULT '0000-00-00 00:00:00'
    , `network_ip` VARCHAR (40)
    , `network_use_nat` int
                DEFAULT 1
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

ALTER TABLE `game_session` ADD PRIMARY KEY (`uuid`);
    
        
CREATE TABLE `game_session_data` 
(
    `status` VARCHAR (255)
    , `code` VARCHAR (255)
    , `display_name` VARCHAR (255)
    , `name` VARCHAR (255)
    , `date_modified` TIMESTAMP
                    DEFAULT NOW()
    , `data_results` TEXT
    , `data` TEXT
    , `uuid` BINARY(16) 
    , `data_layer_projectile` TEXT
    , `data_layer_actors` TEXT
    , `active` int
                DEFAULT 1
    , `date_created` TIMESTAMP
                    DEFAULT '0000-00-00 00:00:00'
    , `data_layer_enemy` TEXT
    , `type` VARCHAR (500)
    , `description` VARCHAR (255)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

ALTER TABLE `game_session_data` ADD PRIMARY KEY (`uuid`);
    
        
CREATE TABLE `game_content` 
(
    `status` VARCHAR (255)
    , `code` VARCHAR (255)
    , `display_name` VARCHAR (255)
    , `name` VARCHAR (255)
    , `extension` VARCHAR (50)
    , `date_modified` TIMESTAMP
                    DEFAULT NOW()
    , `data` TEXT
    , `game_id` BINARY(16) 
    , `uuid` BINARY(16) 
    , `filename` VARCHAR (500)
    , `source` VARCHAR (255)
    , `version` VARCHAR (255)
    , `platform` VARCHAR (255)
    , `content_type` VARCHAR (255)
    , `path` VARCHAR (500)
    , `active` int
                DEFAULT 1
    , `date_created` TIMESTAMP
                    DEFAULT '0000-00-00 00:00:00'
    , `increment` INTEGER
    , `type` VARCHAR (500)
    , `hash` VARCHAR (255)
    , `description` VARCHAR (255)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

ALTER TABLE `game_content` ADD PRIMARY KEY (`uuid`);
    
        
CREATE TABLE `game_profile_content` 
(
    `username` VARCHAR (500)
    , `code` VARCHAR (255)
    , `profile_id` BINARY(16) 
    , `increment` INTEGER
    , `path` VARCHAR (500)
    , `display_name` VARCHAR (255)
    , `uuid` BINARY(16) 
    , `platform` VARCHAR (255)
    , `filename` VARCHAR (500)
    , `source` VARCHAR (255)
    , `version` VARCHAR (255)
    , `game_network` VARCHAR (500)
    , `type` VARCHAR (500)
    , `status` VARCHAR (255)
    , `hash` VARCHAR (255)
    , `description` VARCHAR (255)
    , `content_type` VARCHAR (255)
    , `active` int
                DEFAULT 1
    , `game_id` BINARY(16) 
    , `data` TEXT
    , `name` VARCHAR (255)
    , `extension` VARCHAR (50)
    , `date_modified` TIMESTAMP
                    DEFAULT NOW()
    , `date_created` TIMESTAMP
                    DEFAULT '0000-00-00 00:00:00'
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

ALTER TABLE `game_profile_content` ADD PRIMARY KEY (`uuid`);
    
        
CREATE TABLE `game_app` 
(
    `status` VARCHAR (255)
    , `uuid` BINARY(16) 
    , `date_modified` TIMESTAMP
                    DEFAULT NOW()
    , `active` int
                DEFAULT 1
    , `date_created` TIMESTAMP
                    DEFAULT '0000-00-00 00:00:00'
    , `game_id` BINARY(16) 
    , `type` VARCHAR (500)
    , `app_id` BINARY(16) 
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

ALTER TABLE `game_app` ADD PRIMARY KEY (`uuid`);
    
        
CREATE TABLE `profile_game_location` 
(
    `status` VARCHAR (255)
    , `game_location_id` BINARY(16)
    , `type_id` BINARY(16)
    , `uuid` BINARY(16) 
    , `date_modified` TIMESTAMP
                    DEFAULT NOW()
    , `active` int
                DEFAULT 1
    , `date_created` TIMESTAMP
                    DEFAULT '0000-00-00 00:00:00'
    , `profile_id` BINARY(16)
    , `type` VARCHAR (500)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

ALTER TABLE `profile_game_location` ADD PRIMARY KEY (`uuid`);
    
        
CREATE TABLE `game_photo` 
(
    `status` VARCHAR (255)
    , `third_party_oembed` VARCHAR (500)
    , `code` VARCHAR (255)
    , `display_name` VARCHAR (255)
    , `name` VARCHAR (255)
    , `date_modified` TIMESTAMP
                    DEFAULT NOW()
    , `url` VARCHAR (500)
    , `third_party_data` VARCHAR (500)
    , `uuid` BINARY(16) 
    , `third_party_url` VARCHAR (500)
    , `third_party_id` VARCHAR (500)
    , `content_type` VARCHAR (100)
    , `external_id` BINARY(16)
    , `active` int
                DEFAULT 1
    , `date_created` TIMESTAMP
                    DEFAULT '0000-00-00 00:00:00'
    , `type` VARCHAR (500)
    , `description` VARCHAR (255)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

ALTER TABLE `game_photo` ADD PRIMARY KEY (`uuid`);
    
        
CREATE TABLE `game_video` 
(
    `status` VARCHAR (255)
    , `third_party_oembed` VARCHAR (500)
    , `code` VARCHAR (255)
    , `display_name` VARCHAR (255)
    , `name` VARCHAR (255)
    , `date_modified` TIMESTAMP
                    DEFAULT NOW()
    , `url` VARCHAR (500)
    , `third_party_data` VARCHAR (500)
    , `uuid` BINARY(16) 
    , `third_party_url` VARCHAR (500)
    , `third_party_id` VARCHAR (500)
    , `content_type` VARCHAR (100)
    , `external_id` BINARY(16)
    , `active` int
                DEFAULT 1
    , `date_created` TIMESTAMP
                    DEFAULT '0000-00-00 00:00:00'
    , `type` VARCHAR (500)
    , `description` VARCHAR (255)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

ALTER TABLE `game_video` ADD PRIMARY KEY (`uuid`);
    
        
CREATE TABLE `game_rpg_item_weapon` 
(
    `status` VARCHAR (255)
    , `third_party_oembed` VARCHAR (500)
    , `code` VARCHAR (255)
    , `description` VARCHAR (255)
    , `game_defense` decimal
    , `third_party_url` VARCHAR (500)
    , `third_party_id` VARCHAR (500)
    , `content_type` VARCHAR (100)
    , `type` VARCHAR (500)
    , `active` int
                DEFAULT 1
    , `game_id` BINARY(16)
    , `game_attack` decimal
    , `uuid` BINARY(16) 
    , `display_name` VARCHAR (255)
    , `name` VARCHAR (255)
    , `date_modified` TIMESTAMP
                    DEFAULT NOW()
    , `url` VARCHAR (500)
    , `third_party_data` VARCHAR (500)
    , `game_price` decimal
    , `game_type` decimal
    , `game_skill` decimal
    , `game_health` decimal
    , `date_created` TIMESTAMP
                    DEFAULT '0000-00-00 00:00:00'
    , `game_energy` decimal
    , `game_data` TEXT
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

ALTER TABLE `game_rpg_item_weapon` ADD PRIMARY KEY (`uuid`);
    
        
CREATE TABLE `game_rpg_item_skill` 
(
    `status` VARCHAR (255)
    , `third_party_oembed` VARCHAR (500)
    , `code` VARCHAR (255)
    , `description` VARCHAR (255)
    , `game_defense` decimal
    , `third_party_url` VARCHAR (500)
    , `third_party_id` VARCHAR (500)
    , `content_type` VARCHAR (100)
    , `type` VARCHAR (500)
    , `active` int
                DEFAULT 1
    , `game_id` BINARY(16)
    , `game_attack` decimal
    , `uuid` BINARY(16) 
    , `display_name` VARCHAR (255)
    , `name` VARCHAR (255)
    , `date_modified` TIMESTAMP
                    DEFAULT NOW()
    , `url` VARCHAR (500)
    , `third_party_data` VARCHAR (500)
    , `game_price` decimal
    , `game_type` decimal
    , `game_skill` decimal
    , `game_health` decimal
    , `date_created` TIMESTAMP
                    DEFAULT '0000-00-00 00:00:00'
    , `game_energy` decimal
    , `game_data` TEXT
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

ALTER TABLE `game_rpg_item_skill` ADD PRIMARY KEY (`uuid`);
    
        
CREATE TABLE `game_product` 
(
    `status` VARCHAR (255)
    , `code` VARCHAR (255)
    , `display_name` VARCHAR (255)
    , `name` VARCHAR (255)
    , `date_modified` TIMESTAMP
                    DEFAULT NOW()
    , `url` VARCHAR (255)
    , `uuid` BINARY(16) 
    , `game_id` VARCHAR (100)
    , `active` int
                DEFAULT 1
    , `date_created` TIMESTAMP
                    DEFAULT '0000-00-00 00:00:00'
    , `type` VARCHAR (500)
    , `description` VARCHAR (255)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

ALTER TABLE `game_product` ADD PRIMARY KEY (`uuid`);
    
        
CREATE TABLE `game_leaderboard` 
(
    `status` VARCHAR (255)
    , `username` VARCHAR (500)
    , `code` VARCHAR (500)
    , `timestamp` decimal
    , `profile_id` BINARY(16)
    , `rank` INTEGER
    , `rank_change` INTEGER
    , `game_id` BINARY(16)
    , `active` int
                DEFAULT 1
    , `rank_total_count` INTEGER
    , `absolute_value` decimal
    , `data` TEXT
    , `stat_value` decimal
    , `network` VARCHAR (500)
    , `uuid` BINARY(16) 
    , `date_modified` TIMESTAMP
                    DEFAULT NOW()
    , `level` VARCHAR (500)
    , `stat_value_formatted` VARCHAR (500)
    , `date_created` TIMESTAMP
                    DEFAULT '0000-00-00 00:00:00'
    , `type` VARCHAR (500)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

ALTER TABLE `game_leaderboard` ADD PRIMARY KEY (`uuid`);
    
        
CREATE TABLE `game_leaderboard_item` 
(
    `status` VARCHAR (255)
    , `username` VARCHAR (500)
    , `code` VARCHAR (500)
    , `timestamp` decimal
    , `profile_id` BINARY(16)
    , `rank` INTEGER
    , `rank_change` INTEGER
    , `game_id` BINARY(16)
    , `active` int
                DEFAULT 1
    , `rank_total_count` INTEGER
    , `absolute_value` decimal
    , `data` TEXT
    , `stat_value` decimal
    , `network` VARCHAR (500)
    , `uuid` BINARY(16) 
    , `date_modified` TIMESTAMP
                    DEFAULT NOW()
    , `level` VARCHAR (500)
    , `stat_value_formatted` VARCHAR (500)
    , `date_created` TIMESTAMP
                    DEFAULT '0000-00-00 00:00:00'
    , `type` VARCHAR (500)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

ALTER TABLE `game_leaderboard_item` ADD PRIMARY KEY (`uuid`);
    
        
CREATE TABLE `game_leaderboard_rollup` 
(
    `status` VARCHAR (255)
    , `username` VARCHAR (500)
    , `code` VARCHAR (500)
    , `timestamp` decimal
    , `profile_id` BINARY(16)
    , `rank` INTEGER
    , `rank_change` INTEGER
    , `game_id` BINARY(16)
    , `active` int
                DEFAULT 1
    , `rank_total_count` INTEGER
    , `absolute_value` decimal
    , `data` TEXT
    , `stat_value` decimal
    , `network` VARCHAR (500)
    , `uuid` BINARY(16) 
    , `date_modified` TIMESTAMP
                    DEFAULT NOW()
    , `level` VARCHAR (500)
    , `stat_value_formatted` VARCHAR (500)
    , `date_created` TIMESTAMP
                    DEFAULT '0000-00-00 00:00:00'
    , `type` VARCHAR (500)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

ALTER TABLE `game_leaderboard_rollup` ADD PRIMARY KEY (`uuid`);
    
        
CREATE TABLE `game_live_queue` 
(
    `status` VARCHAR (255)
    , `data_stat` TEXT
    , `uuid` BINARY(16) 
    , `date_modified` TIMESTAMP
                    DEFAULT NOW()
    , `active` int
                DEFAULT 1
    , `date_created` TIMESTAMP
                    DEFAULT '0000-00-00 00:00:00'
    , `game_id` BINARY(16)
    , `profile_id` BINARY(16)
    , `type` VARCHAR (500)
    , `data_ad` TEXT
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

ALTER TABLE `game_live_queue` ADD PRIMARY KEY (`uuid`);
    
        
CREATE TABLE `game_live_recent_queue` 
(
    `status` VARCHAR (255)
    , `username` VARCHAR (500)
    , `code` VARCHAR (255)
    , `display_name` VARCHAR (255)
    , `name` VARCHAR (255)
    , `date_modified` TIMESTAMP
                    DEFAULT NOW()
    , `data` TEXT
    , `profile_id` BINARY(16)
    , `uuid` BINARY(16) 
    , `game` VARCHAR (500)
    , `game_id` BINARY(16)
    , `active` int
                DEFAULT 1
    , `date_created` TIMESTAMP
                    DEFAULT '0000-00-00 00:00:00'
    , `type` VARCHAR (500)
    , `description` VARCHAR (255)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

ALTER TABLE `game_live_recent_queue` ADD PRIMARY KEY (`uuid`);
    
        
CREATE TABLE `game_profile_statistic` 
(
    `status` VARCHAR (255)
    , `username` VARCHAR (500)
    , `code` VARCHAR (500)
    , `stat_value_formatted` VARCHAR (500)
    , `profile_id` BINARY(16)
    , `active` int
                DEFAULT 1
    , `game_id` BINARY(16)
    , `data` TEXT
    , `stat_value` decimal
    , `uuid` BINARY(16) 
    , `date_modified` TIMESTAMP
                    DEFAULT NOW()
    , `level` VARCHAR (500)
    , `points` decimal
    , `timestamp` decimal
    , `date_created` TIMESTAMP
                    DEFAULT '0000-00-00 00:00:00'
    , `type` VARCHAR (500)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

ALTER TABLE `game_profile_statistic` ADD PRIMARY KEY (`uuid`);
    
        
CREATE TABLE `game_statistic_meta` 
(
    `status` VARCHAR (255)
    , `sort` INTEGER
    , `code` VARCHAR (255)
    , `display_name` VARCHAR (255)
    , `name` VARCHAR (255)
    , `date_modified` TIMESTAMP
                    DEFAULT NOW()
    , `data` TEXT
    , `uuid` BINARY(16) 
    , `points` decimal
    , `store_count` INTEGER
    , `game_id` BINARY(16)
    , `active` int
                DEFAULT 1
    , `date_created` TIMESTAMP
                    DEFAULT '0000-00-00 00:00:00'
    , `type` VARCHAR (40)
    , `order` VARCHAR (40)
    , `description` VARCHAR (255)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

ALTER TABLE `game_statistic_meta` ADD PRIMARY KEY (`uuid`);
    
        
CREATE TABLE `game_profile_statistic_item` 
(
    `status` VARCHAR (255)
    , `username` VARCHAR (500)
    , `code` VARCHAR (500)
    , `stat_value_formatted` VARCHAR (500)
    , `profile_id` BINARY(16)
    , `active` int
                DEFAULT 1
    , `game_id` BINARY(16)
    , `data` TEXT
    , `stat_value` decimal
    , `uuid` BINARY(16) 
    , `date_modified` TIMESTAMP
                    DEFAULT NOW()
    , `level` VARCHAR (500)
    , `points` decimal
    , `timestamp` decimal
    , `date_created` TIMESTAMP
                    DEFAULT '0000-00-00 00:00:00'
    , `type` VARCHAR (500)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

ALTER TABLE `game_profile_statistic_item` ADD PRIMARY KEY (`uuid`);
    
        
CREATE TABLE `game_key_meta` 
(
    `status` VARCHAR (255)
    , `sort` INTEGER
    , `code` VARCHAR (255)
    , `display_name` VARCHAR (255)
    , `name` VARCHAR (255)
    , `date_modified` TIMESTAMP
                    DEFAULT NOW()
    , `data` TEXT
    , `level` VARCHAR (500)
    , `uuid` BINARY(16) 
    , `key_level` VARCHAR (50)
    , `store_count` INTEGER
    , `key` VARCHAR (50)
    , `game_id` BINARY(16)
    , `active` int
                DEFAULT 1
    , `date_created` TIMESTAMP
                    DEFAULT '0000-00-00 00:00:00'
    , `type` VARCHAR (40)
    , `order` VARCHAR (40)
    , `key_stat` VARCHAR (50)
    , `description` VARCHAR (255)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

ALTER TABLE `game_key_meta` ADD PRIMARY KEY (`uuid`);
    
        
CREATE TABLE `game_level` 
(
    `status` VARCHAR (255)
    , `sort` INTEGER
    , `code` VARCHAR (500)
    , `display_name` VARCHAR (255)
    , `name` VARCHAR (255)
    , `date_modified` TIMESTAMP
                    DEFAULT NOW()
    , `data` TEXT
    , `uuid` BINARY(16) 
    , `game_id` BINARY(16)
    , `active` int
                DEFAULT 1
    , `date_created` TIMESTAMP
                    DEFAULT '0000-00-00 00:00:00'
    , `type` VARCHAR (40)
    , `order` VARCHAR (40)
    , `description` VARCHAR (255)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

ALTER TABLE `game_level` ADD PRIMARY KEY (`uuid`);
    
        
CREATE TABLE `game_profile_achievement` 
(
    `status` VARCHAR (255)
    , `username` VARCHAR (500)
    , `code` VARCHAR (500)
    , `timestamp` decimal
    , `completed` int
                DEFAULT 1
    , `profile_id` BINARY(16)
    , `active` int
                DEFAULT 1
    , `game_id` BINARY(16)
    , `achievement_value` decimal
    , `data` TEXT
    , `uuid` BINARY(16) 
    , `date_modified` TIMESTAMP
                    DEFAULT NOW()
    , `level` VARCHAR (500)
    , `date_created` TIMESTAMP
                    DEFAULT '0000-00-00 00:00:00'
    , `type` VARCHAR (500)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

ALTER TABLE `game_profile_achievement` ADD PRIMARY KEY (`uuid`);
    
        
CREATE TABLE `game_achievement_meta` 
(
    `status` VARCHAR (255)
    , `sort` INTEGER
    , `code` VARCHAR (500)
    , `display_name` VARCHAR (255)
    , `name` VARCHAR (255)
    , `game_stat` int
                DEFAULT 1
    , `date_modified` TIMESTAMP
                    DEFAULT NOW()
    , `data` TEXT
    , `level` VARCHAR (500)
    , `uuid` BINARY(16) 
    , `points` INTEGER
    , `game_id` BINARY(16)
    , `active` int
                DEFAULT 1
    , `date_created` TIMESTAMP
                    DEFAULT '0000-00-00 00:00:00'
    , `modifier` decimal
    , `type` VARCHAR (40)
    , `leaderboard` int
                DEFAULT 1
    , `description` VARCHAR (255)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

ALTER TABLE `game_achievement_meta` ADD PRIMARY KEY (`uuid`);
    
        
CREATE TABLE `profile_reward` 
(
    `status` VARCHAR (255)
    , `code` VARCHAR (255)
    , `display_name` VARCHAR (255)
    , `name` VARCHAR (255)
    , `viewed` int 
                DEFAULT 1
    , `date_modified` TIMESTAMP
                    DEFAULT NOW()
    , `data` TEXT
    , `profile_id` BINARY(16) 
    , `uuid` BINARY(16) 
    , `downloaded` int 
                DEFAULT 1
    , `channel_id` BINARY(16)
    , `reward_id` BINARY(16) 
    , `usage_count` INTEGER
    , `active` int
                DEFAULT 1
    , `date_created` TIMESTAMP
                    DEFAULT '0000-00-00 00:00:00'
    , `type` VARCHAR (500)
    , `blurb` VARCHAR (2000)
    , `description` VARCHAR (255)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

ALTER TABLE `profile_reward` ADD PRIMARY KEY (`uuid`);
    
        
CREATE TABLE `coupon` 
(
    `status` VARCHAR (255)
    , `code` VARCHAR (255)
    , `display_name` VARCHAR (255)
    , `name` VARCHAR (255)
    , `date_modified` TIMESTAMP
                    DEFAULT NOW()
    , `url` VARCHAR (500)
    , `data` TEXT
    , `org_id` BINARY(16) 
    , `uuid` BINARY(16) 
    , `usage_count` INTEGER
    , `active` int
                DEFAULT 1
    , `date_created` TIMESTAMP
                    DEFAULT '0000-00-00 00:00:00'
    , `type` VARCHAR (500)
    , `description` VARCHAR (255)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

ALTER TABLE `coupon` ADD PRIMARY KEY (`uuid`);
    
        
CREATE TABLE `profile_coupon` 
(
    `status` VARCHAR (255)
    , `code` VARCHAR (255)
    , `display_name` VARCHAR (255)
    , `name` VARCHAR (255)
    , `date_modified` TIMESTAMP
                    DEFAULT NOW()
    , `url` VARCHAR (50)
    , `data` TEXT
    , `profile_id` BINARY(16) 
    , `uuid` BINARY(16) 
    , `active` int
                DEFAULT 1
    , `date_created` TIMESTAMP
                    DEFAULT '0000-00-00 00:00:00'
    , `type` VARCHAR (500)
    , `description` VARCHAR (255)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

ALTER TABLE `profile_coupon` ADD PRIMARY KEY (`uuid`);
    
        
CREATE TABLE `org` 
(
    `status` VARCHAR (255)
    , `code` VARCHAR (255)
    , `display_name` VARCHAR (255)
    , `name` VARCHAR (255)
    , `date_modified` TIMESTAMP
                    DEFAULT NOW()
    , `data` TEXT
    , `uuid` BINARY(16) 
    , `active` int
                DEFAULT 1
    , `date_created` TIMESTAMP
                    DEFAULT '0000-00-00 00:00:00'
    , `type` VARCHAR (500)
    , `description` VARCHAR (255)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

ALTER TABLE `org` ADD PRIMARY KEY (`uuid`);
    
        
CREATE TABLE `channel` 
(
    `status` VARCHAR (255)
    , `code` VARCHAR (255)
    , `display_name` VARCHAR (255)
    , `name` VARCHAR (255)
    , `date_modified` TIMESTAMP
                    DEFAULT NOW()
    , `data` TEXT
    , `type_id` BINARY(16) 
    , `org_id` BINARY(16) 
    , `uuid` BINARY(16) 
    , `active` int
                DEFAULT 1
    , `date_created` TIMESTAMP
                    DEFAULT '0000-00-00 00:00:00'
    , `type` VARCHAR (500)
    , `description` VARCHAR (255)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

ALTER TABLE `channel` ADD PRIMARY KEY (`uuid`);
    
        
CREATE TABLE `channel_type` 
(
    `status` VARCHAR (255)
    , `code` VARCHAR (255)
    , `display_name` VARCHAR (255)
    , `name` VARCHAR (255)
    , `date_modified` TIMESTAMP
                    DEFAULT NOW()
    , `data` TEXT
    , `uuid` BINARY(16) 
    , `active` int
                DEFAULT 1
    , `date_created` TIMESTAMP
                    DEFAULT '0000-00-00 00:00:00'
    , `type` VARCHAR (50) 
    , `description` VARCHAR (255)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

ALTER TABLE `channel_type` ADD PRIMARY KEY (`uuid`);
    
        
CREATE TABLE `reward` 
(
    `status` VARCHAR (255)
    , `type_url` VARCHAR (50)
    , `code` VARCHAR (255)
    , `display_name` VARCHAR (255)
    , `name` VARCHAR (255)
    , `date_modified` TIMESTAMP
                    DEFAULT NOW()
    , `url` VARCHAR (500)
    , `data` TEXT
    , `org_id` BINARY(16) 
    , `uuid` BINARY(16) 
    , `channel_id` BINARY(16) 
    , `usage_count` INTEGER
    , `external_id` VARCHAR (50) 
    , `active` int
                DEFAULT 1
    , `date_created` TIMESTAMP
                    DEFAULT '0000-00-00 00:00:00'
    , `type` VARCHAR (50) 
    , `description` VARCHAR (255)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

ALTER TABLE `reward` ADD PRIMARY KEY (`uuid`);
    
        
CREATE TABLE `reward_type` 
(
    `status` VARCHAR (255)
    , `type_url` VARCHAR (50) 
    , `code` VARCHAR (255)
    , `display_name` VARCHAR (255)
    , `name` VARCHAR (255)
    , `date_modified` TIMESTAMP
                    DEFAULT NOW()
    , `data` TEXT
    , `uuid` BINARY(16) 
    , `active` int
                DEFAULT 1
    , `date_created` TIMESTAMP
                    DEFAULT '0000-00-00 00:00:00'
    , `type` VARCHAR (50) 
    , `description` VARCHAR (255)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

ALTER TABLE `reward_type` ADD PRIMARY KEY (`uuid`);
    
        
CREATE TABLE `reward_condition` 
(
    `status` VARCHAR (255)
    , `code` VARCHAR (255)
    , `display_name` VARCHAR (255)
    , `name` VARCHAR (255)
    , `end_date` TIMESTAMP
                    DEFAULT '0000-00-00 00:00:00'
    , `date_modified` TIMESTAMP
                    DEFAULT NOW()
    , `data` TEXT
    , `org_id` BINARY(16)
    , `uuid` BINARY(16) 
    , `channel_id` BINARY(16)
    , `amount` INTEGER
    , `global_reward` int
                DEFAULT 1
    , `condition` VARCHAR (50)
    , `active` int
                DEFAULT 1
    , `date_created` TIMESTAMP
                    DEFAULT '0000-00-00 00:00:00'
    , `type` VARCHAR (50)
    , `start_date` TIMESTAMP
                    DEFAULT '0000-00-00 00:00:00'
    , `reward_id` BINARY(16)
    , `description` VARCHAR (255)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

ALTER TABLE `reward_condition` ADD PRIMARY KEY (`uuid`);
    
        
CREATE TABLE `reward_condition_type` 
(
    `status` VARCHAR (255)
    , `code` VARCHAR (255)
    , `display_name` VARCHAR (255)
    , `name` VARCHAR (255)
    , `date_modified` TIMESTAMP
                    DEFAULT NOW()
    , `data` TEXT
    , `uuid` BINARY(16) 
    , `active` int
                DEFAULT 1
    , `date_created` TIMESTAMP
                    DEFAULT '0000-00-00 00:00:00'
    , `type` VARCHAR (50) 
    , `description` VARCHAR (255)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

ALTER TABLE `reward_condition_type` ADD PRIMARY KEY (`uuid`);
    
        
CREATE TABLE `question` 
(
    `status` VARCHAR (255)
    , `code` VARCHAR (255)
    , `display_name` VARCHAR (255)
    , `name` VARCHAR (255)
    , `date_modified` TIMESTAMP
                    DEFAULT NOW()
    , `data` TEXT
    , `org_id` BINARY(16) 
    , `uuid` BINARY(16) 
    , `choices` TEXT
    , `channel_id` BINARY(16) 
    , `active` int
                DEFAULT 1
    , `date_created` TIMESTAMP
                    DEFAULT '0000-00-00 00:00:00'
    , `type` VARCHAR (50) 
    , `description` VARCHAR (255)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

ALTER TABLE `question` ADD PRIMARY KEY (`uuid`);
    
        
CREATE TABLE `profile_question` 
(
    `status` VARCHAR (255)
    , `profile_id` BINARY(16) 
    , `active` int
                DEFAULT 1
    , `data` TEXT 
    , `uuid` BINARY(16) 
    , `date_modified` TIMESTAMP
                    DEFAULT NOW()
    , `org_id` BINARY(16) 
    , `channel_id` BINARY(16) 
    , `answer` VARCHAR (1000) 
    , `date_created` TIMESTAMP
                    DEFAULT '0000-00-00 00:00:00'
    , `type` VARCHAR (500)
    , `question_id` BINARY(16) 
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

ALTER TABLE `profile_question` ADD PRIMARY KEY (`uuid`);
    
        
CREATE TABLE `profile_channel` 
(
    `status` VARCHAR (255)
    , `channel_id` BINARY(16) 
    , `uuid` BINARY(16) 
    , `date_modified` TIMESTAMP
                    DEFAULT NOW()
    , `active` int
                DEFAULT 1
    , `date_created` TIMESTAMP
                    DEFAULT '0000-00-00 00:00:00'
    , `profile_id` BINARY(16) 
    , `type` VARCHAR (500)
    , `data` TEXT
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

ALTER TABLE `profile_channel` ADD PRIMARY KEY (`uuid`);
    
        
CREATE TABLE `profile_reward_points` 
(
    `status` VARCHAR (255)
    , `profile_id` BINARY(16) 
    , `active` int
                DEFAULT 1
    , `data` TEXT
    , `uuid` BINARY(16) 
    , `date_modified` TIMESTAMP
                    DEFAULT NOW()
    , `org_id` BINARY(16) 
    , `channel_id` BINARY(16) 
    , `points` INTEGER 
    , `date_created` TIMESTAMP
                    DEFAULT '0000-00-00 00:00:00'
    , `type` VARCHAR (500)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

ALTER TABLE `profile_reward_points` ADD PRIMARY KEY (`uuid`);
    
        
CREATE TABLE `reward_competition` 
(
    `sort` INTEGER
    , `code` VARCHAR (255)
    , `date_end` TIMESTAMP
                    DEFAULT '0000-00-00 00:00:00'
    , `results` TEXT
    , `visible` int
                DEFAULT 1
    , `display_name` VARCHAR (255)
    , `uuid` BINARY(16) 
    , `date_start` TIMESTAMP
                    DEFAULT '0000-00-00 00:00:00'
    , `winners` TEXT
    , `template` TEXT
    , `type` VARCHAR (500)
    , `trigger_data` TEXT
    , `status` VARCHAR (255)
    , `description` VARCHAR (255)
    , `completed` int
                DEFAULT 1
    , `template_url` VARCHAR (500)
    , `active` int
                DEFAULT 1
    , `path` VARCHAR (500)
    , `data` TEXT
    , `name` VARCHAR (255)
    , `date_modified` TIMESTAMP
                    DEFAULT NOW()
    , `fulfilled` int
                DEFAULT 1
    , `channel_id` BINARY(16)
    , `date_created` TIMESTAMP
                    DEFAULT '0000-00-00 00:00:00'
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

ALTER TABLE `reward_competition` ADD PRIMARY KEY (`uuid`);
    

        
-- INDEX CREATES

        
-- INDEX CREATES

        
-- INDEX CREATES

                
CALL drop_index_if_exists('IX_game_attribute_text_game_id','game_attribute_text');
                
CREATE INDEX `IX_game_attribute_text_game_id` ON `game_attribute_text` 
(
                    
    `game_id` ASC
);
                
CALL drop_index_if_exists('IX_game_attribute_text_attribute_id','game_attribute_text');
                
CREATE INDEX `IX_game_attribute_text_attribute_id` ON `game_attribute_text` 
(
                    
    `attribute_id` ASC
);
                
CALL drop_index_if_exists('IX_game_attribute_text_game_id_attribute_id','game_attribute_text');
                
CREATE INDEX `IX_game_attribute_text_game_id_attribute_id` ON `game_attribute_text` 
(
                    
    `game_id` ASC
                    
    , `attribute_id` ASC
);
        
-- INDEX CREATES

                
CALL drop_index_if_exists('IX_game_attribute_data_game_id','game_attribute_data');
                
CREATE INDEX `IX_game_attribute_data_game_id` ON `game_attribute_data` 
(
                    
    `game_id` ASC
);
                
CALL drop_index_if_exists('IX_game_attribute_data_attribute_id','game_attribute_data');
                
CREATE INDEX `IX_game_attribute_data_attribute_id` ON `game_attribute_data` 
(
                    
    `attribute_id` ASC
);
                
CALL drop_index_if_exists('IX_game_attribute_data_game_id_attribute_id','game_attribute_data');
                
CREATE INDEX `IX_game_attribute_data_game_id_attribute_id` ON `game_attribute_data` 
(
                    
    `game_id` ASC
                    
    , `attribute_id` ASC
);
        
        
        
        
        
-- INDEX CREATES

        
-- INDEX CREATES

        
-- INDEX CREATES

                
CALL drop_index_if_exists('IX_game_profile_attribute_text_profile_id','game_profile_attribute_text');
                
CREATE INDEX `IX_game_profile_attribute_text_profile_id` ON `game_profile_attribute_text` 
(
                    
    `profile_id` ASC
);
                
CALL drop_index_if_exists('IX_game_profile_attribute_text_attribute_id','game_profile_attribute_text');
                
CREATE INDEX `IX_game_profile_attribute_text_attribute_id` ON `game_profile_attribute_text` 
(
                    
    `attribute_id` ASC
);
                
CALL drop_index_if_exists('IX_game_profile_attribute_text_profile_id_attribute_id','game_profile_attribute_text');
                
CREATE INDEX `IX_game_profile_attribute_text_profile_id_attribute_id` ON `game_profile_attribute_text` 
(
                    
    `profile_id` ASC
                    
    , `attribute_id` ASC
);
                
CALL drop_index_if_exists('IX_game_profile_attribute_text_game_id_profile_id','game_profile_attribute_text');
                
CREATE INDEX `IX_game_profile_attribute_text_game_id_profile_id` ON `game_profile_attribute_text` 
(
                    
    `game_id` ASC
                    
    , `profile_id` ASC
);
                
CALL drop_index_if_exists('IX_game_profile_attribute_text_game_id_profile_id_attribute_id','game_profile_attribute_text');
                
CREATE INDEX `IX_game_profile_attribute_text_game_id_profile_id_attribute_id` ON `game_profile_attribute_text` 
(
                    
    `game_id` ASC
                    
    , `profile_id` ASC
                    
    , `attribute_id` ASC
);
                
CALL drop_index_if_exists('IX_game_profile_attribute_text_profile_id_attribute_id_sort','game_profile_attribute_text');
                
CREATE INDEX `IX_game_profile_attribute_text_profile_id_attribute_id_sort` ON `game_profile_attribute_text` 
(
                    
    `sort` ASC
                    
    , `profile_id` ASC
                    
    , `attribute_id` ASC
);
        
-- INDEX CREATES

                
CALL drop_index_if_exists('IX_game_profile_attribute_data_profile_id','game_profile_attribute_data');
                
CREATE INDEX `IX_game_profile_attribute_data_profile_id` ON `game_profile_attribute_data` 
(
                    
    `profile_id` ASC
);
                
CALL drop_index_if_exists('IX_game_profile_attribute_data_attribute_id','game_profile_attribute_data');
                
CREATE INDEX `IX_game_profile_attribute_data_attribute_id` ON `game_profile_attribute_data` 
(
                    
    `attribute_id` ASC
);
                
CALL drop_index_if_exists('IX_game_profile_attribute_data_profile_id_attribute_id','game_profile_attribute_data');
                
CREATE INDEX `IX_game_profile_attribute_data_profile_id_attribute_id` ON `game_profile_attribute_data` 
(
                    
    `profile_id` ASC
                    
    , `attribute_id` ASC
);
                
CALL drop_index_if_exists('IX_game_profile_attribute_data_game_id_profile_id_attribute_id','game_profile_attribute_data');
                
CREATE INDEX `IX_game_profile_attribute_data_game_id_profile_id_attribute_id` ON `game_profile_attribute_data` 
(
                    
    `game_id` ASC
                    
    , `profile_id` ASC
                    
    , `attribute_id` ASC
);
                
CALL drop_index_if_exists('IX_game_profile_attribute_data_profile_id_attribute_id_sort','game_profile_attribute_data');
                
CREATE INDEX `IX_game_profile_attribute_data_profile_id_attribute_id_sort` ON `game_profile_attribute_data` 
(
                    
    `sort` ASC
                    
    , `profile_id` ASC
                    
    , `attribute_id` ASC
);
        
-- INDEX CREATES

        
-- INDEX CREATES

        
-- INDEX CREATES

        
-- INDEX CREATES

                
CALL drop_index_if_exists('IX_profile_game_data_attribute_uuid','profile_game_data_attribute');
                
CREATE INDEX `IX_profile_game_data_attribute_uuid` ON `profile_game_data_attribute` 
(
                    
    `uuid` ASC
);
                
CALL drop_index_if_exists('IX_profile_game_data_attribute_profile_id','profile_game_data_attribute');
                
CREATE INDEX `IX_profile_game_data_attribute_profile_id` ON `profile_game_data_attribute` 
(
                    
    `profile_id` ASC
);
                
CALL drop_index_if_exists('IX_profile_game_data_attribute_profile_id_game_id','profile_game_data_attribute');
                
CREATE INDEX `IX_profile_game_data_attribute_profile_id_game_id` ON `profile_game_data_attribute` 
(
                    
    `game_id` ASC
                    
    , `profile_id` ASC
);
                
CALL drop_index_if_exists('IX_profile_game_data_attribute_profile_id_game_id_code','profile_game_data_attribute');
                
CREATE INDEX `IX_profile_game_data_attribute_profile_id_game_id_code` ON `profile_game_data_attribute` 
(
                    
    `code` ASC
                    
    , `game_id` ASC
                    
    , `profile_id` ASC
);
        
-- INDEX CREATES

        
-- INDEX CREATES

        
-- INDEX CREATES

        
-- INDEX CREATES

        
        
-- INDEX CREATES

        
        
        
        
        
        
-- INDEX CREATES

                
CALL drop_index_if_exists('IX_game_leaderboard_code','game_leaderboard');
                
CREATE INDEX `IX_game_leaderboard_code` ON `game_leaderboard` 
(
                    
    `code` ASC
);
                
CALL drop_index_if_exists('IX_game_leaderboard_profile_id','game_leaderboard');
                
CREATE INDEX `IX_game_leaderboard_profile_id` ON `game_leaderboard` 
(
                    
    `profile_id` ASC
);
                
CALL drop_index_if_exists('IX_game_leaderboard_username','game_leaderboard');
                
CREATE INDEX `IX_game_leaderboard_username` ON `game_leaderboard` 
(
                    
    `username` ASC
);
                
CALL drop_index_if_exists('IX_game_leaderboard_game_id','game_leaderboard');
                
CREATE INDEX `IX_game_leaderboard_game_id` ON `game_leaderboard` 
(
                    
    `game_id` ASC
);
                
CALL drop_index_if_exists('IX_game_leaderboard_code_game_id_level','game_leaderboard');
                
CREATE INDEX `IX_game_leaderboard_code_game_id_level` ON `game_leaderboard` 
(
                    
    `game_id` ASC
                    
    , `code` ASC
                    
    , `level` ASC
);
                
CALL drop_index_if_exists('IX_game_leaderboard_profile_id_game_id','game_leaderboard');
                
CREATE INDEX `IX_game_leaderboard_profile_id_game_id` ON `game_leaderboard` 
(
                    
    `game_id` ASC
                    
    , `profile_id` ASC
);
                
CALL drop_index_if_exists('IX_game_leaderboard_username_game_id','game_leaderboard');
                
CREATE INDEX `IX_game_leaderboard_username_game_id` ON `game_leaderboard` 
(
                    
    `username` ASC
                    
    , `game_id` ASC
);
                
CALL drop_index_if_exists('IX_game_leaderboard_code_username','game_leaderboard');
                
CREATE INDEX `IX_game_leaderboard_code_username` ON `game_leaderboard` 
(
                    
    `username` ASC
                    
    , `code` ASC
);
                
CALL drop_index_if_exists('IX_game_leaderboard_code_username_game_id','game_leaderboard');
                
CREATE INDEX `IX_game_leaderboard_code_username_game_id` ON `game_leaderboard` 
(
                    
    `username` ASC
                    
    , `game_id` ASC
                    
    , `code` ASC
);
                
CALL drop_index_if_exists('IX_game_leaderboard_code_username_game_id_type','game_leaderboard');
                
CREATE INDEX `IX_game_leaderboard_code_username_game_id_type` ON `game_leaderboard` 
(
                    
    `username` ASC
                    
    , `game_id` ASC
                    
    , `code` ASC
                    
    , `type` ASC
);
                
CALL drop_index_if_exists('IX_game_leaderboard_code_profile_id','game_leaderboard');
                
CREATE INDEX `IX_game_leaderboard_code_profile_id` ON `game_leaderboard` 
(
                    
    `profile_id` ASC
                    
    , `code` ASC
);
                
CALL drop_index_if_exists('IX_game_leaderboard_code_profile_id_game_id','game_leaderboard');
                
CREATE INDEX `IX_game_leaderboard_code_profile_id_game_id` ON `game_leaderboard` 
(
                    
    `profile_id` ASC
                    
    , `game_id` ASC
                    
    , `code` ASC
);
                
CALL drop_index_if_exists('IX_game_leaderboard_code_profile_id_game_id_type','game_leaderboard');
                
CREATE INDEX `IX_game_leaderboard_code_profile_id_game_id_type` ON `game_leaderboard` 
(
                    
    `profile_id` ASC
                    
    , `game_id` ASC
                    
    , `code` ASC
                    
    , `type` ASC
);
                
CALL drop_index_if_exists('IX_game_leaderboard_code_game_id','game_leaderboard');
                
CREATE INDEX `IX_game_leaderboard_code_game_id` ON `game_leaderboard` 
(
                    
    `game_id` ASC
                    
    , `code` ASC
);
                
CALL drop_index_if_exists('IX_game_leaderboard_code_game_id_profile_id','game_leaderboard');
                
CREATE INDEX `IX_game_leaderboard_code_game_id_profile_id` ON `game_leaderboard` 
(
                    
    `profile_id` ASC
                    
    , `game_id` ASC
                    
    , `code` ASC
);
                
CALL drop_index_if_exists('IX_game_leaderboard_code_game_id_type','game_leaderboard');
                
CREATE INDEX `IX_game_leaderboard_code_game_id_type` ON `game_leaderboard` 
(
                    
    `game_id` ASC
                    
    , `code` ASC
                    
    , `type` ASC
);
        
-- INDEX CREATES

                
CALL drop_index_if_exists('IX_game_leaderboard_item_code','game_leaderboard_item');
                
CREATE INDEX `IX_game_leaderboard_item_code` ON `game_leaderboard_item` 
(
                    
    `code` ASC
);
                
CALL drop_index_if_exists('IX_game_leaderboard_item_profile_id','game_leaderboard_item');
                
CREATE INDEX `IX_game_leaderboard_item_profile_id` ON `game_leaderboard_item` 
(
                    
    `profile_id` ASC
);
                
CALL drop_index_if_exists('IX_game_leaderboard_item_username','game_leaderboard_item');
                
CREATE INDEX `IX_game_leaderboard_item_username` ON `game_leaderboard_item` 
(
                    
    `username` ASC
);
                
CALL drop_index_if_exists('IX_game_leaderboard_item_game_id','game_leaderboard_item');
                
CREATE INDEX `IX_game_leaderboard_item_game_id` ON `game_leaderboard_item` 
(
                    
    `game_id` ASC
);
                
CALL drop_index_if_exists('IX_game_leaderboard_item_code_game_id_level','game_leaderboard_item');
                
CREATE INDEX `IX_game_leaderboard_item_code_game_id_level` ON `game_leaderboard_item` 
(
                    
    `game_id` ASC
                    
    , `code` ASC
                    
    , `level` ASC
);
                
CALL drop_index_if_exists('IX_game_leaderboard_item_profile_id_game_id','game_leaderboard_item');
                
CREATE INDEX `IX_game_leaderboard_item_profile_id_game_id` ON `game_leaderboard_item` 
(
                    
    `game_id` ASC
                    
    , `profile_id` ASC
);
                
CALL drop_index_if_exists('IX_game_leaderboard_item_username_game_id','game_leaderboard_item');
                
CREATE INDEX `IX_game_leaderboard_item_username_game_id` ON `game_leaderboard_item` 
(
                    
    `username` ASC
                    
    , `game_id` ASC
);
                
CALL drop_index_if_exists('IX_game_leaderboard_item_code_username','game_leaderboard_item');
                
CREATE INDEX `IX_game_leaderboard_item_code_username` ON `game_leaderboard_item` 
(
                    
    `username` ASC
                    
    , `code` ASC
);
                
CALL drop_index_if_exists('IX_game_leaderboard_item_code_username_game_id','game_leaderboard_item');
                
CREATE INDEX `IX_game_leaderboard_item_code_username_game_id` ON `game_leaderboard_item` 
(
                    
    `username` ASC
                    
    , `game_id` ASC
                    
    , `code` ASC
);
                
CALL drop_index_if_exists('IX_game_leaderboard_item_code_username_game_id_type','game_leaderboard_item');
                
CREATE INDEX `IX_game_leaderboard_item_code_username_game_id_type` ON `game_leaderboard_item` 
(
                    
    `username` ASC
                    
    , `game_id` ASC
                    
    , `code` ASC
                    
    , `type` ASC
);
                
CALL drop_index_if_exists('IX_game_leaderboard_item_code_profile_id','game_leaderboard_item');
                
CREATE INDEX `IX_game_leaderboard_item_code_profile_id` ON `game_leaderboard_item` 
(
                    
    `profile_id` ASC
                    
    , `code` ASC
);
                
CALL drop_index_if_exists('IX_game_leaderboard_item_code_profile_id_game_id','game_leaderboard_item');
                
CREATE INDEX `IX_game_leaderboard_item_code_profile_id_game_id` ON `game_leaderboard_item` 
(
                    
    `profile_id` ASC
                    
    , `game_id` ASC
                    
    , `code` ASC
);
                
CALL drop_index_if_exists('IX_game_leaderboard_item_code_profile_id_game_id_type','game_leaderboard_item');
                
CREATE INDEX `IX_game_leaderboard_item_code_profile_id_game_id_type` ON `game_leaderboard_item` 
(
                    
    `profile_id` ASC
                    
    , `game_id` ASC
                    
    , `code` ASC
                    
    , `type` ASC
);
                
CALL drop_index_if_exists('IX_game_leaderboard_item_code_game_id','game_leaderboard_item');
                
CREATE INDEX `IX_game_leaderboard_item_code_game_id` ON `game_leaderboard_item` 
(
                    
    `game_id` ASC
                    
    , `code` ASC
);
                
CALL drop_index_if_exists('IX_game_leaderboard_item_code_game_id_profile_id','game_leaderboard_item');
                
CREATE INDEX `IX_game_leaderboard_item_code_game_id_profile_id` ON `game_leaderboard_item` 
(
                    
    `profile_id` ASC
                    
    , `game_id` ASC
                    
    , `code` ASC
);
                
CALL drop_index_if_exists('IX_game_leaderboard_item_code_game_id_type','game_leaderboard_item');
                
CREATE INDEX `IX_game_leaderboard_item_code_game_id_type` ON `game_leaderboard_item` 
(
                    
    `game_id` ASC
                    
    , `code` ASC
                    
    , `type` ASC
);
        
-- INDEX CREATES

                
CALL drop_index_if_exists('IX_game_leaderboard_rollup_code','game_leaderboard_rollup');
                
CREATE INDEX `IX_game_leaderboard_rollup_code` ON `game_leaderboard_rollup` 
(
                    
    `code` ASC
);
                
CALL drop_index_if_exists('IX_game_leaderboard_rollup_profile_id','game_leaderboard_rollup');
                
CREATE INDEX `IX_game_leaderboard_rollup_profile_id` ON `game_leaderboard_rollup` 
(
                    
    `profile_id` ASC
);
                
CALL drop_index_if_exists('IX_game_leaderboard_rollup_username','game_leaderboard_rollup');
                
CREATE INDEX `IX_game_leaderboard_rollup_username` ON `game_leaderboard_rollup` 
(
                    
    `username` ASC
);
                
CALL drop_index_if_exists('IX_game_leaderboard_rollup_game_id','game_leaderboard_rollup');
                
CREATE INDEX `IX_game_leaderboard_rollup_game_id` ON `game_leaderboard_rollup` 
(
                    
    `game_id` ASC
);
                
CALL drop_index_if_exists('IX_game_leaderboard_rollup_code_game_id_level','game_leaderboard_rollup');
                
CREATE INDEX `IX_game_leaderboard_rollup_code_game_id_level` ON `game_leaderboard_rollup` 
(
                    
    `game_id` ASC
                    
    , `code` ASC
                    
    , `level` ASC
);
                
CALL drop_index_if_exists('IX_game_leaderboard_rollup_profile_id_game_id','game_leaderboard_rollup');
                
CREATE INDEX `IX_game_leaderboard_rollup_profile_id_game_id` ON `game_leaderboard_rollup` 
(
                    
    `game_id` ASC
                    
    , `profile_id` ASC
);
                
CALL drop_index_if_exists('IX_game_leaderboard_rollup_username_game_id','game_leaderboard_rollup');
                
CREATE INDEX `IX_game_leaderboard_rollup_username_game_id` ON `game_leaderboard_rollup` 
(
                    
    `username` ASC
                    
    , `game_id` ASC
);
                
CALL drop_index_if_exists('IX_game_leaderboard_rollup_code_username','game_leaderboard_rollup');
                
CREATE INDEX `IX_game_leaderboard_rollup_code_username` ON `game_leaderboard_rollup` 
(
                    
    `username` ASC
                    
    , `code` ASC
);
                
CALL drop_index_if_exists('IX_game_leaderboard_rollup_code_username_game_id','game_leaderboard_rollup');
                
CREATE INDEX `IX_game_leaderboard_rollup_code_username_game_id` ON `game_leaderboard_rollup` 
(
                    
    `username` ASC
                    
    , `game_id` ASC
                    
    , `code` ASC
);
                
CALL drop_index_if_exists('IX_game_leaderboard_rollup_code_username_game_id_type','game_leaderboard_rollup');
                
CREATE INDEX `IX_game_leaderboard_rollup_code_username_game_id_type` ON `game_leaderboard_rollup` 
(
                    
    `username` ASC
                    
    , `game_id` ASC
                    
    , `code` ASC
                    
    , `type` ASC
);
                
CALL drop_index_if_exists('IX_game_leaderboard_rollup_code_profile_id','game_leaderboard_rollup');
                
CREATE INDEX `IX_game_leaderboard_rollup_code_profile_id` ON `game_leaderboard_rollup` 
(
                    
    `profile_id` ASC
                    
    , `code` ASC
);
                
CALL drop_index_if_exists('IX_game_leaderboard_rollup_code_profile_id_game_id','game_leaderboard_rollup');
                
CREATE INDEX `IX_game_leaderboard_rollup_code_profile_id_game_id` ON `game_leaderboard_rollup` 
(
                    
    `profile_id` ASC
                    
    , `game_id` ASC
                    
    , `code` ASC
);
                
CALL drop_index_if_exists('IX_game_leaderboard_rollup_code_profile_id_game_id_type','game_leaderboard_rollup');
                
CREATE INDEX `IX_game_leaderboard_rollup_code_profile_id_game_id_type` ON `game_leaderboard_rollup` 
(
                    
    `profile_id` ASC
                    
    , `game_id` ASC
                    
    , `code` ASC
                    
    , `type` ASC
);
                
CALL drop_index_if_exists('IX_game_leaderboard_rollup_code_game_id','game_leaderboard_rollup');
                
CREATE INDEX `IX_game_leaderboard_rollup_code_game_id` ON `game_leaderboard_rollup` 
(
                    
    `game_id` ASC
                    
    , `code` ASC
);
                
CALL drop_index_if_exists('IX_game_leaderboard_rollup_code_game_id_profile_id','game_leaderboard_rollup');
                
CREATE INDEX `IX_game_leaderboard_rollup_code_game_id_profile_id` ON `game_leaderboard_rollup` 
(
                    
    `profile_id` ASC
                    
    , `game_id` ASC
                    
    , `code` ASC
);
                
CALL drop_index_if_exists('IX_game_leaderboard_rollup_code_game_id_type','game_leaderboard_rollup');
                
CREATE INDEX `IX_game_leaderboard_rollup_code_game_id_type` ON `game_leaderboard_rollup` 
(
                    
    `game_id` ASC
                    
    , `code` ASC
                    
    , `type` ASC
);
        
-- INDEX CREATES

                
CALL drop_index_if_exists('IX_game_live_queue_profile_id','game_live_queue');
                
CREATE INDEX `IX_game_live_queue_profile_id` ON `game_live_queue` 
(
                    
    `profile_id` ASC
);
                
CALL drop_index_if_exists('IX_game_live_queue_game_id','game_live_queue');
                
CREATE INDEX `IX_game_live_queue_game_id` ON `game_live_queue` 
(
                    
    `game_id` ASC
);
                
CALL drop_index_if_exists('IX_game_live_queue_profile_id_game_id','game_live_queue');
                
CREATE INDEX `IX_game_live_queue_profile_id_game_id` ON `game_live_queue` 
(
                    
    `game_id` ASC
                    
    , `profile_id` ASC
);
        
-- INDEX CREATES

                
CALL drop_index_if_exists('IX_game_live_recent_queue_profile_id','game_live_recent_queue');
                
CREATE INDEX `IX_game_live_recent_queue_profile_id` ON `game_live_recent_queue` 
(
                    
    `profile_id` ASC
);
                
CALL drop_index_if_exists('IX_game_live_recent_queue_game_id','game_live_recent_queue');
                
CREATE INDEX `IX_game_live_recent_queue_game_id` ON `game_live_recent_queue` 
(
                    
    `game_id` ASC
);
                
CALL drop_index_if_exists('IX_game_live_recent_queue_profile_id_game_id','game_live_recent_queue');
                
CREATE INDEX `IX_game_live_recent_queue_profile_id_game_id` ON `game_live_recent_queue` 
(
                    
    `game_id` ASC
                    
    , `profile_id` ASC
);
        
-- INDEX CREATES

                
CALL drop_index_if_exists('IX_game_profile_statistic_code','game_profile_statistic');
                
CREATE INDEX `IX_game_profile_statistic_code` ON `game_profile_statistic` 
(
                    
    `code` ASC
);
                
CALL drop_index_if_exists('IX_game_profile_statistic_profile_id','game_profile_statistic');
                
CREATE INDEX `IX_game_profile_statistic_profile_id` ON `game_profile_statistic` 
(
                    
    `profile_id` ASC
);
                
CALL drop_index_if_exists('IX_game_profile_statistic_username','game_profile_statistic');
                
CREATE INDEX `IX_game_profile_statistic_username` ON `game_profile_statistic` 
(
                    
    `username` ASC
);
                
CALL drop_index_if_exists('IX_game_profile_statistic_game_id','game_profile_statistic');
                
CREATE INDEX `IX_game_profile_statistic_game_id` ON `game_profile_statistic` 
(
                    
    `game_id` ASC
);
                
CALL drop_index_if_exists('IX_game_profile_statistic_code_game_id','game_profile_statistic');
                
CREATE INDEX `IX_game_profile_statistic_code_game_id` ON `game_profile_statistic` 
(
                    
    `game_id` ASC
                    
    , `code` ASC
);
                
CALL drop_index_if_exists('IX_game_profile_statistic_code_game_id_level','game_profile_statistic');
                
CREATE INDEX `IX_game_profile_statistic_code_game_id_level` ON `game_profile_statistic` 
(
                    
    `game_id` ASC
                    
    , `code` ASC
                    
    , `level` ASC
);
                
CALL drop_index_if_exists('IX_game_profile_statistic_profile_id_game_id','game_profile_statistic');
                
CREATE INDEX `IX_game_profile_statistic_profile_id_game_id` ON `game_profile_statistic` 
(
                    
    `game_id` ASC
                    
    , `profile_id` ASC
);
                
CALL drop_index_if_exists('IX_game_profile_statistic_username_game_id','game_profile_statistic');
                
CREATE INDEX `IX_game_profile_statistic_username_game_id` ON `game_profile_statistic` 
(
                    
    `username` ASC
                    
    , `game_id` ASC
);
                
CALL drop_index_if_exists('IX_game_profile_statistic_code_username','game_profile_statistic');
                
CREATE INDEX `IX_game_profile_statistic_code_username` ON `game_profile_statistic` 
(
                    
    `username` ASC
                    
    , `code` ASC
);
                
CALL drop_index_if_exists('IX_game_profile_statistic_code_username_game_id','game_profile_statistic');
                
CREATE INDEX `IX_game_profile_statistic_code_username_game_id` ON `game_profile_statistic` 
(
                    
    `username` ASC
                    
    , `game_id` ASC
                    
    , `code` ASC
);
                
CALL drop_index_if_exists('IX_game_profile_statistic_code_username_game_id_type','game_profile_statistic');
                
CREATE INDEX `IX_game_profile_statistic_code_username_game_id_type` ON `game_profile_statistic` 
(
                    
    `username` ASC
                    
    , `game_id` ASC
                    
    , `code` ASC
                    
    , `type` ASC
);
                
CALL drop_index_if_exists('IX_game_profile_statistic_code_profile_id','game_profile_statistic');
                
CREATE INDEX `IX_game_profile_statistic_code_profile_id` ON `game_profile_statistic` 
(
                    
    `profile_id` ASC
                    
    , `code` ASC
);
                
CALL drop_index_if_exists('IX_game_profile_statistic_code_profile_id_game_id','game_profile_statistic');
                
CREATE INDEX `IX_game_profile_statistic_code_profile_id_game_id` ON `game_profile_statistic` 
(
                    
    `profile_id` ASC
                    
    , `game_id` ASC
                    
    , `code` ASC
);
                
CALL drop_index_if_exists('IX_game_profile_statistic_code_profile_id_game_id_type','game_profile_statistic');
                
CREATE INDEX `IX_game_profile_statistic_code_profile_id_game_id_type` ON `game_profile_statistic` 
(
                    
    `profile_id` ASC
                    
    , `game_id` ASC
                    
    , `code` ASC
                    
    , `type` ASC
);
                
CALL drop_index_if_exists('IX_game_profile_statistic_code_game_id_profile_id','game_profile_statistic');
                
CREATE INDEX `IX_game_profile_statistic_code_game_id_profile_id` ON `game_profile_statistic` 
(
                    
    `profile_id` ASC
                    
    , `game_id` ASC
                    
    , `code` ASC
);
                
CALL drop_index_if_exists('IX_game_profile_statistic_code_game_id_type','game_profile_statistic');
                
CREATE INDEX `IX_game_profile_statistic_code_game_id_type` ON `game_profile_statistic` 
(
                    
    `game_id` ASC
                    
    , `code` ASC
                    
    , `type` ASC
);
        
-- INDEX CREATES

                
CALL drop_index_if_exists('IX_game_statistic_meta_code','game_statistic_meta');
                
CREATE INDEX `IX_game_statistic_meta_code` ON `game_statistic_meta` 
(
                    
    `code` ASC
);
                
CALL drop_index_if_exists('IX_game_statistic_meta_game_id','game_statistic_meta');
                
CREATE INDEX `IX_game_statistic_meta_game_id` ON `game_statistic_meta` 
(
                    
    `game_id` ASC
);
                
CALL drop_index_if_exists('IX_game_statistic_meta_code_game_id','game_statistic_meta');
                
CREATE INDEX `IX_game_statistic_meta_code_game_id` ON `game_statistic_meta` 
(
                    
    `game_id` ASC
                    
    , `code` ASC
);
                
CALL drop_index_if_exists('IX_game_statistic_meta_code_type','game_statistic_meta');
                
CREATE INDEX `IX_game_statistic_meta_code_type` ON `game_statistic_meta` 
(
                    
    `code` ASC
                    
    , `type` ASC
);
                
CALL drop_index_if_exists('IX_game_statistic_meta_game_id_type','game_statistic_meta');
                
CREATE INDEX `IX_game_statistic_meta_game_id_type` ON `game_statistic_meta` 
(
                    
    `game_id` ASC
                    
    , `type` ASC
);
                
CALL drop_index_if_exists('IX_game_statistic_meta_code_game_id_type','game_statistic_meta');
                
CREATE INDEX `IX_game_statistic_meta_code_game_id_type` ON `game_statistic_meta` 
(
                    
    `game_id` ASC
                    
    , `code` ASC
                    
    , `type` ASC
);
        
-- INDEX CREATES

                
CALL drop_index_if_exists('IX_game_profile_statistic_item_code','game_profile_statistic_item');
                
CREATE INDEX `IX_game_profile_statistic_item_code` ON `game_profile_statistic_item` 
(
                    
    `code` ASC
);
                
CALL drop_index_if_exists('IX_game_profile_statistic_item_profile_id','game_profile_statistic_item');
                
CREATE INDEX `IX_game_profile_statistic_item_profile_id` ON `game_profile_statistic_item` 
(
                    
    `profile_id` ASC
);
                
CALL drop_index_if_exists('IX_game_profile_statistic_item_username','game_profile_statistic_item');
                
CREATE INDEX `IX_game_profile_statistic_item_username` ON `game_profile_statistic_item` 
(
                    
    `username` ASC
);
                
CALL drop_index_if_exists('IX_game_profile_statistic_item_game_id','game_profile_statistic_item');
                
CREATE INDEX `IX_game_profile_statistic_item_game_id` ON `game_profile_statistic_item` 
(
                    
    `game_id` ASC
);
                
CALL drop_index_if_exists('IX_game_profile_statistic_item_code_game_id','game_profile_statistic_item');
                
CREATE INDEX `IX_game_profile_statistic_item_code_game_id` ON `game_profile_statistic_item` 
(
                    
    `game_id` ASC
                    
    , `code` ASC
);
                
CALL drop_index_if_exists('IX_game_profile_statistic_item_code_game_id_level','game_profile_statistic_item');
                
CREATE INDEX `IX_game_profile_statistic_item_code_game_id_level` ON `game_profile_statistic_item` 
(
                    
    `game_id` ASC
                    
    , `code` ASC
                    
    , `level` ASC
);
                
CALL drop_index_if_exists('IX_game_profile_statistic_item_profile_id_game_id','game_profile_statistic_item');
                
CREATE INDEX `IX_game_profile_statistic_item_profile_id_game_id` ON `game_profile_statistic_item` 
(
                    
    `game_id` ASC
                    
    , `profile_id` ASC
);
                
CALL drop_index_if_exists('IX_game_profile_statistic_item_username_game_id','game_profile_statistic_item');
                
CREATE INDEX `IX_game_profile_statistic_item_username_game_id` ON `game_profile_statistic_item` 
(
                    
    `username` ASC
                    
    , `game_id` ASC
);
                
CALL drop_index_if_exists('IX_game_profile_statistic_item_code_username','game_profile_statistic_item');
                
CREATE INDEX `IX_game_profile_statistic_item_code_username` ON `game_profile_statistic_item` 
(
                    
    `username` ASC
                    
    , `code` ASC
);
                
CALL drop_index_if_exists('IX_game_profile_statistic_item_code_username_game_id','game_profile_statistic_item');
                
CREATE INDEX `IX_game_profile_statistic_item_code_username_game_id` ON `game_profile_statistic_item` 
(
                    
    `username` ASC
                    
    , `game_id` ASC
                    
    , `code` ASC
);
                
CALL drop_index_if_exists('IX_game_profile_statistic_item_code_username_game_id_type','game_profile_statistic_item');
                
CREATE INDEX `IX_game_profile_statistic_item_code_username_game_id_type` ON `game_profile_statistic_item` 
(
                    
    `username` ASC
                    
    , `game_id` ASC
                    
    , `code` ASC
                    
    , `type` ASC
);
                
CALL drop_index_if_exists('IX_game_profile_statistic_item_code_profile_id','game_profile_statistic_item');
                
CREATE INDEX `IX_game_profile_statistic_item_code_profile_id` ON `game_profile_statistic_item` 
(
                    
    `profile_id` ASC
                    
    , `code` ASC
);
                
CALL drop_index_if_exists('IX_game_profile_statistic_item_code_profile_id_game_id','game_profile_statistic_item');
                
CREATE INDEX `IX_game_profile_statistic_item_code_profile_id_game_id` ON `game_profile_statistic_item` 
(
                    
    `profile_id` ASC
                    
    , `game_id` ASC
                    
    , `code` ASC
);
                
CALL drop_index_if_exists('IX_game_profile_statistic_item_code_profile_id_game_id_type','game_profile_statistic_item');
                
CREATE INDEX `IX_game_profile_statistic_item_code_profile_id_game_id_type` ON `game_profile_statistic_item` 
(
                    
    `profile_id` ASC
                    
    , `game_id` ASC
                    
    , `code` ASC
                    
    , `type` ASC
);
                
CALL drop_index_if_exists('IX_game_profile_statistic_item_code_game_id_profile_id','game_profile_statistic_item');
                
CREATE INDEX `IX_game_profile_statistic_item_code_game_id_profile_id` ON `game_profile_statistic_item` 
(
                    
    `profile_id` ASC
                    
    , `game_id` ASC
                    
    , `code` ASC
);
                
CALL drop_index_if_exists('IX_game_profile_statistic_item_code_game_id_type','game_profile_statistic_item');
                
CREATE INDEX `IX_game_profile_statistic_item_code_game_id_type` ON `game_profile_statistic_item` 
(
                    
    `game_id` ASC
                    
    , `code` ASC
                    
    , `type` ASC
);
        
-- INDEX CREATES

                
CALL drop_index_if_exists('IX_game_key_meta_key','game_key_meta');
                
CREATE INDEX `IX_game_key_meta_key` ON `game_key_meta` 
(
                    
    `key` ASC
);
                
CALL drop_index_if_exists('IX_game_key_meta_game_id','game_key_meta');
                
CREATE INDEX `IX_game_key_meta_game_id` ON `game_key_meta` 
(
                    
    `game_id` ASC
);
                
CALL drop_index_if_exists('IX_game_key_meta_key_stat_key_level_game_id','game_key_meta');
                
CREATE INDEX `IX_game_key_meta_key_stat_key_level_game_id` ON `game_key_meta` 
(
                    
    `game_id` ASC
                    
    , `key_level` ASC
                    
    , `key_stat` ASC
);
                
CALL drop_index_if_exists('IX_game_key_meta_key_stat_key_level_game_id_level','game_key_meta');
                
CREATE INDEX `IX_game_key_meta_key_stat_key_level_game_id_level` ON `game_key_meta` 
(
                    
    `game_id` ASC
                    
    , `key_level` ASC
                    
    , `key_stat` ASC
                    
    , `level` ASC
);
                
CALL drop_index_if_exists('IX_game_key_meta_key_stat_key_level_type','game_key_meta');
                
CREATE INDEX `IX_game_key_meta_key_stat_key_level_type` ON `game_key_meta` 
(
                    
    `key_level` ASC
                    
    , `type` ASC
                    
    , `key_stat` ASC
);
                
CALL drop_index_if_exists('IX_game_key_meta_key_game_id','game_key_meta');
                
CREATE INDEX `IX_game_key_meta_key_game_id` ON `game_key_meta` 
(
                    
    `game_id` ASC
                    
    , `key` ASC
);
                
CALL drop_index_if_exists('IX_game_key_meta_key_game_id_level','game_key_meta');
                
CREATE INDEX `IX_game_key_meta_key_game_id_level` ON `game_key_meta` 
(
                    
    `game_id` ASC
                    
    , `key` ASC
                    
    , `level` ASC
);
                
CALL drop_index_if_exists('IX_game_key_meta_key_type','game_key_meta');
                
CREATE INDEX `IX_game_key_meta_key_type` ON `game_key_meta` 
(
                    
    `type` ASC
                    
    , `key` ASC
);
                
CALL drop_index_if_exists('IX_game_key_meta_game_id_type','game_key_meta');
                
CREATE INDEX `IX_game_key_meta_game_id_type` ON `game_key_meta` 
(
                    
    `game_id` ASC
                    
    , `type` ASC
);
                
CALL drop_index_if_exists('IX_game_key_meta_key_game_id_type','game_key_meta');
                
CREATE INDEX `IX_game_key_meta_key_game_id_type` ON `game_key_meta` 
(
                    
    `game_id` ASC
                    
    , `type` ASC
                    
    , `key` ASC
);
        
-- INDEX CREATES

                
CALL drop_index_if_exists('IX_game_level_code','game_level');
                
CREATE INDEX `IX_game_level_code` ON `game_level` 
(
                    
    `code` ASC
);
                
CALL drop_index_if_exists('IX_game_level_code_game_id','game_level');
                
CREATE INDEX `IX_game_level_code_game_id` ON `game_level` 
(
                    
    `game_id` ASC
                    
    , `code` ASC
);
                
CALL drop_index_if_exists('IX_game_level_code_game_id_type','game_level');
                
CREATE INDEX `IX_game_level_code_game_id_type` ON `game_level` 
(
                    
    `game_id` ASC
                    
    , `code` ASC
                    
    , `type` ASC
);
        
-- INDEX CREATES

                
CALL drop_index_if_exists('IX_game_profile_achievement_code','game_profile_achievement');
                
CREATE INDEX `IX_game_profile_achievement_code` ON `game_profile_achievement` 
(
                    
    `code` ASC
);
                
CALL drop_index_if_exists('IX_game_profile_achievement_profile_id','game_profile_achievement');
                
CREATE INDEX `IX_game_profile_achievement_profile_id` ON `game_profile_achievement` 
(
                    
    `profile_id` ASC
);
                
CALL drop_index_if_exists('IX_game_profile_achievement_username','game_profile_achievement');
                
CREATE INDEX `IX_game_profile_achievement_username` ON `game_profile_achievement` 
(
                    
    `username` ASC
);
                
CALL drop_index_if_exists('IX_game_profile_achievement_game_id','game_profile_achievement');
                
CREATE INDEX `IX_game_profile_achievement_game_id` ON `game_profile_achievement` 
(
                    
    `game_id` ASC
);
                
CALL drop_index_if_exists('IX_game_profile_achievement_code_game_id','game_profile_achievement');
                
CREATE INDEX `IX_game_profile_achievement_code_game_id` ON `game_profile_achievement` 
(
                    
    `game_id` ASC
                    
    , `code` ASC
);
                
CALL drop_index_if_exists('IX_game_profile_achievement_code_game_id_level','game_profile_achievement');
                
CREATE INDEX `IX_game_profile_achievement_code_game_id_level` ON `game_profile_achievement` 
(
                    
    `game_id` ASC
                    
    , `code` ASC
                    
    , `level` ASC
);
                
CALL drop_index_if_exists('IX_game_profile_achievement_profile_id_game_id','game_profile_achievement');
                
CREATE INDEX `IX_game_profile_achievement_profile_id_game_id` ON `game_profile_achievement` 
(
                    
    `game_id` ASC
                    
    , `profile_id` ASC
);
                
CALL drop_index_if_exists('IX_game_profile_achievement_username_game_id','game_profile_achievement');
                
CREATE INDEX `IX_game_profile_achievement_username_game_id` ON `game_profile_achievement` 
(
                    
    `username` ASC
                    
    , `game_id` ASC
);
                
CALL drop_index_if_exists('IX_game_profile_achievement_code_username','game_profile_achievement');
                
CREATE INDEX `IX_game_profile_achievement_code_username` ON `game_profile_achievement` 
(
                    
    `username` ASC
                    
    , `code` ASC
);
                
CALL drop_index_if_exists('IX_game_profile_achievement_code_username_game_id','game_profile_achievement');
                
CREATE INDEX `IX_game_profile_achievement_code_username_game_id` ON `game_profile_achievement` 
(
                    
    `username` ASC
                    
    , `game_id` ASC
                    
    , `code` ASC
);
                
CALL drop_index_if_exists('IX_game_profile_achievement_code_username_game_id_type','game_profile_achievement');
                
CREATE INDEX `IX_game_profile_achievement_code_username_game_id_type` ON `game_profile_achievement` 
(
                    
    `username` ASC
                    
    , `game_id` ASC
                    
    , `code` ASC
                    
    , `type` ASC
);
                
CALL drop_index_if_exists('IX_game_profile_achievement_code_profile_id','game_profile_achievement');
                
CREATE INDEX `IX_game_profile_achievement_code_profile_id` ON `game_profile_achievement` 
(
                    
    `profile_id` ASC
                    
    , `code` ASC
);
                
CALL drop_index_if_exists('IX_game_profile_achievement_code_profile_id_game_id','game_profile_achievement');
                
CREATE INDEX `IX_game_profile_achievement_code_profile_id_game_id` ON `game_profile_achievement` 
(
                    
    `profile_id` ASC
                    
    , `game_id` ASC
                    
    , `code` ASC
);
                
CALL drop_index_if_exists('IX_game_profile_achievement_code_profile_id_game_id_type','game_profile_achievement');
                
CREATE INDEX `IX_game_profile_achievement_code_profile_id_game_id_type` ON `game_profile_achievement` 
(
                    
    `profile_id` ASC
                    
    , `game_id` ASC
                    
    , `code` ASC
                    
    , `type` ASC
);
                
CALL drop_index_if_exists('IX_game_profile_achievement_code_game_id_profile_id','game_profile_achievement');
                
CREATE INDEX `IX_game_profile_achievement_code_game_id_profile_id` ON `game_profile_achievement` 
(
                    
    `profile_id` ASC
                    
    , `game_id` ASC
                    
    , `code` ASC
);
                
CALL drop_index_if_exists('IX_game_profile_achievement_code_game_id_type','game_profile_achievement');
                
CREATE INDEX `IX_game_profile_achievement_code_game_id_type` ON `game_profile_achievement` 
(
                    
    `game_id` ASC
                    
    , `code` ASC
                    
    , `type` ASC
);
        
-- INDEX CREATES

                
CALL drop_index_if_exists('IX_game_achievement_meta_code','game_achievement_meta');
                
CREATE INDEX `IX_game_achievement_meta_code` ON `game_achievement_meta` 
(
                    
    `code` ASC
);
                
CALL drop_index_if_exists('IX_game_achievement_meta_game_id','game_achievement_meta');
                
CREATE INDEX `IX_game_achievement_meta_game_id` ON `game_achievement_meta` 
(
                    
    `game_id` ASC
);
                
CALL drop_index_if_exists('IX_game_achievement_meta_code_game_id','game_achievement_meta');
                
CREATE INDEX `IX_game_achievement_meta_code_game_id` ON `game_achievement_meta` 
(
                    
    `game_id` ASC
                    
    , `code` ASC
);
                
CALL drop_index_if_exists('IX_game_achievement_meta_code_game_id_level','game_achievement_meta');
                
CREATE INDEX `IX_game_achievement_meta_code_game_id_level` ON `game_achievement_meta` 
(
                    
    `game_id` ASC
                    
    , `code` ASC
                    
    , `level` ASC
);
                
CALL drop_index_if_exists('IX_game_achievement_meta_code_type','game_achievement_meta');
                
CREATE INDEX `IX_game_achievement_meta_code_type` ON `game_achievement_meta` 
(
                    
    `code` ASC
                    
    , `type` ASC
);
                
CALL drop_index_if_exists('IX_game_achievement_meta_game_id_type','game_achievement_meta');
                
CREATE INDEX `IX_game_achievement_meta_game_id_type` ON `game_achievement_meta` 
(
                    
    `game_id` ASC
                    
    , `type` ASC
);
                
CALL drop_index_if_exists('IX_game_achievement_meta_code_game_id_type','game_achievement_meta');
                
CREATE INDEX `IX_game_achievement_meta_code_game_id_type` ON `game_achievement_meta` 
(
                    
    `game_id` ASC
                    
    , `code` ASC
                    
    , `type` ASC
);
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
-- INDEX CREATES

                
CALL drop_index_if_exists('IX_reward_competition_path','reward_competition');
                
CREATE INDEX `IX_reward_competition_path` ON `reward_competition` 
(
                    
    `path` ASC
);
                
CALL drop_index_if_exists('IX_reward_competition_channel_id','reward_competition');
                
CREATE INDEX `IX_reward_competition_channel_id` ON `reward_competition` 
(
                    
    `channel_id` ASC
);

-- -----------------------------------------------------------------------------
-- PROCS

-- ------------------------------------
-- COUNT

-- ------------------------------------
-- MODEL: Game - game

                       
DROP PROCEDURE IF EXISTS `usp_game_count`;
delimiter $$
CREATE PROCEDURE `usp_game_count`
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_count_uuid`;
delimiter $$
CREATE PROCEDURE `usp_game_count_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_count_code`;
delimiter $$
CREATE PROCEDURE `usp_game_count_code`
(
    in_code VARCHAR (255) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game`
    WHERE 1=1
    AND lower(`code`) = lower(in_code)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_count_name`;
delimiter $$
CREATE PROCEDURE `usp_game_count_name`
(
    in_name VARCHAR (255) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game`
    WHERE 1=1
    AND lower(`name`) = lower(in_name)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_count_org_id`;
delimiter $$
CREATE PROCEDURE `usp_game_count_org_id`
(
    in_org_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game`
    WHERE 1=1
    AND `org_id` = in_org_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_count_app_id`;
delimiter $$
CREATE PROCEDURE `usp_game_count_app_id`
(
    in_app_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game`
    WHERE 1=1
    AND `app_id` = in_app_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_count_org_id_app_id`;
delimiter $$
CREATE PROCEDURE `usp_game_count_org_id_app_id`
(
    in_org_id BINARY(16) 
    , in_app_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game`
    WHERE 1=1
    AND `org_id` = in_org_id
    AND `app_id` = in_app_id
    ;
END$$
delimiter ;

-- ------------------------------------
-- BROWSE

-- ------------------------------------
-- MODEL: Game - game

                       
DROP PROCEDURE IF EXISTS `usp_game_browse_filter`;

delimiter $$
CREATE PROCEDURE `usp_game_browse_filter`
(
    in_page int,
    in_page_size int,
    in_sort VARCHAR(500),
    in_filter VARCHAR(4000)
    
)
BEGIN
    DECLARE total_rows int;
    SET total_rows = 0;
        
    IF (in_page = 0) THEN
        SET in_page = 1;
    END IF;    
    
    IF (in_page_size = 0) THEN
       SET in_page_size = 10;
    END IF;
    
    IF (in_sort = NULL || in_sort = '') THEN
       SET in_sort = ' date_modified ASC ';
    END IF;
    
    SET @sfields = CONCAT('', '`status`');
    SET @sfields = CONCAT(@sfields, ', `code`');
    SET @sfields = CONCAT(@sfields, ', `display_name`');
    SET @sfields = CONCAT(@sfields, ', `name`');
    SET @sfields = CONCAT(@sfields, ', `date_modified`');
    SET @sfields = CONCAT(@sfields, ', `org_id`');
    SET @sfields = CONCAT(@sfields, ', `uuid`');
    SET @sfields = CONCAT(@sfields, ', `app_id`');
    SET @sfields = CONCAT(@sfields, ', `active`');
    SET @sfields = CONCAT(@sfields, ', `date_created`');
    SET @sfields = CONCAT(@sfields, ', `type`');
    SET @sfields = CONCAT(@sfields, ', `description`');
    
    SET @stable = CONCAT('', ' FROM `game` WHERE 1=1 ');
    
    SET @s = CONCAT(' ', @stable);
    SET @s = CONCAT(@s, ' ', in_filter);    
    
    SET @scount = CONCAT('SELECT COUNT(*) as `total_rows` ', @s, ' INTO @total_rows');
    
    PREPARE stmtcount FROM @scount;
    EXECUTE stmtcount;
    #SELECT @total_rows;
    SET total_rows = @total_rows;

    SET @sfields = CONCAT(total_rows, ' as `total_rows`, ', @sfields);
    SET @s = CONCAT('SELECT ', @sfields, @s);
    SET @s = CONCAT(@s, ' ORDER BY ', in_sort);
    SET @s = CONCAT(@s, ' LIMIT ', in_page);
    SET @s = CONCAT(@s, ',', in_page_size);    

    PREPARE stmt FROM @s;
    EXECUTE stmt;
    
END$$
delimiter ;
-- ------------------------------------
-- SET

-- ------------------------------------
-- MODEL: Game - game

                       
DROP PROCEDURE IF EXISTS `usp_game_set_uuid`;
delimiter $$
CREATE PROCEDURE `usp_game_set_uuid`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_code VARCHAR (255) 
    , in_display_name VARCHAR (255) 
    , in_name VARCHAR (255) 
    , in_date_modified TIMESTAMP 
    , in_org_id BINARY(16) 
    , in_uuid BINARY(16) 
    , in_app_id BINARY(16) 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (500) 
    , in_description VARCHAR (255) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game`  
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game` 
                    SET
                        `status` = in_status
                        , `code` = in_code
                        , `display_name` = in_display_name
                        , `name` = in_name
                        , `date_modified` = in_date_modified
                        , `org_id` = in_org_id
                        , `uuid` = in_uuid
                        , `app_id` = in_app_id
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `type` = in_type
                        , `description` = in_description
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game`
                    (
                        `status`
                        , `code`
                        , `display_name`
                        , `name`
                        , `date_modified`
                        , `org_id`
                        , `uuid`
                        , `app_id`
                        , `active`
                        , `date_created`
                        , `type`
                        , `description`
                    )
                    VALUES
                    (
                        in_status
                        , in_code
                        , in_display_name
                        , in_name
                        , in_date_modified
                        , in_org_id
                        , in_uuid
                        , in_app_id
                        , in_active
                        , in_date_created
                        , in_type
                        , in_description
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_set_code`;
delimiter $$
CREATE PROCEDURE `usp_game_set_code`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_code VARCHAR (255) 
    , in_display_name VARCHAR (255) 
    , in_name VARCHAR (255) 
    , in_date_modified TIMESTAMP 
    , in_org_id BINARY(16) 
    , in_uuid BINARY(16) 
    , in_app_id BINARY(16) 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (500) 
    , in_description VARCHAR (255) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game`  
                    WHERE 1=1
                    AND lower(`code`) = lower(in_code)
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game` 
                    SET
                        `status` = in_status
                        , `code` = in_code
                        , `display_name` = in_display_name
                        , `name` = in_name
                        , `date_modified` = in_date_modified
                        , `org_id` = in_org_id
                        , `uuid` = in_uuid
                        , `app_id` = in_app_id
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `type` = in_type
                        , `description` = in_description
                    WHERE 1=1
                    AND lower(`code`) = lower(in_code)
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game`
                    (
                        `status`
                        , `code`
                        , `display_name`
                        , `name`
                        , `date_modified`
                        , `org_id`
                        , `uuid`
                        , `app_id`
                        , `active`
                        , `date_created`
                        , `type`
                        , `description`
                    )
                    VALUES
                    (
                        in_status
                        , in_code
                        , in_display_name
                        , in_name
                        , in_date_modified
                        , in_org_id
                        , in_uuid
                        , in_app_id
                        , in_active
                        , in_date_created
                        , in_type
                        , in_description
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_set_name`;
delimiter $$
CREATE PROCEDURE `usp_game_set_name`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_code VARCHAR (255) 
    , in_display_name VARCHAR (255) 
    , in_name VARCHAR (255) 
    , in_date_modified TIMESTAMP 
    , in_org_id BINARY(16) 
    , in_uuid BINARY(16) 
    , in_app_id BINARY(16) 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (500) 
    , in_description VARCHAR (255) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game`  
                    WHERE 1=1
                    AND lower(`name`) = lower(in_name)
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game` 
                    SET
                        `status` = in_status
                        , `code` = in_code
                        , `display_name` = in_display_name
                        , `name` = in_name
                        , `date_modified` = in_date_modified
                        , `org_id` = in_org_id
                        , `uuid` = in_uuid
                        , `app_id` = in_app_id
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `type` = in_type
                        , `description` = in_description
                    WHERE 1=1
                    AND lower(`name`) = lower(in_name)
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game`
                    (
                        `status`
                        , `code`
                        , `display_name`
                        , `name`
                        , `date_modified`
                        , `org_id`
                        , `uuid`
                        , `app_id`
                        , `active`
                        , `date_created`
                        , `type`
                        , `description`
                    )
                    VALUES
                    (
                        in_status
                        , in_code
                        , in_display_name
                        , in_name
                        , in_date_modified
                        , in_org_id
                        , in_uuid
                        , in_app_id
                        , in_active
                        , in_date_created
                        , in_type
                        , in_description
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_set_org_id`;
delimiter $$
CREATE PROCEDURE `usp_game_set_org_id`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_code VARCHAR (255) 
    , in_display_name VARCHAR (255) 
    , in_name VARCHAR (255) 
    , in_date_modified TIMESTAMP 
    , in_org_id BINARY(16) 
    , in_uuid BINARY(16) 
    , in_app_id BINARY(16) 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (500) 
    , in_description VARCHAR (255) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game`  
                    WHERE 1=1
                    AND `org_id` = in_org_id
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game` 
                    SET
                        `status` = in_status
                        , `code` = in_code
                        , `display_name` = in_display_name
                        , `name` = in_name
                        , `date_modified` = in_date_modified
                        , `org_id` = in_org_id
                        , `uuid` = in_uuid
                        , `app_id` = in_app_id
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `type` = in_type
                        , `description` = in_description
                    WHERE 1=1
                    AND `org_id` = in_org_id
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game`
                    (
                        `status`
                        , `code`
                        , `display_name`
                        , `name`
                        , `date_modified`
                        , `org_id`
                        , `uuid`
                        , `app_id`
                        , `active`
                        , `date_created`
                        , `type`
                        , `description`
                    )
                    VALUES
                    (
                        in_status
                        , in_code
                        , in_display_name
                        , in_name
                        , in_date_modified
                        , in_org_id
                        , in_uuid
                        , in_app_id
                        , in_active
                        , in_date_created
                        , in_type
                        , in_description
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_set_app_id`;
delimiter $$
CREATE PROCEDURE `usp_game_set_app_id`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_code VARCHAR (255) 
    , in_display_name VARCHAR (255) 
    , in_name VARCHAR (255) 
    , in_date_modified TIMESTAMP 
    , in_org_id BINARY(16) 
    , in_uuid BINARY(16) 
    , in_app_id BINARY(16) 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (500) 
    , in_description VARCHAR (255) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game`  
                    WHERE 1=1
                    AND `app_id` = in_app_id
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game` 
                    SET
                        `status` = in_status
                        , `code` = in_code
                        , `display_name` = in_display_name
                        , `name` = in_name
                        , `date_modified` = in_date_modified
                        , `org_id` = in_org_id
                        , `uuid` = in_uuid
                        , `app_id` = in_app_id
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `type` = in_type
                        , `description` = in_description
                    WHERE 1=1
                    AND `app_id` = in_app_id
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game`
                    (
                        `status`
                        , `code`
                        , `display_name`
                        , `name`
                        , `date_modified`
                        , `org_id`
                        , `uuid`
                        , `app_id`
                        , `active`
                        , `date_created`
                        , `type`
                        , `description`
                    )
                    VALUES
                    (
                        in_status
                        , in_code
                        , in_display_name
                        , in_name
                        , in_date_modified
                        , in_org_id
                        , in_uuid
                        , in_app_id
                        , in_active
                        , in_date_created
                        , in_type
                        , in_description
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_set_org_id_app_id`;
delimiter $$
CREATE PROCEDURE `usp_game_set_org_id_app_id`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_code VARCHAR (255) 
    , in_display_name VARCHAR (255) 
    , in_name VARCHAR (255) 
    , in_date_modified TIMESTAMP 
    , in_org_id BINARY(16) 
    , in_uuid BINARY(16) 
    , in_app_id BINARY(16) 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (500) 
    , in_description VARCHAR (255) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game`  
                    WHERE 1=1
                    AND `org_id` = in_org_id
                    AND `app_id` = in_app_id
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game` 
                    SET
                        `status` = in_status
                        , `code` = in_code
                        , `display_name` = in_display_name
                        , `name` = in_name
                        , `date_modified` = in_date_modified
                        , `org_id` = in_org_id
                        , `uuid` = in_uuid
                        , `app_id` = in_app_id
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `type` = in_type
                        , `description` = in_description
                    WHERE 1=1
                    AND `org_id` = in_org_id
                    AND `app_id` = in_app_id
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game`
                    (
                        `status`
                        , `code`
                        , `display_name`
                        , `name`
                        , `date_modified`
                        , `org_id`
                        , `uuid`
                        , `app_id`
                        , `active`
                        , `date_created`
                        , `type`
                        , `description`
                    )
                    VALUES
                    (
                        in_status
                        , in_code
                        , in_display_name
                        , in_name
                        , in_date_modified
                        , in_org_id
                        , in_uuid
                        , in_app_id
                        , in_active
                        , in_date_created
                        , in_type
                        , in_description
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

-- ------------------------------------
-- DEL

-- ------------------------------------
-- MODEL: Game - game

                       
DROP PROCEDURE IF EXISTS `usp_game_del_uuid`;

delimiter $$
CREATE PROCEDURE `usp_game_del_uuid`
(
    in_uuid BINARY(16) 
)

BEGIN
    DELETE 
    FROM `game`
    WHERE 1=1                        
    AND "uuid" = in_uuid
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_game_del_code`;

delimiter $$
CREATE PROCEDURE `usp_game_del_code`
(
    in_code VARCHAR (255) 
)

BEGIN
    DELETE 
    FROM `game`
    WHERE 1=1                        
    AND lower("code") = lower(in_code)
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_game_del_name`;

delimiter $$
CREATE PROCEDURE `usp_game_del_name`
(
    in_name VARCHAR (255) 
)

BEGIN
    DELETE 
    FROM `game`
    WHERE 1=1                        
    AND lower("name") = lower(in_name)
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_game_del_org_id`;

delimiter $$
CREATE PROCEDURE `usp_game_del_org_id`
(
    in_org_id BINARY(16) 
)

BEGIN
    DELETE 
    FROM `game`
    WHERE 1=1                        
    AND "org_id" = in_org_id
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_game_del_app_id`;

delimiter $$
CREATE PROCEDURE `usp_game_del_app_id`
(
    in_app_id BINARY(16) 
)

BEGIN
    DELETE 
    FROM `game`
    WHERE 1=1                        
    AND "app_id" = in_app_id
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_game_del_org_id_app_id`;

delimiter $$
CREATE PROCEDURE `usp_game_del_org_id_app_id`
(
    in_org_id BINARY(16) 
    , in_app_id BINARY(16) 
)

BEGIN
    DELETE 
    FROM `game`
    WHERE 1=1                        
    AND "org_id" = in_org_id
    AND "app_id" = in_app_id
    ;
END$$
delimiter ;
-- ------------------------------------
-- GET

-- ------------------------------------
-- MODEL: Game - game

                       
DROP PROCEDURE IF EXISTS `usp_game_get`;

delimiter $$
CREATE PROCEDURE `usp_game_get`
(
)                        
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `org_id`
        , `uuid`
        , `app_id`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `game`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_get_uuid`;

delimiter $$
CREATE PROCEDURE `usp_game_get_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `org_id`
        , `uuid`
        , `app_id`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `game`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_get_code`;

delimiter $$
CREATE PROCEDURE `usp_game_get_code`
(
    in_code VARCHAR (255) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `org_id`
        , `uuid`
        , `app_id`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `game`
    WHERE 1=1
    AND lower(`code`) = lower(in_code)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_get_name`;

delimiter $$
CREATE PROCEDURE `usp_game_get_name`
(
    in_name VARCHAR (255) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `org_id`
        , `uuid`
        , `app_id`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `game`
    WHERE 1=1
    AND lower(`name`) = lower(in_name)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_get_org_id`;

delimiter $$
CREATE PROCEDURE `usp_game_get_org_id`
(
    in_org_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `org_id`
        , `uuid`
        , `app_id`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `game`
    WHERE 1=1
    AND `org_id` = in_org_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_get_app_id`;

delimiter $$
CREATE PROCEDURE `usp_game_get_app_id`
(
    in_app_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `org_id`
        , `uuid`
        , `app_id`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `game`
    WHERE 1=1
    AND `app_id` = in_app_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_get_org_id_app_id`;

delimiter $$
CREATE PROCEDURE `usp_game_get_org_id_app_id`
(
    in_org_id BINARY(16) 
    , in_app_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `org_id`
        , `uuid`
        , `app_id`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `game`
    WHERE 1=1
    AND `org_id` = in_org_id
    AND `app_id` = in_app_id
    ;
END$$
delimiter ;

-- -----------------------------------------------------------------------------
-- PROCS

-- ------------------------------------
-- COUNT

-- ------------------------------------
-- MODEL: GameAttribute - game_attribute

                       
DROP PROCEDURE IF EXISTS `usp_game_attribute_count`;
delimiter $$
CREATE PROCEDURE `usp_game_attribute_count`
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_attribute`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_attribute_count_uuid`;
delimiter $$
CREATE PROCEDURE `usp_game_attribute_count_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_attribute`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_attribute_count_code`;
delimiter $$
CREATE PROCEDURE `usp_game_attribute_count_code`
(
    in_code VARCHAR (255) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_attribute`
    WHERE 1=1
    AND lower(`code`) = lower(in_code)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_attribute_count_type`;
delimiter $$
CREATE PROCEDURE `usp_game_attribute_count_type`
(
    in_type INTEGER 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_attribute`
    WHERE 1=1
    AND `type` = in_type
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_attribute_count_group`;
delimiter $$
CREATE PROCEDURE `usp_game_attribute_count_group`
(
    in_group INTEGER 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_attribute`
    WHERE 1=1
    AND `group` = in_group
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_attribute_count_code_type`;
delimiter $$
CREATE PROCEDURE `usp_game_attribute_count_code_type`
(
    in_code VARCHAR (255) 
    , in_type INTEGER 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_attribute`
    WHERE 1=1
    AND lower(`code`) = lower(in_code)
    AND `type` = in_type
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_attribute_count_game_id`;
delimiter $$
CREATE PROCEDURE `usp_game_attribute_count_game_id`
(
    in_game_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_attribute`
    WHERE 1=1
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_attribute_count_game_id_code`;
delimiter $$
CREATE PROCEDURE `usp_game_attribute_count_game_id_code`
(
    in_game_id BINARY(16) 
    , in_code VARCHAR (255) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_attribute`
    WHERE 1=1
    AND `game_id` = in_game_id
    AND lower(`code`) = lower(in_code)
    ;
END$$
delimiter ;

-- ------------------------------------
-- BROWSE

-- ------------------------------------
-- MODEL: GameAttribute - game_attribute

                       
DROP PROCEDURE IF EXISTS `usp_game_attribute_browse_filter`;

delimiter $$
CREATE PROCEDURE `usp_game_attribute_browse_filter`
(
    in_page int,
    in_page_size int,
    in_sort VARCHAR(500),
    in_filter VARCHAR(4000)
    
)
BEGIN
    DECLARE total_rows int;
    SET total_rows = 0;
        
    IF (in_page = 0) THEN
        SET in_page = 1;
    END IF;    
    
    IF (in_page_size = 0) THEN
       SET in_page_size = 10;
    END IF;
    
    IF (in_sort = NULL || in_sort = '') THEN
       SET in_sort = ' date_modified ASC ';
    END IF;
    
    SET @sfields = CONCAT('', '`status`');
    SET @sfields = CONCAT(@sfields, ', `sort`');
    SET @sfields = CONCAT(@sfields, ', `code`');
    SET @sfields = CONCAT(@sfields, ', `display_name`');
    SET @sfields = CONCAT(@sfields, ', `name`');
    SET @sfields = CONCAT(@sfields, ', `date_modified`');
    SET @sfields = CONCAT(@sfields, ', `uuid`');
    SET @sfields = CONCAT(@sfields, ', `group`');
    SET @sfields = CONCAT(@sfields, ', `game_id`');
    SET @sfields = CONCAT(@sfields, ', `active`');
    SET @sfields = CONCAT(@sfields, ', `date_created`');
    SET @sfields = CONCAT(@sfields, ', `type`');
    SET @sfields = CONCAT(@sfields, ', `order`');
    SET @sfields = CONCAT(@sfields, ', `description`');
    
    SET @stable = CONCAT('', ' FROM `game_attribute` WHERE 1=1 ');
    
    SET @s = CONCAT(' ', @stable);
    SET @s = CONCAT(@s, ' ', in_filter);    
    
    SET @scount = CONCAT('SELECT COUNT(*) as `total_rows` ', @s, ' INTO @total_rows');
    
    PREPARE stmtcount FROM @scount;
    EXECUTE stmtcount;
    #SELECT @total_rows;
    SET total_rows = @total_rows;

    SET @sfields = CONCAT(total_rows, ' as `total_rows`, ', @sfields);
    SET @s = CONCAT('SELECT ', @sfields, @s);
    SET @s = CONCAT(@s, ' ORDER BY ', in_sort);
    SET @s = CONCAT(@s, ' LIMIT ', in_page);
    SET @s = CONCAT(@s, ',', in_page_size);    

    PREPARE stmt FROM @s;
    EXECUTE stmt;
    
END$$
delimiter ;
-- ------------------------------------
-- SET

-- ------------------------------------
-- MODEL: GameAttribute - game_attribute

                       
DROP PROCEDURE IF EXISTS `usp_game_attribute_set_uuid`;
delimiter $$
CREATE PROCEDURE `usp_game_attribute_set_uuid`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_sort INTEGER 
    , in_code VARCHAR (255) 
    , in_display_name VARCHAR (255) 
    , in_name VARCHAR (255) 
    , in_date_modified TIMESTAMP 
    , in_uuid BINARY(16) 
    , in_group INTEGER 
    , in_game_id BINARY(16) 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_type INTEGER 
    , in_order INTEGER 
    , in_description VARCHAR (255) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_attribute`  
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_attribute` 
                    SET
                        `status` = in_status
                        , `sort` = in_sort
                        , `code` = in_code
                        , `display_name` = in_display_name
                        , `name` = in_name
                        , `date_modified` = in_date_modified
                        , `uuid` = in_uuid
                        , `group` = in_group
                        , `game_id` = in_game_id
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `type` = in_type
                        , `order` = in_order
                        , `description` = in_description
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_attribute`
                    (
                        `status`
                        , `sort`
                        , `code`
                        , `display_name`
                        , `name`
                        , `date_modified`
                        , `uuid`
                        , `group`
                        , `game_id`
                        , `active`
                        , `date_created`
                        , `type`
                        , `order`
                        , `description`
                    )
                    VALUES
                    (
                        in_status
                        , in_sort
                        , in_code
                        , in_display_name
                        , in_name
                        , in_date_modified
                        , in_uuid
                        , in_group
                        , in_game_id
                        , in_active
                        , in_date_created
                        , in_type
                        , in_order
                        , in_description
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_attribute_set_code`;
delimiter $$
CREATE PROCEDURE `usp_game_attribute_set_code`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_sort INTEGER 
    , in_code VARCHAR (255) 
    , in_display_name VARCHAR (255) 
    , in_name VARCHAR (255) 
    , in_date_modified TIMESTAMP 
    , in_uuid BINARY(16) 
    , in_group INTEGER 
    , in_game_id BINARY(16) 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_type INTEGER 
    , in_order INTEGER 
    , in_description VARCHAR (255) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_attribute`  
                    WHERE 1=1
                    AND lower(`code`) = lower(in_code)
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_attribute` 
                    SET
                        `status` = in_status
                        , `sort` = in_sort
                        , `code` = in_code
                        , `display_name` = in_display_name
                        , `name` = in_name
                        , `date_modified` = in_date_modified
                        , `uuid` = in_uuid
                        , `group` = in_group
                        , `game_id` = in_game_id
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `type` = in_type
                        , `order` = in_order
                        , `description` = in_description
                    WHERE 1=1
                    AND lower(`code`) = lower(in_code)
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_attribute`
                    (
                        `status`
                        , `sort`
                        , `code`
                        , `display_name`
                        , `name`
                        , `date_modified`
                        , `uuid`
                        , `group`
                        , `game_id`
                        , `active`
                        , `date_created`
                        , `type`
                        , `order`
                        , `description`
                    )
                    VALUES
                    (
                        in_status
                        , in_sort
                        , in_code
                        , in_display_name
                        , in_name
                        , in_date_modified
                        , in_uuid
                        , in_group
                        , in_game_id
                        , in_active
                        , in_date_created
                        , in_type
                        , in_order
                        , in_description
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_attribute_set_game_id`;
delimiter $$
CREATE PROCEDURE `usp_game_attribute_set_game_id`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_sort INTEGER 
    , in_code VARCHAR (255) 
    , in_display_name VARCHAR (255) 
    , in_name VARCHAR (255) 
    , in_date_modified TIMESTAMP 
    , in_uuid BINARY(16) 
    , in_group INTEGER 
    , in_game_id BINARY(16) 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_type INTEGER 
    , in_order INTEGER 
    , in_description VARCHAR (255) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_attribute`  
                    WHERE 1=1
                    AND `game_id` = in_game_id
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_attribute` 
                    SET
                        `status` = in_status
                        , `sort` = in_sort
                        , `code` = in_code
                        , `display_name` = in_display_name
                        , `name` = in_name
                        , `date_modified` = in_date_modified
                        , `uuid` = in_uuid
                        , `group` = in_group
                        , `game_id` = in_game_id
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `type` = in_type
                        , `order` = in_order
                        , `description` = in_description
                    WHERE 1=1
                    AND `game_id` = in_game_id
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_attribute`
                    (
                        `status`
                        , `sort`
                        , `code`
                        , `display_name`
                        , `name`
                        , `date_modified`
                        , `uuid`
                        , `group`
                        , `game_id`
                        , `active`
                        , `date_created`
                        , `type`
                        , `order`
                        , `description`
                    )
                    VALUES
                    (
                        in_status
                        , in_sort
                        , in_code
                        , in_display_name
                        , in_name
                        , in_date_modified
                        , in_uuid
                        , in_group
                        , in_game_id
                        , in_active
                        , in_date_created
                        , in_type
                        , in_order
                        , in_description
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_attribute_set_game_id_code`;
delimiter $$
CREATE PROCEDURE `usp_game_attribute_set_game_id_code`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_sort INTEGER 
    , in_code VARCHAR (255) 
    , in_display_name VARCHAR (255) 
    , in_name VARCHAR (255) 
    , in_date_modified TIMESTAMP 
    , in_uuid BINARY(16) 
    , in_group INTEGER 
    , in_game_id BINARY(16) 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_type INTEGER 
    , in_order INTEGER 
    , in_description VARCHAR (255) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_attribute`  
                    WHERE 1=1
                    AND `game_id` = in_game_id
                    AND lower(`code`) = lower(in_code)
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_attribute` 
                    SET
                        `status` = in_status
                        , `sort` = in_sort
                        , `code` = in_code
                        , `display_name` = in_display_name
                        , `name` = in_name
                        , `date_modified` = in_date_modified
                        , `uuid` = in_uuid
                        , `group` = in_group
                        , `game_id` = in_game_id
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `type` = in_type
                        , `order` = in_order
                        , `description` = in_description
                    WHERE 1=1
                    AND `game_id` = in_game_id
                    AND lower(`code`) = lower(in_code)
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_attribute`
                    (
                        `status`
                        , `sort`
                        , `code`
                        , `display_name`
                        , `name`
                        , `date_modified`
                        , `uuid`
                        , `group`
                        , `game_id`
                        , `active`
                        , `date_created`
                        , `type`
                        , `order`
                        , `description`
                    )
                    VALUES
                    (
                        in_status
                        , in_sort
                        , in_code
                        , in_display_name
                        , in_name
                        , in_date_modified
                        , in_uuid
                        , in_group
                        , in_game_id
                        , in_active
                        , in_date_created
                        , in_type
                        , in_order
                        , in_description
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

-- ------------------------------------
-- DEL

-- ------------------------------------
-- MODEL: GameAttribute - game_attribute

                       
DROP PROCEDURE IF EXISTS `usp_game_attribute_del_uuid`;

delimiter $$
CREATE PROCEDURE `usp_game_attribute_del_uuid`
(
    in_uuid BINARY(16) 
)

BEGIN
    DELETE 
    FROM `game_attribute`
    WHERE 1=1                        
    AND "uuid" = in_uuid
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_game_attribute_del_code`;

delimiter $$
CREATE PROCEDURE `usp_game_attribute_del_code`
(
    in_code VARCHAR (255) 
)

BEGIN
    DELETE 
    FROM `game_attribute`
    WHERE 1=1                        
    AND lower("code") = lower(in_code)
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_game_attribute_del_code_type`;

delimiter $$
CREATE PROCEDURE `usp_game_attribute_del_code_type`
(
    in_code VARCHAR (255) 
    , in_type INTEGER 
)

BEGIN
    DELETE 
    FROM `game_attribute`
    WHERE 1=1                        
    AND lower("code") = lower(in_code)
    AND "type" = in_type
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_game_attribute_del_game_id`;

delimiter $$
CREATE PROCEDURE `usp_game_attribute_del_game_id`
(
    in_game_id BINARY(16) 
)

BEGIN
    DELETE 
    FROM `game_attribute`
    WHERE 1=1                        
    AND "game_id" = in_game_id
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_game_attribute_del_game_id_code`;

delimiter $$
CREATE PROCEDURE `usp_game_attribute_del_game_id_code`
(
    in_game_id BINARY(16) 
    , in_code VARCHAR (255) 
)

BEGIN
    DELETE 
    FROM `game_attribute`
    WHERE 1=1                        
    AND "game_id" = in_game_id
    AND lower("code") = lower(in_code)
    ;
END$$
delimiter ;
-- ------------------------------------
-- GET

-- ------------------------------------
-- MODEL: GameAttribute - game_attribute

                       
DROP PROCEDURE IF EXISTS `usp_game_attribute_get`;

delimiter $$
CREATE PROCEDURE `usp_game_attribute_get`
(
)                        
BEGIN
    SELECT
        `status`
        , `sort`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `uuid`
        , `group`
        , `game_id`
        , `active`
        , `date_created`
        , `type`
        , `order`
        , `description`
    FROM `game_attribute`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_attribute_get_uuid`;

delimiter $$
CREATE PROCEDURE `usp_game_attribute_get_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `sort`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `uuid`
        , `group`
        , `game_id`
        , `active`
        , `date_created`
        , `type`
        , `order`
        , `description`
    FROM `game_attribute`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_attribute_get_code`;

delimiter $$
CREATE PROCEDURE `usp_game_attribute_get_code`
(
    in_code VARCHAR (255) 
)
BEGIN
    SELECT
        `status`
        , `sort`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `uuid`
        , `group`
        , `game_id`
        , `active`
        , `date_created`
        , `type`
        , `order`
        , `description`
    FROM `game_attribute`
    WHERE 1=1
    AND lower(`code`) = lower(in_code)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_attribute_get_type`;

delimiter $$
CREATE PROCEDURE `usp_game_attribute_get_type`
(
    in_type INTEGER 
)
BEGIN
    SELECT
        `status`
        , `sort`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `uuid`
        , `group`
        , `game_id`
        , `active`
        , `date_created`
        , `type`
        , `order`
        , `description`
    FROM `game_attribute`
    WHERE 1=1
    AND `type` = in_type
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_attribute_get_group`;

delimiter $$
CREATE PROCEDURE `usp_game_attribute_get_group`
(
    in_group INTEGER 
)
BEGIN
    SELECT
        `status`
        , `sort`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `uuid`
        , `group`
        , `game_id`
        , `active`
        , `date_created`
        , `type`
        , `order`
        , `description`
    FROM `game_attribute`
    WHERE 1=1
    AND `group` = in_group
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_attribute_get_code_type`;

delimiter $$
CREATE PROCEDURE `usp_game_attribute_get_code_type`
(
    in_code VARCHAR (255) 
    , in_type INTEGER 
)
BEGIN
    SELECT
        `status`
        , `sort`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `uuid`
        , `group`
        , `game_id`
        , `active`
        , `date_created`
        , `type`
        , `order`
        , `description`
    FROM `game_attribute`
    WHERE 1=1
    AND lower(`code`) = lower(in_code)
    AND `type` = in_type
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_attribute_get_game_id_code`;

delimiter $$
CREATE PROCEDURE `usp_game_attribute_get_game_id_code`
(
    in_game_id BINARY(16) 
    , in_code VARCHAR (255) 
)
BEGIN
    SELECT
        `status`
        , `sort`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `uuid`
        , `group`
        , `game_id`
        , `active`
        , `date_created`
        , `type`
        , `order`
        , `description`
    FROM `game_attribute`
    WHERE 1=1
    AND `game_id` = in_game_id
    AND lower(`code`) = lower(in_code)
    ;
END$$
delimiter ;

-- -----------------------------------------------------------------------------
-- PROCS

-- ------------------------------------
-- COUNT

-- ------------------------------------
-- MODEL: GameAttributeText - game_attribute_text

                       
DROP PROCEDURE IF EXISTS `usp_game_attribute_text_count`;
delimiter $$
CREATE PROCEDURE `usp_game_attribute_text_count`
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_attribute_text`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_attribute_text_count_uuid`;
delimiter $$
CREATE PROCEDURE `usp_game_attribute_text_count_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_attribute_text`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_attribute_text_count_game_id`;
delimiter $$
CREATE PROCEDURE `usp_game_attribute_text_count_game_id`
(
    in_game_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_attribute_text`
    WHERE 1=1
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_attribute_text_count_attribute_id`;
delimiter $$
CREATE PROCEDURE `usp_game_attribute_text_count_attribute_id`
(
    in_attribute_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_attribute_text`
    WHERE 1=1
    AND `attribute_id` = in_attribute_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_attribute_text_count_game_id_attribute_id`;
delimiter $$
CREATE PROCEDURE `usp_game_attribute_text_count_game_id_attribute_id`
(
    in_game_id BINARY(16) 
    , in_attribute_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_attribute_text`
    WHERE 1=1
    AND `game_id` = in_game_id
    AND `attribute_id` = in_attribute_id
    ;
END$$
delimiter ;

-- ------------------------------------
-- BROWSE

-- ------------------------------------
-- MODEL: GameAttributeText - game_attribute_text

                       
DROP PROCEDURE IF EXISTS `usp_game_attribute_text_browse_filter`;

delimiter $$
CREATE PROCEDURE `usp_game_attribute_text_browse_filter`
(
    in_page int,
    in_page_size int,
    in_sort VARCHAR(500),
    in_filter VARCHAR(4000)
    
)
BEGIN
    DECLARE total_rows int;
    SET total_rows = 0;
        
    IF (in_page = 0) THEN
        SET in_page = 1;
    END IF;    
    
    IF (in_page_size = 0) THEN
       SET in_page_size = 10;
    END IF;
    
    IF (in_sort = NULL || in_sort = '') THEN
       SET in_sort = ' date_modified ASC ';
    END IF;
    
    SET @sfields = CONCAT('', '`status`');
    SET @sfields = CONCAT(@sfields, ', `sort`');
    SET @sfields = CONCAT(@sfields, ', `attribute_value`');
    SET @sfields = CONCAT(@sfields, ', `active`');
    SET @sfields = CONCAT(@sfields, ', `game_id`');
    SET @sfields = CONCAT(@sfields, ', `group`');
    SET @sfields = CONCAT(@sfields, ', `uuid`');
    SET @sfields = CONCAT(@sfields, ', `date_modified`');
    SET @sfields = CONCAT(@sfields, ', `attribute_id`');
    SET @sfields = CONCAT(@sfields, ', `date_created`');
    SET @sfields = CONCAT(@sfields, ', `type`');
    SET @sfields = CONCAT(@sfields, ', `order`');
    
    SET @stable = CONCAT('', ' FROM `game_attribute_text` WHERE 1=1 ');
    
    SET @s = CONCAT(' ', @stable);
    SET @s = CONCAT(@s, ' ', in_filter);    
    
    SET @scount = CONCAT('SELECT COUNT(*) as `total_rows` ', @s, ' INTO @total_rows');
    
    PREPARE stmtcount FROM @scount;
    EXECUTE stmtcount;
    #SELECT @total_rows;
    SET total_rows = @total_rows;

    SET @sfields = CONCAT(total_rows, ' as `total_rows`, ', @sfields);
    SET @s = CONCAT('SELECT ', @sfields, @s);
    SET @s = CONCAT(@s, ' ORDER BY ', in_sort);
    SET @s = CONCAT(@s, ' LIMIT ', in_page);
    SET @s = CONCAT(@s, ',', in_page_size);    

    PREPARE stmt FROM @s;
    EXECUTE stmt;
    
END$$
delimiter ;
-- ------------------------------------
-- SET

-- ------------------------------------
-- MODEL: GameAttributeText - game_attribute_text

                       
DROP PROCEDURE IF EXISTS `usp_game_attribute_text_set_uuid`;
delimiter $$
CREATE PROCEDURE `usp_game_attribute_text_set_uuid`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_sort INTEGER 
    , in_attribute_value VARCHAR (1000) 
    , in_active int 
    , in_game_id BINARY(16) 
    , in_group INTEGER 
    , in_uuid BINARY(16) 
    , in_date_modified TIMESTAMP 
    , in_attribute_id BINARY(16) 
    , in_date_created TIMESTAMP 
    , in_type INTEGER 
    , in_order INTEGER 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_attribute_text`  
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_attribute_text` 
                    SET
                        `status` = in_status
                        , `sort` = in_sort
                        , `attribute_value` = in_attribute_value
                        , `active` = in_active
                        , `game_id` = in_game_id
                        , `group` = in_group
                        , `uuid` = in_uuid
                        , `date_modified` = in_date_modified
                        , `attribute_id` = in_attribute_id
                        , `date_created` = in_date_created
                        , `type` = in_type
                        , `order` = in_order
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_attribute_text`
                    (
                        `status`
                        , `sort`
                        , `attribute_value`
                        , `active`
                        , `game_id`
                        , `group`
                        , `uuid`
                        , `date_modified`
                        , `attribute_id`
                        , `date_created`
                        , `type`
                        , `order`
                    )
                    VALUES
                    (
                        in_status
                        , in_sort
                        , in_attribute_value
                        , in_active
                        , in_game_id
                        , in_group
                        , in_uuid
                        , in_date_modified
                        , in_attribute_id
                        , in_date_created
                        , in_type
                        , in_order
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_attribute_text_set_game_id`;
delimiter $$
CREATE PROCEDURE `usp_game_attribute_text_set_game_id`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_sort INTEGER 
    , in_attribute_value VARCHAR (1000) 
    , in_active int 
    , in_game_id BINARY(16) 
    , in_group INTEGER 
    , in_uuid BINARY(16) 
    , in_date_modified TIMESTAMP 
    , in_attribute_id BINARY(16) 
    , in_date_created TIMESTAMP 
    , in_type INTEGER 
    , in_order INTEGER 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_attribute_text`  
                    WHERE 1=1
                    AND `game_id` = in_game_id
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_attribute_text` 
                    SET
                        `status` = in_status
                        , `sort` = in_sort
                        , `attribute_value` = in_attribute_value
                        , `active` = in_active
                        , `game_id` = in_game_id
                        , `group` = in_group
                        , `uuid` = in_uuid
                        , `date_modified` = in_date_modified
                        , `attribute_id` = in_attribute_id
                        , `date_created` = in_date_created
                        , `type` = in_type
                        , `order` = in_order
                    WHERE 1=1
                    AND `game_id` = in_game_id
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_attribute_text`
                    (
                        `status`
                        , `sort`
                        , `attribute_value`
                        , `active`
                        , `game_id`
                        , `group`
                        , `uuid`
                        , `date_modified`
                        , `attribute_id`
                        , `date_created`
                        , `type`
                        , `order`
                    )
                    VALUES
                    (
                        in_status
                        , in_sort
                        , in_attribute_value
                        , in_active
                        , in_game_id
                        , in_group
                        , in_uuid
                        , in_date_modified
                        , in_attribute_id
                        , in_date_created
                        , in_type
                        , in_order
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_attribute_text_set_attribute_id`;
delimiter $$
CREATE PROCEDURE `usp_game_attribute_text_set_attribute_id`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_sort INTEGER 
    , in_attribute_value VARCHAR (1000) 
    , in_active int 
    , in_game_id BINARY(16) 
    , in_group INTEGER 
    , in_uuid BINARY(16) 
    , in_date_modified TIMESTAMP 
    , in_attribute_id BINARY(16) 
    , in_date_created TIMESTAMP 
    , in_type INTEGER 
    , in_order INTEGER 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_attribute_text`  
                    WHERE 1=1
                    AND `attribute_id` = in_attribute_id
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_attribute_text` 
                    SET
                        `status` = in_status
                        , `sort` = in_sort
                        , `attribute_value` = in_attribute_value
                        , `active` = in_active
                        , `game_id` = in_game_id
                        , `group` = in_group
                        , `uuid` = in_uuid
                        , `date_modified` = in_date_modified
                        , `attribute_id` = in_attribute_id
                        , `date_created` = in_date_created
                        , `type` = in_type
                        , `order` = in_order
                    WHERE 1=1
                    AND `attribute_id` = in_attribute_id
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_attribute_text`
                    (
                        `status`
                        , `sort`
                        , `attribute_value`
                        , `active`
                        , `game_id`
                        , `group`
                        , `uuid`
                        , `date_modified`
                        , `attribute_id`
                        , `date_created`
                        , `type`
                        , `order`
                    )
                    VALUES
                    (
                        in_status
                        , in_sort
                        , in_attribute_value
                        , in_active
                        , in_game_id
                        , in_group
                        , in_uuid
                        , in_date_modified
                        , in_attribute_id
                        , in_date_created
                        , in_type
                        , in_order
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_attribute_text_set_game_id_attribute_id`;
delimiter $$
CREATE PROCEDURE `usp_game_attribute_text_set_game_id_attribute_id`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_sort INTEGER 
    , in_attribute_value VARCHAR (1000) 
    , in_active int 
    , in_game_id BINARY(16) 
    , in_group INTEGER 
    , in_uuid BINARY(16) 
    , in_date_modified TIMESTAMP 
    , in_attribute_id BINARY(16) 
    , in_date_created TIMESTAMP 
    , in_type INTEGER 
    , in_order INTEGER 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_attribute_text`  
                    WHERE 1=1
                    AND `game_id` = in_game_id
                    AND `attribute_id` = in_attribute_id
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_attribute_text` 
                    SET
                        `status` = in_status
                        , `sort` = in_sort
                        , `attribute_value` = in_attribute_value
                        , `active` = in_active
                        , `game_id` = in_game_id
                        , `group` = in_group
                        , `uuid` = in_uuid
                        , `date_modified` = in_date_modified
                        , `attribute_id` = in_attribute_id
                        , `date_created` = in_date_created
                        , `type` = in_type
                        , `order` = in_order
                    WHERE 1=1
                    AND `game_id` = in_game_id
                    AND `attribute_id` = in_attribute_id
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_attribute_text`
                    (
                        `status`
                        , `sort`
                        , `attribute_value`
                        , `active`
                        , `game_id`
                        , `group`
                        , `uuid`
                        , `date_modified`
                        , `attribute_id`
                        , `date_created`
                        , `type`
                        , `order`
                    )
                    VALUES
                    (
                        in_status
                        , in_sort
                        , in_attribute_value
                        , in_active
                        , in_game_id
                        , in_group
                        , in_uuid
                        , in_date_modified
                        , in_attribute_id
                        , in_date_created
                        , in_type
                        , in_order
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

-- ------------------------------------
-- DEL

-- ------------------------------------
-- MODEL: GameAttributeText - game_attribute_text

                       
DROP PROCEDURE IF EXISTS `usp_game_attribute_text_del`;

delimiter $$
CREATE PROCEDURE `usp_game_attribute_text_del`
(
)                        
BEGIN
    DELETE 
    FROM `game_attribute_text`
    WHERE 1=1                        
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_game_attribute_text_del_uuid`;

delimiter $$
CREATE PROCEDURE `usp_game_attribute_text_del_uuid`
(
    in_uuid BINARY(16) 
)

BEGIN
    DELETE 
    FROM `game_attribute_text`
    WHERE 1=1                        
    AND "uuid" = in_uuid
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_game_attribute_text_del_game_id`;

delimiter $$
CREATE PROCEDURE `usp_game_attribute_text_del_game_id`
(
    in_game_id BINARY(16) 
)

BEGIN
    DELETE 
    FROM `game_attribute_text`
    WHERE 1=1                        
    AND "game_id" = in_game_id
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_game_attribute_text_del_attribute_id`;

delimiter $$
CREATE PROCEDURE `usp_game_attribute_text_del_attribute_id`
(
    in_attribute_id BINARY(16) 
)

BEGIN
    DELETE 
    FROM `game_attribute_text`
    WHERE 1=1                        
    AND "attribute_id" = in_attribute_id
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_game_attribute_text_del_game_id_attribute_id`;

delimiter $$
CREATE PROCEDURE `usp_game_attribute_text_del_game_id_attribute_id`
(
    in_game_id BINARY(16) 
    , in_attribute_id BINARY(16) 
)

BEGIN
    DELETE 
    FROM `game_attribute_text`
    WHERE 1=1                        
    AND "game_id" = in_game_id
    AND "attribute_id" = in_attribute_id
    ;
END$$
delimiter ;
-- ------------------------------------
-- GET

-- ------------------------------------
-- MODEL: GameAttributeText - game_attribute_text

                       
DROP PROCEDURE IF EXISTS `usp_game_attribute_text_get`;

delimiter $$
CREATE PROCEDURE `usp_game_attribute_text_get`
(
)                        
BEGIN
    SELECT
        `status`
        , `sort`
        , `attribute_value`
        , `active`
        , `game_id`
        , `group`
        , `uuid`
        , `date_modified`
        , `attribute_id`
        , `date_created`
        , `type`
        , `order`
    FROM `game_attribute_text`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_attribute_text_get_uuid`;

delimiter $$
CREATE PROCEDURE `usp_game_attribute_text_get_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `sort`
        , `attribute_value`
        , `active`
        , `game_id`
        , `group`
        , `uuid`
        , `date_modified`
        , `attribute_id`
        , `date_created`
        , `type`
        , `order`
    FROM `game_attribute_text`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_attribute_text_get_game_id`;

delimiter $$
CREATE PROCEDURE `usp_game_attribute_text_get_game_id`
(
    in_game_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `sort`
        , `attribute_value`
        , `active`
        , `game_id`
        , `group`
        , `uuid`
        , `date_modified`
        , `attribute_id`
        , `date_created`
        , `type`
        , `order`
    FROM `game_attribute_text`
    WHERE 1=1
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_attribute_text_get_attribute_id`;

delimiter $$
CREATE PROCEDURE `usp_game_attribute_text_get_attribute_id`
(
    in_attribute_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `sort`
        , `attribute_value`
        , `active`
        , `game_id`
        , `group`
        , `uuid`
        , `date_modified`
        , `attribute_id`
        , `date_created`
        , `type`
        , `order`
    FROM `game_attribute_text`
    WHERE 1=1
    AND `attribute_id` = in_attribute_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_attribute_text_get_game_id_attribute_id`;

delimiter $$
CREATE PROCEDURE `usp_game_attribute_text_get_game_id_attribute_id`
(
    in_game_id BINARY(16) 
    , in_attribute_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `sort`
        , `attribute_value`
        , `active`
        , `game_id`
        , `group`
        , `uuid`
        , `date_modified`
        , `attribute_id`
        , `date_created`
        , `type`
        , `order`
    FROM `game_attribute_text`
    WHERE 1=1
    AND `game_id` = in_game_id
    AND `attribute_id` = in_attribute_id
    ;
END$$
delimiter ;

-- -----------------------------------------------------------------------------
-- PROCS

-- ------------------------------------
-- COUNT

-- ------------------------------------
-- MODEL: GameAttributeData - game_attribute_data

                       
DROP PROCEDURE IF EXISTS `usp_game_attribute_data_count`;
delimiter $$
CREATE PROCEDURE `usp_game_attribute_data_count`
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_attribute_data`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_attribute_data_count_uuid`;
delimiter $$
CREATE PROCEDURE `usp_game_attribute_data_count_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_attribute_data`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_attribute_data_count_game_id`;
delimiter $$
CREATE PROCEDURE `usp_game_attribute_data_count_game_id`
(
    in_game_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_attribute_data`
    WHERE 1=1
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_attribute_data_count_game_id_attribute_id`;
delimiter $$
CREATE PROCEDURE `usp_game_attribute_data_count_game_id_attribute_id`
(
    in_game_id BINARY(16) 
    , in_attribute_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_attribute_data`
    WHERE 1=1
    AND `game_id` = in_game_id
    AND `attribute_id` = in_attribute_id
    ;
END$$
delimiter ;

-- ------------------------------------
-- BROWSE

-- ------------------------------------
-- MODEL: GameAttributeData - game_attribute_data

                       
DROP PROCEDURE IF EXISTS `usp_game_attribute_data_browse_filter`;

delimiter $$
CREATE PROCEDURE `usp_game_attribute_data_browse_filter`
(
    in_page int,
    in_page_size int,
    in_sort VARCHAR(500),
    in_filter VARCHAR(4000)
    
)
BEGIN
    DECLARE total_rows int;
    SET total_rows = 0;
        
    IF (in_page = 0) THEN
        SET in_page = 1;
    END IF;    
    
    IF (in_page_size = 0) THEN
       SET in_page_size = 10;
    END IF;
    
    IF (in_sort = NULL || in_sort = '') THEN
       SET in_sort = ' date_modified ASC ';
    END IF;
    
    SET @sfields = CONCAT('', '`status`');
    SET @sfields = CONCAT(@sfields, ', `sort`');
    SET @sfields = CONCAT(@sfields, ', `attribute_value`');
    SET @sfields = CONCAT(@sfields, ', `active`');
    SET @sfields = CONCAT(@sfields, ', `game_id`');
    SET @sfields = CONCAT(@sfields, ', `group`');
    SET @sfields = CONCAT(@sfields, ', `uuid`');
    SET @sfields = CONCAT(@sfields, ', `date_modified`');
    SET @sfields = CONCAT(@sfields, ', `attribute_id`');
    SET @sfields = CONCAT(@sfields, ', `date_created`');
    SET @sfields = CONCAT(@sfields, ', `type`');
    SET @sfields = CONCAT(@sfields, ', `order`');
    
    SET @stable = CONCAT('', ' FROM `game_attribute_data` WHERE 1=1 ');
    
    SET @s = CONCAT(' ', @stable);
    SET @s = CONCAT(@s, ' ', in_filter);    
    
    SET @scount = CONCAT('SELECT COUNT(*) as `total_rows` ', @s, ' INTO @total_rows');
    
    PREPARE stmtcount FROM @scount;
    EXECUTE stmtcount;
    #SELECT @total_rows;
    SET total_rows = @total_rows;

    SET @sfields = CONCAT(total_rows, ' as `total_rows`, ', @sfields);
    SET @s = CONCAT('SELECT ', @sfields, @s);
    SET @s = CONCAT(@s, ' ORDER BY ', in_sort);
    SET @s = CONCAT(@s, ' LIMIT ', in_page);
    SET @s = CONCAT(@s, ',', in_page_size);    

    PREPARE stmt FROM @s;
    EXECUTE stmt;
    
END$$
delimiter ;
-- ------------------------------------
-- SET

-- ------------------------------------
-- MODEL: GameAttributeData - game_attribute_data

                       
DROP PROCEDURE IF EXISTS `usp_game_attribute_data_set_uuid`;
delimiter $$
CREATE PROCEDURE `usp_game_attribute_data_set_uuid`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_sort INTEGER 
    , in_attribute_value TEXT 
    , in_active int 
    , in_game_id BINARY(16) 
    , in_group INTEGER 
    , in_uuid BINARY(16) 
    , in_date_modified TIMESTAMP 
    , in_attribute_id BINARY(16) 
    , in_date_created TIMESTAMP 
    , in_type INTEGER 
    , in_order INTEGER 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_attribute_data`  
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_attribute_data` 
                    SET
                        `status` = in_status
                        , `sort` = in_sort
                        , `attribute_value` = in_attribute_value
                        , `active` = in_active
                        , `game_id` = in_game_id
                        , `group` = in_group
                        , `uuid` = in_uuid
                        , `date_modified` = in_date_modified
                        , `attribute_id` = in_attribute_id
                        , `date_created` = in_date_created
                        , `type` = in_type
                        , `order` = in_order
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_attribute_data`
                    (
                        `status`
                        , `sort`
                        , `attribute_value`
                        , `active`
                        , `game_id`
                        , `group`
                        , `uuid`
                        , `date_modified`
                        , `attribute_id`
                        , `date_created`
                        , `type`
                        , `order`
                    )
                    VALUES
                    (
                        in_status
                        , in_sort
                        , in_attribute_value
                        , in_active
                        , in_game_id
                        , in_group
                        , in_uuid
                        , in_date_modified
                        , in_attribute_id
                        , in_date_created
                        , in_type
                        , in_order
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_attribute_data_set_game_id_attribute_id`;
delimiter $$
CREATE PROCEDURE `usp_game_attribute_data_set_game_id_attribute_id`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_sort INTEGER 
    , in_attribute_value TEXT 
    , in_active int 
    , in_game_id BINARY(16) 
    , in_group INTEGER 
    , in_uuid BINARY(16) 
    , in_date_modified TIMESTAMP 
    , in_attribute_id BINARY(16) 
    , in_date_created TIMESTAMP 
    , in_type INTEGER 
    , in_order INTEGER 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_attribute_data`  
                    WHERE 1=1
                    AND `game_id` = in_game_id
                    AND `attribute_id` = in_attribute_id
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_attribute_data` 
                    SET
                        `status` = in_status
                        , `sort` = in_sort
                        , `attribute_value` = in_attribute_value
                        , `active` = in_active
                        , `game_id` = in_game_id
                        , `group` = in_group
                        , `uuid` = in_uuid
                        , `date_modified` = in_date_modified
                        , `attribute_id` = in_attribute_id
                        , `date_created` = in_date_created
                        , `type` = in_type
                        , `order` = in_order
                    WHERE 1=1
                    AND `game_id` = in_game_id
                    AND `attribute_id` = in_attribute_id
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_attribute_data`
                    (
                        `status`
                        , `sort`
                        , `attribute_value`
                        , `active`
                        , `game_id`
                        , `group`
                        , `uuid`
                        , `date_modified`
                        , `attribute_id`
                        , `date_created`
                        , `type`
                        , `order`
                    )
                    VALUES
                    (
                        in_status
                        , in_sort
                        , in_attribute_value
                        , in_active
                        , in_game_id
                        , in_group
                        , in_uuid
                        , in_date_modified
                        , in_attribute_id
                        , in_date_created
                        , in_type
                        , in_order
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

-- ------------------------------------
-- DEL

-- ------------------------------------
-- MODEL: GameAttributeData - game_attribute_data

                       
DROP PROCEDURE IF EXISTS `usp_game_attribute_data_del`;

delimiter $$
CREATE PROCEDURE `usp_game_attribute_data_del`
(
)                        
BEGIN
    DELETE 
    FROM `game_attribute_data`
    WHERE 1=1                        
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_game_attribute_data_del_uuid`;

delimiter $$
CREATE PROCEDURE `usp_game_attribute_data_del_uuid`
(
    in_uuid BINARY(16) 
)

BEGIN
    DELETE 
    FROM `game_attribute_data`
    WHERE 1=1                        
    AND "uuid" = in_uuid
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_game_attribute_data_del_game_id`;

delimiter $$
CREATE PROCEDURE `usp_game_attribute_data_del_game_id`
(
    in_game_id BINARY(16) 
)

BEGIN
    DELETE 
    FROM `game_attribute_data`
    WHERE 1=1                        
    AND "game_id" = in_game_id
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_game_attribute_data_del_game_id`;

delimiter $$
CREATE PROCEDURE `usp_game_attribute_data_del_game_id`
(
    in_game_id BINARY(16) 
)

BEGIN
    DELETE 
    FROM `game_attribute_data`
    WHERE 1=1                        
    AND "game_id" = in_game_id
    ;
END$$
delimiter ;
-- ------------------------------------
-- GET

-- ------------------------------------
-- MODEL: GameAttributeData - game_attribute_data

                       
DROP PROCEDURE IF EXISTS `usp_game_attribute_data_get`;

delimiter $$
CREATE PROCEDURE `usp_game_attribute_data_get`
(
)                        
BEGIN
    SELECT
        `status`
        , `sort`
        , `attribute_value`
        , `active`
        , `game_id`
        , `group`
        , `uuid`
        , `date_modified`
        , `attribute_id`
        , `date_created`
        , `type`
        , `order`
    FROM `game_attribute_data`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_attribute_data_get_uuid`;

delimiter $$
CREATE PROCEDURE `usp_game_attribute_data_get_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `sort`
        , `attribute_value`
        , `active`
        , `game_id`
        , `group`
        , `uuid`
        , `date_modified`
        , `attribute_id`
        , `date_created`
        , `type`
        , `order`
    FROM `game_attribute_data`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_attribute_data_get_game_id`;

delimiter $$
CREATE PROCEDURE `usp_game_attribute_data_get_game_id`
(
    in_game_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `sort`
        , `attribute_value`
        , `active`
        , `game_id`
        , `group`
        , `uuid`
        , `date_modified`
        , `attribute_id`
        , `date_created`
        , `type`
        , `order`
    FROM `game_attribute_data`
    WHERE 1=1
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_attribute_data_get_game_id_attribute_id`;

delimiter $$
CREATE PROCEDURE `usp_game_attribute_data_get_game_id_attribute_id`
(
    in_game_id BINARY(16) 
    , in_attribute_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `sort`
        , `attribute_value`
        , `active`
        , `game_id`
        , `group`
        , `uuid`
        , `date_modified`
        , `attribute_id`
        , `date_created`
        , `type`
        , `order`
    FROM `game_attribute_data`
    WHERE 1=1
    AND `game_id` = in_game_id
    AND `attribute_id` = in_attribute_id
    ;
END$$
delimiter ;

-- -----------------------------------------------------------------------------
-- PROCS

-- ------------------------------------
-- COUNT

-- ------------------------------------
-- MODEL: GameCategory - game_category

                       
DROP PROCEDURE IF EXISTS `usp_game_category_count`;
delimiter $$
CREATE PROCEDURE `usp_game_category_count`
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_category`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_category_count_uuid`;
delimiter $$
CREATE PROCEDURE `usp_game_category_count_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_category`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_category_count_code`;
delimiter $$
CREATE PROCEDURE `usp_game_category_count_code`
(
    in_code VARCHAR (255) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_category`
    WHERE 1=1
    AND lower(`code`) = lower(in_code)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_category_count_name`;
delimiter $$
CREATE PROCEDURE `usp_game_category_count_name`
(
    in_name VARCHAR (255) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_category`
    WHERE 1=1
    AND lower(`name`) = lower(in_name)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_category_count_org_id`;
delimiter $$
CREATE PROCEDURE `usp_game_category_count_org_id`
(
    in_org_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_category`
    WHERE 1=1
    AND `org_id` = in_org_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_category_count_type_id`;
delimiter $$
CREATE PROCEDURE `usp_game_category_count_type_id`
(
    in_type_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_category`
    WHERE 1=1
    AND `type_id` = in_type_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_category_count_org_id_type_id`;
delimiter $$
CREATE PROCEDURE `usp_game_category_count_org_id_type_id`
(
    in_org_id BINARY(16) 
    , in_type_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_category`
    WHERE 1=1
    AND `org_id` = in_org_id
    AND `type_id` = in_type_id
    ;
END$$
delimiter ;

-- ------------------------------------
-- BROWSE

-- ------------------------------------
-- MODEL: GameCategory - game_category

                       
DROP PROCEDURE IF EXISTS `usp_game_category_browse_filter`;

delimiter $$
CREATE PROCEDURE `usp_game_category_browse_filter`
(
    in_page int,
    in_page_size int,
    in_sort VARCHAR(500),
    in_filter VARCHAR(4000)
    
)
BEGIN
    DECLARE total_rows int;
    SET total_rows = 0;
        
    IF (in_page = 0) THEN
        SET in_page = 1;
    END IF;    
    
    IF (in_page_size = 0) THEN
       SET in_page_size = 10;
    END IF;
    
    IF (in_sort = NULL || in_sort = '') THEN
       SET in_sort = ' date_modified ASC ';
    END IF;
    
    SET @sfields = CONCAT('', '`status`');
    SET @sfields = CONCAT(@sfields, ', `code`');
    SET @sfields = CONCAT(@sfields, ', `display_name`');
    SET @sfields = CONCAT(@sfields, ', `name`');
    SET @sfields = CONCAT(@sfields, ', `date_modified`');
    SET @sfields = CONCAT(@sfields, ', `type_id`');
    SET @sfields = CONCAT(@sfields, ', `org_id`');
    SET @sfields = CONCAT(@sfields, ', `uuid`');
    SET @sfields = CONCAT(@sfields, ', `active`');
    SET @sfields = CONCAT(@sfields, ', `date_created`');
    SET @sfields = CONCAT(@sfields, ', `type`');
    SET @sfields = CONCAT(@sfields, ', `description`');
    
    SET @stable = CONCAT('', ' FROM `game_category` WHERE 1=1 ');
    
    SET @s = CONCAT(' ', @stable);
    SET @s = CONCAT(@s, ' ', in_filter);    
    
    SET @scount = CONCAT('SELECT COUNT(*) as `total_rows` ', @s, ' INTO @total_rows');
    
    PREPARE stmtcount FROM @scount;
    EXECUTE stmtcount;
    #SELECT @total_rows;
    SET total_rows = @total_rows;

    SET @sfields = CONCAT(total_rows, ' as `total_rows`, ', @sfields);
    SET @s = CONCAT('SELECT ', @sfields, @s);
    SET @s = CONCAT(@s, ' ORDER BY ', in_sort);
    SET @s = CONCAT(@s, ' LIMIT ', in_page);
    SET @s = CONCAT(@s, ',', in_page_size);    

    PREPARE stmt FROM @s;
    EXECUTE stmt;
    
END$$
delimiter ;
-- ------------------------------------
-- SET

-- ------------------------------------
-- MODEL: GameCategory - game_category

                       
DROP PROCEDURE IF EXISTS `usp_game_category_set_uuid`;
delimiter $$
CREATE PROCEDURE `usp_game_category_set_uuid`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_code VARCHAR (255) 
    , in_display_name VARCHAR (255) 
    , in_name VARCHAR (255) 
    , in_date_modified TIMESTAMP 
    , in_type_id BINARY(16) 
    , in_org_id BINARY(16) 
    , in_uuid BINARY(16) 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (500) 
    , in_description VARCHAR (255) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_category`  
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_category` 
                    SET
                        `status` = in_status
                        , `code` = in_code
                        , `display_name` = in_display_name
                        , `name` = in_name
                        , `date_modified` = in_date_modified
                        , `type_id` = in_type_id
                        , `org_id` = in_org_id
                        , `uuid` = in_uuid
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `type` = in_type
                        , `description` = in_description
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_category`
                    (
                        `status`
                        , `code`
                        , `display_name`
                        , `name`
                        , `date_modified`
                        , `type_id`
                        , `org_id`
                        , `uuid`
                        , `active`
                        , `date_created`
                        , `type`
                        , `description`
                    )
                    VALUES
                    (
                        in_status
                        , in_code
                        , in_display_name
                        , in_name
                        , in_date_modified
                        , in_type_id
                        , in_org_id
                        , in_uuid
                        , in_active
                        , in_date_created
                        , in_type
                        , in_description
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

-- ------------------------------------
-- DEL

-- ------------------------------------
-- MODEL: GameCategory - game_category

                       
DROP PROCEDURE IF EXISTS `usp_game_category_del_uuid`;

delimiter $$
CREATE PROCEDURE `usp_game_category_del_uuid`
(
    in_uuid BINARY(16) 
)

BEGIN
    DELETE 
    FROM `game_category`
    WHERE 1=1                        
    AND "uuid" = in_uuid
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_game_category_del_code_org_id`;

delimiter $$
CREATE PROCEDURE `usp_game_category_del_code_org_id`
(
    in_code VARCHAR (255) 
    , in_org_id BINARY(16) 
)

BEGIN
    DELETE 
    FROM `game_category`
    WHERE 1=1                        
    AND lower("code") = lower(in_code)
    AND "org_id" = in_org_id
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_game_category_del_code_org_id_type_id`;

delimiter $$
CREATE PROCEDURE `usp_game_category_del_code_org_id_type_id`
(
    in_code VARCHAR (255) 
    , in_org_id BINARY(16) 
    , in_type_id BINARY(16) 
)

BEGIN
    DELETE 
    FROM `game_category`
    WHERE 1=1                        
    AND lower("code") = lower(in_code)
    AND "org_id" = in_org_id
    AND "type_id" = in_type_id
    ;
END$$
delimiter ;
-- ------------------------------------
-- GET

-- ------------------------------------
-- MODEL: GameCategory - game_category

                       
DROP PROCEDURE IF EXISTS `usp_game_category_get`;

delimiter $$
CREATE PROCEDURE `usp_game_category_get`
(
)                        
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `type_id`
        , `org_id`
        , `uuid`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `game_category`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_category_get_uuid`;

delimiter $$
CREATE PROCEDURE `usp_game_category_get_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `type_id`
        , `org_id`
        , `uuid`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `game_category`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_category_get_code`;

delimiter $$
CREATE PROCEDURE `usp_game_category_get_code`
(
    in_code VARCHAR (255) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `type_id`
        , `org_id`
        , `uuid`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `game_category`
    WHERE 1=1
    AND lower(`code`) = lower(in_code)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_category_get_name`;

delimiter $$
CREATE PROCEDURE `usp_game_category_get_name`
(
    in_name VARCHAR (255) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `type_id`
        , `org_id`
        , `uuid`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `game_category`
    WHERE 1=1
    AND lower(`name`) = lower(in_name)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_category_get_org_id`;

delimiter $$
CREATE PROCEDURE `usp_game_category_get_org_id`
(
    in_org_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `type_id`
        , `org_id`
        , `uuid`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `game_category`
    WHERE 1=1
    AND `org_id` = in_org_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_category_get_type_id`;

delimiter $$
CREATE PROCEDURE `usp_game_category_get_type_id`
(
    in_type_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `type_id`
        , `org_id`
        , `uuid`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `game_category`
    WHERE 1=1
    AND `type_id` = in_type_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_category_get_org_id_type_id`;

delimiter $$
CREATE PROCEDURE `usp_game_category_get_org_id_type_id`
(
    in_org_id BINARY(16) 
    , in_type_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `type_id`
        , `org_id`
        , `uuid`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `game_category`
    WHERE 1=1
    AND `org_id` = in_org_id
    AND `type_id` = in_type_id
    ;
END$$
delimiter ;

-- -----------------------------------------------------------------------------
-- PROCS

-- ------------------------------------
-- COUNT

-- ------------------------------------
-- MODEL: GameCategoryTree - game_category_tree

                       
DROP PROCEDURE IF EXISTS `usp_game_category_tree_count`;
delimiter $$
CREATE PROCEDURE `usp_game_category_tree_count`
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_category_tree`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_category_tree_count_uuid`;
delimiter $$
CREATE PROCEDURE `usp_game_category_tree_count_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_category_tree`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_category_tree_count_parent_id`;
delimiter $$
CREATE PROCEDURE `usp_game_category_tree_count_parent_id`
(
    in_parent_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_category_tree`
    WHERE 1=1
    AND `parent_id` = in_parent_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_category_tree_count_category_id`;
delimiter $$
CREATE PROCEDURE `usp_game_category_tree_count_category_id`
(
    in_category_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_category_tree`
    WHERE 1=1
    AND `category_id` = in_category_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_category_tree_count_parent_id_category_id`;
delimiter $$
CREATE PROCEDURE `usp_game_category_tree_count_parent_id_category_id`
(
    in_parent_id BINARY(16) 
    , in_category_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_category_tree`
    WHERE 1=1
    AND `parent_id` = in_parent_id
    AND `category_id` = in_category_id
    ;
END$$
delimiter ;

-- ------------------------------------
-- BROWSE

-- ------------------------------------
-- MODEL: GameCategoryTree - game_category_tree

                       
DROP PROCEDURE IF EXISTS `usp_game_category_tree_browse_filter`;

delimiter $$
CREATE PROCEDURE `usp_game_category_tree_browse_filter`
(
    in_page int,
    in_page_size int,
    in_sort VARCHAR(500),
    in_filter VARCHAR(4000)
    
)
BEGIN
    DECLARE total_rows int;
    SET total_rows = 0;
        
    IF (in_page = 0) THEN
        SET in_page = 1;
    END IF;    
    
    IF (in_page_size = 0) THEN
       SET in_page_size = 10;
    END IF;
    
    IF (in_sort = NULL || in_sort = '') THEN
       SET in_sort = ' date_modified ASC ';
    END IF;
    
    SET @sfields = CONCAT('', '`status`');
    SET @sfields = CONCAT(@sfields, ', `parent_id`');
    SET @sfields = CONCAT(@sfields, ', `uuid`');
    SET @sfields = CONCAT(@sfields, ', `date_modified`');
    SET @sfields = CONCAT(@sfields, ', `active`');
    SET @sfields = CONCAT(@sfields, ', `date_created`');
    SET @sfields = CONCAT(@sfields, ', `category_id`');
    SET @sfields = CONCAT(@sfields, ', `type`');
    
    SET @stable = CONCAT('', ' FROM `game_category_tree` WHERE 1=1 ');
    
    SET @s = CONCAT(' ', @stable);
    SET @s = CONCAT(@s, ' ', in_filter);    
    
    SET @scount = CONCAT('SELECT COUNT(*) as `total_rows` ', @s, ' INTO @total_rows');
    
    PREPARE stmtcount FROM @scount;
    EXECUTE stmtcount;
    #SELECT @total_rows;
    SET total_rows = @total_rows;

    SET @sfields = CONCAT(total_rows, ' as `total_rows`, ', @sfields);
    SET @s = CONCAT('SELECT ', @sfields, @s);
    SET @s = CONCAT(@s, ' ORDER BY ', in_sort);
    SET @s = CONCAT(@s, ' LIMIT ', in_page);
    SET @s = CONCAT(@s, ',', in_page_size);    

    PREPARE stmt FROM @s;
    EXECUTE stmt;
    
END$$
delimiter ;
-- ------------------------------------
-- SET

-- ------------------------------------
-- MODEL: GameCategoryTree - game_category_tree

                       
DROP PROCEDURE IF EXISTS `usp_game_category_tree_set_uuid`;
delimiter $$
CREATE PROCEDURE `usp_game_category_tree_set_uuid`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_parent_id BINARY(16) 
    , in_uuid BINARY(16) 
    , in_date_modified TIMESTAMP 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_category_id BINARY(16) 
    , in_type VARCHAR (500) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_category_tree`  
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_category_tree` 
                    SET
                        `status` = in_status
                        , `parent_id` = in_parent_id
                        , `uuid` = in_uuid
                        , `date_modified` = in_date_modified
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `category_id` = in_category_id
                        , `type` = in_type
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_category_tree`
                    (
                        `status`
                        , `parent_id`
                        , `uuid`
                        , `date_modified`
                        , `active`
                        , `date_created`
                        , `category_id`
                        , `type`
                    )
                    VALUES
                    (
                        in_status
                        , in_parent_id
                        , in_uuid
                        , in_date_modified
                        , in_active
                        , in_date_created
                        , in_category_id
                        , in_type
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

-- ------------------------------------
-- DEL

-- ------------------------------------
-- MODEL: GameCategoryTree - game_category_tree

                       
DROP PROCEDURE IF EXISTS `usp_game_category_tree_del_uuid`;

delimiter $$
CREATE PROCEDURE `usp_game_category_tree_del_uuid`
(
    in_uuid BINARY(16) 
)

BEGIN
    DELETE 
    FROM `game_category_tree`
    WHERE 1=1                        
    AND "uuid" = in_uuid
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_game_category_tree_del_parent_id`;

delimiter $$
CREATE PROCEDURE `usp_game_category_tree_del_parent_id`
(
    in_parent_id BINARY(16) 
)

BEGIN
    DELETE 
    FROM `game_category_tree`
    WHERE 1=1                        
    AND "parent_id" = in_parent_id
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_game_category_tree_del_category_id`;

delimiter $$
CREATE PROCEDURE `usp_game_category_tree_del_category_id`
(
    in_category_id BINARY(16) 
)

BEGIN
    DELETE 
    FROM `game_category_tree`
    WHERE 1=1                        
    AND "category_id" = in_category_id
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_game_category_tree_del_parent_id_category_id`;

delimiter $$
CREATE PROCEDURE `usp_game_category_tree_del_parent_id_category_id`
(
    in_parent_id BINARY(16) 
    , in_category_id BINARY(16) 
)

BEGIN
    DELETE 
    FROM `game_category_tree`
    WHERE 1=1                        
    AND "parent_id" = in_parent_id
    AND "category_id" = in_category_id
    ;
END$$
delimiter ;
-- ------------------------------------
-- GET

-- ------------------------------------
-- MODEL: GameCategoryTree - game_category_tree

                       
DROP PROCEDURE IF EXISTS `usp_game_category_tree_get`;

delimiter $$
CREATE PROCEDURE `usp_game_category_tree_get`
(
)                        
BEGIN
    SELECT
        `status`
        , `parent_id`
        , `uuid`
        , `date_modified`
        , `active`
        , `date_created`
        , `category_id`
        , `type`
    FROM `game_category_tree`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_category_tree_get_uuid`;

delimiter $$
CREATE PROCEDURE `usp_game_category_tree_get_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `parent_id`
        , `uuid`
        , `date_modified`
        , `active`
        , `date_created`
        , `category_id`
        , `type`
    FROM `game_category_tree`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_category_tree_get_parent_id`;

delimiter $$
CREATE PROCEDURE `usp_game_category_tree_get_parent_id`
(
    in_parent_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `parent_id`
        , `uuid`
        , `date_modified`
        , `active`
        , `date_created`
        , `category_id`
        , `type`
    FROM `game_category_tree`
    WHERE 1=1
    AND `parent_id` = in_parent_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_category_tree_get_category_id`;

delimiter $$
CREATE PROCEDURE `usp_game_category_tree_get_category_id`
(
    in_category_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `parent_id`
        , `uuid`
        , `date_modified`
        , `active`
        , `date_created`
        , `category_id`
        , `type`
    FROM `game_category_tree`
    WHERE 1=1
    AND `category_id` = in_category_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_category_tree_get_parent_id_category_id`;

delimiter $$
CREATE PROCEDURE `usp_game_category_tree_get_parent_id_category_id`
(
    in_parent_id BINARY(16) 
    , in_category_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `parent_id`
        , `uuid`
        , `date_modified`
        , `active`
        , `date_created`
        , `category_id`
        , `type`
    FROM `game_category_tree`
    WHERE 1=1
    AND `parent_id` = in_parent_id
    AND `category_id` = in_category_id
    ;
END$$
delimiter ;

-- -----------------------------------------------------------------------------
-- PROCS

-- ------------------------------------
-- COUNT

-- ------------------------------------
-- MODEL: GameCategoryAssoc - game_category_assoc

                       
DROP PROCEDURE IF EXISTS `usp_game_category_assoc_count`;
delimiter $$
CREATE PROCEDURE `usp_game_category_assoc_count`
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_category_assoc`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_category_assoc_count_uuid`;
delimiter $$
CREATE PROCEDURE `usp_game_category_assoc_count_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_category_assoc`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_category_assoc_count_game_id`;
delimiter $$
CREATE PROCEDURE `usp_game_category_assoc_count_game_id`
(
    in_game_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_category_assoc`
    WHERE 1=1
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_category_assoc_count_category_id`;
delimiter $$
CREATE PROCEDURE `usp_game_category_assoc_count_category_id`
(
    in_category_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_category_assoc`
    WHERE 1=1
    AND `category_id` = in_category_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_category_assoc_count_game_id_category_id`;
delimiter $$
CREATE PROCEDURE `usp_game_category_assoc_count_game_id_category_id`
(
    in_game_id BINARY(16) 
    , in_category_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_category_assoc`
    WHERE 1=1
    AND `game_id` = in_game_id
    AND `category_id` = in_category_id
    ;
END$$
delimiter ;

-- ------------------------------------
-- BROWSE

-- ------------------------------------
-- MODEL: GameCategoryAssoc - game_category_assoc

                       
DROP PROCEDURE IF EXISTS `usp_game_category_assoc_browse_filter`;

delimiter $$
CREATE PROCEDURE `usp_game_category_assoc_browse_filter`
(
    in_page int,
    in_page_size int,
    in_sort VARCHAR(500),
    in_filter VARCHAR(4000)
    
)
BEGIN
    DECLARE total_rows int;
    SET total_rows = 0;
        
    IF (in_page = 0) THEN
        SET in_page = 1;
    END IF;    
    
    IF (in_page_size = 0) THEN
       SET in_page_size = 10;
    END IF;
    
    IF (in_sort = NULL || in_sort = '') THEN
       SET in_sort = ' date_modified ASC ';
    END IF;
    
    SET @sfields = CONCAT('', '`status`');
    SET @sfields = CONCAT(@sfields, ', `uuid`');
    SET @sfields = CONCAT(@sfields, ', `date_modified`');
    SET @sfields = CONCAT(@sfields, ', `active`');
    SET @sfields = CONCAT(@sfields, ', `date_created`');
    SET @sfields = CONCAT(@sfields, ', `game_id`');
    SET @sfields = CONCAT(@sfields, ', `category_id`');
    SET @sfields = CONCAT(@sfields, ', `type`');
    
    SET @stable = CONCAT('', ' FROM `game_category_assoc` WHERE 1=1 ');
    
    SET @s = CONCAT(' ', @stable);
    SET @s = CONCAT(@s, ' ', in_filter);    
    
    SET @scount = CONCAT('SELECT COUNT(*) as `total_rows` ', @s, ' INTO @total_rows');
    
    PREPARE stmtcount FROM @scount;
    EXECUTE stmtcount;
    #SELECT @total_rows;
    SET total_rows = @total_rows;

    SET @sfields = CONCAT(total_rows, ' as `total_rows`, ', @sfields);
    SET @s = CONCAT('SELECT ', @sfields, @s);
    SET @s = CONCAT(@s, ' ORDER BY ', in_sort);
    SET @s = CONCAT(@s, ' LIMIT ', in_page);
    SET @s = CONCAT(@s, ',', in_page_size);    

    PREPARE stmt FROM @s;
    EXECUTE stmt;
    
END$$
delimiter ;
-- ------------------------------------
-- SET

-- ------------------------------------
-- MODEL: GameCategoryAssoc - game_category_assoc

                       
DROP PROCEDURE IF EXISTS `usp_game_category_assoc_set_uuid`;
delimiter $$
CREATE PROCEDURE `usp_game_category_assoc_set_uuid`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_uuid BINARY(16) 
    , in_date_modified TIMESTAMP 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_game_id BINARY(16) 
    , in_category_id BINARY(16) 
    , in_type VARCHAR (500) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_category_assoc`  
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_category_assoc` 
                    SET
                        `status` = in_status
                        , `uuid` = in_uuid
                        , `date_modified` = in_date_modified
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `game_id` = in_game_id
                        , `category_id` = in_category_id
                        , `type` = in_type
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_category_assoc`
                    (
                        `status`
                        , `uuid`
                        , `date_modified`
                        , `active`
                        , `date_created`
                        , `game_id`
                        , `category_id`
                        , `type`
                    )
                    VALUES
                    (
                        in_status
                        , in_uuid
                        , in_date_modified
                        , in_active
                        , in_date_created
                        , in_game_id
                        , in_category_id
                        , in_type
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

-- ------------------------------------
-- DEL

-- ------------------------------------
-- MODEL: GameCategoryAssoc - game_category_assoc

                       
DROP PROCEDURE IF EXISTS `usp_game_category_assoc_del_uuid`;

delimiter $$
CREATE PROCEDURE `usp_game_category_assoc_del_uuid`
(
    in_uuid BINARY(16) 
)

BEGIN
    DELETE 
    FROM `game_category_assoc`
    WHERE 1=1                        
    AND "uuid" = in_uuid
    ;
END$$
delimiter ;
-- ------------------------------------
-- GET

-- ------------------------------------
-- MODEL: GameCategoryAssoc - game_category_assoc

                       
DROP PROCEDURE IF EXISTS `usp_game_category_assoc_get`;

delimiter $$
CREATE PROCEDURE `usp_game_category_assoc_get`
(
)                        
BEGIN
    SELECT
        `status`
        , `uuid`
        , `date_modified`
        , `active`
        , `date_created`
        , `game_id`
        , `category_id`
        , `type`
    FROM `game_category_assoc`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_category_assoc_get_uuid`;

delimiter $$
CREATE PROCEDURE `usp_game_category_assoc_get_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `uuid`
        , `date_modified`
        , `active`
        , `date_created`
        , `game_id`
        , `category_id`
        , `type`
    FROM `game_category_assoc`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_category_assoc_get_game_id`;

delimiter $$
CREATE PROCEDURE `usp_game_category_assoc_get_game_id`
(
    in_game_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `uuid`
        , `date_modified`
        , `active`
        , `date_created`
        , `game_id`
        , `category_id`
        , `type`
    FROM `game_category_assoc`
    WHERE 1=1
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_category_assoc_get_category_id`;

delimiter $$
CREATE PROCEDURE `usp_game_category_assoc_get_category_id`
(
    in_category_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `uuid`
        , `date_modified`
        , `active`
        , `date_created`
        , `game_id`
        , `category_id`
        , `type`
    FROM `game_category_assoc`
    WHERE 1=1
    AND `category_id` = in_category_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_category_assoc_get_game_id_category_id`;

delimiter $$
CREATE PROCEDURE `usp_game_category_assoc_get_game_id_category_id`
(
    in_game_id BINARY(16) 
    , in_category_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `uuid`
        , `date_modified`
        , `active`
        , `date_created`
        , `game_id`
        , `category_id`
        , `type`
    FROM `game_category_assoc`
    WHERE 1=1
    AND `game_id` = in_game_id
    AND `category_id` = in_category_id
    ;
END$$
delimiter ;

-- -----------------------------------------------------------------------------
-- PROCS

-- ------------------------------------
-- COUNT

-- ------------------------------------
-- MODEL: GameType - game_type

                       
DROP PROCEDURE IF EXISTS `usp_game_type_count`;
delimiter $$
CREATE PROCEDURE `usp_game_type_count`
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_type`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_type_count_uuid`;
delimiter $$
CREATE PROCEDURE `usp_game_type_count_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_type`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_type_count_code`;
delimiter $$
CREATE PROCEDURE `usp_game_type_count_code`
(
    in_code VARCHAR (255) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_type`
    WHERE 1=1
    AND lower(`code`) = lower(in_code)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_type_count_name`;
delimiter $$
CREATE PROCEDURE `usp_game_type_count_name`
(
    in_name VARCHAR (255) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_type`
    WHERE 1=1
    AND lower(`name`) = lower(in_name)
    ;
END$$
delimiter ;

-- ------------------------------------
-- BROWSE

-- ------------------------------------
-- MODEL: GameType - game_type

                       
DROP PROCEDURE IF EXISTS `usp_game_type_browse_filter`;

delimiter $$
CREATE PROCEDURE `usp_game_type_browse_filter`
(
    in_page int,
    in_page_size int,
    in_sort VARCHAR(500),
    in_filter VARCHAR(4000)
    
)
BEGIN
    DECLARE total_rows int;
    SET total_rows = 0;
        
    IF (in_page = 0) THEN
        SET in_page = 1;
    END IF;    
    
    IF (in_page_size = 0) THEN
       SET in_page_size = 10;
    END IF;
    
    IF (in_sort = NULL || in_sort = '') THEN
       SET in_sort = ' date_modified ASC ';
    END IF;
    
    SET @sfields = CONCAT('', '`status`');
    SET @sfields = CONCAT(@sfields, ', `code`');
    SET @sfields = CONCAT(@sfields, ', `display_name`');
    SET @sfields = CONCAT(@sfields, ', `name`');
    SET @sfields = CONCAT(@sfields, ', `date_modified`');
    SET @sfields = CONCAT(@sfields, ', `uuid`');
    SET @sfields = CONCAT(@sfields, ', `active`');
    SET @sfields = CONCAT(@sfields, ', `date_created`');
    SET @sfields = CONCAT(@sfields, ', `type`');
    SET @sfields = CONCAT(@sfields, ', `description`');
    
    SET @stable = CONCAT('', ' FROM `game_type` WHERE 1=1 ');
    
    SET @s = CONCAT(' ', @stable);
    SET @s = CONCAT(@s, ' ', in_filter);    
    
    SET @scount = CONCAT('SELECT COUNT(*) as `total_rows` ', @s, ' INTO @total_rows');
    
    PREPARE stmtcount FROM @scount;
    EXECUTE stmtcount;
    #SELECT @total_rows;
    SET total_rows = @total_rows;

    SET @sfields = CONCAT(total_rows, ' as `total_rows`, ', @sfields);
    SET @s = CONCAT('SELECT ', @sfields, @s);
    SET @s = CONCAT(@s, ' ORDER BY ', in_sort);
    SET @s = CONCAT(@s, ' LIMIT ', in_page);
    SET @s = CONCAT(@s, ',', in_page_size);    

    PREPARE stmt FROM @s;
    EXECUTE stmt;
    
END$$
delimiter ;
-- ------------------------------------
-- SET

-- ------------------------------------
-- MODEL: GameType - game_type

                       
DROP PROCEDURE IF EXISTS `usp_game_type_set_uuid`;
delimiter $$
CREATE PROCEDURE `usp_game_type_set_uuid`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_code VARCHAR (255) 
    , in_display_name VARCHAR (255) 
    , in_name VARCHAR (255) 
    , in_date_modified TIMESTAMP 
    , in_uuid BINARY(16) 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (50) 
    , in_description VARCHAR (255) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_type`  
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_type` 
                    SET
                        `status` = in_status
                        , `code` = in_code
                        , `display_name` = in_display_name
                        , `name` = in_name
                        , `date_modified` = in_date_modified
                        , `uuid` = in_uuid
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `type` = in_type
                        , `description` = in_description
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_type`
                    (
                        `status`
                        , `code`
                        , `display_name`
                        , `name`
                        , `date_modified`
                        , `uuid`
                        , `active`
                        , `date_created`
                        , `type`
                        , `description`
                    )
                    VALUES
                    (
                        in_status
                        , in_code
                        , in_display_name
                        , in_name
                        , in_date_modified
                        , in_uuid
                        , in_active
                        , in_date_created
                        , in_type
                        , in_description
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

-- ------------------------------------
-- DEL

-- ------------------------------------
-- MODEL: GameType - game_type

                       
DROP PROCEDURE IF EXISTS `usp_game_type_del_uuid`;

delimiter $$
CREATE PROCEDURE `usp_game_type_del_uuid`
(
    in_uuid BINARY(16) 
)

BEGIN
    DELETE 
    FROM `game_type`
    WHERE 1=1                        
    AND "uuid" = in_uuid
    ;
END$$
delimiter ;
-- ------------------------------------
-- GET

-- ------------------------------------
-- MODEL: GameType - game_type

                       
DROP PROCEDURE IF EXISTS `usp_game_type_get`;

delimiter $$
CREATE PROCEDURE `usp_game_type_get`
(
)                        
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `uuid`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `game_type`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_type_get_uuid`;

delimiter $$
CREATE PROCEDURE `usp_game_type_get_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `uuid`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `game_type`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_type_get_code`;

delimiter $$
CREATE PROCEDURE `usp_game_type_get_code`
(
    in_code VARCHAR (255) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `uuid`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `game_type`
    WHERE 1=1
    AND lower(`code`) = lower(in_code)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_type_get_name`;

delimiter $$
CREATE PROCEDURE `usp_game_type_get_name`
(
    in_name VARCHAR (255) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `uuid`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `game_type`
    WHERE 1=1
    AND lower(`name`) = lower(in_name)
    ;
END$$
delimiter ;

-- -----------------------------------------------------------------------------
-- PROCS

-- ------------------------------------
-- COUNT

-- ------------------------------------
-- MODEL: ProfileGame - profile_game

                       
DROP PROCEDURE IF EXISTS `usp_profile_game_count`;
delimiter $$
CREATE PROCEDURE `usp_profile_game_count`
BEGIN
    SELECT
        COUNT(*) as count
    FROM `profile_game`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_game_count_uuid`;
delimiter $$
CREATE PROCEDURE `usp_profile_game_count_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `profile_game`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_game_count_game_id`;
delimiter $$
CREATE PROCEDURE `usp_profile_game_count_game_id`
(
    in_game_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `profile_game`
    WHERE 1=1
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_game_count_profile_id`;
delimiter $$
CREATE PROCEDURE `usp_profile_game_count_profile_id`
(
    in_profile_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `profile_game`
    WHERE 1=1
    AND `profile_id` = in_profile_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_game_count_profile_id_game_id`;
delimiter $$
CREATE PROCEDURE `usp_profile_game_count_profile_id_game_id`
(
    in_profile_id BINARY(16) 
    , in_game_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `profile_game`
    WHERE 1=1
    AND `profile_id` = in_profile_id
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

-- ------------------------------------
-- BROWSE

-- ------------------------------------
-- MODEL: ProfileGame - profile_game

                       
DROP PROCEDURE IF EXISTS `usp_profile_game_browse_filter`;

delimiter $$
CREATE PROCEDURE `usp_profile_game_browse_filter`
(
    in_page int,
    in_page_size int,
    in_sort VARCHAR(500),
    in_filter VARCHAR(4000)
    
)
BEGIN
    DECLARE total_rows int;
    SET total_rows = 0;
        
    IF (in_page = 0) THEN
        SET in_page = 1;
    END IF;    
    
    IF (in_page_size = 0) THEN
       SET in_page_size = 10;
    END IF;
    
    IF (in_sort = NULL || in_sort = '') THEN
       SET in_sort = ' date_modified ASC ';
    END IF;
    
    SET @sfields = CONCAT('', '`status`');
    SET @sfields = CONCAT(@sfields, ', `type_id`');
    SET @sfields = CONCAT(@sfields, ', `profile_id`');
    SET @sfields = CONCAT(@sfields, ', `profile_iteration`');
    SET @sfields = CONCAT(@sfields, ', `game_profile`');
    SET @sfields = CONCAT(@sfields, ', `active`');
    SET @sfields = CONCAT(@sfields, ', `game_id`');
    SET @sfields = CONCAT(@sfields, ', `uuid`');
    SET @sfields = CONCAT(@sfields, ', `date_modified`');
    SET @sfields = CONCAT(@sfields, ', `profile_version`');
    SET @sfields = CONCAT(@sfields, ', `date_created`');
    SET @sfields = CONCAT(@sfields, ', `type`');
    
    SET @stable = CONCAT('', ' FROM `profile_game` WHERE 1=1 ');
    
    SET @s = CONCAT(' ', @stable);
    SET @s = CONCAT(@s, ' ', in_filter);    
    
    SET @scount = CONCAT('SELECT COUNT(*) as `total_rows` ', @s, ' INTO @total_rows');
    
    PREPARE stmtcount FROM @scount;
    EXECUTE stmtcount;
    #SELECT @total_rows;
    SET total_rows = @total_rows;

    SET @sfields = CONCAT(total_rows, ' as `total_rows`, ', @sfields);
    SET @s = CONCAT('SELECT ', @sfields, @s);
    SET @s = CONCAT(@s, ' ORDER BY ', in_sort);
    SET @s = CONCAT(@s, ' LIMIT ', in_page);
    SET @s = CONCAT(@s, ',', in_page_size);    

    PREPARE stmt FROM @s;
    EXECUTE stmt;
    
END$$
delimiter ;
-- ------------------------------------
-- SET

-- ------------------------------------
-- MODEL: ProfileGame - profile_game

                       
DROP PROCEDURE IF EXISTS `usp_profile_game_set_uuid`;
delimiter $$
CREATE PROCEDURE `usp_profile_game_set_uuid`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_type_id BINARY(16) 
    , in_profile_id BINARY(16) 
    , in_profile_iteration VARCHAR (50) 
    , in_game_profile TEXT 
    , in_active int 
    , in_game_id BINARY(16) 
    , in_uuid BINARY(16) 
    , in_date_modified TIMESTAMP 
    , in_profile_version VARCHAR (50) 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (500) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `profile_game`  
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `profile_game` 
                    SET
                        `status` = in_status
                        , `type_id` = in_type_id
                        , `profile_id` = in_profile_id
                        , `profile_iteration` = in_profile_iteration
                        , `game_profile` = in_game_profile
                        , `active` = in_active
                        , `game_id` = in_game_id
                        , `uuid` = in_uuid
                        , `date_modified` = in_date_modified
                        , `profile_version` = in_profile_version
                        , `date_created` = in_date_created
                        , `type` = in_type
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `profile_game`
                    (
                        `status`
                        , `type_id`
                        , `profile_id`
                        , `profile_iteration`
                        , `game_profile`
                        , `active`
                        , `game_id`
                        , `uuid`
                        , `date_modified`
                        , `profile_version`
                        , `date_created`
                        , `type`
                    )
                    VALUES
                    (
                        in_status
                        , in_type_id
                        , in_profile_id
                        , in_profile_iteration
                        , in_game_profile
                        , in_active
                        , in_game_id
                        , in_uuid
                        , in_date_modified
                        , in_profile_version
                        , in_date_created
                        , in_type
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_game_set_game_id`;
delimiter $$
CREATE PROCEDURE `usp_profile_game_set_game_id`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_type_id BINARY(16) 
    , in_profile_id BINARY(16) 
    , in_profile_iteration VARCHAR (50) 
    , in_game_profile TEXT 
    , in_active int 
    , in_game_id BINARY(16) 
    , in_uuid BINARY(16) 
    , in_date_modified TIMESTAMP 
    , in_profile_version VARCHAR (50) 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (500) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `profile_game`  
                    WHERE 1=1
                    AND `game_id` = in_game_id
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `profile_game` 
                    SET
                        `status` = in_status
                        , `type_id` = in_type_id
                        , `profile_id` = in_profile_id
                        , `profile_iteration` = in_profile_iteration
                        , `game_profile` = in_game_profile
                        , `active` = in_active
                        , `game_id` = in_game_id
                        , `uuid` = in_uuid
                        , `date_modified` = in_date_modified
                        , `profile_version` = in_profile_version
                        , `date_created` = in_date_created
                        , `type` = in_type
                    WHERE 1=1
                    AND `game_id` = in_game_id
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `profile_game`
                    (
                        `status`
                        , `type_id`
                        , `profile_id`
                        , `profile_iteration`
                        , `game_profile`
                        , `active`
                        , `game_id`
                        , `uuid`
                        , `date_modified`
                        , `profile_version`
                        , `date_created`
                        , `type`
                    )
                    VALUES
                    (
                        in_status
                        , in_type_id
                        , in_profile_id
                        , in_profile_iteration
                        , in_game_profile
                        , in_active
                        , in_game_id
                        , in_uuid
                        , in_date_modified
                        , in_profile_version
                        , in_date_created
                        , in_type
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_game_set_profile_id`;
delimiter $$
CREATE PROCEDURE `usp_profile_game_set_profile_id`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_type_id BINARY(16) 
    , in_profile_id BINARY(16) 
    , in_profile_iteration VARCHAR (50) 
    , in_game_profile TEXT 
    , in_active int 
    , in_game_id BINARY(16) 
    , in_uuid BINARY(16) 
    , in_date_modified TIMESTAMP 
    , in_profile_version VARCHAR (50) 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (500) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `profile_game`  
                    WHERE 1=1
                    AND `profile_id` = in_profile_id
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `profile_game` 
                    SET
                        `status` = in_status
                        , `type_id` = in_type_id
                        , `profile_id` = in_profile_id
                        , `profile_iteration` = in_profile_iteration
                        , `game_profile` = in_game_profile
                        , `active` = in_active
                        , `game_id` = in_game_id
                        , `uuid` = in_uuid
                        , `date_modified` = in_date_modified
                        , `profile_version` = in_profile_version
                        , `date_created` = in_date_created
                        , `type` = in_type
                    WHERE 1=1
                    AND `profile_id` = in_profile_id
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `profile_game`
                    (
                        `status`
                        , `type_id`
                        , `profile_id`
                        , `profile_iteration`
                        , `game_profile`
                        , `active`
                        , `game_id`
                        , `uuid`
                        , `date_modified`
                        , `profile_version`
                        , `date_created`
                        , `type`
                    )
                    VALUES
                    (
                        in_status
                        , in_type_id
                        , in_profile_id
                        , in_profile_iteration
                        , in_game_profile
                        , in_active
                        , in_game_id
                        , in_uuid
                        , in_date_modified
                        , in_profile_version
                        , in_date_created
                        , in_type
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_game_set_profile_id_game_id`;
delimiter $$
CREATE PROCEDURE `usp_profile_game_set_profile_id_game_id`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_type_id BINARY(16) 
    , in_profile_id BINARY(16) 
    , in_profile_iteration VARCHAR (50) 
    , in_game_profile TEXT 
    , in_active int 
    , in_game_id BINARY(16) 
    , in_uuid BINARY(16) 
    , in_date_modified TIMESTAMP 
    , in_profile_version VARCHAR (50) 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (500) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `profile_game`  
                    WHERE 1=1
                    AND `profile_id` = in_profile_id
                    AND `game_id` = in_game_id
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `profile_game` 
                    SET
                        `status` = in_status
                        , `type_id` = in_type_id
                        , `profile_id` = in_profile_id
                        , `profile_iteration` = in_profile_iteration
                        , `game_profile` = in_game_profile
                        , `active` = in_active
                        , `game_id` = in_game_id
                        , `uuid` = in_uuid
                        , `date_modified` = in_date_modified
                        , `profile_version` = in_profile_version
                        , `date_created` = in_date_created
                        , `type` = in_type
                    WHERE 1=1
                    AND `profile_id` = in_profile_id
                    AND `game_id` = in_game_id
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `profile_game`
                    (
                        `status`
                        , `type_id`
                        , `profile_id`
                        , `profile_iteration`
                        , `game_profile`
                        , `active`
                        , `game_id`
                        , `uuid`
                        , `date_modified`
                        , `profile_version`
                        , `date_created`
                        , `type`
                    )
                    VALUES
                    (
                        in_status
                        , in_type_id
                        , in_profile_id
                        , in_profile_iteration
                        , in_game_profile
                        , in_active
                        , in_game_id
                        , in_uuid
                        , in_date_modified
                        , in_profile_version
                        , in_date_created
                        , in_type
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

-- ------------------------------------
-- DEL

-- ------------------------------------
-- MODEL: ProfileGame - profile_game

                       
DROP PROCEDURE IF EXISTS `usp_profile_game_del_uuid`;

delimiter $$
CREATE PROCEDURE `usp_profile_game_del_uuid`
(
    in_uuid BINARY(16) 
)

BEGIN
    DELETE 
    FROM `profile_game`
    WHERE 1=1                        
    AND "uuid" = in_uuid
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_profile_game_del_game_id`;

delimiter $$
CREATE PROCEDURE `usp_profile_game_del_game_id`
(
    in_game_id BINARY(16) 
)

BEGIN
    DELETE 
    FROM `profile_game`
    WHERE 1=1                        
    AND "game_id" = in_game_id
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_profile_game_del_profile_id`;

delimiter $$
CREATE PROCEDURE `usp_profile_game_del_profile_id`
(
    in_profile_id BINARY(16) 
)

BEGIN
    DELETE 
    FROM `profile_game`
    WHERE 1=1                        
    AND "profile_id" = in_profile_id
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_profile_game_del_profile_id_game_id`;

delimiter $$
CREATE PROCEDURE `usp_profile_game_del_profile_id_game_id`
(
    in_profile_id BINARY(16) 
    , in_game_id BINARY(16) 
)

BEGIN
    DELETE 
    FROM `profile_game`
    WHERE 1=1                        
    AND "profile_id" = in_profile_id
    AND "game_id" = in_game_id
    ;
END$$
delimiter ;
-- ------------------------------------
-- GET

-- ------------------------------------
-- MODEL: ProfileGame - profile_game

                       
DROP PROCEDURE IF EXISTS `usp_profile_game_get`;

delimiter $$
CREATE PROCEDURE `usp_profile_game_get`
(
)                        
BEGIN
    SELECT
        `status`
        , `type_id`
        , `profile_id`
        , `profile_iteration`
        , `game_profile`
        , `active`
        , `game_id`
        , `uuid`
        , `date_modified`
        , `profile_version`
        , `date_created`
        , `type`
    FROM `profile_game`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_game_get_uuid`;

delimiter $$
CREATE PROCEDURE `usp_profile_game_get_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `type_id`
        , `profile_id`
        , `profile_iteration`
        , `game_profile`
        , `active`
        , `game_id`
        , `uuid`
        , `date_modified`
        , `profile_version`
        , `date_created`
        , `type`
    FROM `profile_game`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_game_get_game_id`;

delimiter $$
CREATE PROCEDURE `usp_profile_game_get_game_id`
(
    in_game_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `type_id`
        , `profile_id`
        , `profile_iteration`
        , `game_profile`
        , `active`
        , `game_id`
        , `uuid`
        , `date_modified`
        , `profile_version`
        , `date_created`
        , `type`
    FROM `profile_game`
    WHERE 1=1
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_game_get_profile_id`;

delimiter $$
CREATE PROCEDURE `usp_profile_game_get_profile_id`
(
    in_profile_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `type_id`
        , `profile_id`
        , `profile_iteration`
        , `game_profile`
        , `active`
        , `game_id`
        , `uuid`
        , `date_modified`
        , `profile_version`
        , `date_created`
        , `type`
    FROM `profile_game`
    WHERE 1=1
    AND `profile_id` = in_profile_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_game_get_profile_id_game_id`;

delimiter $$
CREATE PROCEDURE `usp_profile_game_get_profile_id_game_id`
(
    in_profile_id BINARY(16) 
    , in_game_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `type_id`
        , `profile_id`
        , `profile_iteration`
        , `game_profile`
        , `active`
        , `game_id`
        , `uuid`
        , `date_modified`
        , `profile_version`
        , `date_created`
        , `type`
    FROM `profile_game`
    WHERE 1=1
    AND `profile_id` = in_profile_id
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

-- -----------------------------------------------------------------------------
-- PROCS

-- ------------------------------------
-- COUNT

-- ------------------------------------
-- MODEL: GameProfileAttribute - game_profile_attribute

                       
DROP PROCEDURE IF EXISTS `usp_game_profile_attribute_count`;
delimiter $$
CREATE PROCEDURE `usp_game_profile_attribute_count`
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_profile_attribute`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_profile_attribute_count_uuid`;
delimiter $$
CREATE PROCEDURE `usp_game_profile_attribute_count_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_profile_attribute`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_profile_attribute_count_code`;
delimiter $$
CREATE PROCEDURE `usp_game_profile_attribute_count_code`
(
    in_code VARCHAR (255) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_profile_attribute`
    WHERE 1=1
    AND lower(`code`) = lower(in_code)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_profile_attribute_count_type`;
delimiter $$
CREATE PROCEDURE `usp_game_profile_attribute_count_type`
(
    in_type INTEGER 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_profile_attribute`
    WHERE 1=1
    AND `type` = in_type
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_profile_attribute_count_group`;
delimiter $$
CREATE PROCEDURE `usp_game_profile_attribute_count_group`
(
    in_group INTEGER 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_profile_attribute`
    WHERE 1=1
    AND `group` = in_group
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_profile_attribute_count_code_type`;
delimiter $$
CREATE PROCEDURE `usp_game_profile_attribute_count_code_type`
(
    in_code VARCHAR (255) 
    , in_type INTEGER 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_profile_attribute`
    WHERE 1=1
    AND lower(`code`) = lower(in_code)
    AND `type` = in_type
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_profile_attribute_count_game_id`;
delimiter $$
CREATE PROCEDURE `usp_game_profile_attribute_count_game_id`
(
    in_game_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_profile_attribute`
    WHERE 1=1
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_profile_attribute_count_game_id_code`;
delimiter $$
CREATE PROCEDURE `usp_game_profile_attribute_count_game_id_code`
(
    in_game_id BINARY(16) 
    , in_code VARCHAR (255) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_profile_attribute`
    WHERE 1=1
    AND `game_id` = in_game_id
    AND lower(`code`) = lower(in_code)
    ;
END$$
delimiter ;

-- ------------------------------------
-- BROWSE

-- ------------------------------------
-- MODEL: GameProfileAttribute - game_profile_attribute

                       
DROP PROCEDURE IF EXISTS `usp_game_profile_attribute_browse_filter`;

delimiter $$
CREATE PROCEDURE `usp_game_profile_attribute_browse_filter`
(
    in_page int,
    in_page_size int,
    in_sort VARCHAR(500),
    in_filter VARCHAR(4000)
    
)
BEGIN
    DECLARE total_rows int;
    SET total_rows = 0;
        
    IF (in_page = 0) THEN
        SET in_page = 1;
    END IF;    
    
    IF (in_page_size = 0) THEN
       SET in_page_size = 10;
    END IF;
    
    IF (in_sort = NULL || in_sort = '') THEN
       SET in_sort = ' date_modified ASC ';
    END IF;
    
    SET @sfields = CONCAT('', '`status`');
    SET @sfields = CONCAT(@sfields, ', `sort`');
    SET @sfields = CONCAT(@sfields, ', `code`');
    SET @sfields = CONCAT(@sfields, ', `display_name`');
    SET @sfields = CONCAT(@sfields, ', `name`');
    SET @sfields = CONCAT(@sfields, ', `date_modified`');
    SET @sfields = CONCAT(@sfields, ', `uuid`');
    SET @sfields = CONCAT(@sfields, ', `group`');
    SET @sfields = CONCAT(@sfields, ', `game_id`');
    SET @sfields = CONCAT(@sfields, ', `active`');
    SET @sfields = CONCAT(@sfields, ', `date_created`');
    SET @sfields = CONCAT(@sfields, ', `type`');
    SET @sfields = CONCAT(@sfields, ', `order`');
    SET @sfields = CONCAT(@sfields, ', `description`');
    
    SET @stable = CONCAT('', ' FROM `game_profile_attribute` WHERE 1=1 ');
    
    SET @s = CONCAT(' ', @stable);
    SET @s = CONCAT(@s, ' ', in_filter);    
    
    SET @scount = CONCAT('SELECT COUNT(*) as `total_rows` ', @s, ' INTO @total_rows');
    
    PREPARE stmtcount FROM @scount;
    EXECUTE stmtcount;
    #SELECT @total_rows;
    SET total_rows = @total_rows;

    SET @sfields = CONCAT(total_rows, ' as `total_rows`, ', @sfields);
    SET @s = CONCAT('SELECT ', @sfields, @s);
    SET @s = CONCAT(@s, ' ORDER BY ', in_sort);
    SET @s = CONCAT(@s, ' LIMIT ', in_page);
    SET @s = CONCAT(@s, ',', in_page_size);    

    PREPARE stmt FROM @s;
    EXECUTE stmt;
    
END$$
delimiter ;
-- ------------------------------------
-- SET

-- ------------------------------------
-- MODEL: GameProfileAttribute - game_profile_attribute

                       
DROP PROCEDURE IF EXISTS `usp_game_profile_attribute_set_uuid`;
delimiter $$
CREATE PROCEDURE `usp_game_profile_attribute_set_uuid`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_sort INTEGER 
    , in_code VARCHAR (255) 
    , in_display_name VARCHAR (255) 
    , in_name VARCHAR (255) 
    , in_date_modified TIMESTAMP 
    , in_uuid BINARY(16) 
    , in_group INTEGER 
    , in_game_id BINARY(16) 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_type INTEGER 
    , in_order INTEGER 
    , in_description VARCHAR (255) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_profile_attribute`  
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_profile_attribute` 
                    SET
                        `status` = in_status
                        , `sort` = in_sort
                        , `code` = in_code
                        , `display_name` = in_display_name
                        , `name` = in_name
                        , `date_modified` = in_date_modified
                        , `uuid` = in_uuid
                        , `group` = in_group
                        , `game_id` = in_game_id
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `type` = in_type
                        , `order` = in_order
                        , `description` = in_description
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_profile_attribute`
                    (
                        `status`
                        , `sort`
                        , `code`
                        , `display_name`
                        , `name`
                        , `date_modified`
                        , `uuid`
                        , `group`
                        , `game_id`
                        , `active`
                        , `date_created`
                        , `type`
                        , `order`
                        , `description`
                    )
                    VALUES
                    (
                        in_status
                        , in_sort
                        , in_code
                        , in_display_name
                        , in_name
                        , in_date_modified
                        , in_uuid
                        , in_group
                        , in_game_id
                        , in_active
                        , in_date_created
                        , in_type
                        , in_order
                        , in_description
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_profile_attribute_set_code`;
delimiter $$
CREATE PROCEDURE `usp_game_profile_attribute_set_code`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_sort INTEGER 
    , in_code VARCHAR (255) 
    , in_display_name VARCHAR (255) 
    , in_name VARCHAR (255) 
    , in_date_modified TIMESTAMP 
    , in_uuid BINARY(16) 
    , in_group INTEGER 
    , in_game_id BINARY(16) 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_type INTEGER 
    , in_order INTEGER 
    , in_description VARCHAR (255) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_profile_attribute`  
                    WHERE 1=1
                    AND lower(`code`) = lower(in_code)
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_profile_attribute` 
                    SET
                        `status` = in_status
                        , `sort` = in_sort
                        , `code` = in_code
                        , `display_name` = in_display_name
                        , `name` = in_name
                        , `date_modified` = in_date_modified
                        , `uuid` = in_uuid
                        , `group` = in_group
                        , `game_id` = in_game_id
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `type` = in_type
                        , `order` = in_order
                        , `description` = in_description
                    WHERE 1=1
                    AND lower(`code`) = lower(in_code)
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_profile_attribute`
                    (
                        `status`
                        , `sort`
                        , `code`
                        , `display_name`
                        , `name`
                        , `date_modified`
                        , `uuid`
                        , `group`
                        , `game_id`
                        , `active`
                        , `date_created`
                        , `type`
                        , `order`
                        , `description`
                    )
                    VALUES
                    (
                        in_status
                        , in_sort
                        , in_code
                        , in_display_name
                        , in_name
                        , in_date_modified
                        , in_uuid
                        , in_group
                        , in_game_id
                        , in_active
                        , in_date_created
                        , in_type
                        , in_order
                        , in_description
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_profile_attribute_set_game_id`;
delimiter $$
CREATE PROCEDURE `usp_game_profile_attribute_set_game_id`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_sort INTEGER 
    , in_code VARCHAR (255) 
    , in_display_name VARCHAR (255) 
    , in_name VARCHAR (255) 
    , in_date_modified TIMESTAMP 
    , in_uuid BINARY(16) 
    , in_group INTEGER 
    , in_game_id BINARY(16) 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_type INTEGER 
    , in_order INTEGER 
    , in_description VARCHAR (255) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_profile_attribute`  
                    WHERE 1=1
                    AND `game_id` = in_game_id
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_profile_attribute` 
                    SET
                        `status` = in_status
                        , `sort` = in_sort
                        , `code` = in_code
                        , `display_name` = in_display_name
                        , `name` = in_name
                        , `date_modified` = in_date_modified
                        , `uuid` = in_uuid
                        , `group` = in_group
                        , `game_id` = in_game_id
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `type` = in_type
                        , `order` = in_order
                        , `description` = in_description
                    WHERE 1=1
                    AND `game_id` = in_game_id
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_profile_attribute`
                    (
                        `status`
                        , `sort`
                        , `code`
                        , `display_name`
                        , `name`
                        , `date_modified`
                        , `uuid`
                        , `group`
                        , `game_id`
                        , `active`
                        , `date_created`
                        , `type`
                        , `order`
                        , `description`
                    )
                    VALUES
                    (
                        in_status
                        , in_sort
                        , in_code
                        , in_display_name
                        , in_name
                        , in_date_modified
                        , in_uuid
                        , in_group
                        , in_game_id
                        , in_active
                        , in_date_created
                        , in_type
                        , in_order
                        , in_description
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_profile_attribute_set_game_id_code`;
delimiter $$
CREATE PROCEDURE `usp_game_profile_attribute_set_game_id_code`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_sort INTEGER 
    , in_code VARCHAR (255) 
    , in_display_name VARCHAR (255) 
    , in_name VARCHAR (255) 
    , in_date_modified TIMESTAMP 
    , in_uuid BINARY(16) 
    , in_group INTEGER 
    , in_game_id BINARY(16) 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_type INTEGER 
    , in_order INTEGER 
    , in_description VARCHAR (255) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_profile_attribute`  
                    WHERE 1=1
                    AND `game_id` = in_game_id
                    AND lower(`code`) = lower(in_code)
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_profile_attribute` 
                    SET
                        `status` = in_status
                        , `sort` = in_sort
                        , `code` = in_code
                        , `display_name` = in_display_name
                        , `name` = in_name
                        , `date_modified` = in_date_modified
                        , `uuid` = in_uuid
                        , `group` = in_group
                        , `game_id` = in_game_id
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `type` = in_type
                        , `order` = in_order
                        , `description` = in_description
                    WHERE 1=1
                    AND `game_id` = in_game_id
                    AND lower(`code`) = lower(in_code)
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_profile_attribute`
                    (
                        `status`
                        , `sort`
                        , `code`
                        , `display_name`
                        , `name`
                        , `date_modified`
                        , `uuid`
                        , `group`
                        , `game_id`
                        , `active`
                        , `date_created`
                        , `type`
                        , `order`
                        , `description`
                    )
                    VALUES
                    (
                        in_status
                        , in_sort
                        , in_code
                        , in_display_name
                        , in_name
                        , in_date_modified
                        , in_uuid
                        , in_group
                        , in_game_id
                        , in_active
                        , in_date_created
                        , in_type
                        , in_order
                        , in_description
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

-- ------------------------------------
-- DEL

-- ------------------------------------
-- MODEL: GameProfileAttribute - game_profile_attribute

                       
DROP PROCEDURE IF EXISTS `usp_game_profile_attribute_del_uuid`;

delimiter $$
CREATE PROCEDURE `usp_game_profile_attribute_del_uuid`
(
    in_uuid BINARY(16) 
)

BEGIN
    DELETE 
    FROM `game_profile_attribute`
    WHERE 1=1                        
    AND "uuid" = in_uuid
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_game_profile_attribute_del_code`;

delimiter $$
CREATE PROCEDURE `usp_game_profile_attribute_del_code`
(
    in_code VARCHAR (255) 
)

BEGIN
    DELETE 
    FROM `game_profile_attribute`
    WHERE 1=1                        
    AND lower("code") = lower(in_code)
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_game_profile_attribute_del_code_type`;

delimiter $$
CREATE PROCEDURE `usp_game_profile_attribute_del_code_type`
(
    in_code VARCHAR (255) 
    , in_type INTEGER 
)

BEGIN
    DELETE 
    FROM `game_profile_attribute`
    WHERE 1=1                        
    AND lower("code") = lower(in_code)
    AND "type" = in_type
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_game_profile_attribute_del_game_id`;

delimiter $$
CREATE PROCEDURE `usp_game_profile_attribute_del_game_id`
(
    in_game_id BINARY(16) 
)

BEGIN
    DELETE 
    FROM `game_profile_attribute`
    WHERE 1=1                        
    AND "game_id" = in_game_id
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_game_profile_attribute_del_game_id_code`;

delimiter $$
CREATE PROCEDURE `usp_game_profile_attribute_del_game_id_code`
(
    in_game_id BINARY(16) 
    , in_code VARCHAR (255) 
)

BEGIN
    DELETE 
    FROM `game_profile_attribute`
    WHERE 1=1                        
    AND "game_id" = in_game_id
    AND lower("code") = lower(in_code)
    ;
END$$
delimiter ;
-- ------------------------------------
-- GET

-- ------------------------------------
-- MODEL: GameProfileAttribute - game_profile_attribute

                       
DROP PROCEDURE IF EXISTS `usp_game_profile_attribute_get`;

delimiter $$
CREATE PROCEDURE `usp_game_profile_attribute_get`
(
)                        
BEGIN
    SELECT
        `status`
        , `sort`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `uuid`
        , `group`
        , `game_id`
        , `active`
        , `date_created`
        , `type`
        , `order`
        , `description`
    FROM `game_profile_attribute`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_profile_attribute_get_uuid`;

delimiter $$
CREATE PROCEDURE `usp_game_profile_attribute_get_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `sort`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `uuid`
        , `group`
        , `game_id`
        , `active`
        , `date_created`
        , `type`
        , `order`
        , `description`
    FROM `game_profile_attribute`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_profile_attribute_get_code`;

delimiter $$
CREATE PROCEDURE `usp_game_profile_attribute_get_code`
(
    in_code VARCHAR (255) 
)
BEGIN
    SELECT
        `status`
        , `sort`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `uuid`
        , `group`
        , `game_id`
        , `active`
        , `date_created`
        , `type`
        , `order`
        , `description`
    FROM `game_profile_attribute`
    WHERE 1=1
    AND lower(`code`) = lower(in_code)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_profile_attribute_get_type`;

delimiter $$
CREATE PROCEDURE `usp_game_profile_attribute_get_type`
(
    in_type INTEGER 
)
BEGIN
    SELECT
        `status`
        , `sort`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `uuid`
        , `group`
        , `game_id`
        , `active`
        , `date_created`
        , `type`
        , `order`
        , `description`
    FROM `game_profile_attribute`
    WHERE 1=1
    AND `type` = in_type
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_profile_attribute_get_group`;

delimiter $$
CREATE PROCEDURE `usp_game_profile_attribute_get_group`
(
    in_group INTEGER 
)
BEGIN
    SELECT
        `status`
        , `sort`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `uuid`
        , `group`
        , `game_id`
        , `active`
        , `date_created`
        , `type`
        , `order`
        , `description`
    FROM `game_profile_attribute`
    WHERE 1=1
    AND `group` = in_group
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_profile_attribute_get_code_type`;

delimiter $$
CREATE PROCEDURE `usp_game_profile_attribute_get_code_type`
(
    in_code VARCHAR (255) 
    , in_type INTEGER 
)
BEGIN
    SELECT
        `status`
        , `sort`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `uuid`
        , `group`
        , `game_id`
        , `active`
        , `date_created`
        , `type`
        , `order`
        , `description`
    FROM `game_profile_attribute`
    WHERE 1=1
    AND lower(`code`) = lower(in_code)
    AND `type` = in_type
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_profile_attribute_get_game_id_code`;

delimiter $$
CREATE PROCEDURE `usp_game_profile_attribute_get_game_id_code`
(
    in_game_id BINARY(16) 
    , in_code VARCHAR (255) 
)
BEGIN
    SELECT
        `status`
        , `sort`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `uuid`
        , `group`
        , `game_id`
        , `active`
        , `date_created`
        , `type`
        , `order`
        , `description`
    FROM `game_profile_attribute`
    WHERE 1=1
    AND `game_id` = in_game_id
    AND lower(`code`) = lower(in_code)
    ;
END$$
delimiter ;

-- -----------------------------------------------------------------------------
-- PROCS

-- ------------------------------------
-- COUNT

-- ------------------------------------
-- MODEL: GameProfileAttributeText - game_profile_attribute_text

                       
DROP PROCEDURE IF EXISTS `usp_game_profile_attribute_text_count`;
delimiter $$
CREATE PROCEDURE `usp_game_profile_attribute_text_count`
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_profile_attribute_text`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_profile_attribute_text_count_uuid`;
delimiter $$
CREATE PROCEDURE `usp_game_profile_attribute_text_count_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_profile_attribute_text`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_profile_attribute_text_count_profile_id`;
delimiter $$
CREATE PROCEDURE `usp_game_profile_attribute_text_count_profile_id`
(
    in_profile_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_profile_attribute_text`
    WHERE 1=1
    AND `profile_id` = in_profile_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_profile_attribute_text_count_profile_id_attribute_id`;
delimiter $$
CREATE PROCEDURE `usp_game_profile_attribute_text_count_profile_id_attribute_id`
(
    in_profile_id BINARY(16) 
    , in_attribute_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_profile_attribute_text`
    WHERE 1=1
    AND `profile_id` = in_profile_id
    AND `attribute_id` = in_attribute_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_profile_attribute_text_count_game_id_profile_id`;
delimiter $$
CREATE PROCEDURE `usp_game_profile_attribute_text_count_game_id_profile_id`
(
    in_game_id BINARY(16) 
    , in_profile_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_profile_attribute_text`
    WHERE 1=1
    AND `game_id` = in_game_id
    AND `profile_id` = in_profile_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_profile_attribute_text_count_game_id_profile_id_attrib`;
delimiter $$
CREATE PROCEDURE `usp_game_profile_attribute_text_count_game_id_profile_id_attrib`
(
    in_game_id BINARY(16) 
    , in_profile_id BINARY(16) 
    , in_attribute_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_profile_attribute_text`
    WHERE 1=1
    AND `game_id` = in_game_id
    AND `profile_id` = in_profile_id
    AND `attribute_id` = in_attribute_id
    ;
END$$
delimiter ;

-- ------------------------------------
-- BROWSE

-- ------------------------------------
-- MODEL: GameProfileAttributeText - game_profile_attribute_text

                       
DROP PROCEDURE IF EXISTS `usp_game_profile_attribute_text_browse_filter`;

delimiter $$
CREATE PROCEDURE `usp_game_profile_attribute_text_browse_filter`
(
    in_page int,
    in_page_size int,
    in_sort VARCHAR(500),
    in_filter VARCHAR(4000)
    
)
BEGIN
    DECLARE total_rows int;
    SET total_rows = 0;
        
    IF (in_page = 0) THEN
        SET in_page = 1;
    END IF;    
    
    IF (in_page_size = 0) THEN
       SET in_page_size = 10;
    END IF;
    
    IF (in_sort = NULL || in_sort = '') THEN
       SET in_sort = ' date_modified ASC ';
    END IF;
    
    SET @sfields = CONCAT('', '`status`');
    SET @sfields = CONCAT(@sfields, ', `sort`');
    SET @sfields = CONCAT(@sfields, ', `profile_id`');
    SET @sfields = CONCAT(@sfields, ', `game_id`');
    SET @sfields = CONCAT(@sfields, ', `active`');
    SET @sfields = CONCAT(@sfields, ', `attribute_value`');
    SET @sfields = CONCAT(@sfields, ', `group`');
    SET @sfields = CONCAT(@sfields, ', `uuid`');
    SET @sfields = CONCAT(@sfields, ', `date_modified`');
    SET @sfields = CONCAT(@sfields, ', `attribute_id`');
    SET @sfields = CONCAT(@sfields, ', `date_created`');
    SET @sfields = CONCAT(@sfields, ', `type`');
    SET @sfields = CONCAT(@sfields, ', `order`');
    
    SET @stable = CONCAT('', ' FROM `game_profile_attribute_text` WHERE 1=1 ');
    
    SET @s = CONCAT(' ', @stable);
    SET @s = CONCAT(@s, ' ', in_filter);    
    
    SET @scount = CONCAT('SELECT COUNT(*) as `total_rows` ', @s, ' INTO @total_rows');
    
    PREPARE stmtcount FROM @scount;
    EXECUTE stmtcount;
    #SELECT @total_rows;
    SET total_rows = @total_rows;

    SET @sfields = CONCAT(total_rows, ' as `total_rows`, ', @sfields);
    SET @s = CONCAT('SELECT ', @sfields, @s);
    SET @s = CONCAT(@s, ' ORDER BY ', in_sort);
    SET @s = CONCAT(@s, ' LIMIT ', in_page);
    SET @s = CONCAT(@s, ',', in_page_size);    

    PREPARE stmt FROM @s;
    EXECUTE stmt;
    
END$$
delimiter ;
-- ------------------------------------
-- SET

-- ------------------------------------
-- MODEL: GameProfileAttributeText - game_profile_attribute_text

                       
DROP PROCEDURE IF EXISTS `usp_game_profile_attribute_text_set_uuid`;
delimiter $$
CREATE PROCEDURE `usp_game_profile_attribute_text_set_uuid`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_sort INTEGER 
    , in_profile_id BINARY(16) 
    , in_game_id BINARY(16) 
    , in_active int 
    , in_attribute_value VARCHAR (1000) 
    , in_group INTEGER 
    , in_uuid BINARY(16) 
    , in_date_modified TIMESTAMP 
    , in_attribute_id BINARY(16) 
    , in_date_created TIMESTAMP 
    , in_type INTEGER 
    , in_order INTEGER 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_profile_attribute_text`  
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_profile_attribute_text` 
                    SET
                        `status` = in_status
                        , `sort` = in_sort
                        , `profile_id` = in_profile_id
                        , `game_id` = in_game_id
                        , `active` = in_active
                        , `attribute_value` = in_attribute_value
                        , `group` = in_group
                        , `uuid` = in_uuid
                        , `date_modified` = in_date_modified
                        , `attribute_id` = in_attribute_id
                        , `date_created` = in_date_created
                        , `type` = in_type
                        , `order` = in_order
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_profile_attribute_text`
                    (
                        `status`
                        , `sort`
                        , `profile_id`
                        , `game_id`
                        , `active`
                        , `attribute_value`
                        , `group`
                        , `uuid`
                        , `date_modified`
                        , `attribute_id`
                        , `date_created`
                        , `type`
                        , `order`
                    )
                    VALUES
                    (
                        in_status
                        , in_sort
                        , in_profile_id
                        , in_game_id
                        , in_active
                        , in_attribute_value
                        , in_group
                        , in_uuid
                        , in_date_modified
                        , in_attribute_id
                        , in_date_created
                        , in_type
                        , in_order
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_profile_attribute_text_set_profile_id`;
delimiter $$
CREATE PROCEDURE `usp_game_profile_attribute_text_set_profile_id`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_sort INTEGER 
    , in_profile_id BINARY(16) 
    , in_game_id BINARY(16) 
    , in_active int 
    , in_attribute_value VARCHAR (1000) 
    , in_group INTEGER 
    , in_uuid BINARY(16) 
    , in_date_modified TIMESTAMP 
    , in_attribute_id BINARY(16) 
    , in_date_created TIMESTAMP 
    , in_type INTEGER 
    , in_order INTEGER 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_profile_attribute_text`  
                    WHERE 1=1
                    AND `profile_id` = in_profile_id
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_profile_attribute_text` 
                    SET
                        `status` = in_status
                        , `sort` = in_sort
                        , `profile_id` = in_profile_id
                        , `game_id` = in_game_id
                        , `active` = in_active
                        , `attribute_value` = in_attribute_value
                        , `group` = in_group
                        , `uuid` = in_uuid
                        , `date_modified` = in_date_modified
                        , `attribute_id` = in_attribute_id
                        , `date_created` = in_date_created
                        , `type` = in_type
                        , `order` = in_order
                    WHERE 1=1
                    AND `profile_id` = in_profile_id
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_profile_attribute_text`
                    (
                        `status`
                        , `sort`
                        , `profile_id`
                        , `game_id`
                        , `active`
                        , `attribute_value`
                        , `group`
                        , `uuid`
                        , `date_modified`
                        , `attribute_id`
                        , `date_created`
                        , `type`
                        , `order`
                    )
                    VALUES
                    (
                        in_status
                        , in_sort
                        , in_profile_id
                        , in_game_id
                        , in_active
                        , in_attribute_value
                        , in_group
                        , in_uuid
                        , in_date_modified
                        , in_attribute_id
                        , in_date_created
                        , in_type
                        , in_order
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_profile_attribute_text_set_profile_id_attribute_id`;
delimiter $$
CREATE PROCEDURE `usp_game_profile_attribute_text_set_profile_id_attribute_id`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_sort INTEGER 
    , in_profile_id BINARY(16) 
    , in_game_id BINARY(16) 
    , in_active int 
    , in_attribute_value VARCHAR (1000) 
    , in_group INTEGER 
    , in_uuid BINARY(16) 
    , in_date_modified TIMESTAMP 
    , in_attribute_id BINARY(16) 
    , in_date_created TIMESTAMP 
    , in_type INTEGER 
    , in_order INTEGER 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_profile_attribute_text`  
                    WHERE 1=1
                    AND `profile_id` = in_profile_id
                    AND `attribute_id` = in_attribute_id
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_profile_attribute_text` 
                    SET
                        `status` = in_status
                        , `sort` = in_sort
                        , `profile_id` = in_profile_id
                        , `game_id` = in_game_id
                        , `active` = in_active
                        , `attribute_value` = in_attribute_value
                        , `group` = in_group
                        , `uuid` = in_uuid
                        , `date_modified` = in_date_modified
                        , `attribute_id` = in_attribute_id
                        , `date_created` = in_date_created
                        , `type` = in_type
                        , `order` = in_order
                    WHERE 1=1
                    AND `profile_id` = in_profile_id
                    AND `attribute_id` = in_attribute_id
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_profile_attribute_text`
                    (
                        `status`
                        , `sort`
                        , `profile_id`
                        , `game_id`
                        , `active`
                        , `attribute_value`
                        , `group`
                        , `uuid`
                        , `date_modified`
                        , `attribute_id`
                        , `date_created`
                        , `type`
                        , `order`
                    )
                    VALUES
                    (
                        in_status
                        , in_sort
                        , in_profile_id
                        , in_game_id
                        , in_active
                        , in_attribute_value
                        , in_group
                        , in_uuid
                        , in_date_modified
                        , in_attribute_id
                        , in_date_created
                        , in_type
                        , in_order
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_profile_attribute_text_set_game_id_profile_id`;
delimiter $$
CREATE PROCEDURE `usp_game_profile_attribute_text_set_game_id_profile_id`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_sort INTEGER 
    , in_profile_id BINARY(16) 
    , in_game_id BINARY(16) 
    , in_active int 
    , in_attribute_value VARCHAR (1000) 
    , in_group INTEGER 
    , in_uuid BINARY(16) 
    , in_date_modified TIMESTAMP 
    , in_attribute_id BINARY(16) 
    , in_date_created TIMESTAMP 
    , in_type INTEGER 
    , in_order INTEGER 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_profile_attribute_text`  
                    WHERE 1=1
                    AND `game_id` = in_game_id
                    AND `profile_id` = in_profile_id
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_profile_attribute_text` 
                    SET
                        `status` = in_status
                        , `sort` = in_sort
                        , `profile_id` = in_profile_id
                        , `game_id` = in_game_id
                        , `active` = in_active
                        , `attribute_value` = in_attribute_value
                        , `group` = in_group
                        , `uuid` = in_uuid
                        , `date_modified` = in_date_modified
                        , `attribute_id` = in_attribute_id
                        , `date_created` = in_date_created
                        , `type` = in_type
                        , `order` = in_order
                    WHERE 1=1
                    AND `game_id` = in_game_id
                    AND `profile_id` = in_profile_id
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_profile_attribute_text`
                    (
                        `status`
                        , `sort`
                        , `profile_id`
                        , `game_id`
                        , `active`
                        , `attribute_value`
                        , `group`
                        , `uuid`
                        , `date_modified`
                        , `attribute_id`
                        , `date_created`
                        , `type`
                        , `order`
                    )
                    VALUES
                    (
                        in_status
                        , in_sort
                        , in_profile_id
                        , in_game_id
                        , in_active
                        , in_attribute_value
                        , in_group
                        , in_uuid
                        , in_date_modified
                        , in_attribute_id
                        , in_date_created
                        , in_type
                        , in_order
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_profile_attribute_text_set_game_id_profile_id_attribut`;
delimiter $$
CREATE PROCEDURE `usp_game_profile_attribute_text_set_game_id_profile_id_attribut`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_sort INTEGER 
    , in_profile_id BINARY(16) 
    , in_game_id BINARY(16) 
    , in_active int 
    , in_attribute_value VARCHAR (1000) 
    , in_group INTEGER 
    , in_uuid BINARY(16) 
    , in_date_modified TIMESTAMP 
    , in_attribute_id BINARY(16) 
    , in_date_created TIMESTAMP 
    , in_type INTEGER 
    , in_order INTEGER 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_profile_attribute_text`  
                    WHERE 1=1
                    AND `game_id` = in_game_id
                    AND `profile_id` = in_profile_id
                    AND `attribute_id` = in_attribute_id
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_profile_attribute_text` 
                    SET
                        `status` = in_status
                        , `sort` = in_sort
                        , `profile_id` = in_profile_id
                        , `game_id` = in_game_id
                        , `active` = in_active
                        , `attribute_value` = in_attribute_value
                        , `group` = in_group
                        , `uuid` = in_uuid
                        , `date_modified` = in_date_modified
                        , `attribute_id` = in_attribute_id
                        , `date_created` = in_date_created
                        , `type` = in_type
                        , `order` = in_order
                    WHERE 1=1
                    AND `game_id` = in_game_id
                    AND `profile_id` = in_profile_id
                    AND `attribute_id` = in_attribute_id
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_profile_attribute_text`
                    (
                        `status`
                        , `sort`
                        , `profile_id`
                        , `game_id`
                        , `active`
                        , `attribute_value`
                        , `group`
                        , `uuid`
                        , `date_modified`
                        , `attribute_id`
                        , `date_created`
                        , `type`
                        , `order`
                    )
                    VALUES
                    (
                        in_status
                        , in_sort
                        , in_profile_id
                        , in_game_id
                        , in_active
                        , in_attribute_value
                        , in_group
                        , in_uuid
                        , in_date_modified
                        , in_attribute_id
                        , in_date_created
                        , in_type
                        , in_order
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

-- ------------------------------------
-- DEL

-- ------------------------------------
-- MODEL: GameProfileAttributeText - game_profile_attribute_text

                       
DROP PROCEDURE IF EXISTS `usp_game_profile_attribute_text_del_uuid`;

delimiter $$
CREATE PROCEDURE `usp_game_profile_attribute_text_del_uuid`
(
    in_uuid BINARY(16) 
)

BEGIN
    DELETE 
    FROM `game_profile_attribute_text`
    WHERE 1=1                        
    AND "uuid" = in_uuid
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_game_profile_attribute_text_del_profile_id`;

delimiter $$
CREATE PROCEDURE `usp_game_profile_attribute_text_del_profile_id`
(
    in_profile_id BINARY(16) 
)

BEGIN
    DELETE 
    FROM `game_profile_attribute_text`
    WHERE 1=1                        
    AND "profile_id" = in_profile_id
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_game_profile_attribute_text_del_profile_id_attribute_id`;

delimiter $$
CREATE PROCEDURE `usp_game_profile_attribute_text_del_profile_id_attribute_id`
(
    in_profile_id BINARY(16) 
    , in_attribute_id BINARY(16) 
)

BEGIN
    DELETE 
    FROM `game_profile_attribute_text`
    WHERE 1=1                        
    AND "profile_id" = in_profile_id
    AND "attribute_id" = in_attribute_id
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_game_profile_attribute_text_del_game_id_profile_id`;

delimiter $$
CREATE PROCEDURE `usp_game_profile_attribute_text_del_game_id_profile_id`
(
    in_game_id BINARY(16) 
    , in_profile_id BINARY(16) 
)

BEGIN
    DELETE 
    FROM `game_profile_attribute_text`
    WHERE 1=1                        
    AND "game_id" = in_game_id
    AND "profile_id" = in_profile_id
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_game_profile_attribute_text_del_game_id_profile_id_attribut`;

delimiter $$
CREATE PROCEDURE `usp_game_profile_attribute_text_del_game_id_profile_id_attribut`
(
    in_game_id BINARY(16) 
    , in_profile_id BINARY(16) 
    , in_attribute_id BINARY(16) 
)

BEGIN
    DELETE 
    FROM `game_profile_attribute_text`
    WHERE 1=1                        
    AND "game_id" = in_game_id
    AND "profile_id" = in_profile_id
    AND "attribute_id" = in_attribute_id
    ;
END$$
delimiter ;
-- ------------------------------------
-- GET

-- ------------------------------------
-- MODEL: GameProfileAttributeText - game_profile_attribute_text

                       
DROP PROCEDURE IF EXISTS `usp_game_profile_attribute_text_get_uuid`;

delimiter $$
CREATE PROCEDURE `usp_game_profile_attribute_text_get_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `sort`
        , `profile_id`
        , `game_id`
        , `active`
        , `attribute_value`
        , `group`
        , `uuid`
        , `date_modified`
        , `attribute_id`
        , `date_created`
        , `type`
        , `order`
    FROM `game_profile_attribute_text`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_profile_attribute_text_get_profile_id`;

delimiter $$
CREATE PROCEDURE `usp_game_profile_attribute_text_get_profile_id`
(
    in_profile_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `sort`
        , `profile_id`
        , `game_id`
        , `active`
        , `attribute_value`
        , `group`
        , `uuid`
        , `date_modified`
        , `attribute_id`
        , `date_created`
        , `type`
        , `order`
    FROM `game_profile_attribute_text`
    WHERE 1=1
    AND `profile_id` = in_profile_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_profile_attribute_text_get_profile_id_attribute_id`;

delimiter $$
CREATE PROCEDURE `usp_game_profile_attribute_text_get_profile_id_attribute_id`
(
    in_profile_id BINARY(16) 
    , in_attribute_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `sort`
        , `profile_id`
        , `game_id`
        , `active`
        , `attribute_value`
        , `group`
        , `uuid`
        , `date_modified`
        , `attribute_id`
        , `date_created`
        , `type`
        , `order`
    FROM `game_profile_attribute_text`
    WHERE 1=1
    AND `profile_id` = in_profile_id
    AND `attribute_id` = in_attribute_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_profile_attribute_text_get_game_id_profile_id`;

delimiter $$
CREATE PROCEDURE `usp_game_profile_attribute_text_get_game_id_profile_id`
(
    in_game_id BINARY(16) 
    , in_profile_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `sort`
        , `profile_id`
        , `game_id`
        , `active`
        , `attribute_value`
        , `group`
        , `uuid`
        , `date_modified`
        , `attribute_id`
        , `date_created`
        , `type`
        , `order`
    FROM `game_profile_attribute_text`
    WHERE 1=1
    AND `game_id` = in_game_id
    AND `profile_id` = in_profile_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_profile_attribute_text_get_game_id_profile_id_attribut`;

delimiter $$
CREATE PROCEDURE `usp_game_profile_attribute_text_get_game_id_profile_id_attribut`
(
    in_game_id BINARY(16) 
    , in_profile_id BINARY(16) 
    , in_attribute_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `sort`
        , `profile_id`
        , `game_id`
        , `active`
        , `attribute_value`
        , `group`
        , `uuid`
        , `date_modified`
        , `attribute_id`
        , `date_created`
        , `type`
        , `order`
    FROM `game_profile_attribute_text`
    WHERE 1=1
    AND `game_id` = in_game_id
    AND `profile_id` = in_profile_id
    AND `attribute_id` = in_attribute_id
    ;
END$$
delimiter ;

-- -----------------------------------------------------------------------------
-- PROCS

-- ------------------------------------
-- COUNT

-- ------------------------------------
-- MODEL: GameProfileAttributeData - game_profile_attribute_data

                       
DROP PROCEDURE IF EXISTS `usp_game_profile_attribute_data_count`;
delimiter $$
CREATE PROCEDURE `usp_game_profile_attribute_data_count`
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_profile_attribute_data`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_profile_attribute_data_count_uuid`;
delimiter $$
CREATE PROCEDURE `usp_game_profile_attribute_data_count_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_profile_attribute_data`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_profile_attribute_data_count_profile_id`;
delimiter $$
CREATE PROCEDURE `usp_game_profile_attribute_data_count_profile_id`
(
    in_profile_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_profile_attribute_data`
    WHERE 1=1
    AND `profile_id` = in_profile_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_profile_attribute_data_count_profile_id_attribute_id`;
delimiter $$
CREATE PROCEDURE `usp_game_profile_attribute_data_count_profile_id_attribute_id`
(
    in_profile_id BINARY(16) 
    , in_attribute_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_profile_attribute_data`
    WHERE 1=1
    AND `profile_id` = in_profile_id
    AND `attribute_id` = in_attribute_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_profile_attribute_data_count_game_id_profile_id`;
delimiter $$
CREATE PROCEDURE `usp_game_profile_attribute_data_count_game_id_profile_id`
(
    in_game_id BINARY(16) 
    , in_profile_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_profile_attribute_data`
    WHERE 1=1
    AND `game_id` = in_game_id
    AND `profile_id` = in_profile_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_profile_attribute_data_count_game_id_profile_id_attrib`;
delimiter $$
CREATE PROCEDURE `usp_game_profile_attribute_data_count_game_id_profile_id_attrib`
(
    in_game_id BINARY(16) 
    , in_profile_id BINARY(16) 
    , in_attribute_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_profile_attribute_data`
    WHERE 1=1
    AND `game_id` = in_game_id
    AND `profile_id` = in_profile_id
    AND `attribute_id` = in_attribute_id
    ;
END$$
delimiter ;

-- ------------------------------------
-- BROWSE

-- ------------------------------------
-- MODEL: GameProfileAttributeData - game_profile_attribute_data

                       
DROP PROCEDURE IF EXISTS `usp_game_profile_attribute_data_browse_filter`;

delimiter $$
CREATE PROCEDURE `usp_game_profile_attribute_data_browse_filter`
(
    in_page int,
    in_page_size int,
    in_sort VARCHAR(500),
    in_filter VARCHAR(4000)
    
)
BEGIN
    DECLARE total_rows int;
    SET total_rows = 0;
        
    IF (in_page = 0) THEN
        SET in_page = 1;
    END IF;    
    
    IF (in_page_size = 0) THEN
       SET in_page_size = 10;
    END IF;
    
    IF (in_sort = NULL || in_sort = '') THEN
       SET in_sort = ' date_modified ASC ';
    END IF;
    
    SET @sfields = CONCAT('', '`status`');
    SET @sfields = CONCAT(@sfields, ', `sort`');
    SET @sfields = CONCAT(@sfields, ', `profile_id`');
    SET @sfields = CONCAT(@sfields, ', `game_id`');
    SET @sfields = CONCAT(@sfields, ', `active`');
    SET @sfields = CONCAT(@sfields, ', `attribute_value`');
    SET @sfields = CONCAT(@sfields, ', `group`');
    SET @sfields = CONCAT(@sfields, ', `uuid`');
    SET @sfields = CONCAT(@sfields, ', `date_modified`');
    SET @sfields = CONCAT(@sfields, ', `attribute_id`');
    SET @sfields = CONCAT(@sfields, ', `date_created`');
    SET @sfields = CONCAT(@sfields, ', `type`');
    SET @sfields = CONCAT(@sfields, ', `order`');
    
    SET @stable = CONCAT('', ' FROM `game_profile_attribute_data` WHERE 1=1 ');
    
    SET @s = CONCAT(' ', @stable);
    SET @s = CONCAT(@s, ' ', in_filter);    
    
    SET @scount = CONCAT('SELECT COUNT(*) as `total_rows` ', @s, ' INTO @total_rows');
    
    PREPARE stmtcount FROM @scount;
    EXECUTE stmtcount;
    #SELECT @total_rows;
    SET total_rows = @total_rows;

    SET @sfields = CONCAT(total_rows, ' as `total_rows`, ', @sfields);
    SET @s = CONCAT('SELECT ', @sfields, @s);
    SET @s = CONCAT(@s, ' ORDER BY ', in_sort);
    SET @s = CONCAT(@s, ' LIMIT ', in_page);
    SET @s = CONCAT(@s, ',', in_page_size);    

    PREPARE stmt FROM @s;
    EXECUTE stmt;
    
END$$
delimiter ;
-- ------------------------------------
-- SET

-- ------------------------------------
-- MODEL: GameProfileAttributeData - game_profile_attribute_data

                       
DROP PROCEDURE IF EXISTS `usp_game_profile_attribute_data_set_uuid`;
delimiter $$
CREATE PROCEDURE `usp_game_profile_attribute_data_set_uuid`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_sort INTEGER 
    , in_profile_id BINARY(16) 
    , in_game_id BINARY(16) 
    , in_active int 
    , in_attribute_value TEXT 
    , in_group INTEGER 
    , in_uuid BINARY(16) 
    , in_date_modified TIMESTAMP 
    , in_attribute_id BINARY(16) 
    , in_date_created TIMESTAMP 
    , in_type INTEGER 
    , in_order INTEGER 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_profile_attribute_data`  
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_profile_attribute_data` 
                    SET
                        `status` = in_status
                        , `sort` = in_sort
                        , `profile_id` = in_profile_id
                        , `game_id` = in_game_id
                        , `active` = in_active
                        , `attribute_value` = in_attribute_value
                        , `group` = in_group
                        , `uuid` = in_uuid
                        , `date_modified` = in_date_modified
                        , `attribute_id` = in_attribute_id
                        , `date_created` = in_date_created
                        , `type` = in_type
                        , `order` = in_order
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_profile_attribute_data`
                    (
                        `status`
                        , `sort`
                        , `profile_id`
                        , `game_id`
                        , `active`
                        , `attribute_value`
                        , `group`
                        , `uuid`
                        , `date_modified`
                        , `attribute_id`
                        , `date_created`
                        , `type`
                        , `order`
                    )
                    VALUES
                    (
                        in_status
                        , in_sort
                        , in_profile_id
                        , in_game_id
                        , in_active
                        , in_attribute_value
                        , in_group
                        , in_uuid
                        , in_date_modified
                        , in_attribute_id
                        , in_date_created
                        , in_type
                        , in_order
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_profile_attribute_data_set_profile_id_attribute_id`;
delimiter $$
CREATE PROCEDURE `usp_game_profile_attribute_data_set_profile_id_attribute_id`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_sort INTEGER 
    , in_profile_id BINARY(16) 
    , in_game_id BINARY(16) 
    , in_active int 
    , in_attribute_value TEXT 
    , in_group INTEGER 
    , in_uuid BINARY(16) 
    , in_date_modified TIMESTAMP 
    , in_attribute_id BINARY(16) 
    , in_date_created TIMESTAMP 
    , in_type INTEGER 
    , in_order INTEGER 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_profile_attribute_data`  
                    WHERE 1=1
                    AND `profile_id` = in_profile_id
                    AND `attribute_id` = in_attribute_id
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_profile_attribute_data` 
                    SET
                        `status` = in_status
                        , `sort` = in_sort
                        , `profile_id` = in_profile_id
                        , `game_id` = in_game_id
                        , `active` = in_active
                        , `attribute_value` = in_attribute_value
                        , `group` = in_group
                        , `uuid` = in_uuid
                        , `date_modified` = in_date_modified
                        , `attribute_id` = in_attribute_id
                        , `date_created` = in_date_created
                        , `type` = in_type
                        , `order` = in_order
                    WHERE 1=1
                    AND `profile_id` = in_profile_id
                    AND `attribute_id` = in_attribute_id
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_profile_attribute_data`
                    (
                        `status`
                        , `sort`
                        , `profile_id`
                        , `game_id`
                        , `active`
                        , `attribute_value`
                        , `group`
                        , `uuid`
                        , `date_modified`
                        , `attribute_id`
                        , `date_created`
                        , `type`
                        , `order`
                    )
                    VALUES
                    (
                        in_status
                        , in_sort
                        , in_profile_id
                        , in_game_id
                        , in_active
                        , in_attribute_value
                        , in_group
                        , in_uuid
                        , in_date_modified
                        , in_attribute_id
                        , in_date_created
                        , in_type
                        , in_order
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_profile_attribute_data_set_game_id_profile_id`;
delimiter $$
CREATE PROCEDURE `usp_game_profile_attribute_data_set_game_id_profile_id`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_sort INTEGER 
    , in_profile_id BINARY(16) 
    , in_game_id BINARY(16) 
    , in_active int 
    , in_attribute_value TEXT 
    , in_group INTEGER 
    , in_uuid BINARY(16) 
    , in_date_modified TIMESTAMP 
    , in_attribute_id BINARY(16) 
    , in_date_created TIMESTAMP 
    , in_type INTEGER 
    , in_order INTEGER 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_profile_attribute_data`  
                    WHERE 1=1
                    AND `game_id` = in_game_id
                    AND `profile_id` = in_profile_id
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_profile_attribute_data` 
                    SET
                        `status` = in_status
                        , `sort` = in_sort
                        , `profile_id` = in_profile_id
                        , `game_id` = in_game_id
                        , `active` = in_active
                        , `attribute_value` = in_attribute_value
                        , `group` = in_group
                        , `uuid` = in_uuid
                        , `date_modified` = in_date_modified
                        , `attribute_id` = in_attribute_id
                        , `date_created` = in_date_created
                        , `type` = in_type
                        , `order` = in_order
                    WHERE 1=1
                    AND `game_id` = in_game_id
                    AND `profile_id` = in_profile_id
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_profile_attribute_data`
                    (
                        `status`
                        , `sort`
                        , `profile_id`
                        , `game_id`
                        , `active`
                        , `attribute_value`
                        , `group`
                        , `uuid`
                        , `date_modified`
                        , `attribute_id`
                        , `date_created`
                        , `type`
                        , `order`
                    )
                    VALUES
                    (
                        in_status
                        , in_sort
                        , in_profile_id
                        , in_game_id
                        , in_active
                        , in_attribute_value
                        , in_group
                        , in_uuid
                        , in_date_modified
                        , in_attribute_id
                        , in_date_created
                        , in_type
                        , in_order
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_profile_attribute_data_set_game_id_profile_id_attribut`;
delimiter $$
CREATE PROCEDURE `usp_game_profile_attribute_data_set_game_id_profile_id_attribut`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_sort INTEGER 
    , in_profile_id BINARY(16) 
    , in_game_id BINARY(16) 
    , in_active int 
    , in_attribute_value TEXT 
    , in_group INTEGER 
    , in_uuid BINARY(16) 
    , in_date_modified TIMESTAMP 
    , in_attribute_id BINARY(16) 
    , in_date_created TIMESTAMP 
    , in_type INTEGER 
    , in_order INTEGER 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_profile_attribute_data`  
                    WHERE 1=1
                    AND `game_id` = in_game_id
                    AND `profile_id` = in_profile_id
                    AND `attribute_id` = in_attribute_id
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_profile_attribute_data` 
                    SET
                        `status` = in_status
                        , `sort` = in_sort
                        , `profile_id` = in_profile_id
                        , `game_id` = in_game_id
                        , `active` = in_active
                        , `attribute_value` = in_attribute_value
                        , `group` = in_group
                        , `uuid` = in_uuid
                        , `date_modified` = in_date_modified
                        , `attribute_id` = in_attribute_id
                        , `date_created` = in_date_created
                        , `type` = in_type
                        , `order` = in_order
                    WHERE 1=1
                    AND `game_id` = in_game_id
                    AND `profile_id` = in_profile_id
                    AND `attribute_id` = in_attribute_id
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_profile_attribute_data`
                    (
                        `status`
                        , `sort`
                        , `profile_id`
                        , `game_id`
                        , `active`
                        , `attribute_value`
                        , `group`
                        , `uuid`
                        , `date_modified`
                        , `attribute_id`
                        , `date_created`
                        , `type`
                        , `order`
                    )
                    VALUES
                    (
                        in_status
                        , in_sort
                        , in_profile_id
                        , in_game_id
                        , in_active
                        , in_attribute_value
                        , in_group
                        , in_uuid
                        , in_date_modified
                        , in_attribute_id
                        , in_date_created
                        , in_type
                        , in_order
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

-- ------------------------------------
-- DEL

-- ------------------------------------
-- MODEL: GameProfileAttributeData - game_profile_attribute_data

                       
DROP PROCEDURE IF EXISTS `usp_game_profile_attribute_data_del_uuid`;

delimiter $$
CREATE PROCEDURE `usp_game_profile_attribute_data_del_uuid`
(
    in_uuid BINARY(16) 
)

BEGIN
    DELETE 
    FROM `game_profile_attribute_data`
    WHERE 1=1                        
    AND "uuid" = in_uuid
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_game_profile_attribute_data_del_profile_id`;

delimiter $$
CREATE PROCEDURE `usp_game_profile_attribute_data_del_profile_id`
(
    in_profile_id BINARY(16) 
)

BEGIN
    DELETE 
    FROM `game_profile_attribute_data`
    WHERE 1=1                        
    AND "profile_id" = in_profile_id
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_game_profile_attribute_data_del_profile_id_attribute_id`;

delimiter $$
CREATE PROCEDURE `usp_game_profile_attribute_data_del_profile_id_attribute_id`
(
    in_profile_id BINARY(16) 
    , in_attribute_id BINARY(16) 
)

BEGIN
    DELETE 
    FROM `game_profile_attribute_data`
    WHERE 1=1                        
    AND "profile_id" = in_profile_id
    AND "attribute_id" = in_attribute_id
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_game_profile_attribute_data_del_game_id_profile_id`;

delimiter $$
CREATE PROCEDURE `usp_game_profile_attribute_data_del_game_id_profile_id`
(
    in_game_id BINARY(16) 
    , in_profile_id BINARY(16) 
)

BEGIN
    DELETE 
    FROM `game_profile_attribute_data`
    WHERE 1=1                        
    AND "game_id" = in_game_id
    AND "profile_id" = in_profile_id
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_game_profile_attribute_data_del_game_id_profile_id_attribut`;

delimiter $$
CREATE PROCEDURE `usp_game_profile_attribute_data_del_game_id_profile_id_attribut`
(
    in_game_id BINARY(16) 
    , in_profile_id BINARY(16) 
    , in_attribute_id BINARY(16) 
)

BEGIN
    DELETE 
    FROM `game_profile_attribute_data`
    WHERE 1=1                        
    AND "game_id" = in_game_id
    AND "profile_id" = in_profile_id
    AND "attribute_id" = in_attribute_id
    ;
END$$
delimiter ;
-- ------------------------------------
-- GET

-- ------------------------------------
-- MODEL: GameProfileAttributeData - game_profile_attribute_data

                       
DROP PROCEDURE IF EXISTS `usp_game_profile_attribute_data_get`;

delimiter $$
CREATE PROCEDURE `usp_game_profile_attribute_data_get`
(
)                        
BEGIN
    SELECT
        `status`
        , `sort`
        , `profile_id`
        , `game_id`
        , `active`
        , `attribute_value`
        , `group`
        , `uuid`
        , `date_modified`
        , `attribute_id`
        , `date_created`
        , `type`
        , `order`
    FROM `game_profile_attribute_data`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_profile_attribute_data_get_uuid`;

delimiter $$
CREATE PROCEDURE `usp_game_profile_attribute_data_get_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `sort`
        , `profile_id`
        , `game_id`
        , `active`
        , `attribute_value`
        , `group`
        , `uuid`
        , `date_modified`
        , `attribute_id`
        , `date_created`
        , `type`
        , `order`
    FROM `game_profile_attribute_data`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_profile_attribute_data_get_profile_id`;

delimiter $$
CREATE PROCEDURE `usp_game_profile_attribute_data_get_profile_id`
(
    in_profile_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `sort`
        , `profile_id`
        , `game_id`
        , `active`
        , `attribute_value`
        , `group`
        , `uuid`
        , `date_modified`
        , `attribute_id`
        , `date_created`
        , `type`
        , `order`
    FROM `game_profile_attribute_data`
    WHERE 1=1
    AND `profile_id` = in_profile_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_profile_attribute_data_get_profile_id_attribute_id`;

delimiter $$
CREATE PROCEDURE `usp_game_profile_attribute_data_get_profile_id_attribute_id`
(
    in_profile_id BINARY(16) 
    , in_attribute_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `sort`
        , `profile_id`
        , `game_id`
        , `active`
        , `attribute_value`
        , `group`
        , `uuid`
        , `date_modified`
        , `attribute_id`
        , `date_created`
        , `type`
        , `order`
    FROM `game_profile_attribute_data`
    WHERE 1=1
    AND `profile_id` = in_profile_id
    AND `attribute_id` = in_attribute_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_profile_attribute_data_get_game_id_profile_id`;

delimiter $$
CREATE PROCEDURE `usp_game_profile_attribute_data_get_game_id_profile_id`
(
    in_game_id BINARY(16) 
    , in_profile_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `sort`
        , `profile_id`
        , `game_id`
        , `active`
        , `attribute_value`
        , `group`
        , `uuid`
        , `date_modified`
        , `attribute_id`
        , `date_created`
        , `type`
        , `order`
    FROM `game_profile_attribute_data`
    WHERE 1=1
    AND `game_id` = in_game_id
    AND `profile_id` = in_profile_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_profile_attribute_data_get_game_id_profile_id_attribut`;

delimiter $$
CREATE PROCEDURE `usp_game_profile_attribute_data_get_game_id_profile_id_attribut`
(
    in_game_id BINARY(16) 
    , in_profile_id BINARY(16) 
    , in_attribute_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `sort`
        , `profile_id`
        , `game_id`
        , `active`
        , `attribute_value`
        , `group`
        , `uuid`
        , `date_modified`
        , `attribute_id`
        , `date_created`
        , `type`
        , `order`
    FROM `game_profile_attribute_data`
    WHERE 1=1
    AND `game_id` = in_game_id
    AND `profile_id` = in_profile_id
    AND `attribute_id` = in_attribute_id
    ;
END$$
delimiter ;

-- -----------------------------------------------------------------------------
-- PROCS

-- ------------------------------------
-- COUNT

-- ------------------------------------
-- MODEL: GameNetwork - game_network

                       
DROP PROCEDURE IF EXISTS `usp_game_network_count`;
delimiter $$
CREATE PROCEDURE `usp_game_network_count`
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_network`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_network_count_uuid`;
delimiter $$
CREATE PROCEDURE `usp_game_network_count_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_network`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_network_count_code`;
delimiter $$
CREATE PROCEDURE `usp_game_network_count_code`
(
    in_code VARCHAR (255) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_network`
    WHERE 1=1
    AND lower(`code`) = lower(in_code)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_network_count_uuid_type`;
delimiter $$
CREATE PROCEDURE `usp_game_network_count_uuid_type`
(
    in_uuid BINARY(16) 
    , in_type VARCHAR (500) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_network`
    WHERE 1=1
    AND `uuid` = in_uuid
    AND lower(`type`) = lower(in_type)
    ;
END$$
delimiter ;

-- ------------------------------------
-- BROWSE

-- ------------------------------------
-- MODEL: GameNetwork - game_network

                       
DROP PROCEDURE IF EXISTS `usp_game_network_browse_filter`;

delimiter $$
CREATE PROCEDURE `usp_game_network_browse_filter`
(
    in_page int,
    in_page_size int,
    in_sort VARCHAR(500),
    in_filter VARCHAR(4000)
    
)
BEGIN
    DECLARE total_rows int;
    SET total_rows = 0;
        
    IF (in_page = 0) THEN
        SET in_page = 1;
    END IF;    
    
    IF (in_page_size = 0) THEN
       SET in_page_size = 10;
    END IF;
    
    IF (in_sort = NULL || in_sort = '') THEN
       SET in_sort = ' date_modified ASC ';
    END IF;
    
    SET @sfields = CONCAT('', '`status`');
    SET @sfields = CONCAT(@sfields, ', `code`');
    SET @sfields = CONCAT(@sfields, ', `display_name`');
    SET @sfields = CONCAT(@sfields, ', `name`');
    SET @sfields = CONCAT(@sfields, ', `date_modified`');
    SET @sfields = CONCAT(@sfields, ', `url`');
    SET @sfields = CONCAT(@sfields, ', `data`');
    SET @sfields = CONCAT(@sfields, ', `uuid`');
    SET @sfields = CONCAT(@sfields, ', `secret`');
    SET @sfields = CONCAT(@sfields, ', `active`');
    SET @sfields = CONCAT(@sfields, ', `date_created`');
    SET @sfields = CONCAT(@sfields, ', `type`');
    SET @sfields = CONCAT(@sfields, ', `description`');
    
    SET @stable = CONCAT('', ' FROM `game_network` WHERE 1=1 ');
    
    SET @s = CONCAT(' ', @stable);
    SET @s = CONCAT(@s, ' ', in_filter);    
    
    SET @scount = CONCAT('SELECT COUNT(*) as `total_rows` ', @s, ' INTO @total_rows');
    
    PREPARE stmtcount FROM @scount;
    EXECUTE stmtcount;
    #SELECT @total_rows;
    SET total_rows = @total_rows;

    SET @sfields = CONCAT(total_rows, ' as `total_rows`, ', @sfields);
    SET @s = CONCAT('SELECT ', @sfields, @s);
    SET @s = CONCAT(@s, ' ORDER BY ', in_sort);
    SET @s = CONCAT(@s, ' LIMIT ', in_page);
    SET @s = CONCAT(@s, ',', in_page_size);    

    PREPARE stmt FROM @s;
    EXECUTE stmt;
    
END$$
delimiter ;
-- ------------------------------------
-- SET

-- ------------------------------------
-- MODEL: GameNetwork - game_network

                       
DROP PROCEDURE IF EXISTS `usp_game_network_set_uuid`;
delimiter $$
CREATE PROCEDURE `usp_game_network_set_uuid`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_code VARCHAR (255) 
    , in_display_name VARCHAR (255) 
    , in_name VARCHAR (255) 
    , in_date_modified TIMESTAMP 
    , in_url VARCHAR (500) 
    , in_data TEXT 
    , in_uuid BINARY(16) 
    , in_secret VARCHAR (500) 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (500) 
    , in_description VARCHAR (255) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_network`  
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_network` 
                    SET
                        `status` = in_status
                        , `code` = in_code
                        , `display_name` = in_display_name
                        , `name` = in_name
                        , `date_modified` = in_date_modified
                        , `url` = in_url
                        , `data` = in_data
                        , `uuid` = in_uuid
                        , `secret` = in_secret
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `type` = in_type
                        , `description` = in_description
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_network`
                    (
                        `status`
                        , `code`
                        , `display_name`
                        , `name`
                        , `date_modified`
                        , `url`
                        , `data`
                        , `uuid`
                        , `secret`
                        , `active`
                        , `date_created`
                        , `type`
                        , `description`
                    )
                    VALUES
                    (
                        in_status
                        , in_code
                        , in_display_name
                        , in_name
                        , in_date_modified
                        , in_url
                        , in_data
                        , in_uuid
                        , in_secret
                        , in_active
                        , in_date_created
                        , in_type
                        , in_description
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_network_set_code`;
delimiter $$
CREATE PROCEDURE `usp_game_network_set_code`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_code VARCHAR (255) 
    , in_display_name VARCHAR (255) 
    , in_name VARCHAR (255) 
    , in_date_modified TIMESTAMP 
    , in_url VARCHAR (500) 
    , in_data TEXT 
    , in_uuid BINARY(16) 
    , in_secret VARCHAR (500) 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (500) 
    , in_description VARCHAR (255) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_network`  
                    WHERE 1=1
                    AND lower(`code`) = lower(in_code)
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_network` 
                    SET
                        `status` = in_status
                        , `code` = in_code
                        , `display_name` = in_display_name
                        , `name` = in_name
                        , `date_modified` = in_date_modified
                        , `url` = in_url
                        , `data` = in_data
                        , `uuid` = in_uuid
                        , `secret` = in_secret
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `type` = in_type
                        , `description` = in_description
                    WHERE 1=1
                    AND lower(`code`) = lower(in_code)
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_network`
                    (
                        `status`
                        , `code`
                        , `display_name`
                        , `name`
                        , `date_modified`
                        , `url`
                        , `data`
                        , `uuid`
                        , `secret`
                        , `active`
                        , `date_created`
                        , `type`
                        , `description`
                    )
                    VALUES
                    (
                        in_status
                        , in_code
                        , in_display_name
                        , in_name
                        , in_date_modified
                        , in_url
                        , in_data
                        , in_uuid
                        , in_secret
                        , in_active
                        , in_date_created
                        , in_type
                        , in_description
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

-- ------------------------------------
-- DEL

-- ------------------------------------
-- MODEL: GameNetwork - game_network

                       
DROP PROCEDURE IF EXISTS `usp_game_network_del_uuid`;

delimiter $$
CREATE PROCEDURE `usp_game_network_del_uuid`
(
    in_uuid BINARY(16) 
)

BEGIN
    DELETE 
    FROM `game_network`
    WHERE 1=1                        
    AND "uuid" = in_uuid
    ;
END$$
delimiter ;
-- ------------------------------------
-- GET

-- ------------------------------------
-- MODEL: GameNetwork - game_network

                       
DROP PROCEDURE IF EXISTS `usp_game_network_get`;

delimiter $$
CREATE PROCEDURE `usp_game_network_get`
(
)                        
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `url`
        , `data`
        , `uuid`
        , `secret`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `game_network`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_network_get_uuid`;

delimiter $$
CREATE PROCEDURE `usp_game_network_get_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `url`
        , `data`
        , `uuid`
        , `secret`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `game_network`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_network_get_code`;

delimiter $$
CREATE PROCEDURE `usp_game_network_get_code`
(
    in_code VARCHAR (255) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `url`
        , `data`
        , `uuid`
        , `secret`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `game_network`
    WHERE 1=1
    AND lower(`code`) = lower(in_code)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_network_get_uuid_type`;

delimiter $$
CREATE PROCEDURE `usp_game_network_get_uuid_type`
(
    in_uuid BINARY(16) 
    , in_type VARCHAR (500) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `url`
        , `data`
        , `uuid`
        , `secret`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `game_network`
    WHERE 1=1
    AND `uuid` = in_uuid
    AND lower(`type`) = lower(in_type)
    ;
END$$
delimiter ;

-- -----------------------------------------------------------------------------
-- PROCS

-- ------------------------------------
-- COUNT

-- ------------------------------------
-- MODEL: GameNetworkAuth - game_network_auth

                       
DROP PROCEDURE IF EXISTS `usp_game_network_auth_count`;
delimiter $$
CREATE PROCEDURE `usp_game_network_auth_count`
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_network_auth`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_network_auth_count_uuid`;
delimiter $$
CREATE PROCEDURE `usp_game_network_auth_count_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_network_auth`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_network_auth_count_game_id_game_network_id`;
delimiter $$
CREATE PROCEDURE `usp_game_network_auth_count_game_id_game_network_id`
(
    in_game_id BINARY(16) 
    , in_game_network_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_network_auth`
    WHERE 1=1
    AND `game_id` = in_game_id
    AND `game_network_id` = in_game_network_id
    ;
END$$
delimiter ;

-- ------------------------------------
-- BROWSE

-- ------------------------------------
-- MODEL: GameNetworkAuth - game_network_auth

                       
DROP PROCEDURE IF EXISTS `usp_game_network_auth_browse_filter`;

delimiter $$
CREATE PROCEDURE `usp_game_network_auth_browse_filter`
(
    in_page int,
    in_page_size int,
    in_sort VARCHAR(500),
    in_filter VARCHAR(4000)
    
)
BEGIN
    DECLARE total_rows int;
    SET total_rows = 0;
        
    IF (in_page = 0) THEN
        SET in_page = 1;
    END IF;    
    
    IF (in_page_size = 0) THEN
       SET in_page_size = 10;
    END IF;
    
    IF (in_sort = NULL || in_sort = '') THEN
       SET in_sort = ' date_modified ASC ';
    END IF;
    
    SET @sfields = CONCAT('', '`status`');
    SET @sfields = CONCAT(@sfields, ', `code`');
    SET @sfields = CONCAT(@sfields, ', `display_name`');
    SET @sfields = CONCAT(@sfields, ', `name`');
    SET @sfields = CONCAT(@sfields, ', `date_modified`');
    SET @sfields = CONCAT(@sfields, ', `url`');
    SET @sfields = CONCAT(@sfields, ', `data`');
    SET @sfields = CONCAT(@sfields, ', `uuid`');
    SET @sfields = CONCAT(@sfields, ', `app_id`');
    SET @sfields = CONCAT(@sfields, ', `game_network_id`');
    SET @sfields = CONCAT(@sfields, ', `secret`');
    SET @sfields = CONCAT(@sfields, ', `game_id`');
    SET @sfields = CONCAT(@sfields, ', `active`');
    SET @sfields = CONCAT(@sfields, ', `date_created`');
    SET @sfields = CONCAT(@sfields, ', `type`');
    SET @sfields = CONCAT(@sfields, ', `description`');
    
    SET @stable = CONCAT('', ' FROM `game_network_auth` WHERE 1=1 ');
    
    SET @s = CONCAT(' ', @stable);
    SET @s = CONCAT(@s, ' ', in_filter);    
    
    SET @scount = CONCAT('SELECT COUNT(*) as `total_rows` ', @s, ' INTO @total_rows');
    
    PREPARE stmtcount FROM @scount;
    EXECUTE stmtcount;
    #SELECT @total_rows;
    SET total_rows = @total_rows;

    SET @sfields = CONCAT(total_rows, ' as `total_rows`, ', @sfields);
    SET @s = CONCAT('SELECT ', @sfields, @s);
    SET @s = CONCAT(@s, ' ORDER BY ', in_sort);
    SET @s = CONCAT(@s, ' LIMIT ', in_page);
    SET @s = CONCAT(@s, ',', in_page_size);    

    PREPARE stmt FROM @s;
    EXECUTE stmt;
    
END$$
delimiter ;
-- ------------------------------------
-- SET

-- ------------------------------------
-- MODEL: GameNetworkAuth - game_network_auth

                       
DROP PROCEDURE IF EXISTS `usp_game_network_auth_set_uuid`;
delimiter $$
CREATE PROCEDURE `usp_game_network_auth_set_uuid`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_code VARCHAR (255) 
    , in_display_name VARCHAR (255) 
    , in_name VARCHAR (255) 
    , in_date_modified TIMESTAMP 
    , in_url VARCHAR (500) 
    , in_data TEXT 
    , in_uuid BINARY(16) 
    , in_app_id VARCHAR (500) 
    , in_game_network_id BINARY(16) 
    , in_secret VARCHAR (500) 
    , in_game_id BINARY(16) 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (500) 
    , in_description VARCHAR (255) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_network_auth`  
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_network_auth` 
                    SET
                        `status` = in_status
                        , `code` = in_code
                        , `display_name` = in_display_name
                        , `name` = in_name
                        , `date_modified` = in_date_modified
                        , `url` = in_url
                        , `data` = in_data
                        , `uuid` = in_uuid
                        , `app_id` = in_app_id
                        , `game_network_id` = in_game_network_id
                        , `secret` = in_secret
                        , `game_id` = in_game_id
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `type` = in_type
                        , `description` = in_description
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_network_auth`
                    (
                        `status`
                        , `code`
                        , `display_name`
                        , `name`
                        , `date_modified`
                        , `url`
                        , `data`
                        , `uuid`
                        , `app_id`
                        , `game_network_id`
                        , `secret`
                        , `game_id`
                        , `active`
                        , `date_created`
                        , `type`
                        , `description`
                    )
                    VALUES
                    (
                        in_status
                        , in_code
                        , in_display_name
                        , in_name
                        , in_date_modified
                        , in_url
                        , in_data
                        , in_uuid
                        , in_app_id
                        , in_game_network_id
                        , in_secret
                        , in_game_id
                        , in_active
                        , in_date_created
                        , in_type
                        , in_description
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_network_auth_set_game_id_game_network_id`;
delimiter $$
CREATE PROCEDURE `usp_game_network_auth_set_game_id_game_network_id`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_code VARCHAR (255) 
    , in_display_name VARCHAR (255) 
    , in_name VARCHAR (255) 
    , in_date_modified TIMESTAMP 
    , in_url VARCHAR (500) 
    , in_data TEXT 
    , in_uuid BINARY(16) 
    , in_app_id VARCHAR (500) 
    , in_game_network_id BINARY(16) 
    , in_secret VARCHAR (500) 
    , in_game_id BINARY(16) 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (500) 
    , in_description VARCHAR (255) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_network_auth`  
                    WHERE 1=1
                    AND `game_id` = in_game_id
                    AND `game_network_id` = in_game_network_id
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_network_auth` 
                    SET
                        `status` = in_status
                        , `code` = in_code
                        , `display_name` = in_display_name
                        , `name` = in_name
                        , `date_modified` = in_date_modified
                        , `url` = in_url
                        , `data` = in_data
                        , `uuid` = in_uuid
                        , `app_id` = in_app_id
                        , `game_network_id` = in_game_network_id
                        , `secret` = in_secret
                        , `game_id` = in_game_id
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `type` = in_type
                        , `description` = in_description
                    WHERE 1=1
                    AND `game_id` = in_game_id
                    AND `game_network_id` = in_game_network_id
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_network_auth`
                    (
                        `status`
                        , `code`
                        , `display_name`
                        , `name`
                        , `date_modified`
                        , `url`
                        , `data`
                        , `uuid`
                        , `app_id`
                        , `game_network_id`
                        , `secret`
                        , `game_id`
                        , `active`
                        , `date_created`
                        , `type`
                        , `description`
                    )
                    VALUES
                    (
                        in_status
                        , in_code
                        , in_display_name
                        , in_name
                        , in_date_modified
                        , in_url
                        , in_data
                        , in_uuid
                        , in_app_id
                        , in_game_network_id
                        , in_secret
                        , in_game_id
                        , in_active
                        , in_date_created
                        , in_type
                        , in_description
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

-- ------------------------------------
-- DEL

-- ------------------------------------
-- MODEL: GameNetworkAuth - game_network_auth

                       
DROP PROCEDURE IF EXISTS `usp_game_network_auth_del_uuid`;

delimiter $$
CREATE PROCEDURE `usp_game_network_auth_del_uuid`
(
    in_uuid BINARY(16) 
)

BEGIN
    DELETE 
    FROM `game_network_auth`
    WHERE 1=1                        
    AND "uuid" = in_uuid
    ;
END$$
delimiter ;
-- ------------------------------------
-- GET

-- ------------------------------------
-- MODEL: GameNetworkAuth - game_network_auth

                       
DROP PROCEDURE IF EXISTS `usp_game_network_auth_get`;

delimiter $$
CREATE PROCEDURE `usp_game_network_auth_get`
(
)                        
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `url`
        , `data`
        , `uuid`
        , `app_id`
        , `game_network_id`
        , `secret`
        , `game_id`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `game_network_auth`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_network_auth_get_uuid`;

delimiter $$
CREATE PROCEDURE `usp_game_network_auth_get_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `url`
        , `data`
        , `uuid`
        , `app_id`
        , `game_network_id`
        , `secret`
        , `game_id`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `game_network_auth`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_network_auth_get_game_id_game_network_id`;

delimiter $$
CREATE PROCEDURE `usp_game_network_auth_get_game_id_game_network_id`
(
    in_game_id BINARY(16) 
    , in_game_network_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `url`
        , `data`
        , `uuid`
        , `app_id`
        , `game_network_id`
        , `secret`
        , `game_id`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `game_network_auth`
    WHERE 1=1
    AND `game_id` = in_game_id
    AND `game_network_id` = in_game_network_id
    ;
END$$
delimiter ;

-- -----------------------------------------------------------------------------
-- PROCS

-- ------------------------------------
-- COUNT

-- ------------------------------------
-- MODEL: ProfileGameNetwork - profile_game_network

                       
DROP PROCEDURE IF EXISTS `usp_profile_game_network_count`;
delimiter $$
CREATE PROCEDURE `usp_profile_game_network_count`
BEGIN
    SELECT
        COUNT(*) as count
    FROM `profile_game_network`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_game_network_count_uuid`;
delimiter $$
CREATE PROCEDURE `usp_profile_game_network_count_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `profile_game_network`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_game_network_count_game_id`;
delimiter $$
CREATE PROCEDURE `usp_profile_game_network_count_game_id`
(
    in_game_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `profile_game_network`
    WHERE 1=1
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_game_network_count_profile_id`;
delimiter $$
CREATE PROCEDURE `usp_profile_game_network_count_profile_id`
(
    in_profile_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `profile_game_network`
    WHERE 1=1
    AND `profile_id` = in_profile_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_game_network_count_profile_id_game_id`;
delimiter $$
CREATE PROCEDURE `usp_profile_game_network_count_profile_id_game_id`
(
    in_profile_id BINARY(16) 
    , in_game_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `profile_game_network`
    WHERE 1=1
    AND `profile_id` = in_profile_id
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_game_network_count_profile_id_game_id`;
delimiter $$
CREATE PROCEDURE `usp_profile_game_network_count_profile_id_game_id`
(
    in_profile_id BINARY(16) 
    , in_game_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `profile_game_network`
    WHERE 1=1
    AND `profile_id` = in_profile_id
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_game_network_count_profile_id_game_id_game_network_`;
delimiter $$
CREATE PROCEDURE `usp_profile_game_network_count_profile_id_game_id_game_network_`
(
    in_profile_id BINARY(16) 
    , in_game_id BINARY(16) 
    , in_game_network_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `profile_game_network`
    WHERE 1=1
    AND `profile_id` = in_profile_id
    AND `game_id` = in_game_id
    AND `game_network_id` = in_game_network_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_game_network_count_network_username_game_id_game_ne`;
delimiter $$
CREATE PROCEDURE `usp_profile_game_network_count_network_username_game_id_game_ne`
(
    in_network_username VARCHAR (500) 
    , in_game_id BINARY(16) 
    , in_game_network_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `profile_game_network`
    WHERE 1=1
    AND lower(`network_username`) = lower(in_network_username)
    AND `game_id` = in_game_id
    AND `game_network_id` = in_game_network_id
    ;
END$$
delimiter ;

-- ------------------------------------
-- BROWSE

-- ------------------------------------
-- MODEL: ProfileGameNetwork - profile_game_network

                       
DROP PROCEDURE IF EXISTS `usp_profile_game_network_browse_filter`;

delimiter $$
CREATE PROCEDURE `usp_profile_game_network_browse_filter`
(
    in_page int,
    in_page_size int,
    in_sort VARCHAR(500),
    in_filter VARCHAR(4000)
    
)
BEGIN
    DECLARE total_rows int;
    SET total_rows = 0;
        
    IF (in_page = 0) THEN
        SET in_page = 1;
    END IF;    
    
    IF (in_page_size = 0) THEN
       SET in_page_size = 10;
    END IF;
    
    IF (in_sort = NULL || in_sort = '') THEN
       SET in_sort = ' date_modified ASC ';
    END IF;
    
    SET @sfields = CONCAT('', '`status`');
    SET @sfields = CONCAT(@sfields, ', `hash`');
    SET @sfields = CONCAT(@sfields, ', `profile_id`');
    SET @sfields = CONCAT(@sfields, ', `game_network_id`');
    SET @sfields = CONCAT(@sfields, ', `network_username`');
    SET @sfields = CONCAT(@sfields, ', `active`');
    SET @sfields = CONCAT(@sfields, ', `game_id`');
    SET @sfields = CONCAT(@sfields, ', `data`');
    SET @sfields = CONCAT(@sfields, ', `uuid`');
    SET @sfields = CONCAT(@sfields, ', `date_modified`');
    SET @sfields = CONCAT(@sfields, ', `network_fullname`');
    SET @sfields = CONCAT(@sfields, ', `secret`');
    SET @sfields = CONCAT(@sfields, ', `token`');
    SET @sfields = CONCAT(@sfields, ', `date_created`');
    SET @sfields = CONCAT(@sfields, ', `network_auth`');
    SET @sfields = CONCAT(@sfields, ', `type`');
    SET @sfields = CONCAT(@sfields, ', `network_user_id`');
    
    SET @stable = CONCAT('', ' FROM `profile_game_network` WHERE 1=1 ');
    
    SET @s = CONCAT(' ', @stable);
    SET @s = CONCAT(@s, ' ', in_filter);    
    
    SET @scount = CONCAT('SELECT COUNT(*) as `total_rows` ', @s, ' INTO @total_rows');
    
    PREPARE stmtcount FROM @scount;
    EXECUTE stmtcount;
    #SELECT @total_rows;
    SET total_rows = @total_rows;

    SET @sfields = CONCAT(total_rows, ' as `total_rows`, ', @sfields);
    SET @s = CONCAT('SELECT ', @sfields, @s);
    SET @s = CONCAT(@s, ' ORDER BY ', in_sort);
    SET @s = CONCAT(@s, ' LIMIT ', in_page);
    SET @s = CONCAT(@s, ',', in_page_size);    

    PREPARE stmt FROM @s;
    EXECUTE stmt;
    
END$$
delimiter ;
-- ------------------------------------
-- SET

-- ------------------------------------
-- MODEL: ProfileGameNetwork - profile_game_network

                       
DROP PROCEDURE IF EXISTS `usp_profile_game_network_set_uuid`;
delimiter $$
CREATE PROCEDURE `usp_profile_game_network_set_uuid`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_hash VARCHAR (500) 
    , in_profile_id BINARY(16) 
    , in_game_network_id BINARY(16) 
    , in_network_username VARCHAR (500) 
    , in_active int 
    , in_game_id BINARY(16) 
    , in_data TEXT 
    , in_uuid BINARY(16) 
    , in_date_modified TIMESTAMP 
    , in_network_fullname VARCHAR (500) 
    , in_secret VARCHAR (500) 
    , in_token VARCHAR (500) 
    , in_date_created TIMESTAMP 
    , in_network_auth VARCHAR (500) 
    , in_type VARCHAR (500) 
    , in_network_user_id VARCHAR (500) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `profile_game_network`  
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `profile_game_network` 
                    SET
                        `status` = in_status
                        , `hash` = in_hash
                        , `profile_id` = in_profile_id
                        , `game_network_id` = in_game_network_id
                        , `network_username` = in_network_username
                        , `active` = in_active
                        , `game_id` = in_game_id
                        , `data` = in_data
                        , `uuid` = in_uuid
                        , `date_modified` = in_date_modified
                        , `network_fullname` = in_network_fullname
                        , `secret` = in_secret
                        , `token` = in_token
                        , `date_created` = in_date_created
                        , `network_auth` = in_network_auth
                        , `type` = in_type
                        , `network_user_id` = in_network_user_id
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `profile_game_network`
                    (
                        `status`
                        , `hash`
                        , `profile_id`
                        , `game_network_id`
                        , `network_username`
                        , `active`
                        , `game_id`
                        , `data`
                        , `uuid`
                        , `date_modified`
                        , `network_fullname`
                        , `secret`
                        , `token`
                        , `date_created`
                        , `network_auth`
                        , `type`
                        , `network_user_id`
                    )
                    VALUES
                    (
                        in_status
                        , in_hash
                        , in_profile_id
                        , in_game_network_id
                        , in_network_username
                        , in_active
                        , in_game_id
                        , in_data
                        , in_uuid
                        , in_date_modified
                        , in_network_fullname
                        , in_secret
                        , in_token
                        , in_date_created
                        , in_network_auth
                        , in_type
                        , in_network_user_id
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_game_network_set_profile_id_game_id`;
delimiter $$
CREATE PROCEDURE `usp_profile_game_network_set_profile_id_game_id`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_hash VARCHAR (500) 
    , in_profile_id BINARY(16) 
    , in_game_network_id BINARY(16) 
    , in_network_username VARCHAR (500) 
    , in_active int 
    , in_game_id BINARY(16) 
    , in_data TEXT 
    , in_uuid BINARY(16) 
    , in_date_modified TIMESTAMP 
    , in_network_fullname VARCHAR (500) 
    , in_secret VARCHAR (500) 
    , in_token VARCHAR (500) 
    , in_date_created TIMESTAMP 
    , in_network_auth VARCHAR (500) 
    , in_type VARCHAR (500) 
    , in_network_user_id VARCHAR (500) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `profile_game_network`  
                    WHERE 1=1
                    AND `profile_id` = in_profile_id
                    AND `game_id` = in_game_id
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `profile_game_network` 
                    SET
                        `status` = in_status
                        , `hash` = in_hash
                        , `profile_id` = in_profile_id
                        , `game_network_id` = in_game_network_id
                        , `network_username` = in_network_username
                        , `active` = in_active
                        , `game_id` = in_game_id
                        , `data` = in_data
                        , `uuid` = in_uuid
                        , `date_modified` = in_date_modified
                        , `network_fullname` = in_network_fullname
                        , `secret` = in_secret
                        , `token` = in_token
                        , `date_created` = in_date_created
                        , `network_auth` = in_network_auth
                        , `type` = in_type
                        , `network_user_id` = in_network_user_id
                    WHERE 1=1
                    AND `profile_id` = in_profile_id
                    AND `game_id` = in_game_id
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `profile_game_network`
                    (
                        `status`
                        , `hash`
                        , `profile_id`
                        , `game_network_id`
                        , `network_username`
                        , `active`
                        , `game_id`
                        , `data`
                        , `uuid`
                        , `date_modified`
                        , `network_fullname`
                        , `secret`
                        , `token`
                        , `date_created`
                        , `network_auth`
                        , `type`
                        , `network_user_id`
                    )
                    VALUES
                    (
                        in_status
                        , in_hash
                        , in_profile_id
                        , in_game_network_id
                        , in_network_username
                        , in_active
                        , in_game_id
                        , in_data
                        , in_uuid
                        , in_date_modified
                        , in_network_fullname
                        , in_secret
                        , in_token
                        , in_date_created
                        , in_network_auth
                        , in_type
                        , in_network_user_id
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_game_network_set_profile_id_game_id_game_network_id`;
delimiter $$
CREATE PROCEDURE `usp_profile_game_network_set_profile_id_game_id_game_network_id`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_hash VARCHAR (500) 
    , in_profile_id BINARY(16) 
    , in_game_network_id BINARY(16) 
    , in_network_username VARCHAR (500) 
    , in_active int 
    , in_game_id BINARY(16) 
    , in_data TEXT 
    , in_uuid BINARY(16) 
    , in_date_modified TIMESTAMP 
    , in_network_fullname VARCHAR (500) 
    , in_secret VARCHAR (500) 
    , in_token VARCHAR (500) 
    , in_date_created TIMESTAMP 
    , in_network_auth VARCHAR (500) 
    , in_type VARCHAR (500) 
    , in_network_user_id VARCHAR (500) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `profile_game_network`  
                    WHERE 1=1
                    AND `profile_id` = in_profile_id
                    AND `game_id` = in_game_id
                    AND `game_network_id` = in_game_network_id
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `profile_game_network` 
                    SET
                        `status` = in_status
                        , `hash` = in_hash
                        , `profile_id` = in_profile_id
                        , `game_network_id` = in_game_network_id
                        , `network_username` = in_network_username
                        , `active` = in_active
                        , `game_id` = in_game_id
                        , `data` = in_data
                        , `uuid` = in_uuid
                        , `date_modified` = in_date_modified
                        , `network_fullname` = in_network_fullname
                        , `secret` = in_secret
                        , `token` = in_token
                        , `date_created` = in_date_created
                        , `network_auth` = in_network_auth
                        , `type` = in_type
                        , `network_user_id` = in_network_user_id
                    WHERE 1=1
                    AND `profile_id` = in_profile_id
                    AND `game_id` = in_game_id
                    AND `game_network_id` = in_game_network_id
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `profile_game_network`
                    (
                        `status`
                        , `hash`
                        , `profile_id`
                        , `game_network_id`
                        , `network_username`
                        , `active`
                        , `game_id`
                        , `data`
                        , `uuid`
                        , `date_modified`
                        , `network_fullname`
                        , `secret`
                        , `token`
                        , `date_created`
                        , `network_auth`
                        , `type`
                        , `network_user_id`
                    )
                    VALUES
                    (
                        in_status
                        , in_hash
                        , in_profile_id
                        , in_game_network_id
                        , in_network_username
                        , in_active
                        , in_game_id
                        , in_data
                        , in_uuid
                        , in_date_modified
                        , in_network_fullname
                        , in_secret
                        , in_token
                        , in_date_created
                        , in_network_auth
                        , in_type
                        , in_network_user_id
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_game_network_set_network_username_game_id_game_netw`;
delimiter $$
CREATE PROCEDURE `usp_profile_game_network_set_network_username_game_id_game_netw`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_hash VARCHAR (500) 
    , in_profile_id BINARY(16) 
    , in_game_network_id BINARY(16) 
    , in_network_username VARCHAR (500) 
    , in_active int 
    , in_game_id BINARY(16) 
    , in_data TEXT 
    , in_uuid BINARY(16) 
    , in_date_modified TIMESTAMP 
    , in_network_fullname VARCHAR (500) 
    , in_secret VARCHAR (500) 
    , in_token VARCHAR (500) 
    , in_date_created TIMESTAMP 
    , in_network_auth VARCHAR (500) 
    , in_type VARCHAR (500) 
    , in_network_user_id VARCHAR (500) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `profile_game_network`  
                    WHERE 1=1
                    AND lower(`network_username`) = lower(in_network_username)
                    AND `game_id` = in_game_id
                    AND `game_network_id` = in_game_network_id
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `profile_game_network` 
                    SET
                        `status` = in_status
                        , `hash` = in_hash
                        , `profile_id` = in_profile_id
                        , `game_network_id` = in_game_network_id
                        , `network_username` = in_network_username
                        , `active` = in_active
                        , `game_id` = in_game_id
                        , `data` = in_data
                        , `uuid` = in_uuid
                        , `date_modified` = in_date_modified
                        , `network_fullname` = in_network_fullname
                        , `secret` = in_secret
                        , `token` = in_token
                        , `date_created` = in_date_created
                        , `network_auth` = in_network_auth
                        , `type` = in_type
                        , `network_user_id` = in_network_user_id
                    WHERE 1=1
                    AND lower(`network_username`) = lower(in_network_username)
                    AND `game_id` = in_game_id
                    AND `game_network_id` = in_game_network_id
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `profile_game_network`
                    (
                        `status`
                        , `hash`
                        , `profile_id`
                        , `game_network_id`
                        , `network_username`
                        , `active`
                        , `game_id`
                        , `data`
                        , `uuid`
                        , `date_modified`
                        , `network_fullname`
                        , `secret`
                        , `token`
                        , `date_created`
                        , `network_auth`
                        , `type`
                        , `network_user_id`
                    )
                    VALUES
                    (
                        in_status
                        , in_hash
                        , in_profile_id
                        , in_game_network_id
                        , in_network_username
                        , in_active
                        , in_game_id
                        , in_data
                        , in_uuid
                        , in_date_modified
                        , in_network_fullname
                        , in_secret
                        , in_token
                        , in_date_created
                        , in_network_auth
                        , in_type
                        , in_network_user_id
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

-- ------------------------------------
-- DEL

-- ------------------------------------
-- MODEL: ProfileGameNetwork - profile_game_network

                       
DROP PROCEDURE IF EXISTS `usp_profile_game_network_del_uuid`;

delimiter $$
CREATE PROCEDURE `usp_profile_game_network_del_uuid`
(
    in_uuid BINARY(16) 
)

BEGIN
    DELETE 
    FROM `profile_game_network`
    WHERE 1=1                        
    AND "uuid" = in_uuid
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_profile_game_network_del_profile_id_game_id`;

delimiter $$
CREATE PROCEDURE `usp_profile_game_network_del_profile_id_game_id`
(
    in_profile_id BINARY(16) 
    , in_game_id BINARY(16) 
)

BEGIN
    DELETE 
    FROM `profile_game_network`
    WHERE 1=1                        
    AND "profile_id" = in_profile_id
    AND "game_id" = in_game_id
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_profile_game_network_del_profile_id_game_id_game_network_id`;

delimiter $$
CREATE PROCEDURE `usp_profile_game_network_del_profile_id_game_id_game_network_id`
(
    in_profile_id BINARY(16) 
    , in_game_id BINARY(16) 
    , in_game_network_id BINARY(16) 
)

BEGIN
    DELETE 
    FROM `profile_game_network`
    WHERE 1=1                        
    AND "profile_id" = in_profile_id
    AND "game_id" = in_game_id
    AND "game_network_id" = in_game_network_id
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_profile_game_network_del_network_username_game_id_game_netw`;

delimiter $$
CREATE PROCEDURE `usp_profile_game_network_del_network_username_game_id_game_netw`
(
    in_network_username VARCHAR (500) 
    , in_game_id BINARY(16) 
    , in_game_network_id BINARY(16) 
)

BEGIN
    DELETE 
    FROM `profile_game_network`
    WHERE 1=1                        
    AND lower("network_username") = lower(in_network_username)
    AND "game_id" = in_game_id
    AND "game_network_id" = in_game_network_id
    ;
END$$
delimiter ;
-- ------------------------------------
-- GET

-- ------------------------------------
-- MODEL: ProfileGameNetwork - profile_game_network

                       
DROP PROCEDURE IF EXISTS `usp_profile_game_network_get`;

delimiter $$
CREATE PROCEDURE `usp_profile_game_network_get`
(
)                        
BEGIN
    SELECT
        `status`
        , `hash`
        , `profile_id`
        , `game_network_id`
        , `network_username`
        , `active`
        , `game_id`
        , `data`
        , `uuid`
        , `date_modified`
        , `network_fullname`
        , `secret`
        , `token`
        , `date_created`
        , `network_auth`
        , `type`
        , `network_user_id`
    FROM `profile_game_network`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_game_network_get_uuid`;

delimiter $$
CREATE PROCEDURE `usp_profile_game_network_get_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `hash`
        , `profile_id`
        , `game_network_id`
        , `network_username`
        , `active`
        , `game_id`
        , `data`
        , `uuid`
        , `date_modified`
        , `network_fullname`
        , `secret`
        , `token`
        , `date_created`
        , `network_auth`
        , `type`
        , `network_user_id`
    FROM `profile_game_network`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_game_network_get_game_id`;

delimiter $$
CREATE PROCEDURE `usp_profile_game_network_get_game_id`
(
    in_game_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `hash`
        , `profile_id`
        , `game_network_id`
        , `network_username`
        , `active`
        , `game_id`
        , `data`
        , `uuid`
        , `date_modified`
        , `network_fullname`
        , `secret`
        , `token`
        , `date_created`
        , `network_auth`
        , `type`
        , `network_user_id`
    FROM `profile_game_network`
    WHERE 1=1
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_game_network_get_profile_id`;

delimiter $$
CREATE PROCEDURE `usp_profile_game_network_get_profile_id`
(
    in_profile_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `hash`
        , `profile_id`
        , `game_network_id`
        , `network_username`
        , `active`
        , `game_id`
        , `data`
        , `uuid`
        , `date_modified`
        , `network_fullname`
        , `secret`
        , `token`
        , `date_created`
        , `network_auth`
        , `type`
        , `network_user_id`
    FROM `profile_game_network`
    WHERE 1=1
    AND `profile_id` = in_profile_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_game_network_get_profile_id_game_id`;

delimiter $$
CREATE PROCEDURE `usp_profile_game_network_get_profile_id_game_id`
(
    in_profile_id BINARY(16) 
    , in_game_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `hash`
        , `profile_id`
        , `game_network_id`
        , `network_username`
        , `active`
        , `game_id`
        , `data`
        , `uuid`
        , `date_modified`
        , `network_fullname`
        , `secret`
        , `token`
        , `date_created`
        , `network_auth`
        , `type`
        , `network_user_id`
    FROM `profile_game_network`
    WHERE 1=1
    AND `profile_id` = in_profile_id
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_game_network_get_profile_id_game_id_game_network_id`;

delimiter $$
CREATE PROCEDURE `usp_profile_game_network_get_profile_id_game_id_game_network_id`
(
    in_profile_id BINARY(16) 
    , in_game_id BINARY(16) 
    , in_game_network_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `hash`
        , `profile_id`
        , `game_network_id`
        , `network_username`
        , `active`
        , `game_id`
        , `data`
        , `uuid`
        , `date_modified`
        , `network_fullname`
        , `secret`
        , `token`
        , `date_created`
        , `network_auth`
        , `type`
        , `network_user_id`
    FROM `profile_game_network`
    WHERE 1=1
    AND `profile_id` = in_profile_id
    AND `game_id` = in_game_id
    AND `game_network_id` = in_game_network_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_game_network_get_network_username_game_id_game_netw`;

delimiter $$
CREATE PROCEDURE `usp_profile_game_network_get_network_username_game_id_game_netw`
(
    in_network_username VARCHAR (500) 
    , in_game_id BINARY(16) 
    , in_game_network_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `hash`
        , `profile_id`
        , `game_network_id`
        , `network_username`
        , `active`
        , `game_id`
        , `data`
        , `uuid`
        , `date_modified`
        , `network_fullname`
        , `secret`
        , `token`
        , `date_created`
        , `network_auth`
        , `type`
        , `network_user_id`
    FROM `profile_game_network`
    WHERE 1=1
    AND lower(`network_username`) = lower(in_network_username)
    AND `game_id` = in_game_id
    AND `game_network_id` = in_game_network_id
    ;
END$$
delimiter ;

-- -----------------------------------------------------------------------------
-- PROCS

-- ------------------------------------
-- COUNT

-- ------------------------------------
-- MODEL: ProfileGameDataAttribute - profile_game_data_attribute

                       
DROP PROCEDURE IF EXISTS `usp_profile_game_data_attribute_count`;
delimiter $$
CREATE PROCEDURE `usp_profile_game_data_attribute_count`
BEGIN
    SELECT
        COUNT(*) as count
    FROM `profile_game_data_attribute`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_game_data_attribute_count_uuid`;
delimiter $$
CREATE PROCEDURE `usp_profile_game_data_attribute_count_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `profile_game_data_attribute`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_game_data_attribute_count_profile_id`;
delimiter $$
CREATE PROCEDURE `usp_profile_game_data_attribute_count_profile_id`
(
    in_profile_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `profile_game_data_attribute`
    WHERE 1=1
    AND `profile_id` = in_profile_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_game_data_attribute_count_profile_id_game_id_code`;
delimiter $$
CREATE PROCEDURE `usp_profile_game_data_attribute_count_profile_id_game_id_code`
(
    in_profile_id BINARY(16) 
    , in_game_id BINARY(16) 
    , in_code VARCHAR (500) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `profile_game_data_attribute`
    WHERE 1=1
    AND `profile_id` = in_profile_id
    AND `game_id` = in_game_id
    AND lower(`code`) = lower(in_code)
    ;
END$$
delimiter ;

-- ------------------------------------
-- BROWSE

-- ------------------------------------
-- MODEL: ProfileGameDataAttribute - profile_game_data_attribute

                       
DROP PROCEDURE IF EXISTS `usp_profile_game_data_attribute_browse_filter`;

delimiter $$
CREATE PROCEDURE `usp_profile_game_data_attribute_browse_filter`
(
    in_page int,
    in_page_size int,
    in_sort VARCHAR(500),
    in_filter VARCHAR(4000)
    
)
BEGIN
    DECLARE total_rows int;
    SET total_rows = 0;
        
    IF (in_page = 0) THEN
        SET in_page = 1;
    END IF;    
    
    IF (in_page_size = 0) THEN
       SET in_page_size = 10;
    END IF;
    
    IF (in_sort = NULL || in_sort = '') THEN
       SET in_sort = ' date_modified ASC ';
    END IF;
    
    SET @sfields = CONCAT('', '`status`');
    SET @sfields = CONCAT(@sfields, ', `code`');
    SET @sfields = CONCAT(@sfields, ', `profile_id`');
    SET @sfields = CONCAT(@sfields, ', `active`');
    SET @sfields = CONCAT(@sfields, ', `game_id`');
    SET @sfields = CONCAT(@sfields, ', `name`');
    SET @sfields = CONCAT(@sfields, ', `uuid`');
    SET @sfields = CONCAT(@sfields, ', `val`');
    SET @sfields = CONCAT(@sfields, ', `date_modified`');
    SET @sfields = CONCAT(@sfields, ', `otype`');
    SET @sfields = CONCAT(@sfields, ', `date_created`');
    SET @sfields = CONCAT(@sfields, ', `type`');
    
    SET @stable = CONCAT('', ' FROM `profile_game_data_attribute` WHERE 1=1 ');
    
    SET @s = CONCAT(' ', @stable);
    SET @s = CONCAT(@s, ' ', in_filter);    
    
    SET @scount = CONCAT('SELECT COUNT(*) as `total_rows` ', @s, ' INTO @total_rows');
    
    PREPARE stmtcount FROM @scount;
    EXECUTE stmtcount;
    #SELECT @total_rows;
    SET total_rows = @total_rows;

    SET @sfields = CONCAT(total_rows, ' as `total_rows`, ', @sfields);
    SET @s = CONCAT('SELECT ', @sfields, @s);
    SET @s = CONCAT(@s, ' ORDER BY ', in_sort);
    SET @s = CONCAT(@s, ' LIMIT ', in_page);
    SET @s = CONCAT(@s, ',', in_page_size);    

    PREPARE stmt FROM @s;
    EXECUTE stmt;
    
END$$
delimiter ;
-- ------------------------------------
-- SET

-- ------------------------------------
-- MODEL: ProfileGameDataAttribute - profile_game_data_attribute

                       
DROP PROCEDURE IF EXISTS `usp_profile_game_data_attribute_set_uuid`;
delimiter $$
CREATE PROCEDURE `usp_profile_game_data_attribute_set_uuid`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_code VARCHAR (500) 
    , in_profile_id BINARY(16) 
    , in_active int 
    , in_game_id BINARY(16) 
    , in_name VARCHAR (500) 
    , in_uuid BINARY(16) 
    , in_val TEXT 
    , in_date_modified TIMESTAMP 
    , in_otype VARCHAR (500) 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (500) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `profile_game_data_attribute`  
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `profile_game_data_attribute` 
                    SET
                        `status` = in_status
                        , `code` = in_code
                        , `profile_id` = in_profile_id
                        , `active` = in_active
                        , `game_id` = in_game_id
                        , `name` = in_name
                        , `uuid` = in_uuid
                        , `val` = in_val
                        , `date_modified` = in_date_modified
                        , `otype` = in_otype
                        , `date_created` = in_date_created
                        , `type` = in_type
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `profile_game_data_attribute`
                    (
                        `status`
                        , `code`
                        , `profile_id`
                        , `active`
                        , `game_id`
                        , `name`
                        , `uuid`
                        , `val`
                        , `date_modified`
                        , `otype`
                        , `date_created`
                        , `type`
                    )
                    VALUES
                    (
                        in_status
                        , in_code
                        , in_profile_id
                        , in_active
                        , in_game_id
                        , in_name
                        , in_uuid
                        , in_val
                        , in_date_modified
                        , in_otype
                        , in_date_created
                        , in_type
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_game_data_attribute_set_profile_id`;
delimiter $$
CREATE PROCEDURE `usp_profile_game_data_attribute_set_profile_id`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_code VARCHAR (500) 
    , in_profile_id BINARY(16) 
    , in_active int 
    , in_game_id BINARY(16) 
    , in_name VARCHAR (500) 
    , in_uuid BINARY(16) 
    , in_val TEXT 
    , in_date_modified TIMESTAMP 
    , in_otype VARCHAR (500) 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (500) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `profile_game_data_attribute`  
                    WHERE 1=1
                    AND `profile_id` = in_profile_id
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `profile_game_data_attribute` 
                    SET
                        `status` = in_status
                        , `code` = in_code
                        , `profile_id` = in_profile_id
                        , `active` = in_active
                        , `game_id` = in_game_id
                        , `name` = in_name
                        , `uuid` = in_uuid
                        , `val` = in_val
                        , `date_modified` = in_date_modified
                        , `otype` = in_otype
                        , `date_created` = in_date_created
                        , `type` = in_type
                    WHERE 1=1
                    AND `profile_id` = in_profile_id
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `profile_game_data_attribute`
                    (
                        `status`
                        , `code`
                        , `profile_id`
                        , `active`
                        , `game_id`
                        , `name`
                        , `uuid`
                        , `val`
                        , `date_modified`
                        , `otype`
                        , `date_created`
                        , `type`
                    )
                    VALUES
                    (
                        in_status
                        , in_code
                        , in_profile_id
                        , in_active
                        , in_game_id
                        , in_name
                        , in_uuid
                        , in_val
                        , in_date_modified
                        , in_otype
                        , in_date_created
                        , in_type
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_game_data_attribute_set_profile_id_game_id_code`;
delimiter $$
CREATE PROCEDURE `usp_profile_game_data_attribute_set_profile_id_game_id_code`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_code VARCHAR (500) 
    , in_profile_id BINARY(16) 
    , in_active int 
    , in_game_id BINARY(16) 
    , in_name VARCHAR (500) 
    , in_uuid BINARY(16) 
    , in_val TEXT 
    , in_date_modified TIMESTAMP 
    , in_otype VARCHAR (500) 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (500) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `profile_game_data_attribute`  
                    WHERE 1=1
                    AND `profile_id` = in_profile_id
                    AND `game_id` = in_game_id
                    AND lower(`code`) = lower(in_code)
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `profile_game_data_attribute` 
                    SET
                        `status` = in_status
                        , `code` = in_code
                        , `profile_id` = in_profile_id
                        , `active` = in_active
                        , `game_id` = in_game_id
                        , `name` = in_name
                        , `uuid` = in_uuid
                        , `val` = in_val
                        , `date_modified` = in_date_modified
                        , `otype` = in_otype
                        , `date_created` = in_date_created
                        , `type` = in_type
                    WHERE 1=1
                    AND `profile_id` = in_profile_id
                    AND `game_id` = in_game_id
                    AND lower(`code`) = lower(in_code)
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `profile_game_data_attribute`
                    (
                        `status`
                        , `code`
                        , `profile_id`
                        , `active`
                        , `game_id`
                        , `name`
                        , `uuid`
                        , `val`
                        , `date_modified`
                        , `otype`
                        , `date_created`
                        , `type`
                    )
                    VALUES
                    (
                        in_status
                        , in_code
                        , in_profile_id
                        , in_active
                        , in_game_id
                        , in_name
                        , in_uuid
                        , in_val
                        , in_date_modified
                        , in_otype
                        , in_date_created
                        , in_type
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

-- ------------------------------------
-- DEL

-- ------------------------------------
-- MODEL: ProfileGameDataAttribute - profile_game_data_attribute

                       
DROP PROCEDURE IF EXISTS `usp_profile_game_data_attribute_del_uuid`;

delimiter $$
CREATE PROCEDURE `usp_profile_game_data_attribute_del_uuid`
(
    in_uuid BINARY(16) 
)

BEGIN
    DELETE 
    FROM `profile_game_data_attribute`
    WHERE 1=1                        
    AND "uuid" = in_uuid
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_profile_game_data_attribute_del_profile_id`;

delimiter $$
CREATE PROCEDURE `usp_profile_game_data_attribute_del_profile_id`
(
    in_profile_id BINARY(16) 
)

BEGIN
    DELETE 
    FROM `profile_game_data_attribute`
    WHERE 1=1                        
    AND "profile_id" = in_profile_id
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_profile_game_data_attribute_del_profile_id_game_id_code`;

delimiter $$
CREATE PROCEDURE `usp_profile_game_data_attribute_del_profile_id_game_id_code`
(
    in_profile_id BINARY(16) 
    , in_game_id BINARY(16) 
    , in_code VARCHAR (500) 
)

BEGIN
    DELETE 
    FROM `profile_game_data_attribute`
    WHERE 1=1                        
    AND "profile_id" = in_profile_id
    AND "game_id" = in_game_id
    AND lower("code") = lower(in_code)
    ;
END$$
delimiter ;
-- ------------------------------------
-- GET

-- ------------------------------------
-- MODEL: ProfileGameDataAttribute - profile_game_data_attribute

                       
DROP PROCEDURE IF EXISTS `usp_profile_game_data_attribute_get_uuid`;

delimiter $$
CREATE PROCEDURE `usp_profile_game_data_attribute_get_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `profile_id`
        , `active`
        , `game_id`
        , `name`
        , `uuid`
        , `val`
        , `date_modified`
        , `otype`
        , `date_created`
        , `type`
    FROM `profile_game_data_attribute`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_game_data_attribute_get_profile_id`;

delimiter $$
CREATE PROCEDURE `usp_profile_game_data_attribute_get_profile_id`
(
    in_profile_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `profile_id`
        , `active`
        , `game_id`
        , `name`
        , `uuid`
        , `val`
        , `date_modified`
        , `otype`
        , `date_created`
        , `type`
    FROM `profile_game_data_attribute`
    WHERE 1=1
    AND `profile_id` = in_profile_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_game_data_attribute_get_profile_id_game_id_code`;

delimiter $$
CREATE PROCEDURE `usp_profile_game_data_attribute_get_profile_id_game_id_code`
(
    in_profile_id BINARY(16) 
    , in_game_id BINARY(16) 
    , in_code VARCHAR (500) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `profile_id`
        , `active`
        , `game_id`
        , `name`
        , `uuid`
        , `val`
        , `date_modified`
        , `otype`
        , `date_created`
        , `type`
    FROM `profile_game_data_attribute`
    WHERE 1=1
    AND `profile_id` = in_profile_id
    AND `game_id` = in_game_id
    AND lower(`code`) = lower(in_code)
    ;
END$$
delimiter ;

-- -----------------------------------------------------------------------------
-- PROCS

-- ------------------------------------
-- COUNT

-- ------------------------------------
-- MODEL: GameSession - game_session

                       
DROP PROCEDURE IF EXISTS `usp_game_session_count`;
delimiter $$
CREATE PROCEDURE `usp_game_session_count`
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_session`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_session_count_uuid`;
delimiter $$
CREATE PROCEDURE `usp_game_session_count_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_session`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_session_count_game_id`;
delimiter $$
CREATE PROCEDURE `usp_game_session_count_game_id`
(
    in_game_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_session`
    WHERE 1=1
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_session_count_profile_id`;
delimiter $$
CREATE PROCEDURE `usp_game_session_count_profile_id`
(
    in_profile_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_session`
    WHERE 1=1
    AND `profile_id` = in_profile_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_session_count_profile_id_game_id`;
delimiter $$
CREATE PROCEDURE `usp_game_session_count_profile_id_game_id`
(
    in_profile_id BINARY(16) 
    , in_game_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_session`
    WHERE 1=1
    AND `profile_id` = in_profile_id
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

-- ------------------------------------
-- BROWSE

-- ------------------------------------
-- MODEL: GameSession - game_session

                       
DROP PROCEDURE IF EXISTS `usp_game_session_browse_filter`;

delimiter $$
CREATE PROCEDURE `usp_game_session_browse_filter`
(
    in_page int,
    in_page_size int,
    in_sort VARCHAR(500),
    in_filter VARCHAR(4000)
    
)
BEGIN
    DECLARE total_rows int;
    SET total_rows = 0;
        
    IF (in_page = 0) THEN
        SET in_page = 1;
    END IF;    
    
    IF (in_page_size = 0) THEN
       SET in_page_size = 10;
    END IF;
    
    IF (in_sort = NULL || in_sort = '') THEN
       SET in_sort = ' date_modified ASC ';
    END IF;
    
    SET @sfields = CONCAT('', '`game_area`');
    SET @sfields = CONCAT(@sfields, ', `code`');
    SET @sfields = CONCAT(@sfields, ', `network_uuid`');
    SET @sfields = CONCAT(@sfields, ', `profile_id`');
    SET @sfields = CONCAT(@sfields, ', `game_level`');
    SET @sfields = CONCAT(@sfields, ', `profile_network`');
    SET @sfields = CONCAT(@sfields, ', `profile_device`');
    SET @sfields = CONCAT(@sfields, ', `display_name`');
    SET @sfields = CONCAT(@sfields, ', `uuid`');
    SET @sfields = CONCAT(@sfields, ', `network_external_port`');
    SET @sfields = CONCAT(@sfields, ', `game_players_connected`');
    SET @sfields = CONCAT(@sfields, ', `type`');
    SET @sfields = CONCAT(@sfields, ', `status`');
    SET @sfields = CONCAT(@sfields, ', `game_state`');
    SET @sfields = CONCAT(@sfields, ', `hash`');
    SET @sfields = CONCAT(@sfields, ', `description`');
    SET @sfields = CONCAT(@sfields, ', `network_external_ip`');
    SET @sfields = CONCAT(@sfields, ', `profile_username`');
    SET @sfields = CONCAT(@sfields, ', `active`');
    SET @sfields = CONCAT(@sfields, ', `game_id`');
    SET @sfields = CONCAT(@sfields, ', `game_code`');
    SET @sfields = CONCAT(@sfields, ', `game_player_z`');
    SET @sfields = CONCAT(@sfields, ', `game_player_x`');
    SET @sfields = CONCAT(@sfields, ', `game_player_y`');
    SET @sfields = CONCAT(@sfields, ', `network_port`');
    SET @sfields = CONCAT(@sfields, ', `game_players_allowed`');
    SET @sfields = CONCAT(@sfields, ', `name`');
    SET @sfields = CONCAT(@sfields, ', `date_modified`');
    SET @sfields = CONCAT(@sfields, ', `game_type`');
    SET @sfields = CONCAT(@sfields, ', `date_created`');
    SET @sfields = CONCAT(@sfields, ', `network_ip`');
    SET @sfields = CONCAT(@sfields, ', `network_use_nat`');
    
    SET @stable = CONCAT('', ' FROM `game_session` WHERE 1=1 ');
    
    SET @s = CONCAT(' ', @stable);
    SET @s = CONCAT(@s, ' ', in_filter);    
    
    SET @scount = CONCAT('SELECT COUNT(*) as `total_rows` ', @s, ' INTO @total_rows');
    
    PREPARE stmtcount FROM @scount;
    EXECUTE stmtcount;
    #SELECT @total_rows;
    SET total_rows = @total_rows;

    SET @sfields = CONCAT(total_rows, ' as `total_rows`, ', @sfields);
    SET @s = CONCAT('SELECT ', @sfields, @s);
    SET @s = CONCAT(@s, ' ORDER BY ', in_sort);
    SET @s = CONCAT(@s, ' LIMIT ', in_page);
    SET @s = CONCAT(@s, ',', in_page_size);    

    PREPARE stmt FROM @s;
    EXECUTE stmt;
    
END$$
delimiter ;
-- ------------------------------------
-- SET

-- ------------------------------------
-- MODEL: GameSession - game_session

                       
DROP PROCEDURE IF EXISTS `usp_game_session_set_uuid`;
delimiter $$
CREATE PROCEDURE `usp_game_session_set_uuid`
(
    in_set_type varchar(50)                      
    , in_game_area VARCHAR (255) 
    , in_code VARCHAR (255) 
    , in_network_uuid VARCHAR (40) 
    , in_profile_id BINARY(16) 
    , in_game_level VARCHAR (255) 
    , in_profile_network VARCHAR (255) 
    , in_profile_device VARCHAR (50) 
    , in_display_name VARCHAR (255) 
    , in_uuid BINARY(16) 
    , in_network_external_port INTEGER 
    , in_game_players_connected INTEGER 
    , in_type VARCHAR (500) 
    , in_status VARCHAR (255) 
    , in_game_state VARCHAR (50) 
    , in_hash VARCHAR (255) 
    , in_description VARCHAR (255) 
    , in_network_external_ip VARCHAR (40) 
    , in_profile_username VARCHAR (500) 
    , in_active int 
    , in_game_id BINARY(16) 
    , in_game_code VARCHAR (255) 
    , in_game_player_z decimal 
    , in_game_player_x decimal 
    , in_game_player_y decimal 
    , in_network_port INTEGER 
    , in_game_players_allowed INTEGER 
    , in_name VARCHAR (255) 
    , in_date_modified TIMESTAMP 
    , in_game_type VARCHAR (255) 
    , in_date_created TIMESTAMP 
    , in_network_ip VARCHAR (40) 
    , in_network_use_nat int 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_session`  
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_session` 
                    SET
                        `game_area` = in_game_area
                        , `code` = in_code
                        , `network_uuid` = in_network_uuid
                        , `profile_id` = in_profile_id
                        , `game_level` = in_game_level
                        , `profile_network` = in_profile_network
                        , `profile_device` = in_profile_device
                        , `display_name` = in_display_name
                        , `uuid` = in_uuid
                        , `network_external_port` = in_network_external_port
                        , `game_players_connected` = in_game_players_connected
                        , `type` = in_type
                        , `status` = in_status
                        , `game_state` = in_game_state
                        , `hash` = in_hash
                        , `description` = in_description
                        , `network_external_ip` = in_network_external_ip
                        , `profile_username` = in_profile_username
                        , `active` = in_active
                        , `game_id` = in_game_id
                        , `game_code` = in_game_code
                        , `game_player_z` = in_game_player_z
                        , `game_player_x` = in_game_player_x
                        , `game_player_y` = in_game_player_y
                        , `network_port` = in_network_port
                        , `game_players_allowed` = in_game_players_allowed
                        , `name` = in_name
                        , `date_modified` = in_date_modified
                        , `game_type` = in_game_type
                        , `date_created` = in_date_created
                        , `network_ip` = in_network_ip
                        , `network_use_nat` = in_network_use_nat
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_session`
                    (
                        `game_area`
                        , `code`
                        , `network_uuid`
                        , `profile_id`
                        , `game_level`
                        , `profile_network`
                        , `profile_device`
                        , `display_name`
                        , `uuid`
                        , `network_external_port`
                        , `game_players_connected`
                        , `type`
                        , `status`
                        , `game_state`
                        , `hash`
                        , `description`
                        , `network_external_ip`
                        , `profile_username`
                        , `active`
                        , `game_id`
                        , `game_code`
                        , `game_player_z`
                        , `game_player_x`
                        , `game_player_y`
                        , `network_port`
                        , `game_players_allowed`
                        , `name`
                        , `date_modified`
                        , `game_type`
                        , `date_created`
                        , `network_ip`
                        , `network_use_nat`
                    )
                    VALUES
                    (
                        in_game_area
                        , in_code
                        , in_network_uuid
                        , in_profile_id
                        , in_game_level
                        , in_profile_network
                        , in_profile_device
                        , in_display_name
                        , in_uuid
                        , in_network_external_port
                        , in_game_players_connected
                        , in_type
                        , in_status
                        , in_game_state
                        , in_hash
                        , in_description
                        , in_network_external_ip
                        , in_profile_username
                        , in_active
                        , in_game_id
                        , in_game_code
                        , in_game_player_z
                        , in_game_player_x
                        , in_game_player_y
                        , in_network_port
                        , in_game_players_allowed
                        , in_name
                        , in_date_modified
                        , in_game_type
                        , in_date_created
                        , in_network_ip
                        , in_network_use_nat
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

-- ------------------------------------
-- DEL

-- ------------------------------------
-- MODEL: GameSession - game_session

                       
DROP PROCEDURE IF EXISTS `usp_game_session_del_uuid`;

delimiter $$
CREATE PROCEDURE `usp_game_session_del_uuid`
(
    in_uuid BINARY(16) 
)

BEGIN
    DELETE 
    FROM `game_session`
    WHERE 1=1                        
    AND "uuid" = in_uuid
    ;
END$$
delimiter ;
-- ------------------------------------
-- GET

-- ------------------------------------
-- MODEL: GameSession - game_session

                       
DROP PROCEDURE IF EXISTS `usp_game_session_get`;

delimiter $$
CREATE PROCEDURE `usp_game_session_get`
(
)                        
BEGIN
    SELECT
        `game_area`
        , `code`
        , `network_uuid`
        , `profile_id`
        , `game_level`
        , `profile_network`
        , `profile_device`
        , `display_name`
        , `uuid`
        , `network_external_port`
        , `game_players_connected`
        , `type`
        , `status`
        , `game_state`
        , `hash`
        , `description`
        , `network_external_ip`
        , `profile_username`
        , `active`
        , `game_id`
        , `game_code`
        , `game_player_z`
        , `game_player_x`
        , `game_player_y`
        , `network_port`
        , `game_players_allowed`
        , `name`
        , `date_modified`
        , `game_type`
        , `date_created`
        , `network_ip`
        , `network_use_nat`
    FROM `game_session`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_session_get_uuid`;

delimiter $$
CREATE PROCEDURE `usp_game_session_get_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        `game_area`
        , `code`
        , `network_uuid`
        , `profile_id`
        , `game_level`
        , `profile_network`
        , `profile_device`
        , `display_name`
        , `uuid`
        , `network_external_port`
        , `game_players_connected`
        , `type`
        , `status`
        , `game_state`
        , `hash`
        , `description`
        , `network_external_ip`
        , `profile_username`
        , `active`
        , `game_id`
        , `game_code`
        , `game_player_z`
        , `game_player_x`
        , `game_player_y`
        , `network_port`
        , `game_players_allowed`
        , `name`
        , `date_modified`
        , `game_type`
        , `date_created`
        , `network_ip`
        , `network_use_nat`
    FROM `game_session`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_session_get_game_id`;

delimiter $$
CREATE PROCEDURE `usp_game_session_get_game_id`
(
    in_game_id BINARY(16) 
)
BEGIN
    SELECT
        `game_area`
        , `code`
        , `network_uuid`
        , `profile_id`
        , `game_level`
        , `profile_network`
        , `profile_device`
        , `display_name`
        , `uuid`
        , `network_external_port`
        , `game_players_connected`
        , `type`
        , `status`
        , `game_state`
        , `hash`
        , `description`
        , `network_external_ip`
        , `profile_username`
        , `active`
        , `game_id`
        , `game_code`
        , `game_player_z`
        , `game_player_x`
        , `game_player_y`
        , `network_port`
        , `game_players_allowed`
        , `name`
        , `date_modified`
        , `game_type`
        , `date_created`
        , `network_ip`
        , `network_use_nat`
    FROM `game_session`
    WHERE 1=1
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_session_get_profile_id`;

delimiter $$
CREATE PROCEDURE `usp_game_session_get_profile_id`
(
    in_profile_id BINARY(16) 
)
BEGIN
    SELECT
        `game_area`
        , `code`
        , `network_uuid`
        , `profile_id`
        , `game_level`
        , `profile_network`
        , `profile_device`
        , `display_name`
        , `uuid`
        , `network_external_port`
        , `game_players_connected`
        , `type`
        , `status`
        , `game_state`
        , `hash`
        , `description`
        , `network_external_ip`
        , `profile_username`
        , `active`
        , `game_id`
        , `game_code`
        , `game_player_z`
        , `game_player_x`
        , `game_player_y`
        , `network_port`
        , `game_players_allowed`
        , `name`
        , `date_modified`
        , `game_type`
        , `date_created`
        , `network_ip`
        , `network_use_nat`
    FROM `game_session`
    WHERE 1=1
    AND `profile_id` = in_profile_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_session_get_profile_id_game_id`;

delimiter $$
CREATE PROCEDURE `usp_game_session_get_profile_id_game_id`
(
    in_profile_id BINARY(16) 
    , in_game_id BINARY(16) 
)
BEGIN
    SELECT
        `game_area`
        , `code`
        , `network_uuid`
        , `profile_id`
        , `game_level`
        , `profile_network`
        , `profile_device`
        , `display_name`
        , `uuid`
        , `network_external_port`
        , `game_players_connected`
        , `type`
        , `status`
        , `game_state`
        , `hash`
        , `description`
        , `network_external_ip`
        , `profile_username`
        , `active`
        , `game_id`
        , `game_code`
        , `game_player_z`
        , `game_player_x`
        , `game_player_y`
        , `network_port`
        , `game_players_allowed`
        , `name`
        , `date_modified`
        , `game_type`
        , `date_created`
        , `network_ip`
        , `network_use_nat`
    FROM `game_session`
    WHERE 1=1
    AND `profile_id` = in_profile_id
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

-- -----------------------------------------------------------------------------
-- PROCS

-- ------------------------------------
-- COUNT

-- ------------------------------------
-- MODEL: GameSessionData - game_session_data

                       
DROP PROCEDURE IF EXISTS `usp_game_session_data_count`;
delimiter $$
CREATE PROCEDURE `usp_game_session_data_count`
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_session_data`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_session_data_count_uuid`;
delimiter $$
CREATE PROCEDURE `usp_game_session_data_count_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_session_data`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

-- ------------------------------------
-- BROWSE

-- ------------------------------------
-- MODEL: GameSessionData - game_session_data

                       
DROP PROCEDURE IF EXISTS `usp_game_session_data_browse_filter`;

delimiter $$
CREATE PROCEDURE `usp_game_session_data_browse_filter`
(
    in_page int,
    in_page_size int,
    in_sort VARCHAR(500),
    in_filter VARCHAR(4000)
    
)
BEGIN
    DECLARE total_rows int;
    SET total_rows = 0;
        
    IF (in_page = 0) THEN
        SET in_page = 1;
    END IF;    
    
    IF (in_page_size = 0) THEN
       SET in_page_size = 10;
    END IF;
    
    IF (in_sort = NULL || in_sort = '') THEN
       SET in_sort = ' date_modified ASC ';
    END IF;
    
    SET @sfields = CONCAT('', '`status`');
    SET @sfields = CONCAT(@sfields, ', `code`');
    SET @sfields = CONCAT(@sfields, ', `display_name`');
    SET @sfields = CONCAT(@sfields, ', `name`');
    SET @sfields = CONCAT(@sfields, ', `date_modified`');
    SET @sfields = CONCAT(@sfields, ', `data_results`');
    SET @sfields = CONCAT(@sfields, ', `data`');
    SET @sfields = CONCAT(@sfields, ', `uuid`');
    SET @sfields = CONCAT(@sfields, ', `data_layer_projectile`');
    SET @sfields = CONCAT(@sfields, ', `data_layer_actors`');
    SET @sfields = CONCAT(@sfields, ', `active`');
    SET @sfields = CONCAT(@sfields, ', `date_created`');
    SET @sfields = CONCAT(@sfields, ', `data_layer_enemy`');
    SET @sfields = CONCAT(@sfields, ', `type`');
    SET @sfields = CONCAT(@sfields, ', `description`');
    
    SET @stable = CONCAT('', ' FROM `game_session_data` WHERE 1=1 ');
    
    SET @s = CONCAT(' ', @stable);
    SET @s = CONCAT(@s, ' ', in_filter);    
    
    SET @scount = CONCAT('SELECT COUNT(*) as `total_rows` ', @s, ' INTO @total_rows');
    
    PREPARE stmtcount FROM @scount;
    EXECUTE stmtcount;
    #SELECT @total_rows;
    SET total_rows = @total_rows;

    SET @sfields = CONCAT(total_rows, ' as `total_rows`, ', @sfields);
    SET @s = CONCAT('SELECT ', @sfields, @s);
    SET @s = CONCAT(@s, ' ORDER BY ', in_sort);
    SET @s = CONCAT(@s, ' LIMIT ', in_page);
    SET @s = CONCAT(@s, ',', in_page_size);    

    PREPARE stmt FROM @s;
    EXECUTE stmt;
    
END$$
delimiter ;
-- ------------------------------------
-- SET

-- ------------------------------------
-- MODEL: GameSessionData - game_session_data

                       
DROP PROCEDURE IF EXISTS `usp_game_session_data_set_uuid`;
delimiter $$
CREATE PROCEDURE `usp_game_session_data_set_uuid`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_code VARCHAR (255) 
    , in_display_name VARCHAR (255) 
    , in_name VARCHAR (255) 
    , in_date_modified TIMESTAMP 
    , in_data_results TEXT 
    , in_data TEXT 
    , in_uuid BINARY(16) 
    , in_data_layer_projectile TEXT 
    , in_data_layer_actors TEXT 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_data_layer_enemy TEXT 
    , in_type VARCHAR (500) 
    , in_description VARCHAR (255) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_session_data`  
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_session_data` 
                    SET
                        `status` = in_status
                        , `code` = in_code
                        , `display_name` = in_display_name
                        , `name` = in_name
                        , `date_modified` = in_date_modified
                        , `data_results` = in_data_results
                        , `data` = in_data
                        , `uuid` = in_uuid
                        , `data_layer_projectile` = in_data_layer_projectile
                        , `data_layer_actors` = in_data_layer_actors
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `data_layer_enemy` = in_data_layer_enemy
                        , `type` = in_type
                        , `description` = in_description
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_session_data`
                    (
                        `status`
                        , `code`
                        , `display_name`
                        , `name`
                        , `date_modified`
                        , `data_results`
                        , `data`
                        , `uuid`
                        , `data_layer_projectile`
                        , `data_layer_actors`
                        , `active`
                        , `date_created`
                        , `data_layer_enemy`
                        , `type`
                        , `description`
                    )
                    VALUES
                    (
                        in_status
                        , in_code
                        , in_display_name
                        , in_name
                        , in_date_modified
                        , in_data_results
                        , in_data
                        , in_uuid
                        , in_data_layer_projectile
                        , in_data_layer_actors
                        , in_active
                        , in_date_created
                        , in_data_layer_enemy
                        , in_type
                        , in_description
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

-- ------------------------------------
-- DEL

-- ------------------------------------
-- MODEL: GameSessionData - game_session_data

                       
DROP PROCEDURE IF EXISTS `usp_game_session_data_del_uuid`;

delimiter $$
CREATE PROCEDURE `usp_game_session_data_del_uuid`
(
    in_uuid BINARY(16) 
)

BEGIN
    DELETE 
    FROM `game_session_data`
    WHERE 1=1                        
    AND "uuid" = in_uuid
    ;
END$$
delimiter ;
-- ------------------------------------
-- GET

-- ------------------------------------
-- MODEL: GameSessionData - game_session_data

                       
DROP PROCEDURE IF EXISTS `usp_game_session_data_get`;

delimiter $$
CREATE PROCEDURE `usp_game_session_data_get`
(
)                        
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `data_results`
        , `data`
        , `uuid`
        , `data_layer_projectile`
        , `data_layer_actors`
        , `active`
        , `date_created`
        , `data_layer_enemy`
        , `type`
        , `description`
    FROM `game_session_data`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_session_data_get_uuid`;

delimiter $$
CREATE PROCEDURE `usp_game_session_data_get_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `data_results`
        , `data`
        , `uuid`
        , `data_layer_projectile`
        , `data_layer_actors`
        , `active`
        , `date_created`
        , `data_layer_enemy`
        , `type`
        , `description`
    FROM `game_session_data`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

-- -----------------------------------------------------------------------------
-- PROCS

-- ------------------------------------
-- COUNT

-- ------------------------------------
-- MODEL: GameContent - game_content

                       
DROP PROCEDURE IF EXISTS `usp_game_content_count`;
delimiter $$
CREATE PROCEDURE `usp_game_content_count`
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_content`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_content_count_uuid`;
delimiter $$
CREATE PROCEDURE `usp_game_content_count_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_content`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_content_count_game_id`;
delimiter $$
CREATE PROCEDURE `usp_game_content_count_game_id`
(
    in_game_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_content`
    WHERE 1=1
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_content_count_game_id_path`;
delimiter $$
CREATE PROCEDURE `usp_game_content_count_game_id_path`
(
    in_game_id BINARY(16) 
    , in_path VARCHAR (500) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_content`
    WHERE 1=1
    AND `game_id` = in_game_id
    AND lower(`path`) = lower(in_path)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_content_count_game_id_path_version`;
delimiter $$
CREATE PROCEDURE `usp_game_content_count_game_id_path_version`
(
    in_game_id BINARY(16) 
    , in_path VARCHAR (500) 
    , in_version VARCHAR (255) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_content`
    WHERE 1=1
    AND `game_id` = in_game_id
    AND lower(`path`) = lower(in_path)
    AND lower(`version`) = lower(in_version)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_content_count_game_id_path_version_platform_increment`;
delimiter $$
CREATE PROCEDURE `usp_game_content_count_game_id_path_version_platform_increment`
(
    in_game_id BINARY(16) 
    , in_path VARCHAR (500) 
    , in_version VARCHAR (255) 
    , in_platform VARCHAR (255) 
    , in_increment INTEGER 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_content`
    WHERE 1=1
    AND `game_id` = in_game_id
    AND lower(`path`) = lower(in_path)
    AND lower(`version`) = lower(in_version)
    AND lower(`platform`) = lower(in_platform)
    AND `increment` = in_increment
    ;
END$$
delimiter ;

-- ------------------------------------
-- BROWSE

-- ------------------------------------
-- MODEL: GameContent - game_content

                       
DROP PROCEDURE IF EXISTS `usp_game_content_browse_filter`;

delimiter $$
CREATE PROCEDURE `usp_game_content_browse_filter`
(
    in_page int,
    in_page_size int,
    in_sort VARCHAR(500),
    in_filter VARCHAR(4000)
    
)
BEGIN
    DECLARE total_rows int;
    SET total_rows = 0;
        
    IF (in_page = 0) THEN
        SET in_page = 1;
    END IF;    
    
    IF (in_page_size = 0) THEN
       SET in_page_size = 10;
    END IF;
    
    IF (in_sort = NULL || in_sort = '') THEN
       SET in_sort = ' date_modified ASC ';
    END IF;
    
    SET @sfields = CONCAT('', '`status`');
    SET @sfields = CONCAT(@sfields, ', `code`');
    SET @sfields = CONCAT(@sfields, ', `display_name`');
    SET @sfields = CONCAT(@sfields, ', `name`');
    SET @sfields = CONCAT(@sfields, ', `extension`');
    SET @sfields = CONCAT(@sfields, ', `date_modified`');
    SET @sfields = CONCAT(@sfields, ', `data`');
    SET @sfields = CONCAT(@sfields, ', `game_id`');
    SET @sfields = CONCAT(@sfields, ', `uuid`');
    SET @sfields = CONCAT(@sfields, ', `filename`');
    SET @sfields = CONCAT(@sfields, ', `source`');
    SET @sfields = CONCAT(@sfields, ', `version`');
    SET @sfields = CONCAT(@sfields, ', `platform`');
    SET @sfields = CONCAT(@sfields, ', `content_type`');
    SET @sfields = CONCAT(@sfields, ', `path`');
    SET @sfields = CONCAT(@sfields, ', `active`');
    SET @sfields = CONCAT(@sfields, ', `date_created`');
    SET @sfields = CONCAT(@sfields, ', `increment`');
    SET @sfields = CONCAT(@sfields, ', `type`');
    SET @sfields = CONCAT(@sfields, ', `hash`');
    SET @sfields = CONCAT(@sfields, ', `description`');
    
    SET @stable = CONCAT('', ' FROM `game_content` WHERE 1=1 ');
    
    SET @s = CONCAT(' ', @stable);
    SET @s = CONCAT(@s, ' ', in_filter);    
    
    SET @scount = CONCAT('SELECT COUNT(*) as `total_rows` ', @s, ' INTO @total_rows');
    
    PREPARE stmtcount FROM @scount;
    EXECUTE stmtcount;
    #SELECT @total_rows;
    SET total_rows = @total_rows;

    SET @sfields = CONCAT(total_rows, ' as `total_rows`, ', @sfields);
    SET @s = CONCAT('SELECT ', @sfields, @s);
    SET @s = CONCAT(@s, ' ORDER BY ', in_sort);
    SET @s = CONCAT(@s, ' LIMIT ', in_page);
    SET @s = CONCAT(@s, ',', in_page_size);    

    PREPARE stmt FROM @s;
    EXECUTE stmt;
    
END$$
delimiter ;
-- ------------------------------------
-- SET

-- ------------------------------------
-- MODEL: GameContent - game_content

                       
DROP PROCEDURE IF EXISTS `usp_game_content_set_uuid`;
delimiter $$
CREATE PROCEDURE `usp_game_content_set_uuid`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_code VARCHAR (255) 
    , in_display_name VARCHAR (255) 
    , in_name VARCHAR (255) 
    , in_extension VARCHAR (50) 
    , in_date_modified TIMESTAMP 
    , in_data TEXT 
    , in_game_id BINARY(16) 
    , in_uuid BINARY(16) 
    , in_filename VARCHAR (500) 
    , in_source VARCHAR (255) 
    , in_version VARCHAR (255) 
    , in_platform VARCHAR (255) 
    , in_content_type VARCHAR (255) 
    , in_path VARCHAR (500) 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_increment INTEGER 
    , in_type VARCHAR (500) 
    , in_hash VARCHAR (255) 
    , in_description VARCHAR (255) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_content`  
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_content` 
                    SET
                        `status` = in_status
                        , `code` = in_code
                        , `display_name` = in_display_name
                        , `name` = in_name
                        , `extension` = in_extension
                        , `date_modified` = in_date_modified
                        , `data` = in_data
                        , `game_id` = in_game_id
                        , `uuid` = in_uuid
                        , `filename` = in_filename
                        , `source` = in_source
                        , `version` = in_version
                        , `platform` = in_platform
                        , `content_type` = in_content_type
                        , `path` = in_path
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `increment` = in_increment
                        , `type` = in_type
                        , `hash` = in_hash
                        , `description` = in_description
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_content`
                    (
                        `status`
                        , `code`
                        , `display_name`
                        , `name`
                        , `extension`
                        , `date_modified`
                        , `data`
                        , `game_id`
                        , `uuid`
                        , `filename`
                        , `source`
                        , `version`
                        , `platform`
                        , `content_type`
                        , `path`
                        , `active`
                        , `date_created`
                        , `increment`
                        , `type`
                        , `hash`
                        , `description`
                    )
                    VALUES
                    (
                        in_status
                        , in_code
                        , in_display_name
                        , in_name
                        , in_extension
                        , in_date_modified
                        , in_data
                        , in_game_id
                        , in_uuid
                        , in_filename
                        , in_source
                        , in_version
                        , in_platform
                        , in_content_type
                        , in_path
                        , in_active
                        , in_date_created
                        , in_increment
                        , in_type
                        , in_hash
                        , in_description
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_content_set_game_id`;
delimiter $$
CREATE PROCEDURE `usp_game_content_set_game_id`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_code VARCHAR (255) 
    , in_display_name VARCHAR (255) 
    , in_name VARCHAR (255) 
    , in_extension VARCHAR (50) 
    , in_date_modified TIMESTAMP 
    , in_data TEXT 
    , in_game_id BINARY(16) 
    , in_uuid BINARY(16) 
    , in_filename VARCHAR (500) 
    , in_source VARCHAR (255) 
    , in_version VARCHAR (255) 
    , in_platform VARCHAR (255) 
    , in_content_type VARCHAR (255) 
    , in_path VARCHAR (500) 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_increment INTEGER 
    , in_type VARCHAR (500) 
    , in_hash VARCHAR (255) 
    , in_description VARCHAR (255) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_content`  
                    WHERE 1=1
                    AND `game_id` = in_game_id
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_content` 
                    SET
                        `status` = in_status
                        , `code` = in_code
                        , `display_name` = in_display_name
                        , `name` = in_name
                        , `extension` = in_extension
                        , `date_modified` = in_date_modified
                        , `data` = in_data
                        , `game_id` = in_game_id
                        , `uuid` = in_uuid
                        , `filename` = in_filename
                        , `source` = in_source
                        , `version` = in_version
                        , `platform` = in_platform
                        , `content_type` = in_content_type
                        , `path` = in_path
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `increment` = in_increment
                        , `type` = in_type
                        , `hash` = in_hash
                        , `description` = in_description
                    WHERE 1=1
                    AND `game_id` = in_game_id
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_content`
                    (
                        `status`
                        , `code`
                        , `display_name`
                        , `name`
                        , `extension`
                        , `date_modified`
                        , `data`
                        , `game_id`
                        , `uuid`
                        , `filename`
                        , `source`
                        , `version`
                        , `platform`
                        , `content_type`
                        , `path`
                        , `active`
                        , `date_created`
                        , `increment`
                        , `type`
                        , `hash`
                        , `description`
                    )
                    VALUES
                    (
                        in_status
                        , in_code
                        , in_display_name
                        , in_name
                        , in_extension
                        , in_date_modified
                        , in_data
                        , in_game_id
                        , in_uuid
                        , in_filename
                        , in_source
                        , in_version
                        , in_platform
                        , in_content_type
                        , in_path
                        , in_active
                        , in_date_created
                        , in_increment
                        , in_type
                        , in_hash
                        , in_description
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_content_set_game_id_path`;
delimiter $$
CREATE PROCEDURE `usp_game_content_set_game_id_path`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_code VARCHAR (255) 
    , in_display_name VARCHAR (255) 
    , in_name VARCHAR (255) 
    , in_extension VARCHAR (50) 
    , in_date_modified TIMESTAMP 
    , in_data TEXT 
    , in_game_id BINARY(16) 
    , in_uuid BINARY(16) 
    , in_filename VARCHAR (500) 
    , in_source VARCHAR (255) 
    , in_version VARCHAR (255) 
    , in_platform VARCHAR (255) 
    , in_content_type VARCHAR (255) 
    , in_path VARCHAR (500) 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_increment INTEGER 
    , in_type VARCHAR (500) 
    , in_hash VARCHAR (255) 
    , in_description VARCHAR (255) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_content`  
                    WHERE 1=1
                    AND `game_id` = in_game_id
                    AND lower(`path`) = lower(in_path)
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_content` 
                    SET
                        `status` = in_status
                        , `code` = in_code
                        , `display_name` = in_display_name
                        , `name` = in_name
                        , `extension` = in_extension
                        , `date_modified` = in_date_modified
                        , `data` = in_data
                        , `game_id` = in_game_id
                        , `uuid` = in_uuid
                        , `filename` = in_filename
                        , `source` = in_source
                        , `version` = in_version
                        , `platform` = in_platform
                        , `content_type` = in_content_type
                        , `path` = in_path
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `increment` = in_increment
                        , `type` = in_type
                        , `hash` = in_hash
                        , `description` = in_description
                    WHERE 1=1
                    AND `game_id` = in_game_id
                    AND lower(`path`) = lower(in_path)
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_content`
                    (
                        `status`
                        , `code`
                        , `display_name`
                        , `name`
                        , `extension`
                        , `date_modified`
                        , `data`
                        , `game_id`
                        , `uuid`
                        , `filename`
                        , `source`
                        , `version`
                        , `platform`
                        , `content_type`
                        , `path`
                        , `active`
                        , `date_created`
                        , `increment`
                        , `type`
                        , `hash`
                        , `description`
                    )
                    VALUES
                    (
                        in_status
                        , in_code
                        , in_display_name
                        , in_name
                        , in_extension
                        , in_date_modified
                        , in_data
                        , in_game_id
                        , in_uuid
                        , in_filename
                        , in_source
                        , in_version
                        , in_platform
                        , in_content_type
                        , in_path
                        , in_active
                        , in_date_created
                        , in_increment
                        , in_type
                        , in_hash
                        , in_description
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_content_set_game_id_path_version`;
delimiter $$
CREATE PROCEDURE `usp_game_content_set_game_id_path_version`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_code VARCHAR (255) 
    , in_display_name VARCHAR (255) 
    , in_name VARCHAR (255) 
    , in_extension VARCHAR (50) 
    , in_date_modified TIMESTAMP 
    , in_data TEXT 
    , in_game_id BINARY(16) 
    , in_uuid BINARY(16) 
    , in_filename VARCHAR (500) 
    , in_source VARCHAR (255) 
    , in_version VARCHAR (255) 
    , in_platform VARCHAR (255) 
    , in_content_type VARCHAR (255) 
    , in_path VARCHAR (500) 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_increment INTEGER 
    , in_type VARCHAR (500) 
    , in_hash VARCHAR (255) 
    , in_description VARCHAR (255) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_content`  
                    WHERE 1=1
                    AND `game_id` = in_game_id
                    AND lower(`path`) = lower(in_path)
                    AND lower(`version`) = lower(in_version)
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_content` 
                    SET
                        `status` = in_status
                        , `code` = in_code
                        , `display_name` = in_display_name
                        , `name` = in_name
                        , `extension` = in_extension
                        , `date_modified` = in_date_modified
                        , `data` = in_data
                        , `game_id` = in_game_id
                        , `uuid` = in_uuid
                        , `filename` = in_filename
                        , `source` = in_source
                        , `version` = in_version
                        , `platform` = in_platform
                        , `content_type` = in_content_type
                        , `path` = in_path
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `increment` = in_increment
                        , `type` = in_type
                        , `hash` = in_hash
                        , `description` = in_description
                    WHERE 1=1
                    AND `game_id` = in_game_id
                    AND lower(`path`) = lower(in_path)
                    AND lower(`version`) = lower(in_version)
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_content`
                    (
                        `status`
                        , `code`
                        , `display_name`
                        , `name`
                        , `extension`
                        , `date_modified`
                        , `data`
                        , `game_id`
                        , `uuid`
                        , `filename`
                        , `source`
                        , `version`
                        , `platform`
                        , `content_type`
                        , `path`
                        , `active`
                        , `date_created`
                        , `increment`
                        , `type`
                        , `hash`
                        , `description`
                    )
                    VALUES
                    (
                        in_status
                        , in_code
                        , in_display_name
                        , in_name
                        , in_extension
                        , in_date_modified
                        , in_data
                        , in_game_id
                        , in_uuid
                        , in_filename
                        , in_source
                        , in_version
                        , in_platform
                        , in_content_type
                        , in_path
                        , in_active
                        , in_date_created
                        , in_increment
                        , in_type
                        , in_hash
                        , in_description
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_content_set_game_id_path_version_platform_increment`;
delimiter $$
CREATE PROCEDURE `usp_game_content_set_game_id_path_version_platform_increment`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_code VARCHAR (255) 
    , in_display_name VARCHAR (255) 
    , in_name VARCHAR (255) 
    , in_extension VARCHAR (50) 
    , in_date_modified TIMESTAMP 
    , in_data TEXT 
    , in_game_id BINARY(16) 
    , in_uuid BINARY(16) 
    , in_filename VARCHAR (500) 
    , in_source VARCHAR (255) 
    , in_version VARCHAR (255) 
    , in_platform VARCHAR (255) 
    , in_content_type VARCHAR (255) 
    , in_path VARCHAR (500) 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_increment INTEGER 
    , in_type VARCHAR (500) 
    , in_hash VARCHAR (255) 
    , in_description VARCHAR (255) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_content`  
                    WHERE 1=1
                    AND `game_id` = in_game_id
                    AND lower(`path`) = lower(in_path)
                    AND lower(`version`) = lower(in_version)
                    AND lower(`platform`) = lower(in_platform)
                    AND `increment` = in_increment
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_content` 
                    SET
                        `status` = in_status
                        , `code` = in_code
                        , `display_name` = in_display_name
                        , `name` = in_name
                        , `extension` = in_extension
                        , `date_modified` = in_date_modified
                        , `data` = in_data
                        , `game_id` = in_game_id
                        , `uuid` = in_uuid
                        , `filename` = in_filename
                        , `source` = in_source
                        , `version` = in_version
                        , `platform` = in_platform
                        , `content_type` = in_content_type
                        , `path` = in_path
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `increment` = in_increment
                        , `type` = in_type
                        , `hash` = in_hash
                        , `description` = in_description
                    WHERE 1=1
                    AND `game_id` = in_game_id
                    AND lower(`path`) = lower(in_path)
                    AND lower(`version`) = lower(in_version)
                    AND lower(`platform`) = lower(in_platform)
                    AND `increment` = in_increment
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_content`
                    (
                        `status`
                        , `code`
                        , `display_name`
                        , `name`
                        , `extension`
                        , `date_modified`
                        , `data`
                        , `game_id`
                        , `uuid`
                        , `filename`
                        , `source`
                        , `version`
                        , `platform`
                        , `content_type`
                        , `path`
                        , `active`
                        , `date_created`
                        , `increment`
                        , `type`
                        , `hash`
                        , `description`
                    )
                    VALUES
                    (
                        in_status
                        , in_code
                        , in_display_name
                        , in_name
                        , in_extension
                        , in_date_modified
                        , in_data
                        , in_game_id
                        , in_uuid
                        , in_filename
                        , in_source
                        , in_version
                        , in_platform
                        , in_content_type
                        , in_path
                        , in_active
                        , in_date_created
                        , in_increment
                        , in_type
                        , in_hash
                        , in_description
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

-- ------------------------------------
-- DEL

-- ------------------------------------
-- MODEL: GameContent - game_content

                       
DROP PROCEDURE IF EXISTS `usp_game_content_del_uuid`;

delimiter $$
CREATE PROCEDURE `usp_game_content_del_uuid`
(
    in_uuid BINARY(16) 
)

BEGIN
    DELETE 
    FROM `game_content`
    WHERE 1=1                        
    AND "uuid" = in_uuid
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_game_content_del_game_id`;

delimiter $$
CREATE PROCEDURE `usp_game_content_del_game_id`
(
    in_game_id BINARY(16) 
)

BEGIN
    DELETE 
    FROM `game_content`
    WHERE 1=1                        
    AND "game_id" = in_game_id
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_game_content_del_game_id_path`;

delimiter $$
CREATE PROCEDURE `usp_game_content_del_game_id_path`
(
    in_game_id BINARY(16) 
    , in_path VARCHAR (500) 
)

BEGIN
    DELETE 
    FROM `game_content`
    WHERE 1=1                        
    AND "game_id" = in_game_id
    AND lower("path") = lower(in_path)
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_game_content_del_game_id_path_version`;

delimiter $$
CREATE PROCEDURE `usp_game_content_del_game_id_path_version`
(
    in_game_id BINARY(16) 
    , in_path VARCHAR (500) 
    , in_version VARCHAR (255) 
)

BEGIN
    DELETE 
    FROM `game_content`
    WHERE 1=1                        
    AND "game_id" = in_game_id
    AND lower("path") = lower(in_path)
    AND lower("version") = lower(in_version)
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_game_content_del_game_id_path_version_platform_increment`;

delimiter $$
CREATE PROCEDURE `usp_game_content_del_game_id_path_version_platform_increment`
(
    in_game_id BINARY(16) 
    , in_path VARCHAR (500) 
    , in_version VARCHAR (255) 
    , in_platform VARCHAR (255) 
    , in_increment INTEGER 
)

BEGIN
    DELETE 
    FROM `game_content`
    WHERE 1=1                        
    AND "game_id" = in_game_id
    AND lower("path") = lower(in_path)
    AND lower("version") = lower(in_version)
    AND lower("platform") = lower(in_platform)
    AND "increment" = in_increment
    ;
END$$
delimiter ;
-- ------------------------------------
-- GET

-- ------------------------------------
-- MODEL: GameContent - game_content

                       
DROP PROCEDURE IF EXISTS `usp_game_content_get`;

delimiter $$
CREATE PROCEDURE `usp_game_content_get`
(
)                        
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `extension`
        , `date_modified`
        , `data`
        , `game_id`
        , `uuid`
        , `filename`
        , `source`
        , `version`
        , `platform`
        , `content_type`
        , `path`
        , `active`
        , `date_created`
        , `increment`
        , `type`
        , `hash`
        , `description`
    FROM `game_content`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_content_get_uuid`;

delimiter $$
CREATE PROCEDURE `usp_game_content_get_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `extension`
        , `date_modified`
        , `data`
        , `game_id`
        , `uuid`
        , `filename`
        , `source`
        , `version`
        , `platform`
        , `content_type`
        , `path`
        , `active`
        , `date_created`
        , `increment`
        , `type`
        , `hash`
        , `description`
    FROM `game_content`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_content_get_game_id`;

delimiter $$
CREATE PROCEDURE `usp_game_content_get_game_id`
(
    in_game_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `extension`
        , `date_modified`
        , `data`
        , `game_id`
        , `uuid`
        , `filename`
        , `source`
        , `version`
        , `platform`
        , `content_type`
        , `path`
        , `active`
        , `date_created`
        , `increment`
        , `type`
        , `hash`
        , `description`
    FROM `game_content`
    WHERE 1=1
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_content_get_game_id_path`;

delimiter $$
CREATE PROCEDURE `usp_game_content_get_game_id_path`
(
    in_game_id BINARY(16) 
    , in_path VARCHAR (500) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `extension`
        , `date_modified`
        , `data`
        , `game_id`
        , `uuid`
        , `filename`
        , `source`
        , `version`
        , `platform`
        , `content_type`
        , `path`
        , `active`
        , `date_created`
        , `increment`
        , `type`
        , `hash`
        , `description`
    FROM `game_content`
    WHERE 1=1
    AND `game_id` = in_game_id
    AND lower(`path`) = lower(in_path)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_content_get_game_id_path_version`;

delimiter $$
CREATE PROCEDURE `usp_game_content_get_game_id_path_version`
(
    in_game_id BINARY(16) 
    , in_path VARCHAR (500) 
    , in_version VARCHAR (255) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `extension`
        , `date_modified`
        , `data`
        , `game_id`
        , `uuid`
        , `filename`
        , `source`
        , `version`
        , `platform`
        , `content_type`
        , `path`
        , `active`
        , `date_created`
        , `increment`
        , `type`
        , `hash`
        , `description`
    FROM `game_content`
    WHERE 1=1
    AND `game_id` = in_game_id
    AND lower(`path`) = lower(in_path)
    AND lower(`version`) = lower(in_version)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_content_get_game_id_path_version_platform_increment`;

delimiter $$
CREATE PROCEDURE `usp_game_content_get_game_id_path_version_platform_increment`
(
    in_game_id BINARY(16) 
    , in_path VARCHAR (500) 
    , in_version VARCHAR (255) 
    , in_platform VARCHAR (255) 
    , in_increment INTEGER 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `extension`
        , `date_modified`
        , `data`
        , `game_id`
        , `uuid`
        , `filename`
        , `source`
        , `version`
        , `platform`
        , `content_type`
        , `path`
        , `active`
        , `date_created`
        , `increment`
        , `type`
        , `hash`
        , `description`
    FROM `game_content`
    WHERE 1=1
    AND `game_id` = in_game_id
    AND lower(`path`) = lower(in_path)
    AND lower(`version`) = lower(in_version)
    AND lower(`platform`) = lower(in_platform)
    AND `increment` = in_increment
    ;
END$$
delimiter ;

-- -----------------------------------------------------------------------------
-- PROCS

-- ------------------------------------
-- COUNT

-- ------------------------------------
-- MODEL: GameProfileContent - game_profile_content

                       
DROP PROCEDURE IF EXISTS `usp_game_profile_content_count`;
delimiter $$
CREATE PROCEDURE `usp_game_profile_content_count`
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_profile_content`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_profile_content_count_uuid`;
delimiter $$
CREATE PROCEDURE `usp_game_profile_content_count_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_profile_content`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_profile_content_count_game_id_profile_id`;
delimiter $$
CREATE PROCEDURE `usp_game_profile_content_count_game_id_profile_id`
(
    in_game_id BINARY(16) 
    , in_profile_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_profile_content`
    WHERE 1=1
    AND `game_id` = in_game_id
    AND `profile_id` = in_profile_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_profile_content_count_game_id_username`;
delimiter $$
CREATE PROCEDURE `usp_game_profile_content_count_game_id_username`
(
    in_game_id BINARY(16) 
    , in_username VARCHAR (500) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_profile_content`
    WHERE 1=1
    AND `game_id` = in_game_id
    AND lower(`username`) = lower(in_username)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_profile_content_count_username`;
delimiter $$
CREATE PROCEDURE `usp_game_profile_content_count_username`
(
    in_username VARCHAR (500) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_profile_content`
    WHERE 1=1
    AND lower(`username`) = lower(in_username)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_profile_content_count_game_id_profile_id_path`;
delimiter $$
CREATE PROCEDURE `usp_game_profile_content_count_game_id_profile_id_path`
(
    in_game_id BINARY(16) 
    , in_profile_id BINARY(16) 
    , in_path VARCHAR (500) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_profile_content`
    WHERE 1=1
    AND `game_id` = in_game_id
    AND `profile_id` = in_profile_id
    AND lower(`path`) = lower(in_path)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_profile_content_count_game_id_profile_id_path_version`;
delimiter $$
CREATE PROCEDURE `usp_game_profile_content_count_game_id_profile_id_path_version`
(
    in_game_id BINARY(16) 
    , in_profile_id BINARY(16) 
    , in_path VARCHAR (500) 
    , in_version VARCHAR (255) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_profile_content`
    WHERE 1=1
    AND `game_id` = in_game_id
    AND `profile_id` = in_profile_id
    AND lower(`path`) = lower(in_path)
    AND lower(`version`) = lower(in_version)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_profile_content_count_game_id_profile_id_path_version_`;
delimiter $$
CREATE PROCEDURE `usp_game_profile_content_count_game_id_profile_id_path_version_`
(
    in_game_id BINARY(16) 
    , in_profile_id BINARY(16) 
    , in_path VARCHAR (500) 
    , in_version VARCHAR (255) 
    , in_platform VARCHAR (255) 
    , in_increment INTEGER 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_profile_content`
    WHERE 1=1
    AND `game_id` = in_game_id
    AND `profile_id` = in_profile_id
    AND lower(`path`) = lower(in_path)
    AND lower(`version`) = lower(in_version)
    AND lower(`platform`) = lower(in_platform)
    AND `increment` = in_increment
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_profile_content_count_game_id_username_path`;
delimiter $$
CREATE PROCEDURE `usp_game_profile_content_count_game_id_username_path`
(
    in_game_id BINARY(16) 
    , in_username VARCHAR (500) 
    , in_path VARCHAR (500) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_profile_content`
    WHERE 1=1
    AND `game_id` = in_game_id
    AND lower(`username`) = lower(in_username)
    AND lower(`path`) = lower(in_path)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_profile_content_count_game_id_username_path_version`;
delimiter $$
CREATE PROCEDURE `usp_game_profile_content_count_game_id_username_path_version`
(
    in_game_id BINARY(16) 
    , in_username VARCHAR (500) 
    , in_path VARCHAR (500) 
    , in_version VARCHAR (255) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_profile_content`
    WHERE 1=1
    AND `game_id` = in_game_id
    AND lower(`username`) = lower(in_username)
    AND lower(`path`) = lower(in_path)
    AND lower(`version`) = lower(in_version)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_profile_content_count_game_id_username_path_version_pl`;
delimiter $$
CREATE PROCEDURE `usp_game_profile_content_count_game_id_username_path_version_pl`
(
    in_game_id BINARY(16) 
    , in_username VARCHAR (500) 
    , in_path VARCHAR (500) 
    , in_version VARCHAR (255) 
    , in_platform VARCHAR (255) 
    , in_increment INTEGER 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_profile_content`
    WHERE 1=1
    AND `game_id` = in_game_id
    AND lower(`username`) = lower(in_username)
    AND lower(`path`) = lower(in_path)
    AND lower(`version`) = lower(in_version)
    AND lower(`platform`) = lower(in_platform)
    AND `increment` = in_increment
    ;
END$$
delimiter ;

-- ------------------------------------
-- BROWSE

-- ------------------------------------
-- MODEL: GameProfileContent - game_profile_content

                       
DROP PROCEDURE IF EXISTS `usp_game_profile_content_browse_filter`;

delimiter $$
CREATE PROCEDURE `usp_game_profile_content_browse_filter`
(
    in_page int,
    in_page_size int,
    in_sort VARCHAR(500),
    in_filter VARCHAR(4000)
    
)
BEGIN
    DECLARE total_rows int;
    SET total_rows = 0;
        
    IF (in_page = 0) THEN
        SET in_page = 1;
    END IF;    
    
    IF (in_page_size = 0) THEN
       SET in_page_size = 10;
    END IF;
    
    IF (in_sort = NULL || in_sort = '') THEN
       SET in_sort = ' date_modified ASC ';
    END IF;
    
    SET @sfields = CONCAT('', '`username`');
    SET @sfields = CONCAT(@sfields, ', `code`');
    SET @sfields = CONCAT(@sfields, ', `profile_id`');
    SET @sfields = CONCAT(@sfields, ', `increment`');
    SET @sfields = CONCAT(@sfields, ', `path`');
    SET @sfields = CONCAT(@sfields, ', `display_name`');
    SET @sfields = CONCAT(@sfields, ', `uuid`');
    SET @sfields = CONCAT(@sfields, ', `platform`');
    SET @sfields = CONCAT(@sfields, ', `filename`');
    SET @sfields = CONCAT(@sfields, ', `source`');
    SET @sfields = CONCAT(@sfields, ', `version`');
    SET @sfields = CONCAT(@sfields, ', `game_network`');
    SET @sfields = CONCAT(@sfields, ', `type`');
    SET @sfields = CONCAT(@sfields, ', `status`');
    SET @sfields = CONCAT(@sfields, ', `hash`');
    SET @sfields = CONCAT(@sfields, ', `description`');
    SET @sfields = CONCAT(@sfields, ', `content_type`');
    SET @sfields = CONCAT(@sfields, ', `active`');
    SET @sfields = CONCAT(@sfields, ', `game_id`');
    SET @sfields = CONCAT(@sfields, ', `data`');
    SET @sfields = CONCAT(@sfields, ', `name`');
    SET @sfields = CONCAT(@sfields, ', `extension`');
    SET @sfields = CONCAT(@sfields, ', `date_modified`');
    SET @sfields = CONCAT(@sfields, ', `date_created`');
    
    SET @stable = CONCAT('', ' FROM `game_profile_content` WHERE 1=1 ');
    
    SET @s = CONCAT(' ', @stable);
    SET @s = CONCAT(@s, ' ', in_filter);    
    
    SET @scount = CONCAT('SELECT COUNT(*) as `total_rows` ', @s, ' INTO @total_rows');
    
    PREPARE stmtcount FROM @scount;
    EXECUTE stmtcount;
    #SELECT @total_rows;
    SET total_rows = @total_rows;

    SET @sfields = CONCAT(total_rows, ' as `total_rows`, ', @sfields);
    SET @s = CONCAT('SELECT ', @sfields, @s);
    SET @s = CONCAT(@s, ' ORDER BY ', in_sort);
    SET @s = CONCAT(@s, ' LIMIT ', in_page);
    SET @s = CONCAT(@s, ',', in_page_size);    

    PREPARE stmt FROM @s;
    EXECUTE stmt;
    
END$$
delimiter ;
-- ------------------------------------
-- SET

-- ------------------------------------
-- MODEL: GameProfileContent - game_profile_content

                       
DROP PROCEDURE IF EXISTS `usp_game_profile_content_set_uuid`;
delimiter $$
CREATE PROCEDURE `usp_game_profile_content_set_uuid`
(
    in_set_type varchar(50)                      
    , in_username VARCHAR (500) 
    , in_code VARCHAR (255) 
    , in_profile_id BINARY(16) 
    , in_increment INTEGER 
    , in_path VARCHAR (500) 
    , in_display_name VARCHAR (255) 
    , in_uuid BINARY(16) 
    , in_platform VARCHAR (255) 
    , in_filename VARCHAR (500) 
    , in_source VARCHAR (255) 
    , in_version VARCHAR (255) 
    , in_game_network VARCHAR (500) 
    , in_type VARCHAR (500) 
    , in_status VARCHAR (255) 
    , in_hash VARCHAR (255) 
    , in_description VARCHAR (255) 
    , in_content_type VARCHAR (255) 
    , in_active int 
    , in_game_id BINARY(16) 
    , in_data TEXT 
    , in_name VARCHAR (255) 
    , in_extension VARCHAR (50) 
    , in_date_modified TIMESTAMP 
    , in_date_created TIMESTAMP 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_profile_content`  
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_profile_content` 
                    SET
                        `username` = in_username
                        , `code` = in_code
                        , `profile_id` = in_profile_id
                        , `increment` = in_increment
                        , `path` = in_path
                        , `display_name` = in_display_name
                        , `uuid` = in_uuid
                        , `platform` = in_platform
                        , `filename` = in_filename
                        , `source` = in_source
                        , `version` = in_version
                        , `game_network` = in_game_network
                        , `type` = in_type
                        , `status` = in_status
                        , `hash` = in_hash
                        , `description` = in_description
                        , `content_type` = in_content_type
                        , `active` = in_active
                        , `game_id` = in_game_id
                        , `data` = in_data
                        , `name` = in_name
                        , `extension` = in_extension
                        , `date_modified` = in_date_modified
                        , `date_created` = in_date_created
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_profile_content`
                    (
                        `username`
                        , `code`
                        , `profile_id`
                        , `increment`
                        , `path`
                        , `display_name`
                        , `uuid`
                        , `platform`
                        , `filename`
                        , `source`
                        , `version`
                        , `game_network`
                        , `type`
                        , `status`
                        , `hash`
                        , `description`
                        , `content_type`
                        , `active`
                        , `game_id`
                        , `data`
                        , `name`
                        , `extension`
                        , `date_modified`
                        , `date_created`
                    )
                    VALUES
                    (
                        in_username
                        , in_code
                        , in_profile_id
                        , in_increment
                        , in_path
                        , in_display_name
                        , in_uuid
                        , in_platform
                        , in_filename
                        , in_source
                        , in_version
                        , in_game_network
                        , in_type
                        , in_status
                        , in_hash
                        , in_description
                        , in_content_type
                        , in_active
                        , in_game_id
                        , in_data
                        , in_name
                        , in_extension
                        , in_date_modified
                        , in_date_created
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_profile_content_set_game_id_profile_id`;
delimiter $$
CREATE PROCEDURE `usp_game_profile_content_set_game_id_profile_id`
(
    in_set_type varchar(50)                      
    , in_username VARCHAR (500) 
    , in_code VARCHAR (255) 
    , in_profile_id BINARY(16) 
    , in_increment INTEGER 
    , in_path VARCHAR (500) 
    , in_display_name VARCHAR (255) 
    , in_uuid BINARY(16) 
    , in_platform VARCHAR (255) 
    , in_filename VARCHAR (500) 
    , in_source VARCHAR (255) 
    , in_version VARCHAR (255) 
    , in_game_network VARCHAR (500) 
    , in_type VARCHAR (500) 
    , in_status VARCHAR (255) 
    , in_hash VARCHAR (255) 
    , in_description VARCHAR (255) 
    , in_content_type VARCHAR (255) 
    , in_active int 
    , in_game_id BINARY(16) 
    , in_data TEXT 
    , in_name VARCHAR (255) 
    , in_extension VARCHAR (50) 
    , in_date_modified TIMESTAMP 
    , in_date_created TIMESTAMP 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_profile_content`  
                    WHERE 1=1
                    AND `game_id` = in_game_id
                    AND `profile_id` = in_profile_id
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_profile_content` 
                    SET
                        `username` = in_username
                        , `code` = in_code
                        , `profile_id` = in_profile_id
                        , `increment` = in_increment
                        , `path` = in_path
                        , `display_name` = in_display_name
                        , `uuid` = in_uuid
                        , `platform` = in_platform
                        , `filename` = in_filename
                        , `source` = in_source
                        , `version` = in_version
                        , `game_network` = in_game_network
                        , `type` = in_type
                        , `status` = in_status
                        , `hash` = in_hash
                        , `description` = in_description
                        , `content_type` = in_content_type
                        , `active` = in_active
                        , `game_id` = in_game_id
                        , `data` = in_data
                        , `name` = in_name
                        , `extension` = in_extension
                        , `date_modified` = in_date_modified
                        , `date_created` = in_date_created
                    WHERE 1=1
                    AND `game_id` = in_game_id
                    AND `profile_id` = in_profile_id
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_profile_content`
                    (
                        `username`
                        , `code`
                        , `profile_id`
                        , `increment`
                        , `path`
                        , `display_name`
                        , `uuid`
                        , `platform`
                        , `filename`
                        , `source`
                        , `version`
                        , `game_network`
                        , `type`
                        , `status`
                        , `hash`
                        , `description`
                        , `content_type`
                        , `active`
                        , `game_id`
                        , `data`
                        , `name`
                        , `extension`
                        , `date_modified`
                        , `date_created`
                    )
                    VALUES
                    (
                        in_username
                        , in_code
                        , in_profile_id
                        , in_increment
                        , in_path
                        , in_display_name
                        , in_uuid
                        , in_platform
                        , in_filename
                        , in_source
                        , in_version
                        , in_game_network
                        , in_type
                        , in_status
                        , in_hash
                        , in_description
                        , in_content_type
                        , in_active
                        , in_game_id
                        , in_data
                        , in_name
                        , in_extension
                        , in_date_modified
                        , in_date_created
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_profile_content_set_game_id_username`;
delimiter $$
CREATE PROCEDURE `usp_game_profile_content_set_game_id_username`
(
    in_set_type varchar(50)                      
    , in_username VARCHAR (500) 
    , in_code VARCHAR (255) 
    , in_profile_id BINARY(16) 
    , in_increment INTEGER 
    , in_path VARCHAR (500) 
    , in_display_name VARCHAR (255) 
    , in_uuid BINARY(16) 
    , in_platform VARCHAR (255) 
    , in_filename VARCHAR (500) 
    , in_source VARCHAR (255) 
    , in_version VARCHAR (255) 
    , in_game_network VARCHAR (500) 
    , in_type VARCHAR (500) 
    , in_status VARCHAR (255) 
    , in_hash VARCHAR (255) 
    , in_description VARCHAR (255) 
    , in_content_type VARCHAR (255) 
    , in_active int 
    , in_game_id BINARY(16) 
    , in_data TEXT 
    , in_name VARCHAR (255) 
    , in_extension VARCHAR (50) 
    , in_date_modified TIMESTAMP 
    , in_date_created TIMESTAMP 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_profile_content`  
                    WHERE 1=1
                    AND `game_id` = in_game_id
                    AND lower(`username`) = lower(in_username)
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_profile_content` 
                    SET
                        `username` = in_username
                        , `code` = in_code
                        , `profile_id` = in_profile_id
                        , `increment` = in_increment
                        , `path` = in_path
                        , `display_name` = in_display_name
                        , `uuid` = in_uuid
                        , `platform` = in_platform
                        , `filename` = in_filename
                        , `source` = in_source
                        , `version` = in_version
                        , `game_network` = in_game_network
                        , `type` = in_type
                        , `status` = in_status
                        , `hash` = in_hash
                        , `description` = in_description
                        , `content_type` = in_content_type
                        , `active` = in_active
                        , `game_id` = in_game_id
                        , `data` = in_data
                        , `name` = in_name
                        , `extension` = in_extension
                        , `date_modified` = in_date_modified
                        , `date_created` = in_date_created
                    WHERE 1=1
                    AND `game_id` = in_game_id
                    AND lower(`username`) = lower(in_username)
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_profile_content`
                    (
                        `username`
                        , `code`
                        , `profile_id`
                        , `increment`
                        , `path`
                        , `display_name`
                        , `uuid`
                        , `platform`
                        , `filename`
                        , `source`
                        , `version`
                        , `game_network`
                        , `type`
                        , `status`
                        , `hash`
                        , `description`
                        , `content_type`
                        , `active`
                        , `game_id`
                        , `data`
                        , `name`
                        , `extension`
                        , `date_modified`
                        , `date_created`
                    )
                    VALUES
                    (
                        in_username
                        , in_code
                        , in_profile_id
                        , in_increment
                        , in_path
                        , in_display_name
                        , in_uuid
                        , in_platform
                        , in_filename
                        , in_source
                        , in_version
                        , in_game_network
                        , in_type
                        , in_status
                        , in_hash
                        , in_description
                        , in_content_type
                        , in_active
                        , in_game_id
                        , in_data
                        , in_name
                        , in_extension
                        , in_date_modified
                        , in_date_created
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_profile_content_set_username`;
delimiter $$
CREATE PROCEDURE `usp_game_profile_content_set_username`
(
    in_set_type varchar(50)                      
    , in_username VARCHAR (500) 
    , in_code VARCHAR (255) 
    , in_profile_id BINARY(16) 
    , in_increment INTEGER 
    , in_path VARCHAR (500) 
    , in_display_name VARCHAR (255) 
    , in_uuid BINARY(16) 
    , in_platform VARCHAR (255) 
    , in_filename VARCHAR (500) 
    , in_source VARCHAR (255) 
    , in_version VARCHAR (255) 
    , in_game_network VARCHAR (500) 
    , in_type VARCHAR (500) 
    , in_status VARCHAR (255) 
    , in_hash VARCHAR (255) 
    , in_description VARCHAR (255) 
    , in_content_type VARCHAR (255) 
    , in_active int 
    , in_game_id BINARY(16) 
    , in_data TEXT 
    , in_name VARCHAR (255) 
    , in_extension VARCHAR (50) 
    , in_date_modified TIMESTAMP 
    , in_date_created TIMESTAMP 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_profile_content`  
                    WHERE 1=1
                    AND lower(`username`) = lower(in_username)
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_profile_content` 
                    SET
                        `username` = in_username
                        , `code` = in_code
                        , `profile_id` = in_profile_id
                        , `increment` = in_increment
                        , `path` = in_path
                        , `display_name` = in_display_name
                        , `uuid` = in_uuid
                        , `platform` = in_platform
                        , `filename` = in_filename
                        , `source` = in_source
                        , `version` = in_version
                        , `game_network` = in_game_network
                        , `type` = in_type
                        , `status` = in_status
                        , `hash` = in_hash
                        , `description` = in_description
                        , `content_type` = in_content_type
                        , `active` = in_active
                        , `game_id` = in_game_id
                        , `data` = in_data
                        , `name` = in_name
                        , `extension` = in_extension
                        , `date_modified` = in_date_modified
                        , `date_created` = in_date_created
                    WHERE 1=1
                    AND lower(`username`) = lower(in_username)
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_profile_content`
                    (
                        `username`
                        , `code`
                        , `profile_id`
                        , `increment`
                        , `path`
                        , `display_name`
                        , `uuid`
                        , `platform`
                        , `filename`
                        , `source`
                        , `version`
                        , `game_network`
                        , `type`
                        , `status`
                        , `hash`
                        , `description`
                        , `content_type`
                        , `active`
                        , `game_id`
                        , `data`
                        , `name`
                        , `extension`
                        , `date_modified`
                        , `date_created`
                    )
                    VALUES
                    (
                        in_username
                        , in_code
                        , in_profile_id
                        , in_increment
                        , in_path
                        , in_display_name
                        , in_uuid
                        , in_platform
                        , in_filename
                        , in_source
                        , in_version
                        , in_game_network
                        , in_type
                        , in_status
                        , in_hash
                        , in_description
                        , in_content_type
                        , in_active
                        , in_game_id
                        , in_data
                        , in_name
                        , in_extension
                        , in_date_modified
                        , in_date_created
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_profile_content_set_game_id_profile_id_path`;
delimiter $$
CREATE PROCEDURE `usp_game_profile_content_set_game_id_profile_id_path`
(
    in_set_type varchar(50)                      
    , in_username VARCHAR (500) 
    , in_code VARCHAR (255) 
    , in_profile_id BINARY(16) 
    , in_increment INTEGER 
    , in_path VARCHAR (500) 
    , in_display_name VARCHAR (255) 
    , in_uuid BINARY(16) 
    , in_platform VARCHAR (255) 
    , in_filename VARCHAR (500) 
    , in_source VARCHAR (255) 
    , in_version VARCHAR (255) 
    , in_game_network VARCHAR (500) 
    , in_type VARCHAR (500) 
    , in_status VARCHAR (255) 
    , in_hash VARCHAR (255) 
    , in_description VARCHAR (255) 
    , in_content_type VARCHAR (255) 
    , in_active int 
    , in_game_id BINARY(16) 
    , in_data TEXT 
    , in_name VARCHAR (255) 
    , in_extension VARCHAR (50) 
    , in_date_modified TIMESTAMP 
    , in_date_created TIMESTAMP 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_profile_content`  
                    WHERE 1=1
                    AND `game_id` = in_game_id
                    AND `profile_id` = in_profile_id
                    AND lower(`path`) = lower(in_path)
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_profile_content` 
                    SET
                        `username` = in_username
                        , `code` = in_code
                        , `profile_id` = in_profile_id
                        , `increment` = in_increment
                        , `path` = in_path
                        , `display_name` = in_display_name
                        , `uuid` = in_uuid
                        , `platform` = in_platform
                        , `filename` = in_filename
                        , `source` = in_source
                        , `version` = in_version
                        , `game_network` = in_game_network
                        , `type` = in_type
                        , `status` = in_status
                        , `hash` = in_hash
                        , `description` = in_description
                        , `content_type` = in_content_type
                        , `active` = in_active
                        , `game_id` = in_game_id
                        , `data` = in_data
                        , `name` = in_name
                        , `extension` = in_extension
                        , `date_modified` = in_date_modified
                        , `date_created` = in_date_created
                    WHERE 1=1
                    AND `game_id` = in_game_id
                    AND `profile_id` = in_profile_id
                    AND lower(`path`) = lower(in_path)
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_profile_content`
                    (
                        `username`
                        , `code`
                        , `profile_id`
                        , `increment`
                        , `path`
                        , `display_name`
                        , `uuid`
                        , `platform`
                        , `filename`
                        , `source`
                        , `version`
                        , `game_network`
                        , `type`
                        , `status`
                        , `hash`
                        , `description`
                        , `content_type`
                        , `active`
                        , `game_id`
                        , `data`
                        , `name`
                        , `extension`
                        , `date_modified`
                        , `date_created`
                    )
                    VALUES
                    (
                        in_username
                        , in_code
                        , in_profile_id
                        , in_increment
                        , in_path
                        , in_display_name
                        , in_uuid
                        , in_platform
                        , in_filename
                        , in_source
                        , in_version
                        , in_game_network
                        , in_type
                        , in_status
                        , in_hash
                        , in_description
                        , in_content_type
                        , in_active
                        , in_game_id
                        , in_data
                        , in_name
                        , in_extension
                        , in_date_modified
                        , in_date_created
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_profile_content_set_game_id_profile_id_path_version`;
delimiter $$
CREATE PROCEDURE `usp_game_profile_content_set_game_id_profile_id_path_version`
(
    in_set_type varchar(50)                      
    , in_username VARCHAR (500) 
    , in_code VARCHAR (255) 
    , in_profile_id BINARY(16) 
    , in_increment INTEGER 
    , in_path VARCHAR (500) 
    , in_display_name VARCHAR (255) 
    , in_uuid BINARY(16) 
    , in_platform VARCHAR (255) 
    , in_filename VARCHAR (500) 
    , in_source VARCHAR (255) 
    , in_version VARCHAR (255) 
    , in_game_network VARCHAR (500) 
    , in_type VARCHAR (500) 
    , in_status VARCHAR (255) 
    , in_hash VARCHAR (255) 
    , in_description VARCHAR (255) 
    , in_content_type VARCHAR (255) 
    , in_active int 
    , in_game_id BINARY(16) 
    , in_data TEXT 
    , in_name VARCHAR (255) 
    , in_extension VARCHAR (50) 
    , in_date_modified TIMESTAMP 
    , in_date_created TIMESTAMP 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_profile_content`  
                    WHERE 1=1
                    AND `game_id` = in_game_id
                    AND `profile_id` = in_profile_id
                    AND lower(`path`) = lower(in_path)
                    AND lower(`version`) = lower(in_version)
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_profile_content` 
                    SET
                        `username` = in_username
                        , `code` = in_code
                        , `profile_id` = in_profile_id
                        , `increment` = in_increment
                        , `path` = in_path
                        , `display_name` = in_display_name
                        , `uuid` = in_uuid
                        , `platform` = in_platform
                        , `filename` = in_filename
                        , `source` = in_source
                        , `version` = in_version
                        , `game_network` = in_game_network
                        , `type` = in_type
                        , `status` = in_status
                        , `hash` = in_hash
                        , `description` = in_description
                        , `content_type` = in_content_type
                        , `active` = in_active
                        , `game_id` = in_game_id
                        , `data` = in_data
                        , `name` = in_name
                        , `extension` = in_extension
                        , `date_modified` = in_date_modified
                        , `date_created` = in_date_created
                    WHERE 1=1
                    AND `game_id` = in_game_id
                    AND `profile_id` = in_profile_id
                    AND lower(`path`) = lower(in_path)
                    AND lower(`version`) = lower(in_version)
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_profile_content`
                    (
                        `username`
                        , `code`
                        , `profile_id`
                        , `increment`
                        , `path`
                        , `display_name`
                        , `uuid`
                        , `platform`
                        , `filename`
                        , `source`
                        , `version`
                        , `game_network`
                        , `type`
                        , `status`
                        , `hash`
                        , `description`
                        , `content_type`
                        , `active`
                        , `game_id`
                        , `data`
                        , `name`
                        , `extension`
                        , `date_modified`
                        , `date_created`
                    )
                    VALUES
                    (
                        in_username
                        , in_code
                        , in_profile_id
                        , in_increment
                        , in_path
                        , in_display_name
                        , in_uuid
                        , in_platform
                        , in_filename
                        , in_source
                        , in_version
                        , in_game_network
                        , in_type
                        , in_status
                        , in_hash
                        , in_description
                        , in_content_type
                        , in_active
                        , in_game_id
                        , in_data
                        , in_name
                        , in_extension
                        , in_date_modified
                        , in_date_created
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_profile_content_set_game_id_profile_id_path_version_pl`;
delimiter $$
CREATE PROCEDURE `usp_game_profile_content_set_game_id_profile_id_path_version_pl`
(
    in_set_type varchar(50)                      
    , in_username VARCHAR (500) 
    , in_code VARCHAR (255) 
    , in_profile_id BINARY(16) 
    , in_increment INTEGER 
    , in_path VARCHAR (500) 
    , in_display_name VARCHAR (255) 
    , in_uuid BINARY(16) 
    , in_platform VARCHAR (255) 
    , in_filename VARCHAR (500) 
    , in_source VARCHAR (255) 
    , in_version VARCHAR (255) 
    , in_game_network VARCHAR (500) 
    , in_type VARCHAR (500) 
    , in_status VARCHAR (255) 
    , in_hash VARCHAR (255) 
    , in_description VARCHAR (255) 
    , in_content_type VARCHAR (255) 
    , in_active int 
    , in_game_id BINARY(16) 
    , in_data TEXT 
    , in_name VARCHAR (255) 
    , in_extension VARCHAR (50) 
    , in_date_modified TIMESTAMP 
    , in_date_created TIMESTAMP 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_profile_content`  
                    WHERE 1=1
                    AND `game_id` = in_game_id
                    AND `profile_id` = in_profile_id
                    AND lower(`path`) = lower(in_path)
                    AND lower(`version`) = lower(in_version)
                    AND lower(`platform`) = lower(in_platform)
                    AND `increment` = in_increment
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_profile_content` 
                    SET
                        `username` = in_username
                        , `code` = in_code
                        , `profile_id` = in_profile_id
                        , `increment` = in_increment
                        , `path` = in_path
                        , `display_name` = in_display_name
                        , `uuid` = in_uuid
                        , `platform` = in_platform
                        , `filename` = in_filename
                        , `source` = in_source
                        , `version` = in_version
                        , `game_network` = in_game_network
                        , `type` = in_type
                        , `status` = in_status
                        , `hash` = in_hash
                        , `description` = in_description
                        , `content_type` = in_content_type
                        , `active` = in_active
                        , `game_id` = in_game_id
                        , `data` = in_data
                        , `name` = in_name
                        , `extension` = in_extension
                        , `date_modified` = in_date_modified
                        , `date_created` = in_date_created
                    WHERE 1=1
                    AND `game_id` = in_game_id
                    AND `profile_id` = in_profile_id
                    AND lower(`path`) = lower(in_path)
                    AND lower(`version`) = lower(in_version)
                    AND lower(`platform`) = lower(in_platform)
                    AND `increment` = in_increment
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_profile_content`
                    (
                        `username`
                        , `code`
                        , `profile_id`
                        , `increment`
                        , `path`
                        , `display_name`
                        , `uuid`
                        , `platform`
                        , `filename`
                        , `source`
                        , `version`
                        , `game_network`
                        , `type`
                        , `status`
                        , `hash`
                        , `description`
                        , `content_type`
                        , `active`
                        , `game_id`
                        , `data`
                        , `name`
                        , `extension`
                        , `date_modified`
                        , `date_created`
                    )
                    VALUES
                    (
                        in_username
                        , in_code
                        , in_profile_id
                        , in_increment
                        , in_path
                        , in_display_name
                        , in_uuid
                        , in_platform
                        , in_filename
                        , in_source
                        , in_version
                        , in_game_network
                        , in_type
                        , in_status
                        , in_hash
                        , in_description
                        , in_content_type
                        , in_active
                        , in_game_id
                        , in_data
                        , in_name
                        , in_extension
                        , in_date_modified
                        , in_date_created
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_profile_content_set_game_id_username_path`;
delimiter $$
CREATE PROCEDURE `usp_game_profile_content_set_game_id_username_path`
(
    in_set_type varchar(50)                      
    , in_username VARCHAR (500) 
    , in_code VARCHAR (255) 
    , in_profile_id BINARY(16) 
    , in_increment INTEGER 
    , in_path VARCHAR (500) 
    , in_display_name VARCHAR (255) 
    , in_uuid BINARY(16) 
    , in_platform VARCHAR (255) 
    , in_filename VARCHAR (500) 
    , in_source VARCHAR (255) 
    , in_version VARCHAR (255) 
    , in_game_network VARCHAR (500) 
    , in_type VARCHAR (500) 
    , in_status VARCHAR (255) 
    , in_hash VARCHAR (255) 
    , in_description VARCHAR (255) 
    , in_content_type VARCHAR (255) 
    , in_active int 
    , in_game_id BINARY(16) 
    , in_data TEXT 
    , in_name VARCHAR (255) 
    , in_extension VARCHAR (50) 
    , in_date_modified TIMESTAMP 
    , in_date_created TIMESTAMP 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_profile_content`  
                    WHERE 1=1
                    AND `game_id` = in_game_id
                    AND lower(`username`) = lower(in_username)
                    AND lower(`path`) = lower(in_path)
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_profile_content` 
                    SET
                        `username` = in_username
                        , `code` = in_code
                        , `profile_id` = in_profile_id
                        , `increment` = in_increment
                        , `path` = in_path
                        , `display_name` = in_display_name
                        , `uuid` = in_uuid
                        , `platform` = in_platform
                        , `filename` = in_filename
                        , `source` = in_source
                        , `version` = in_version
                        , `game_network` = in_game_network
                        , `type` = in_type
                        , `status` = in_status
                        , `hash` = in_hash
                        , `description` = in_description
                        , `content_type` = in_content_type
                        , `active` = in_active
                        , `game_id` = in_game_id
                        , `data` = in_data
                        , `name` = in_name
                        , `extension` = in_extension
                        , `date_modified` = in_date_modified
                        , `date_created` = in_date_created
                    WHERE 1=1
                    AND `game_id` = in_game_id
                    AND lower(`username`) = lower(in_username)
                    AND lower(`path`) = lower(in_path)
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_profile_content`
                    (
                        `username`
                        , `code`
                        , `profile_id`
                        , `increment`
                        , `path`
                        , `display_name`
                        , `uuid`
                        , `platform`
                        , `filename`
                        , `source`
                        , `version`
                        , `game_network`
                        , `type`
                        , `status`
                        , `hash`
                        , `description`
                        , `content_type`
                        , `active`
                        , `game_id`
                        , `data`
                        , `name`
                        , `extension`
                        , `date_modified`
                        , `date_created`
                    )
                    VALUES
                    (
                        in_username
                        , in_code
                        , in_profile_id
                        , in_increment
                        , in_path
                        , in_display_name
                        , in_uuid
                        , in_platform
                        , in_filename
                        , in_source
                        , in_version
                        , in_game_network
                        , in_type
                        , in_status
                        , in_hash
                        , in_description
                        , in_content_type
                        , in_active
                        , in_game_id
                        , in_data
                        , in_name
                        , in_extension
                        , in_date_modified
                        , in_date_created
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_profile_content_set_game_id_username_path_version`;
delimiter $$
CREATE PROCEDURE `usp_game_profile_content_set_game_id_username_path_version`
(
    in_set_type varchar(50)                      
    , in_username VARCHAR (500) 
    , in_code VARCHAR (255) 
    , in_profile_id BINARY(16) 
    , in_increment INTEGER 
    , in_path VARCHAR (500) 
    , in_display_name VARCHAR (255) 
    , in_uuid BINARY(16) 
    , in_platform VARCHAR (255) 
    , in_filename VARCHAR (500) 
    , in_source VARCHAR (255) 
    , in_version VARCHAR (255) 
    , in_game_network VARCHAR (500) 
    , in_type VARCHAR (500) 
    , in_status VARCHAR (255) 
    , in_hash VARCHAR (255) 
    , in_description VARCHAR (255) 
    , in_content_type VARCHAR (255) 
    , in_active int 
    , in_game_id BINARY(16) 
    , in_data TEXT 
    , in_name VARCHAR (255) 
    , in_extension VARCHAR (50) 
    , in_date_modified TIMESTAMP 
    , in_date_created TIMESTAMP 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_profile_content`  
                    WHERE 1=1
                    AND `game_id` = in_game_id
                    AND lower(`username`) = lower(in_username)
                    AND lower(`path`) = lower(in_path)
                    AND lower(`version`) = lower(in_version)
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_profile_content` 
                    SET
                        `username` = in_username
                        , `code` = in_code
                        , `profile_id` = in_profile_id
                        , `increment` = in_increment
                        , `path` = in_path
                        , `display_name` = in_display_name
                        , `uuid` = in_uuid
                        , `platform` = in_platform
                        , `filename` = in_filename
                        , `source` = in_source
                        , `version` = in_version
                        , `game_network` = in_game_network
                        , `type` = in_type
                        , `status` = in_status
                        , `hash` = in_hash
                        , `description` = in_description
                        , `content_type` = in_content_type
                        , `active` = in_active
                        , `game_id` = in_game_id
                        , `data` = in_data
                        , `name` = in_name
                        , `extension` = in_extension
                        , `date_modified` = in_date_modified
                        , `date_created` = in_date_created
                    WHERE 1=1
                    AND `game_id` = in_game_id
                    AND lower(`username`) = lower(in_username)
                    AND lower(`path`) = lower(in_path)
                    AND lower(`version`) = lower(in_version)
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_profile_content`
                    (
                        `username`
                        , `code`
                        , `profile_id`
                        , `increment`
                        , `path`
                        , `display_name`
                        , `uuid`
                        , `platform`
                        , `filename`
                        , `source`
                        , `version`
                        , `game_network`
                        , `type`
                        , `status`
                        , `hash`
                        , `description`
                        , `content_type`
                        , `active`
                        , `game_id`
                        , `data`
                        , `name`
                        , `extension`
                        , `date_modified`
                        , `date_created`
                    )
                    VALUES
                    (
                        in_username
                        , in_code
                        , in_profile_id
                        , in_increment
                        , in_path
                        , in_display_name
                        , in_uuid
                        , in_platform
                        , in_filename
                        , in_source
                        , in_version
                        , in_game_network
                        , in_type
                        , in_status
                        , in_hash
                        , in_description
                        , in_content_type
                        , in_active
                        , in_game_id
                        , in_data
                        , in_name
                        , in_extension
                        , in_date_modified
                        , in_date_created
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_profile_content_set_game_id_username_path_version_plat`;
delimiter $$
CREATE PROCEDURE `usp_game_profile_content_set_game_id_username_path_version_plat`
(
    in_set_type varchar(50)                      
    , in_username VARCHAR (500) 
    , in_code VARCHAR (255) 
    , in_profile_id BINARY(16) 
    , in_increment INTEGER 
    , in_path VARCHAR (500) 
    , in_display_name VARCHAR (255) 
    , in_uuid BINARY(16) 
    , in_platform VARCHAR (255) 
    , in_filename VARCHAR (500) 
    , in_source VARCHAR (255) 
    , in_version VARCHAR (255) 
    , in_game_network VARCHAR (500) 
    , in_type VARCHAR (500) 
    , in_status VARCHAR (255) 
    , in_hash VARCHAR (255) 
    , in_description VARCHAR (255) 
    , in_content_type VARCHAR (255) 
    , in_active int 
    , in_game_id BINARY(16) 
    , in_data TEXT 
    , in_name VARCHAR (255) 
    , in_extension VARCHAR (50) 
    , in_date_modified TIMESTAMP 
    , in_date_created TIMESTAMP 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_profile_content`  
                    WHERE 1=1
                    AND `game_id` = in_game_id
                    AND lower(`username`) = lower(in_username)
                    AND lower(`path`) = lower(in_path)
                    AND lower(`version`) = lower(in_version)
                    AND lower(`platform`) = lower(in_platform)
                    AND `increment` = in_increment
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_profile_content` 
                    SET
                        `username` = in_username
                        , `code` = in_code
                        , `profile_id` = in_profile_id
                        , `increment` = in_increment
                        , `path` = in_path
                        , `display_name` = in_display_name
                        , `uuid` = in_uuid
                        , `platform` = in_platform
                        , `filename` = in_filename
                        , `source` = in_source
                        , `version` = in_version
                        , `game_network` = in_game_network
                        , `type` = in_type
                        , `status` = in_status
                        , `hash` = in_hash
                        , `description` = in_description
                        , `content_type` = in_content_type
                        , `active` = in_active
                        , `game_id` = in_game_id
                        , `data` = in_data
                        , `name` = in_name
                        , `extension` = in_extension
                        , `date_modified` = in_date_modified
                        , `date_created` = in_date_created
                    WHERE 1=1
                    AND `game_id` = in_game_id
                    AND lower(`username`) = lower(in_username)
                    AND lower(`path`) = lower(in_path)
                    AND lower(`version`) = lower(in_version)
                    AND lower(`platform`) = lower(in_platform)
                    AND `increment` = in_increment
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_profile_content`
                    (
                        `username`
                        , `code`
                        , `profile_id`
                        , `increment`
                        , `path`
                        , `display_name`
                        , `uuid`
                        , `platform`
                        , `filename`
                        , `source`
                        , `version`
                        , `game_network`
                        , `type`
                        , `status`
                        , `hash`
                        , `description`
                        , `content_type`
                        , `active`
                        , `game_id`
                        , `data`
                        , `name`
                        , `extension`
                        , `date_modified`
                        , `date_created`
                    )
                    VALUES
                    (
                        in_username
                        , in_code
                        , in_profile_id
                        , in_increment
                        , in_path
                        , in_display_name
                        , in_uuid
                        , in_platform
                        , in_filename
                        , in_source
                        , in_version
                        , in_game_network
                        , in_type
                        , in_status
                        , in_hash
                        , in_description
                        , in_content_type
                        , in_active
                        , in_game_id
                        , in_data
                        , in_name
                        , in_extension
                        , in_date_modified
                        , in_date_created
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

-- ------------------------------------
-- DEL

-- ------------------------------------
-- MODEL: GameProfileContent - game_profile_content

                       
DROP PROCEDURE IF EXISTS `usp_game_profile_content_del_uuid`;

delimiter $$
CREATE PROCEDURE `usp_game_profile_content_del_uuid`
(
    in_uuid BINARY(16) 
)

BEGIN
    DELETE 
    FROM `game_profile_content`
    WHERE 1=1                        
    AND "uuid" = in_uuid
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_game_profile_content_del_game_id_profile_id`;

delimiter $$
CREATE PROCEDURE `usp_game_profile_content_del_game_id_profile_id`
(
    in_game_id BINARY(16) 
    , in_profile_id BINARY(16) 
)

BEGIN
    DELETE 
    FROM `game_profile_content`
    WHERE 1=1                        
    AND "game_id" = in_game_id
    AND "profile_id" = in_profile_id
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_game_profile_content_del_game_id_username`;

delimiter $$
CREATE PROCEDURE `usp_game_profile_content_del_game_id_username`
(
    in_game_id BINARY(16) 
    , in_username VARCHAR (500) 
)

BEGIN
    DELETE 
    FROM `game_profile_content`
    WHERE 1=1                        
    AND "game_id" = in_game_id
    AND lower("username") = lower(in_username)
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_game_profile_content_del_username`;

delimiter $$
CREATE PROCEDURE `usp_game_profile_content_del_username`
(
    in_username VARCHAR (500) 
)

BEGIN
    DELETE 
    FROM `game_profile_content`
    WHERE 1=1                        
    AND lower("username") = lower(in_username)
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_game_profile_content_del_game_id_profile_id_path`;

delimiter $$
CREATE PROCEDURE `usp_game_profile_content_del_game_id_profile_id_path`
(
    in_game_id BINARY(16) 
    , in_profile_id BINARY(16) 
    , in_path VARCHAR (500) 
)

BEGIN
    DELETE 
    FROM `game_profile_content`
    WHERE 1=1                        
    AND "game_id" = in_game_id
    AND "profile_id" = in_profile_id
    AND lower("path") = lower(in_path)
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_game_profile_content_del_game_id_profile_id_path_version`;

delimiter $$
CREATE PROCEDURE `usp_game_profile_content_del_game_id_profile_id_path_version`
(
    in_game_id BINARY(16) 
    , in_profile_id BINARY(16) 
    , in_path VARCHAR (500) 
    , in_version VARCHAR (255) 
)

BEGIN
    DELETE 
    FROM `game_profile_content`
    WHERE 1=1                        
    AND "game_id" = in_game_id
    AND "profile_id" = in_profile_id
    AND lower("path") = lower(in_path)
    AND lower("version") = lower(in_version)
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_game_profile_content_del_game_id_profile_id_path_version_pl`;

delimiter $$
CREATE PROCEDURE `usp_game_profile_content_del_game_id_profile_id_path_version_pl`
(
    in_game_id BINARY(16) 
    , in_profile_id BINARY(16) 
    , in_path VARCHAR (500) 
    , in_version VARCHAR (255) 
    , in_platform VARCHAR (255) 
    , in_increment INTEGER 
)

BEGIN
    DELETE 
    FROM `game_profile_content`
    WHERE 1=1                        
    AND "game_id" = in_game_id
    AND "profile_id" = in_profile_id
    AND lower("path") = lower(in_path)
    AND lower("version") = lower(in_version)
    AND lower("platform") = lower(in_platform)
    AND "increment" = in_increment
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_game_profile_content_del_game_id_username_path`;

delimiter $$
CREATE PROCEDURE `usp_game_profile_content_del_game_id_username_path`
(
    in_game_id BINARY(16) 
    , in_username VARCHAR (500) 
    , in_path VARCHAR (500) 
)

BEGIN
    DELETE 
    FROM `game_profile_content`
    WHERE 1=1                        
    AND "game_id" = in_game_id
    AND lower("username") = lower(in_username)
    AND lower("path") = lower(in_path)
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_game_profile_content_del_game_id_username_path_version`;

delimiter $$
CREATE PROCEDURE `usp_game_profile_content_del_game_id_username_path_version`
(
    in_game_id BINARY(16) 
    , in_username VARCHAR (500) 
    , in_path VARCHAR (500) 
    , in_version VARCHAR (255) 
)

BEGIN
    DELETE 
    FROM `game_profile_content`
    WHERE 1=1                        
    AND "game_id" = in_game_id
    AND lower("username") = lower(in_username)
    AND lower("path") = lower(in_path)
    AND lower("version") = lower(in_version)
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_game_profile_content_del_game_id_username_path_version_plat`;

delimiter $$
CREATE PROCEDURE `usp_game_profile_content_del_game_id_username_path_version_plat`
(
    in_game_id BINARY(16) 
    , in_username VARCHAR (500) 
    , in_path VARCHAR (500) 
    , in_version VARCHAR (255) 
    , in_platform VARCHAR (255) 
    , in_increment INTEGER 
)

BEGIN
    DELETE 
    FROM `game_profile_content`
    WHERE 1=1                        
    AND "game_id" = in_game_id
    AND lower("username") = lower(in_username)
    AND lower("path") = lower(in_path)
    AND lower("version") = lower(in_version)
    AND lower("platform") = lower(in_platform)
    AND "increment" = in_increment
    ;
END$$
delimiter ;
-- ------------------------------------
-- GET

-- ------------------------------------
-- MODEL: GameProfileContent - game_profile_content

                       
DROP PROCEDURE IF EXISTS `usp_game_profile_content_get`;

delimiter $$
CREATE PROCEDURE `usp_game_profile_content_get`
(
)                        
BEGIN
    SELECT
        `username`
        , `code`
        , `profile_id`
        , `increment`
        , `path`
        , `display_name`
        , `uuid`
        , `platform`
        , `filename`
        , `source`
        , `version`
        , `game_network`
        , `type`
        , `status`
        , `hash`
        , `description`
        , `content_type`
        , `active`
        , `game_id`
        , `data`
        , `name`
        , `extension`
        , `date_modified`
        , `date_created`
    FROM `game_profile_content`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_profile_content_get_uuid`;

delimiter $$
CREATE PROCEDURE `usp_game_profile_content_get_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        `username`
        , `code`
        , `profile_id`
        , `increment`
        , `path`
        , `display_name`
        , `uuid`
        , `platform`
        , `filename`
        , `source`
        , `version`
        , `game_network`
        , `type`
        , `status`
        , `hash`
        , `description`
        , `content_type`
        , `active`
        , `game_id`
        , `data`
        , `name`
        , `extension`
        , `date_modified`
        , `date_created`
    FROM `game_profile_content`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_profile_content_get_game_id_profile_id`;

delimiter $$
CREATE PROCEDURE `usp_game_profile_content_get_game_id_profile_id`
(
    in_game_id BINARY(16) 
    , in_profile_id BINARY(16) 
)
BEGIN
    SELECT
        `username`
        , `code`
        , `profile_id`
        , `increment`
        , `path`
        , `display_name`
        , `uuid`
        , `platform`
        , `filename`
        , `source`
        , `version`
        , `game_network`
        , `type`
        , `status`
        , `hash`
        , `description`
        , `content_type`
        , `active`
        , `game_id`
        , `data`
        , `name`
        , `extension`
        , `date_modified`
        , `date_created`
    FROM `game_profile_content`
    WHERE 1=1
    AND `game_id` = in_game_id
    AND `profile_id` = in_profile_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_profile_content_get_game_id_username`;

delimiter $$
CREATE PROCEDURE `usp_game_profile_content_get_game_id_username`
(
    in_game_id BINARY(16) 
    , in_username VARCHAR (500) 
)
BEGIN
    SELECT
        `username`
        , `code`
        , `profile_id`
        , `increment`
        , `path`
        , `display_name`
        , `uuid`
        , `platform`
        , `filename`
        , `source`
        , `version`
        , `game_network`
        , `type`
        , `status`
        , `hash`
        , `description`
        , `content_type`
        , `active`
        , `game_id`
        , `data`
        , `name`
        , `extension`
        , `date_modified`
        , `date_created`
    FROM `game_profile_content`
    WHERE 1=1
    AND `game_id` = in_game_id
    AND lower(`username`) = lower(in_username)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_profile_content_get_username`;

delimiter $$
CREATE PROCEDURE `usp_game_profile_content_get_username`
(
    in_username VARCHAR (500) 
)
BEGIN
    SELECT
        `username`
        , `code`
        , `profile_id`
        , `increment`
        , `path`
        , `display_name`
        , `uuid`
        , `platform`
        , `filename`
        , `source`
        , `version`
        , `game_network`
        , `type`
        , `status`
        , `hash`
        , `description`
        , `content_type`
        , `active`
        , `game_id`
        , `data`
        , `name`
        , `extension`
        , `date_modified`
        , `date_created`
    FROM `game_profile_content`
    WHERE 1=1
    AND lower(`username`) = lower(in_username)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_profile_content_get_game_id_profile_id_path`;

delimiter $$
CREATE PROCEDURE `usp_game_profile_content_get_game_id_profile_id_path`
(
    in_game_id BINARY(16) 
    , in_profile_id BINARY(16) 
    , in_path VARCHAR (500) 
)
BEGIN
    SELECT
        `username`
        , `code`
        , `profile_id`
        , `increment`
        , `path`
        , `display_name`
        , `uuid`
        , `platform`
        , `filename`
        , `source`
        , `version`
        , `game_network`
        , `type`
        , `status`
        , `hash`
        , `description`
        , `content_type`
        , `active`
        , `game_id`
        , `data`
        , `name`
        , `extension`
        , `date_modified`
        , `date_created`
    FROM `game_profile_content`
    WHERE 1=1
    AND `game_id` = in_game_id
    AND `profile_id` = in_profile_id
    AND lower(`path`) = lower(in_path)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_profile_content_get_game_id_profile_id_path_version`;

delimiter $$
CREATE PROCEDURE `usp_game_profile_content_get_game_id_profile_id_path_version`
(
    in_game_id BINARY(16) 
    , in_profile_id BINARY(16) 
    , in_path VARCHAR (500) 
    , in_version VARCHAR (255) 
)
BEGIN
    SELECT
        `username`
        , `code`
        , `profile_id`
        , `increment`
        , `path`
        , `display_name`
        , `uuid`
        , `platform`
        , `filename`
        , `source`
        , `version`
        , `game_network`
        , `type`
        , `status`
        , `hash`
        , `description`
        , `content_type`
        , `active`
        , `game_id`
        , `data`
        , `name`
        , `extension`
        , `date_modified`
        , `date_created`
    FROM `game_profile_content`
    WHERE 1=1
    AND `game_id` = in_game_id
    AND `profile_id` = in_profile_id
    AND lower(`path`) = lower(in_path)
    AND lower(`version`) = lower(in_version)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_profile_content_get_game_id_profile_id_path_version_pl`;

delimiter $$
CREATE PROCEDURE `usp_game_profile_content_get_game_id_profile_id_path_version_pl`
(
    in_game_id BINARY(16) 
    , in_profile_id BINARY(16) 
    , in_path VARCHAR (500) 
    , in_version VARCHAR (255) 
    , in_platform VARCHAR (255) 
    , in_increment INTEGER 
)
BEGIN
    SELECT
        `username`
        , `code`
        , `profile_id`
        , `increment`
        , `path`
        , `display_name`
        , `uuid`
        , `platform`
        , `filename`
        , `source`
        , `version`
        , `game_network`
        , `type`
        , `status`
        , `hash`
        , `description`
        , `content_type`
        , `active`
        , `game_id`
        , `data`
        , `name`
        , `extension`
        , `date_modified`
        , `date_created`
    FROM `game_profile_content`
    WHERE 1=1
    AND `game_id` = in_game_id
    AND `profile_id` = in_profile_id
    AND lower(`path`) = lower(in_path)
    AND lower(`version`) = lower(in_version)
    AND lower(`platform`) = lower(in_platform)
    AND `increment` = in_increment
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_profile_content_get_game_id_username_path`;

delimiter $$
CREATE PROCEDURE `usp_game_profile_content_get_game_id_username_path`
(
    in_game_id BINARY(16) 
    , in_username VARCHAR (500) 
    , in_path VARCHAR (500) 
)
BEGIN
    SELECT
        `username`
        , `code`
        , `profile_id`
        , `increment`
        , `path`
        , `display_name`
        , `uuid`
        , `platform`
        , `filename`
        , `source`
        , `version`
        , `game_network`
        , `type`
        , `status`
        , `hash`
        , `description`
        , `content_type`
        , `active`
        , `game_id`
        , `data`
        , `name`
        , `extension`
        , `date_modified`
        , `date_created`
    FROM `game_profile_content`
    WHERE 1=1
    AND `game_id` = in_game_id
    AND lower(`username`) = lower(in_username)
    AND lower(`path`) = lower(in_path)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_profile_content_get_game_id_username_path_version`;

delimiter $$
CREATE PROCEDURE `usp_game_profile_content_get_game_id_username_path_version`
(
    in_game_id BINARY(16) 
    , in_username VARCHAR (500) 
    , in_path VARCHAR (500) 
    , in_version VARCHAR (255) 
)
BEGIN
    SELECT
        `username`
        , `code`
        , `profile_id`
        , `increment`
        , `path`
        , `display_name`
        , `uuid`
        , `platform`
        , `filename`
        , `source`
        , `version`
        , `game_network`
        , `type`
        , `status`
        , `hash`
        , `description`
        , `content_type`
        , `active`
        , `game_id`
        , `data`
        , `name`
        , `extension`
        , `date_modified`
        , `date_created`
    FROM `game_profile_content`
    WHERE 1=1
    AND `game_id` = in_game_id
    AND lower(`username`) = lower(in_username)
    AND lower(`path`) = lower(in_path)
    AND lower(`version`) = lower(in_version)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_profile_content_get_game_id_username_path_version_plat`;

delimiter $$
CREATE PROCEDURE `usp_game_profile_content_get_game_id_username_path_version_plat`
(
    in_game_id BINARY(16) 
    , in_username VARCHAR (500) 
    , in_path VARCHAR (500) 
    , in_version VARCHAR (255) 
    , in_platform VARCHAR (255) 
    , in_increment INTEGER 
)
BEGIN
    SELECT
        `username`
        , `code`
        , `profile_id`
        , `increment`
        , `path`
        , `display_name`
        , `uuid`
        , `platform`
        , `filename`
        , `source`
        , `version`
        , `game_network`
        , `type`
        , `status`
        , `hash`
        , `description`
        , `content_type`
        , `active`
        , `game_id`
        , `data`
        , `name`
        , `extension`
        , `date_modified`
        , `date_created`
    FROM `game_profile_content`
    WHERE 1=1
    AND `game_id` = in_game_id
    AND lower(`username`) = lower(in_username)
    AND lower(`path`) = lower(in_path)
    AND lower(`version`) = lower(in_version)
    AND lower(`platform`) = lower(in_platform)
    AND `increment` = in_increment
    ;
END$$
delimiter ;

-- -----------------------------------------------------------------------------
-- PROCS

-- ------------------------------------
-- COUNT

-- ------------------------------------
-- MODEL: GameApp - game_app

                       
DROP PROCEDURE IF EXISTS `usp_game_app_count`;
delimiter $$
CREATE PROCEDURE `usp_game_app_count`
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_app`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_app_count_uuid`;
delimiter $$
CREATE PROCEDURE `usp_game_app_count_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_app`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_app_count_game_id`;
delimiter $$
CREATE PROCEDURE `usp_game_app_count_game_id`
(
    in_game_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_app`
    WHERE 1=1
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_app_count_app_id`;
delimiter $$
CREATE PROCEDURE `usp_game_app_count_app_id`
(
    in_app_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_app`
    WHERE 1=1
    AND `app_id` = in_app_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_app_count_game_id_app_id`;
delimiter $$
CREATE PROCEDURE `usp_game_app_count_game_id_app_id`
(
    in_game_id BINARY(16) 
    , in_app_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_app`
    WHERE 1=1
    AND `game_id` = in_game_id
    AND `app_id` = in_app_id
    ;
END$$
delimiter ;

-- ------------------------------------
-- BROWSE

-- ------------------------------------
-- MODEL: GameApp - game_app

                       
DROP PROCEDURE IF EXISTS `usp_game_app_browse_filter`;

delimiter $$
CREATE PROCEDURE `usp_game_app_browse_filter`
(
    in_page int,
    in_page_size int,
    in_sort VARCHAR(500),
    in_filter VARCHAR(4000)
    
)
BEGIN
    DECLARE total_rows int;
    SET total_rows = 0;
        
    IF (in_page = 0) THEN
        SET in_page = 1;
    END IF;    
    
    IF (in_page_size = 0) THEN
       SET in_page_size = 10;
    END IF;
    
    IF (in_sort = NULL || in_sort = '') THEN
       SET in_sort = ' date_modified ASC ';
    END IF;
    
    SET @sfields = CONCAT('', '`status`');
    SET @sfields = CONCAT(@sfields, ', `uuid`');
    SET @sfields = CONCAT(@sfields, ', `date_modified`');
    SET @sfields = CONCAT(@sfields, ', `active`');
    SET @sfields = CONCAT(@sfields, ', `date_created`');
    SET @sfields = CONCAT(@sfields, ', `game_id`');
    SET @sfields = CONCAT(@sfields, ', `type`');
    SET @sfields = CONCAT(@sfields, ', `app_id`');
    
    SET @stable = CONCAT('', ' FROM `game_app` WHERE 1=1 ');
    
    SET @s = CONCAT(' ', @stable);
    SET @s = CONCAT(@s, ' ', in_filter);    
    
    SET @scount = CONCAT('SELECT COUNT(*) as `total_rows` ', @s, ' INTO @total_rows');
    
    PREPARE stmtcount FROM @scount;
    EXECUTE stmtcount;
    #SELECT @total_rows;
    SET total_rows = @total_rows;

    SET @sfields = CONCAT(total_rows, ' as `total_rows`, ', @sfields);
    SET @s = CONCAT('SELECT ', @sfields, @s);
    SET @s = CONCAT(@s, ' ORDER BY ', in_sort);
    SET @s = CONCAT(@s, ' LIMIT ', in_page);
    SET @s = CONCAT(@s, ',', in_page_size);    

    PREPARE stmt FROM @s;
    EXECUTE stmt;
    
END$$
delimiter ;
-- ------------------------------------
-- SET

-- ------------------------------------
-- MODEL: GameApp - game_app

                       
DROP PROCEDURE IF EXISTS `usp_game_app_set_uuid`;
delimiter $$
CREATE PROCEDURE `usp_game_app_set_uuid`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_uuid BINARY(16) 
    , in_date_modified TIMESTAMP 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_game_id BINARY(16) 
    , in_type VARCHAR (500) 
    , in_app_id BINARY(16) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_app`  
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_app` 
                    SET
                        `status` = in_status
                        , `uuid` = in_uuid
                        , `date_modified` = in_date_modified
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `game_id` = in_game_id
                        , `type` = in_type
                        , `app_id` = in_app_id
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_app`
                    (
                        `status`
                        , `uuid`
                        , `date_modified`
                        , `active`
                        , `date_created`
                        , `game_id`
                        , `type`
                        , `app_id`
                    )
                    VALUES
                    (
                        in_status
                        , in_uuid
                        , in_date_modified
                        , in_active
                        , in_date_created
                        , in_game_id
                        , in_type
                        , in_app_id
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

-- ------------------------------------
-- DEL

-- ------------------------------------
-- MODEL: GameApp - game_app

                       
DROP PROCEDURE IF EXISTS `usp_game_app_del_uuid`;

delimiter $$
CREATE PROCEDURE `usp_game_app_del_uuid`
(
    in_uuid BINARY(16) 
)

BEGIN
    DELETE 
    FROM `game_app`
    WHERE 1=1                        
    AND "uuid" = in_uuid
    ;
END$$
delimiter ;
-- ------------------------------------
-- GET

-- ------------------------------------
-- MODEL: GameApp - game_app

                       
DROP PROCEDURE IF EXISTS `usp_game_app_get`;

delimiter $$
CREATE PROCEDURE `usp_game_app_get`
(
)                        
BEGIN
    SELECT
        `status`
        , `uuid`
        , `date_modified`
        , `active`
        , `date_created`
        , `game_id`
        , `type`
        , `app_id`
    FROM `game_app`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_app_get_uuid`;

delimiter $$
CREATE PROCEDURE `usp_game_app_get_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `uuid`
        , `date_modified`
        , `active`
        , `date_created`
        , `game_id`
        , `type`
        , `app_id`
    FROM `game_app`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_app_get_game_id`;

delimiter $$
CREATE PROCEDURE `usp_game_app_get_game_id`
(
    in_game_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `uuid`
        , `date_modified`
        , `active`
        , `date_created`
        , `game_id`
        , `type`
        , `app_id`
    FROM `game_app`
    WHERE 1=1
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_app_get_app_id`;

delimiter $$
CREATE PROCEDURE `usp_game_app_get_app_id`
(
    in_app_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `uuid`
        , `date_modified`
        , `active`
        , `date_created`
        , `game_id`
        , `type`
        , `app_id`
    FROM `game_app`
    WHERE 1=1
    AND `app_id` = in_app_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_app_get_game_id_app_id`;

delimiter $$
CREATE PROCEDURE `usp_game_app_get_game_id_app_id`
(
    in_game_id BINARY(16) 
    , in_app_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `uuid`
        , `date_modified`
        , `active`
        , `date_created`
        , `game_id`
        , `type`
        , `app_id`
    FROM `game_app`
    WHERE 1=1
    AND `game_id` = in_game_id
    AND `app_id` = in_app_id
    ;
END$$
delimiter ;

-- -----------------------------------------------------------------------------
-- PROCS

-- ------------------------------------
-- COUNT

-- ------------------------------------
-- MODEL: ProfileGameLocation - profile_game_location

                       
DROP PROCEDURE IF EXISTS `usp_profile_game_location_count`;
delimiter $$
CREATE PROCEDURE `usp_profile_game_location_count`
BEGIN
    SELECT
        COUNT(*) as count
    FROM `profile_game_location`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_game_location_count_uuid`;
delimiter $$
CREATE PROCEDURE `usp_profile_game_location_count_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `profile_game_location`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_game_location_count_game_location_id`;
delimiter $$
CREATE PROCEDURE `usp_profile_game_location_count_game_location_id`
(
    in_game_location_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `profile_game_location`
    WHERE 1=1
    AND `game_location_id` = in_game_location_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_game_location_count_profile_id`;
delimiter $$
CREATE PROCEDURE `usp_profile_game_location_count_profile_id`
(
    in_profile_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `profile_game_location`
    WHERE 1=1
    AND `profile_id` = in_profile_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_game_location_count_profile_id_game_location_id`;
delimiter $$
CREATE PROCEDURE `usp_profile_game_location_count_profile_id_game_location_id`
(
    in_profile_id BINARY(16) 
    , in_game_location_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `profile_game_location`
    WHERE 1=1
    AND `profile_id` = in_profile_id
    AND `game_location_id` = in_game_location_id
    ;
END$$
delimiter ;

-- ------------------------------------
-- BROWSE

-- ------------------------------------
-- MODEL: ProfileGameLocation - profile_game_location

                       
DROP PROCEDURE IF EXISTS `usp_profile_game_location_browse_filter`;

delimiter $$
CREATE PROCEDURE `usp_profile_game_location_browse_filter`
(
    in_page int,
    in_page_size int,
    in_sort VARCHAR(500),
    in_filter VARCHAR(4000)
    
)
BEGIN
    DECLARE total_rows int;
    SET total_rows = 0;
        
    IF (in_page = 0) THEN
        SET in_page = 1;
    END IF;    
    
    IF (in_page_size = 0) THEN
       SET in_page_size = 10;
    END IF;
    
    IF (in_sort = NULL || in_sort = '') THEN
       SET in_sort = ' date_modified ASC ';
    END IF;
    
    SET @sfields = CONCAT('', '`status`');
    SET @sfields = CONCAT(@sfields, ', `game_location_id`');
    SET @sfields = CONCAT(@sfields, ', `type_id`');
    SET @sfields = CONCAT(@sfields, ', `uuid`');
    SET @sfields = CONCAT(@sfields, ', `date_modified`');
    SET @sfields = CONCAT(@sfields, ', `active`');
    SET @sfields = CONCAT(@sfields, ', `date_created`');
    SET @sfields = CONCAT(@sfields, ', `profile_id`');
    SET @sfields = CONCAT(@sfields, ', `type`');
    
    SET @stable = CONCAT('', ' FROM `profile_game_location` WHERE 1=1 ');
    
    SET @s = CONCAT(' ', @stable);
    SET @s = CONCAT(@s, ' ', in_filter);    
    
    SET @scount = CONCAT('SELECT COUNT(*) as `total_rows` ', @s, ' INTO @total_rows');
    
    PREPARE stmtcount FROM @scount;
    EXECUTE stmtcount;
    #SELECT @total_rows;
    SET total_rows = @total_rows;

    SET @sfields = CONCAT(total_rows, ' as `total_rows`, ', @sfields);
    SET @s = CONCAT('SELECT ', @sfields, @s);
    SET @s = CONCAT(@s, ' ORDER BY ', in_sort);
    SET @s = CONCAT(@s, ' LIMIT ', in_page);
    SET @s = CONCAT(@s, ',', in_page_size);    

    PREPARE stmt FROM @s;
    EXECUTE stmt;
    
END$$
delimiter ;
-- ------------------------------------
-- SET

-- ------------------------------------
-- MODEL: ProfileGameLocation - profile_game_location

                       
DROP PROCEDURE IF EXISTS `usp_profile_game_location_set_uuid`;
delimiter $$
CREATE PROCEDURE `usp_profile_game_location_set_uuid`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_game_location_id BINARY(16) 
    , in_type_id BINARY(16) 
    , in_uuid BINARY(16) 
    , in_date_modified TIMESTAMP 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_profile_id BINARY(16) 
    , in_type VARCHAR (500) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `profile_game_location`  
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `profile_game_location` 
                    SET
                        `status` = in_status
                        , `game_location_id` = in_game_location_id
                        , `type_id` = in_type_id
                        , `uuid` = in_uuid
                        , `date_modified` = in_date_modified
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `profile_id` = in_profile_id
                        , `type` = in_type
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `profile_game_location`
                    (
                        `status`
                        , `game_location_id`
                        , `type_id`
                        , `uuid`
                        , `date_modified`
                        , `active`
                        , `date_created`
                        , `profile_id`
                        , `type`
                    )
                    VALUES
                    (
                        in_status
                        , in_game_location_id
                        , in_type_id
                        , in_uuid
                        , in_date_modified
                        , in_active
                        , in_date_created
                        , in_profile_id
                        , in_type
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

-- ------------------------------------
-- DEL

-- ------------------------------------
-- MODEL: ProfileGameLocation - profile_game_location

                       
DROP PROCEDURE IF EXISTS `usp_profile_game_location_del_uuid`;

delimiter $$
CREATE PROCEDURE `usp_profile_game_location_del_uuid`
(
    in_uuid BINARY(16) 
)

BEGIN
    DELETE 
    FROM `profile_game_location`
    WHERE 1=1                        
    AND "uuid" = in_uuid
    ;
END$$
delimiter ;
-- ------------------------------------
-- GET

-- ------------------------------------
-- MODEL: ProfileGameLocation - profile_game_location

                       
DROP PROCEDURE IF EXISTS `usp_profile_game_location_get`;

delimiter $$
CREATE PROCEDURE `usp_profile_game_location_get`
(
)                        
BEGIN
    SELECT
        `status`
        , `game_location_id`
        , `type_id`
        , `uuid`
        , `date_modified`
        , `active`
        , `date_created`
        , `profile_id`
        , `type`
    FROM `profile_game_location`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_game_location_get_uuid`;

delimiter $$
CREATE PROCEDURE `usp_profile_game_location_get_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `game_location_id`
        , `type_id`
        , `uuid`
        , `date_modified`
        , `active`
        , `date_created`
        , `profile_id`
        , `type`
    FROM `profile_game_location`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_game_location_get_game_location_id`;

delimiter $$
CREATE PROCEDURE `usp_profile_game_location_get_game_location_id`
(
    in_game_location_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `game_location_id`
        , `type_id`
        , `uuid`
        , `date_modified`
        , `active`
        , `date_created`
        , `profile_id`
        , `type`
    FROM `profile_game_location`
    WHERE 1=1
    AND `game_location_id` = in_game_location_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_game_location_get_profile_id`;

delimiter $$
CREATE PROCEDURE `usp_profile_game_location_get_profile_id`
(
    in_profile_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `game_location_id`
        , `type_id`
        , `uuid`
        , `date_modified`
        , `active`
        , `date_created`
        , `profile_id`
        , `type`
    FROM `profile_game_location`
    WHERE 1=1
    AND `profile_id` = in_profile_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_game_location_get_profile_id_game_location_id`;

delimiter $$
CREATE PROCEDURE `usp_profile_game_location_get_profile_id_game_location_id`
(
    in_profile_id BINARY(16) 
    , in_game_location_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `game_location_id`
        , `type_id`
        , `uuid`
        , `date_modified`
        , `active`
        , `date_created`
        , `profile_id`
        , `type`
    FROM `profile_game_location`
    WHERE 1=1
    AND `profile_id` = in_profile_id
    AND `game_location_id` = in_game_location_id
    ;
END$$
delimiter ;

-- -----------------------------------------------------------------------------
-- PROCS

-- ------------------------------------
-- COUNT

-- ------------------------------------
-- MODEL: GamePhoto - game_photo

                       
DROP PROCEDURE IF EXISTS `usp_game_photo_count`;
delimiter $$
CREATE PROCEDURE `usp_game_photo_count`
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_photo`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_photo_count_uuid`;
delimiter $$
CREATE PROCEDURE `usp_game_photo_count_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_photo`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_photo_count_external_id`;
delimiter $$
CREATE PROCEDURE `usp_game_photo_count_external_id`
(
    in_external_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_photo`
    WHERE 1=1
    AND `external_id` = in_external_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_photo_count_url`;
delimiter $$
CREATE PROCEDURE `usp_game_photo_count_url`
(
    in_url VARCHAR (500) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_photo`
    WHERE 1=1
    AND lower(`url`) = lower(in_url)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_photo_count_url_external_id`;
delimiter $$
CREATE PROCEDURE `usp_game_photo_count_url_external_id`
(
    in_url VARCHAR (500) 
    , in_external_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_photo`
    WHERE 1=1
    AND lower(`url`) = lower(in_url)
    AND `external_id` = in_external_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_photo_count_uuid_external_id`;
delimiter $$
CREATE PROCEDURE `usp_game_photo_count_uuid_external_id`
(
    in_uuid BINARY(16) 
    , in_external_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_photo`
    WHERE 1=1
    AND `uuid` = in_uuid
    AND `external_id` = in_external_id
    ;
END$$
delimiter ;

-- ------------------------------------
-- BROWSE

-- ------------------------------------
-- MODEL: GamePhoto - game_photo

                       
DROP PROCEDURE IF EXISTS `usp_game_photo_browse_filter`;

delimiter $$
CREATE PROCEDURE `usp_game_photo_browse_filter`
(
    in_page int,
    in_page_size int,
    in_sort VARCHAR(500),
    in_filter VARCHAR(4000)
    
)
BEGIN
    DECLARE total_rows int;
    SET total_rows = 0;
        
    IF (in_page = 0) THEN
        SET in_page = 1;
    END IF;    
    
    IF (in_page_size = 0) THEN
       SET in_page_size = 10;
    END IF;
    
    IF (in_sort = NULL || in_sort = '') THEN
       SET in_sort = ' date_modified ASC ';
    END IF;
    
    SET @sfields = CONCAT('', '`status`');
    SET @sfields = CONCAT(@sfields, ', `third_party_oembed`');
    SET @sfields = CONCAT(@sfields, ', `code`');
    SET @sfields = CONCAT(@sfields, ', `display_name`');
    SET @sfields = CONCAT(@sfields, ', `name`');
    SET @sfields = CONCAT(@sfields, ', `date_modified`');
    SET @sfields = CONCAT(@sfields, ', `url`');
    SET @sfields = CONCAT(@sfields, ', `third_party_data`');
    SET @sfields = CONCAT(@sfields, ', `uuid`');
    SET @sfields = CONCAT(@sfields, ', `third_party_url`');
    SET @sfields = CONCAT(@sfields, ', `third_party_id`');
    SET @sfields = CONCAT(@sfields, ', `content_type`');
    SET @sfields = CONCAT(@sfields, ', `external_id`');
    SET @sfields = CONCAT(@sfields, ', `active`');
    SET @sfields = CONCAT(@sfields, ', `date_created`');
    SET @sfields = CONCAT(@sfields, ', `type`');
    SET @sfields = CONCAT(@sfields, ', `description`');
    
    SET @stable = CONCAT('', ' FROM `game_photo` WHERE 1=1 ');
    
    SET @s = CONCAT(' ', @stable);
    SET @s = CONCAT(@s, ' ', in_filter);    
    
    SET @scount = CONCAT('SELECT COUNT(*) as `total_rows` ', @s, ' INTO @total_rows');
    
    PREPARE stmtcount FROM @scount;
    EXECUTE stmtcount;
    #SELECT @total_rows;
    SET total_rows = @total_rows;

    SET @sfields = CONCAT(total_rows, ' as `total_rows`, ', @sfields);
    SET @s = CONCAT('SELECT ', @sfields, @s);
    SET @s = CONCAT(@s, ' ORDER BY ', in_sort);
    SET @s = CONCAT(@s, ' LIMIT ', in_page);
    SET @s = CONCAT(@s, ',', in_page_size);    

    PREPARE stmt FROM @s;
    EXECUTE stmt;
    
END$$
delimiter ;
-- ------------------------------------
-- SET

-- ------------------------------------
-- MODEL: GamePhoto - game_photo

                       
DROP PROCEDURE IF EXISTS `usp_game_photo_set_uuid`;
delimiter $$
CREATE PROCEDURE `usp_game_photo_set_uuid`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_third_party_oembed VARCHAR (500) 
    , in_code VARCHAR (255) 
    , in_display_name VARCHAR (255) 
    , in_name VARCHAR (255) 
    , in_date_modified TIMESTAMP 
    , in_url VARCHAR (500) 
    , in_third_party_data VARCHAR (500) 
    , in_uuid BINARY(16) 
    , in_third_party_url VARCHAR (500) 
    , in_third_party_id VARCHAR (500) 
    , in_content_type VARCHAR (100) 
    , in_external_id BINARY(16) 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (500) 
    , in_description VARCHAR (255) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_photo`  
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_photo` 
                    SET
                        `status` = in_status
                        , `third_party_oembed` = in_third_party_oembed
                        , `code` = in_code
                        , `display_name` = in_display_name
                        , `name` = in_name
                        , `date_modified` = in_date_modified
                        , `url` = in_url
                        , `third_party_data` = in_third_party_data
                        , `uuid` = in_uuid
                        , `third_party_url` = in_third_party_url
                        , `third_party_id` = in_third_party_id
                        , `content_type` = in_content_type
                        , `external_id` = in_external_id
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `type` = in_type
                        , `description` = in_description
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_photo`
                    (
                        `status`
                        , `third_party_oembed`
                        , `code`
                        , `display_name`
                        , `name`
                        , `date_modified`
                        , `url`
                        , `third_party_data`
                        , `uuid`
                        , `third_party_url`
                        , `third_party_id`
                        , `content_type`
                        , `external_id`
                        , `active`
                        , `date_created`
                        , `type`
                        , `description`
                    )
                    VALUES
                    (
                        in_status
                        , in_third_party_oembed
                        , in_code
                        , in_display_name
                        , in_name
                        , in_date_modified
                        , in_url
                        , in_third_party_data
                        , in_uuid
                        , in_third_party_url
                        , in_third_party_id
                        , in_content_type
                        , in_external_id
                        , in_active
                        , in_date_created
                        , in_type
                        , in_description
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_photo_set_external_id`;
delimiter $$
CREATE PROCEDURE `usp_game_photo_set_external_id`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_third_party_oembed VARCHAR (500) 
    , in_code VARCHAR (255) 
    , in_display_name VARCHAR (255) 
    , in_name VARCHAR (255) 
    , in_date_modified TIMESTAMP 
    , in_url VARCHAR (500) 
    , in_third_party_data VARCHAR (500) 
    , in_uuid BINARY(16) 
    , in_third_party_url VARCHAR (500) 
    , in_third_party_id VARCHAR (500) 
    , in_content_type VARCHAR (100) 
    , in_external_id BINARY(16) 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (500) 
    , in_description VARCHAR (255) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_photo`  
                    WHERE 1=1
                    AND `external_id` = in_external_id
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_photo` 
                    SET
                        `status` = in_status
                        , `third_party_oembed` = in_third_party_oembed
                        , `code` = in_code
                        , `display_name` = in_display_name
                        , `name` = in_name
                        , `date_modified` = in_date_modified
                        , `url` = in_url
                        , `third_party_data` = in_third_party_data
                        , `uuid` = in_uuid
                        , `third_party_url` = in_third_party_url
                        , `third_party_id` = in_third_party_id
                        , `content_type` = in_content_type
                        , `external_id` = in_external_id
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `type` = in_type
                        , `description` = in_description
                    WHERE 1=1
                    AND `external_id` = in_external_id
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_photo`
                    (
                        `status`
                        , `third_party_oembed`
                        , `code`
                        , `display_name`
                        , `name`
                        , `date_modified`
                        , `url`
                        , `third_party_data`
                        , `uuid`
                        , `third_party_url`
                        , `third_party_id`
                        , `content_type`
                        , `external_id`
                        , `active`
                        , `date_created`
                        , `type`
                        , `description`
                    )
                    VALUES
                    (
                        in_status
                        , in_third_party_oembed
                        , in_code
                        , in_display_name
                        , in_name
                        , in_date_modified
                        , in_url
                        , in_third_party_data
                        , in_uuid
                        , in_third_party_url
                        , in_third_party_id
                        , in_content_type
                        , in_external_id
                        , in_active
                        , in_date_created
                        , in_type
                        , in_description
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_photo_set_url`;
delimiter $$
CREATE PROCEDURE `usp_game_photo_set_url`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_third_party_oembed VARCHAR (500) 
    , in_code VARCHAR (255) 
    , in_display_name VARCHAR (255) 
    , in_name VARCHAR (255) 
    , in_date_modified TIMESTAMP 
    , in_url VARCHAR (500) 
    , in_third_party_data VARCHAR (500) 
    , in_uuid BINARY(16) 
    , in_third_party_url VARCHAR (500) 
    , in_third_party_id VARCHAR (500) 
    , in_content_type VARCHAR (100) 
    , in_external_id BINARY(16) 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (500) 
    , in_description VARCHAR (255) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_photo`  
                    WHERE 1=1
                    AND lower(`url`) = lower(in_url)
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_photo` 
                    SET
                        `status` = in_status
                        , `third_party_oembed` = in_third_party_oembed
                        , `code` = in_code
                        , `display_name` = in_display_name
                        , `name` = in_name
                        , `date_modified` = in_date_modified
                        , `url` = in_url
                        , `third_party_data` = in_third_party_data
                        , `uuid` = in_uuid
                        , `third_party_url` = in_third_party_url
                        , `third_party_id` = in_third_party_id
                        , `content_type` = in_content_type
                        , `external_id` = in_external_id
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `type` = in_type
                        , `description` = in_description
                    WHERE 1=1
                    AND lower(`url`) = lower(in_url)
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_photo`
                    (
                        `status`
                        , `third_party_oembed`
                        , `code`
                        , `display_name`
                        , `name`
                        , `date_modified`
                        , `url`
                        , `third_party_data`
                        , `uuid`
                        , `third_party_url`
                        , `third_party_id`
                        , `content_type`
                        , `external_id`
                        , `active`
                        , `date_created`
                        , `type`
                        , `description`
                    )
                    VALUES
                    (
                        in_status
                        , in_third_party_oembed
                        , in_code
                        , in_display_name
                        , in_name
                        , in_date_modified
                        , in_url
                        , in_third_party_data
                        , in_uuid
                        , in_third_party_url
                        , in_third_party_id
                        , in_content_type
                        , in_external_id
                        , in_active
                        , in_date_created
                        , in_type
                        , in_description
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_photo_set_url_external_id`;
delimiter $$
CREATE PROCEDURE `usp_game_photo_set_url_external_id`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_third_party_oembed VARCHAR (500) 
    , in_code VARCHAR (255) 
    , in_display_name VARCHAR (255) 
    , in_name VARCHAR (255) 
    , in_date_modified TIMESTAMP 
    , in_url VARCHAR (500) 
    , in_third_party_data VARCHAR (500) 
    , in_uuid BINARY(16) 
    , in_third_party_url VARCHAR (500) 
    , in_third_party_id VARCHAR (500) 
    , in_content_type VARCHAR (100) 
    , in_external_id BINARY(16) 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (500) 
    , in_description VARCHAR (255) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_photo`  
                    WHERE 1=1
                    AND lower(`url`) = lower(in_url)
                    AND `external_id` = in_external_id
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_photo` 
                    SET
                        `status` = in_status
                        , `third_party_oembed` = in_third_party_oembed
                        , `code` = in_code
                        , `display_name` = in_display_name
                        , `name` = in_name
                        , `date_modified` = in_date_modified
                        , `url` = in_url
                        , `third_party_data` = in_third_party_data
                        , `uuid` = in_uuid
                        , `third_party_url` = in_third_party_url
                        , `third_party_id` = in_third_party_id
                        , `content_type` = in_content_type
                        , `external_id` = in_external_id
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `type` = in_type
                        , `description` = in_description
                    WHERE 1=1
                    AND lower(`url`) = lower(in_url)
                    AND `external_id` = in_external_id
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_photo`
                    (
                        `status`
                        , `third_party_oembed`
                        , `code`
                        , `display_name`
                        , `name`
                        , `date_modified`
                        , `url`
                        , `third_party_data`
                        , `uuid`
                        , `third_party_url`
                        , `third_party_id`
                        , `content_type`
                        , `external_id`
                        , `active`
                        , `date_created`
                        , `type`
                        , `description`
                    )
                    VALUES
                    (
                        in_status
                        , in_third_party_oembed
                        , in_code
                        , in_display_name
                        , in_name
                        , in_date_modified
                        , in_url
                        , in_third_party_data
                        , in_uuid
                        , in_third_party_url
                        , in_third_party_id
                        , in_content_type
                        , in_external_id
                        , in_active
                        , in_date_created
                        , in_type
                        , in_description
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_photo_set_uuid_external_id`;
delimiter $$
CREATE PROCEDURE `usp_game_photo_set_uuid_external_id`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_third_party_oembed VARCHAR (500) 
    , in_code VARCHAR (255) 
    , in_display_name VARCHAR (255) 
    , in_name VARCHAR (255) 
    , in_date_modified TIMESTAMP 
    , in_url VARCHAR (500) 
    , in_third_party_data VARCHAR (500) 
    , in_uuid BINARY(16) 
    , in_third_party_url VARCHAR (500) 
    , in_third_party_id VARCHAR (500) 
    , in_content_type VARCHAR (100) 
    , in_external_id BINARY(16) 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (500) 
    , in_description VARCHAR (255) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_photo`  
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    AND `external_id` = in_external_id
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_photo` 
                    SET
                        `status` = in_status
                        , `third_party_oembed` = in_third_party_oembed
                        , `code` = in_code
                        , `display_name` = in_display_name
                        , `name` = in_name
                        , `date_modified` = in_date_modified
                        , `url` = in_url
                        , `third_party_data` = in_third_party_data
                        , `uuid` = in_uuid
                        , `third_party_url` = in_third_party_url
                        , `third_party_id` = in_third_party_id
                        , `content_type` = in_content_type
                        , `external_id` = in_external_id
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `type` = in_type
                        , `description` = in_description
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    AND `external_id` = in_external_id
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_photo`
                    (
                        `status`
                        , `third_party_oembed`
                        , `code`
                        , `display_name`
                        , `name`
                        , `date_modified`
                        , `url`
                        , `third_party_data`
                        , `uuid`
                        , `third_party_url`
                        , `third_party_id`
                        , `content_type`
                        , `external_id`
                        , `active`
                        , `date_created`
                        , `type`
                        , `description`
                    )
                    VALUES
                    (
                        in_status
                        , in_third_party_oembed
                        , in_code
                        , in_display_name
                        , in_name
                        , in_date_modified
                        , in_url
                        , in_third_party_data
                        , in_uuid
                        , in_third_party_url
                        , in_third_party_id
                        , in_content_type
                        , in_external_id
                        , in_active
                        , in_date_created
                        , in_type
                        , in_description
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

-- ------------------------------------
-- DEL

-- ------------------------------------
-- MODEL: GamePhoto - game_photo

                       
DROP PROCEDURE IF EXISTS `usp_game_photo_del_uuid`;

delimiter $$
CREATE PROCEDURE `usp_game_photo_del_uuid`
(
    in_uuid BINARY(16) 
)

BEGIN
    DELETE 
    FROM `game_photo`
    WHERE 1=1                        
    AND "uuid" = in_uuid
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_game_photo_del_external_id`;

delimiter $$
CREATE PROCEDURE `usp_game_photo_del_external_id`
(
    in_external_id BINARY(16) 
)

BEGIN
    DELETE 
    FROM `game_photo`
    WHERE 1=1                        
    AND "external_id" = in_external_id
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_game_photo_del_url`;

delimiter $$
CREATE PROCEDURE `usp_game_photo_del_url`
(
    in_url VARCHAR (500) 
)

BEGIN
    DELETE 
    FROM `game_photo`
    WHERE 1=1                        
    AND lower("url") = lower(in_url)
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_game_photo_del_url_external_id`;

delimiter $$
CREATE PROCEDURE `usp_game_photo_del_url_external_id`
(
    in_url VARCHAR (500) 
    , in_external_id BINARY(16) 
)

BEGIN
    DELETE 
    FROM `game_photo`
    WHERE 1=1                        
    AND lower("url") = lower(in_url)
    AND "external_id" = in_external_id
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_game_photo_del_uuid_external_id`;

delimiter $$
CREATE PROCEDURE `usp_game_photo_del_uuid_external_id`
(
    in_uuid BINARY(16) 
    , in_external_id BINARY(16) 
)

BEGIN
    DELETE 
    FROM `game_photo`
    WHERE 1=1                        
    AND "uuid" = in_uuid
    AND "external_id" = in_external_id
    ;
END$$
delimiter ;
-- ------------------------------------
-- GET

-- ------------------------------------
-- MODEL: GamePhoto - game_photo

                       
DROP PROCEDURE IF EXISTS `usp_game_photo_get`;

delimiter $$
CREATE PROCEDURE `usp_game_photo_get`
(
)                        
BEGIN
    SELECT
        `status`
        , `third_party_oembed`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `url`
        , `third_party_data`
        , `uuid`
        , `third_party_url`
        , `third_party_id`
        , `content_type`
        , `external_id`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `game_photo`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_photo_get_uuid`;

delimiter $$
CREATE PROCEDURE `usp_game_photo_get_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `third_party_oembed`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `url`
        , `third_party_data`
        , `uuid`
        , `third_party_url`
        , `third_party_id`
        , `content_type`
        , `external_id`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `game_photo`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_photo_get_external_id`;

delimiter $$
CREATE PROCEDURE `usp_game_photo_get_external_id`
(
    in_external_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `third_party_oembed`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `url`
        , `third_party_data`
        , `uuid`
        , `third_party_url`
        , `third_party_id`
        , `content_type`
        , `external_id`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `game_photo`
    WHERE 1=1
    AND `external_id` = in_external_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_photo_get_url`;

delimiter $$
CREATE PROCEDURE `usp_game_photo_get_url`
(
    in_url VARCHAR (500) 
)
BEGIN
    SELECT
        `status`
        , `third_party_oembed`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `url`
        , `third_party_data`
        , `uuid`
        , `third_party_url`
        , `third_party_id`
        , `content_type`
        , `external_id`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `game_photo`
    WHERE 1=1
    AND lower(`url`) = lower(in_url)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_photo_get_url_external_id`;

delimiter $$
CREATE PROCEDURE `usp_game_photo_get_url_external_id`
(
    in_url VARCHAR (500) 
    , in_external_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `third_party_oembed`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `url`
        , `third_party_data`
        , `uuid`
        , `third_party_url`
        , `third_party_id`
        , `content_type`
        , `external_id`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `game_photo`
    WHERE 1=1
    AND lower(`url`) = lower(in_url)
    AND `external_id` = in_external_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_photo_get_uuid_external_id`;

delimiter $$
CREATE PROCEDURE `usp_game_photo_get_uuid_external_id`
(
    in_uuid BINARY(16) 
    , in_external_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `third_party_oembed`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `url`
        , `third_party_data`
        , `uuid`
        , `third_party_url`
        , `third_party_id`
        , `content_type`
        , `external_id`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `game_photo`
    WHERE 1=1
    AND `uuid` = in_uuid
    AND `external_id` = in_external_id
    ;
END$$
delimiter ;

-- -----------------------------------------------------------------------------
-- PROCS

-- ------------------------------------
-- COUNT

-- ------------------------------------
-- MODEL: GameVideo - game_video

                       
DROP PROCEDURE IF EXISTS `usp_game_video_count`;
delimiter $$
CREATE PROCEDURE `usp_game_video_count`
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_video`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_video_count_uuid`;
delimiter $$
CREATE PROCEDURE `usp_game_video_count_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_video`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_video_count_external_id`;
delimiter $$
CREATE PROCEDURE `usp_game_video_count_external_id`
(
    in_external_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_video`
    WHERE 1=1
    AND `external_id` = in_external_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_video_count_url`;
delimiter $$
CREATE PROCEDURE `usp_game_video_count_url`
(
    in_url VARCHAR (500) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_video`
    WHERE 1=1
    AND lower(`url`) = lower(in_url)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_video_count_url_external_id`;
delimiter $$
CREATE PROCEDURE `usp_game_video_count_url_external_id`
(
    in_url VARCHAR (500) 
    , in_external_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_video`
    WHERE 1=1
    AND lower(`url`) = lower(in_url)
    AND `external_id` = in_external_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_video_count_uuid_external_id`;
delimiter $$
CREATE PROCEDURE `usp_game_video_count_uuid_external_id`
(
    in_uuid BINARY(16) 
    , in_external_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_video`
    WHERE 1=1
    AND `uuid` = in_uuid
    AND `external_id` = in_external_id
    ;
END$$
delimiter ;

-- ------------------------------------
-- BROWSE

-- ------------------------------------
-- MODEL: GameVideo - game_video

                       
DROP PROCEDURE IF EXISTS `usp_game_video_browse_filter`;

delimiter $$
CREATE PROCEDURE `usp_game_video_browse_filter`
(
    in_page int,
    in_page_size int,
    in_sort VARCHAR(500),
    in_filter VARCHAR(4000)
    
)
BEGIN
    DECLARE total_rows int;
    SET total_rows = 0;
        
    IF (in_page = 0) THEN
        SET in_page = 1;
    END IF;    
    
    IF (in_page_size = 0) THEN
       SET in_page_size = 10;
    END IF;
    
    IF (in_sort = NULL || in_sort = '') THEN
       SET in_sort = ' date_modified ASC ';
    END IF;
    
    SET @sfields = CONCAT('', '`status`');
    SET @sfields = CONCAT(@sfields, ', `third_party_oembed`');
    SET @sfields = CONCAT(@sfields, ', `code`');
    SET @sfields = CONCAT(@sfields, ', `display_name`');
    SET @sfields = CONCAT(@sfields, ', `name`');
    SET @sfields = CONCAT(@sfields, ', `date_modified`');
    SET @sfields = CONCAT(@sfields, ', `url`');
    SET @sfields = CONCAT(@sfields, ', `third_party_data`');
    SET @sfields = CONCAT(@sfields, ', `uuid`');
    SET @sfields = CONCAT(@sfields, ', `third_party_url`');
    SET @sfields = CONCAT(@sfields, ', `third_party_id`');
    SET @sfields = CONCAT(@sfields, ', `content_type`');
    SET @sfields = CONCAT(@sfields, ', `external_id`');
    SET @sfields = CONCAT(@sfields, ', `active`');
    SET @sfields = CONCAT(@sfields, ', `date_created`');
    SET @sfields = CONCAT(@sfields, ', `type`');
    SET @sfields = CONCAT(@sfields, ', `description`');
    
    SET @stable = CONCAT('', ' FROM `game_video` WHERE 1=1 ');
    
    SET @s = CONCAT(' ', @stable);
    SET @s = CONCAT(@s, ' ', in_filter);    
    
    SET @scount = CONCAT('SELECT COUNT(*) as `total_rows` ', @s, ' INTO @total_rows');
    
    PREPARE stmtcount FROM @scount;
    EXECUTE stmtcount;
    #SELECT @total_rows;
    SET total_rows = @total_rows;

    SET @sfields = CONCAT(total_rows, ' as `total_rows`, ', @sfields);
    SET @s = CONCAT('SELECT ', @sfields, @s);
    SET @s = CONCAT(@s, ' ORDER BY ', in_sort);
    SET @s = CONCAT(@s, ' LIMIT ', in_page);
    SET @s = CONCAT(@s, ',', in_page_size);    

    PREPARE stmt FROM @s;
    EXECUTE stmt;
    
END$$
delimiter ;
-- ------------------------------------
-- SET

-- ------------------------------------
-- MODEL: GameVideo - game_video

                       
DROP PROCEDURE IF EXISTS `usp_game_video_set_uuid`;
delimiter $$
CREATE PROCEDURE `usp_game_video_set_uuid`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_third_party_oembed VARCHAR (500) 
    , in_code VARCHAR (255) 
    , in_display_name VARCHAR (255) 
    , in_name VARCHAR (255) 
    , in_date_modified TIMESTAMP 
    , in_url VARCHAR (500) 
    , in_third_party_data VARCHAR (500) 
    , in_uuid BINARY(16) 
    , in_third_party_url VARCHAR (500) 
    , in_third_party_id VARCHAR (500) 
    , in_content_type VARCHAR (100) 
    , in_external_id BINARY(16) 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (500) 
    , in_description VARCHAR (255) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_video`  
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_video` 
                    SET
                        `status` = in_status
                        , `third_party_oembed` = in_third_party_oembed
                        , `code` = in_code
                        , `display_name` = in_display_name
                        , `name` = in_name
                        , `date_modified` = in_date_modified
                        , `url` = in_url
                        , `third_party_data` = in_third_party_data
                        , `uuid` = in_uuid
                        , `third_party_url` = in_third_party_url
                        , `third_party_id` = in_third_party_id
                        , `content_type` = in_content_type
                        , `external_id` = in_external_id
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `type` = in_type
                        , `description` = in_description
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_video`
                    (
                        `status`
                        , `third_party_oembed`
                        , `code`
                        , `display_name`
                        , `name`
                        , `date_modified`
                        , `url`
                        , `third_party_data`
                        , `uuid`
                        , `third_party_url`
                        , `third_party_id`
                        , `content_type`
                        , `external_id`
                        , `active`
                        , `date_created`
                        , `type`
                        , `description`
                    )
                    VALUES
                    (
                        in_status
                        , in_third_party_oembed
                        , in_code
                        , in_display_name
                        , in_name
                        , in_date_modified
                        , in_url
                        , in_third_party_data
                        , in_uuid
                        , in_third_party_url
                        , in_third_party_id
                        , in_content_type
                        , in_external_id
                        , in_active
                        , in_date_created
                        , in_type
                        , in_description
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_video_set_external_id`;
delimiter $$
CREATE PROCEDURE `usp_game_video_set_external_id`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_third_party_oembed VARCHAR (500) 
    , in_code VARCHAR (255) 
    , in_display_name VARCHAR (255) 
    , in_name VARCHAR (255) 
    , in_date_modified TIMESTAMP 
    , in_url VARCHAR (500) 
    , in_third_party_data VARCHAR (500) 
    , in_uuid BINARY(16) 
    , in_third_party_url VARCHAR (500) 
    , in_third_party_id VARCHAR (500) 
    , in_content_type VARCHAR (100) 
    , in_external_id BINARY(16) 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (500) 
    , in_description VARCHAR (255) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_video`  
                    WHERE 1=1
                    AND `external_id` = in_external_id
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_video` 
                    SET
                        `status` = in_status
                        , `third_party_oembed` = in_third_party_oembed
                        , `code` = in_code
                        , `display_name` = in_display_name
                        , `name` = in_name
                        , `date_modified` = in_date_modified
                        , `url` = in_url
                        , `third_party_data` = in_third_party_data
                        , `uuid` = in_uuid
                        , `third_party_url` = in_third_party_url
                        , `third_party_id` = in_third_party_id
                        , `content_type` = in_content_type
                        , `external_id` = in_external_id
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `type` = in_type
                        , `description` = in_description
                    WHERE 1=1
                    AND `external_id` = in_external_id
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_video`
                    (
                        `status`
                        , `third_party_oembed`
                        , `code`
                        , `display_name`
                        , `name`
                        , `date_modified`
                        , `url`
                        , `third_party_data`
                        , `uuid`
                        , `third_party_url`
                        , `third_party_id`
                        , `content_type`
                        , `external_id`
                        , `active`
                        , `date_created`
                        , `type`
                        , `description`
                    )
                    VALUES
                    (
                        in_status
                        , in_third_party_oembed
                        , in_code
                        , in_display_name
                        , in_name
                        , in_date_modified
                        , in_url
                        , in_third_party_data
                        , in_uuid
                        , in_third_party_url
                        , in_third_party_id
                        , in_content_type
                        , in_external_id
                        , in_active
                        , in_date_created
                        , in_type
                        , in_description
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_video_set_url`;
delimiter $$
CREATE PROCEDURE `usp_game_video_set_url`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_third_party_oembed VARCHAR (500) 
    , in_code VARCHAR (255) 
    , in_display_name VARCHAR (255) 
    , in_name VARCHAR (255) 
    , in_date_modified TIMESTAMP 
    , in_url VARCHAR (500) 
    , in_third_party_data VARCHAR (500) 
    , in_uuid BINARY(16) 
    , in_third_party_url VARCHAR (500) 
    , in_third_party_id VARCHAR (500) 
    , in_content_type VARCHAR (100) 
    , in_external_id BINARY(16) 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (500) 
    , in_description VARCHAR (255) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_video`  
                    WHERE 1=1
                    AND lower(`url`) = lower(in_url)
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_video` 
                    SET
                        `status` = in_status
                        , `third_party_oembed` = in_third_party_oembed
                        , `code` = in_code
                        , `display_name` = in_display_name
                        , `name` = in_name
                        , `date_modified` = in_date_modified
                        , `url` = in_url
                        , `third_party_data` = in_third_party_data
                        , `uuid` = in_uuid
                        , `third_party_url` = in_third_party_url
                        , `third_party_id` = in_third_party_id
                        , `content_type` = in_content_type
                        , `external_id` = in_external_id
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `type` = in_type
                        , `description` = in_description
                    WHERE 1=1
                    AND lower(`url`) = lower(in_url)
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_video`
                    (
                        `status`
                        , `third_party_oembed`
                        , `code`
                        , `display_name`
                        , `name`
                        , `date_modified`
                        , `url`
                        , `third_party_data`
                        , `uuid`
                        , `third_party_url`
                        , `third_party_id`
                        , `content_type`
                        , `external_id`
                        , `active`
                        , `date_created`
                        , `type`
                        , `description`
                    )
                    VALUES
                    (
                        in_status
                        , in_third_party_oembed
                        , in_code
                        , in_display_name
                        , in_name
                        , in_date_modified
                        , in_url
                        , in_third_party_data
                        , in_uuid
                        , in_third_party_url
                        , in_third_party_id
                        , in_content_type
                        , in_external_id
                        , in_active
                        , in_date_created
                        , in_type
                        , in_description
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_video_set_url_external_id`;
delimiter $$
CREATE PROCEDURE `usp_game_video_set_url_external_id`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_third_party_oembed VARCHAR (500) 
    , in_code VARCHAR (255) 
    , in_display_name VARCHAR (255) 
    , in_name VARCHAR (255) 
    , in_date_modified TIMESTAMP 
    , in_url VARCHAR (500) 
    , in_third_party_data VARCHAR (500) 
    , in_uuid BINARY(16) 
    , in_third_party_url VARCHAR (500) 
    , in_third_party_id VARCHAR (500) 
    , in_content_type VARCHAR (100) 
    , in_external_id BINARY(16) 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (500) 
    , in_description VARCHAR (255) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_video`  
                    WHERE 1=1
                    AND lower(`url`) = lower(in_url)
                    AND `external_id` = in_external_id
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_video` 
                    SET
                        `status` = in_status
                        , `third_party_oembed` = in_third_party_oembed
                        , `code` = in_code
                        , `display_name` = in_display_name
                        , `name` = in_name
                        , `date_modified` = in_date_modified
                        , `url` = in_url
                        , `third_party_data` = in_third_party_data
                        , `uuid` = in_uuid
                        , `third_party_url` = in_third_party_url
                        , `third_party_id` = in_third_party_id
                        , `content_type` = in_content_type
                        , `external_id` = in_external_id
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `type` = in_type
                        , `description` = in_description
                    WHERE 1=1
                    AND lower(`url`) = lower(in_url)
                    AND `external_id` = in_external_id
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_video`
                    (
                        `status`
                        , `third_party_oembed`
                        , `code`
                        , `display_name`
                        , `name`
                        , `date_modified`
                        , `url`
                        , `third_party_data`
                        , `uuid`
                        , `third_party_url`
                        , `third_party_id`
                        , `content_type`
                        , `external_id`
                        , `active`
                        , `date_created`
                        , `type`
                        , `description`
                    )
                    VALUES
                    (
                        in_status
                        , in_third_party_oembed
                        , in_code
                        , in_display_name
                        , in_name
                        , in_date_modified
                        , in_url
                        , in_third_party_data
                        , in_uuid
                        , in_third_party_url
                        , in_third_party_id
                        , in_content_type
                        , in_external_id
                        , in_active
                        , in_date_created
                        , in_type
                        , in_description
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_video_set_uuid_external_id`;
delimiter $$
CREATE PROCEDURE `usp_game_video_set_uuid_external_id`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_third_party_oembed VARCHAR (500) 
    , in_code VARCHAR (255) 
    , in_display_name VARCHAR (255) 
    , in_name VARCHAR (255) 
    , in_date_modified TIMESTAMP 
    , in_url VARCHAR (500) 
    , in_third_party_data VARCHAR (500) 
    , in_uuid BINARY(16) 
    , in_third_party_url VARCHAR (500) 
    , in_third_party_id VARCHAR (500) 
    , in_content_type VARCHAR (100) 
    , in_external_id BINARY(16) 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (500) 
    , in_description VARCHAR (255) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_video`  
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    AND `external_id` = in_external_id
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_video` 
                    SET
                        `status` = in_status
                        , `third_party_oembed` = in_third_party_oembed
                        , `code` = in_code
                        , `display_name` = in_display_name
                        , `name` = in_name
                        , `date_modified` = in_date_modified
                        , `url` = in_url
                        , `third_party_data` = in_third_party_data
                        , `uuid` = in_uuid
                        , `third_party_url` = in_third_party_url
                        , `third_party_id` = in_third_party_id
                        , `content_type` = in_content_type
                        , `external_id` = in_external_id
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `type` = in_type
                        , `description` = in_description
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    AND `external_id` = in_external_id
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_video`
                    (
                        `status`
                        , `third_party_oembed`
                        , `code`
                        , `display_name`
                        , `name`
                        , `date_modified`
                        , `url`
                        , `third_party_data`
                        , `uuid`
                        , `third_party_url`
                        , `third_party_id`
                        , `content_type`
                        , `external_id`
                        , `active`
                        , `date_created`
                        , `type`
                        , `description`
                    )
                    VALUES
                    (
                        in_status
                        , in_third_party_oembed
                        , in_code
                        , in_display_name
                        , in_name
                        , in_date_modified
                        , in_url
                        , in_third_party_data
                        , in_uuid
                        , in_third_party_url
                        , in_third_party_id
                        , in_content_type
                        , in_external_id
                        , in_active
                        , in_date_created
                        , in_type
                        , in_description
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

-- ------------------------------------
-- DEL

-- ------------------------------------
-- MODEL: GameVideo - game_video

                       
DROP PROCEDURE IF EXISTS `usp_game_video_del_uuid`;

delimiter $$
CREATE PROCEDURE `usp_game_video_del_uuid`
(
    in_uuid BINARY(16) 
)

BEGIN
    DELETE 
    FROM `game_video`
    WHERE 1=1                        
    AND "uuid" = in_uuid
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_game_video_del_external_id`;

delimiter $$
CREATE PROCEDURE `usp_game_video_del_external_id`
(
    in_external_id BINARY(16) 
)

BEGIN
    DELETE 
    FROM `game_video`
    WHERE 1=1                        
    AND "external_id" = in_external_id
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_game_video_del_url`;

delimiter $$
CREATE PROCEDURE `usp_game_video_del_url`
(
    in_url VARCHAR (500) 
)

BEGIN
    DELETE 
    FROM `game_video`
    WHERE 1=1                        
    AND lower("url") = lower(in_url)
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_game_video_del_url_external_id`;

delimiter $$
CREATE PROCEDURE `usp_game_video_del_url_external_id`
(
    in_url VARCHAR (500) 
    , in_external_id BINARY(16) 
)

BEGIN
    DELETE 
    FROM `game_video`
    WHERE 1=1                        
    AND lower("url") = lower(in_url)
    AND "external_id" = in_external_id
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_game_video_del_uuid_external_id`;

delimiter $$
CREATE PROCEDURE `usp_game_video_del_uuid_external_id`
(
    in_uuid BINARY(16) 
    , in_external_id BINARY(16) 
)

BEGIN
    DELETE 
    FROM `game_video`
    WHERE 1=1                        
    AND "uuid" = in_uuid
    AND "external_id" = in_external_id
    ;
END$$
delimiter ;
-- ------------------------------------
-- GET

-- ------------------------------------
-- MODEL: GameVideo - game_video

                       
DROP PROCEDURE IF EXISTS `usp_game_video_get`;

delimiter $$
CREATE PROCEDURE `usp_game_video_get`
(
)                        
BEGIN
    SELECT
        `status`
        , `third_party_oembed`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `url`
        , `third_party_data`
        , `uuid`
        , `third_party_url`
        , `third_party_id`
        , `content_type`
        , `external_id`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `game_video`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_video_get_uuid`;

delimiter $$
CREATE PROCEDURE `usp_game_video_get_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `third_party_oembed`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `url`
        , `third_party_data`
        , `uuid`
        , `third_party_url`
        , `third_party_id`
        , `content_type`
        , `external_id`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `game_video`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_video_get_external_id`;

delimiter $$
CREATE PROCEDURE `usp_game_video_get_external_id`
(
    in_external_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `third_party_oembed`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `url`
        , `third_party_data`
        , `uuid`
        , `third_party_url`
        , `third_party_id`
        , `content_type`
        , `external_id`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `game_video`
    WHERE 1=1
    AND `external_id` = in_external_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_video_get_url`;

delimiter $$
CREATE PROCEDURE `usp_game_video_get_url`
(
    in_url VARCHAR (500) 
)
BEGIN
    SELECT
        `status`
        , `third_party_oembed`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `url`
        , `third_party_data`
        , `uuid`
        , `third_party_url`
        , `third_party_id`
        , `content_type`
        , `external_id`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `game_video`
    WHERE 1=1
    AND lower(`url`) = lower(in_url)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_video_get_url_external_id`;

delimiter $$
CREATE PROCEDURE `usp_game_video_get_url_external_id`
(
    in_url VARCHAR (500) 
    , in_external_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `third_party_oembed`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `url`
        , `third_party_data`
        , `uuid`
        , `third_party_url`
        , `third_party_id`
        , `content_type`
        , `external_id`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `game_video`
    WHERE 1=1
    AND lower(`url`) = lower(in_url)
    AND `external_id` = in_external_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_video_get_uuid_external_id`;

delimiter $$
CREATE PROCEDURE `usp_game_video_get_uuid_external_id`
(
    in_uuid BINARY(16) 
    , in_external_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `third_party_oembed`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `url`
        , `third_party_data`
        , `uuid`
        , `third_party_url`
        , `third_party_id`
        , `content_type`
        , `external_id`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `game_video`
    WHERE 1=1
    AND `uuid` = in_uuid
    AND `external_id` = in_external_id
    ;
END$$
delimiter ;

-- -----------------------------------------------------------------------------
-- PROCS

-- ------------------------------------
-- COUNT

-- ------------------------------------
-- MODEL: GameRpgItemWeapon - game_rpg_item_weapon

                       
DROP PROCEDURE IF EXISTS `usp_game_rpg_item_weapon_count`;
delimiter $$
CREATE PROCEDURE `usp_game_rpg_item_weapon_count`
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_rpg_item_weapon`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_rpg_item_weapon_count_uuid`;
delimiter $$
CREATE PROCEDURE `usp_game_rpg_item_weapon_count_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_rpg_item_weapon`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_rpg_item_weapon_count_game_id`;
delimiter $$
CREATE PROCEDURE `usp_game_rpg_item_weapon_count_game_id`
(
    in_game_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_rpg_item_weapon`
    WHERE 1=1
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_rpg_item_weapon_count_url`;
delimiter $$
CREATE PROCEDURE `usp_game_rpg_item_weapon_count_url`
(
    in_url VARCHAR (500) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_rpg_item_weapon`
    WHERE 1=1
    AND lower(`url`) = lower(in_url)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_rpg_item_weapon_count_url_game_id`;
delimiter $$
CREATE PROCEDURE `usp_game_rpg_item_weapon_count_url_game_id`
(
    in_url VARCHAR (500) 
    , in_game_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_rpg_item_weapon`
    WHERE 1=1
    AND lower(`url`) = lower(in_url)
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_rpg_item_weapon_count_uuid_game_id`;
delimiter $$
CREATE PROCEDURE `usp_game_rpg_item_weapon_count_uuid_game_id`
(
    in_uuid BINARY(16) 
    , in_game_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_rpg_item_weapon`
    WHERE 1=1
    AND `uuid` = in_uuid
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

-- ------------------------------------
-- BROWSE

-- ------------------------------------
-- MODEL: GameRpgItemWeapon - game_rpg_item_weapon

                       
DROP PROCEDURE IF EXISTS `usp_game_rpg_item_weapon_browse_filter`;

delimiter $$
CREATE PROCEDURE `usp_game_rpg_item_weapon_browse_filter`
(
    in_page int,
    in_page_size int,
    in_sort VARCHAR(500),
    in_filter VARCHAR(4000)
    
)
BEGIN
    DECLARE total_rows int;
    SET total_rows = 0;
        
    IF (in_page = 0) THEN
        SET in_page = 1;
    END IF;    
    
    IF (in_page_size = 0) THEN
       SET in_page_size = 10;
    END IF;
    
    IF (in_sort = NULL || in_sort = '') THEN
       SET in_sort = ' date_modified ASC ';
    END IF;
    
    SET @sfields = CONCAT('', '`status`');
    SET @sfields = CONCAT(@sfields, ', `third_party_oembed`');
    SET @sfields = CONCAT(@sfields, ', `code`');
    SET @sfields = CONCAT(@sfields, ', `description`');
    SET @sfields = CONCAT(@sfields, ', `game_defense`');
    SET @sfields = CONCAT(@sfields, ', `third_party_url`');
    SET @sfields = CONCAT(@sfields, ', `third_party_id`');
    SET @sfields = CONCAT(@sfields, ', `content_type`');
    SET @sfields = CONCAT(@sfields, ', `type`');
    SET @sfields = CONCAT(@sfields, ', `active`');
    SET @sfields = CONCAT(@sfields, ', `game_id`');
    SET @sfields = CONCAT(@sfields, ', `game_attack`');
    SET @sfields = CONCAT(@sfields, ', `uuid`');
    SET @sfields = CONCAT(@sfields, ', `display_name`');
    SET @sfields = CONCAT(@sfields, ', `name`');
    SET @sfields = CONCAT(@sfields, ', `date_modified`');
    SET @sfields = CONCAT(@sfields, ', `url`');
    SET @sfields = CONCAT(@sfields, ', `third_party_data`');
    SET @sfields = CONCAT(@sfields, ', `game_price`');
    SET @sfields = CONCAT(@sfields, ', `game_type`');
    SET @sfields = CONCAT(@sfields, ', `game_skill`');
    SET @sfields = CONCAT(@sfields, ', `game_health`');
    SET @sfields = CONCAT(@sfields, ', `date_created`');
    SET @sfields = CONCAT(@sfields, ', `game_energy`');
    SET @sfields = CONCAT(@sfields, ', `game_data`');
    
    SET @stable = CONCAT('', ' FROM `game_rpg_item_weapon` WHERE 1=1 ');
    
    SET @s = CONCAT(' ', @stable);
    SET @s = CONCAT(@s, ' ', in_filter);    
    
    SET @scount = CONCAT('SELECT COUNT(*) as `total_rows` ', @s, ' INTO @total_rows');
    
    PREPARE stmtcount FROM @scount;
    EXECUTE stmtcount;
    #SELECT @total_rows;
    SET total_rows = @total_rows;

    SET @sfields = CONCAT(total_rows, ' as `total_rows`, ', @sfields);
    SET @s = CONCAT('SELECT ', @sfields, @s);
    SET @s = CONCAT(@s, ' ORDER BY ', in_sort);
    SET @s = CONCAT(@s, ' LIMIT ', in_page);
    SET @s = CONCAT(@s, ',', in_page_size);    

    PREPARE stmt FROM @s;
    EXECUTE stmt;
    
END$$
delimiter ;
-- ------------------------------------
-- SET

-- ------------------------------------
-- MODEL: GameRpgItemWeapon - game_rpg_item_weapon

                       
DROP PROCEDURE IF EXISTS `usp_game_rpg_item_weapon_set_uuid`;
delimiter $$
CREATE PROCEDURE `usp_game_rpg_item_weapon_set_uuid`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_third_party_oembed VARCHAR (500) 
    , in_code VARCHAR (255) 
    , in_description VARCHAR (255) 
    , in_game_defense decimal 
    , in_third_party_url VARCHAR (500) 
    , in_third_party_id VARCHAR (500) 
    , in_content_type VARCHAR (100) 
    , in_type VARCHAR (500) 
    , in_active int 
    , in_game_id BINARY(16) 
    , in_game_attack decimal 
    , in_uuid BINARY(16) 
    , in_display_name VARCHAR (255) 
    , in_name VARCHAR (255) 
    , in_date_modified TIMESTAMP 
    , in_url VARCHAR (500) 
    , in_third_party_data VARCHAR (500) 
    , in_game_price decimal 
    , in_game_type decimal 
    , in_game_skill decimal 
    , in_game_health decimal 
    , in_date_created TIMESTAMP 
    , in_game_energy decimal 
    , in_game_data TEXT 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_rpg_item_weapon`  
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_rpg_item_weapon` 
                    SET
                        `status` = in_status
                        , `third_party_oembed` = in_third_party_oembed
                        , `code` = in_code
                        , `description` = in_description
                        , `game_defense` = in_game_defense
                        , `third_party_url` = in_third_party_url
                        , `third_party_id` = in_third_party_id
                        , `content_type` = in_content_type
                        , `type` = in_type
                        , `active` = in_active
                        , `game_id` = in_game_id
                        , `game_attack` = in_game_attack
                        , `uuid` = in_uuid
                        , `display_name` = in_display_name
                        , `name` = in_name
                        , `date_modified` = in_date_modified
                        , `url` = in_url
                        , `third_party_data` = in_third_party_data
                        , `game_price` = in_game_price
                        , `game_type` = in_game_type
                        , `game_skill` = in_game_skill
                        , `game_health` = in_game_health
                        , `date_created` = in_date_created
                        , `game_energy` = in_game_energy
                        , `game_data` = in_game_data
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_rpg_item_weapon`
                    (
                        `status`
                        , `third_party_oembed`
                        , `code`
                        , `description`
                        , `game_defense`
                        , `third_party_url`
                        , `third_party_id`
                        , `content_type`
                        , `type`
                        , `active`
                        , `game_id`
                        , `game_attack`
                        , `uuid`
                        , `display_name`
                        , `name`
                        , `date_modified`
                        , `url`
                        , `third_party_data`
                        , `game_price`
                        , `game_type`
                        , `game_skill`
                        , `game_health`
                        , `date_created`
                        , `game_energy`
                        , `game_data`
                    )
                    VALUES
                    (
                        in_status
                        , in_third_party_oembed
                        , in_code
                        , in_description
                        , in_game_defense
                        , in_third_party_url
                        , in_third_party_id
                        , in_content_type
                        , in_type
                        , in_active
                        , in_game_id
                        , in_game_attack
                        , in_uuid
                        , in_display_name
                        , in_name
                        , in_date_modified
                        , in_url
                        , in_third_party_data
                        , in_game_price
                        , in_game_type
                        , in_game_skill
                        , in_game_health
                        , in_date_created
                        , in_game_energy
                        , in_game_data
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_rpg_item_weapon_set_game_id`;
delimiter $$
CREATE PROCEDURE `usp_game_rpg_item_weapon_set_game_id`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_third_party_oembed VARCHAR (500) 
    , in_code VARCHAR (255) 
    , in_description VARCHAR (255) 
    , in_game_defense decimal 
    , in_third_party_url VARCHAR (500) 
    , in_third_party_id VARCHAR (500) 
    , in_content_type VARCHAR (100) 
    , in_type VARCHAR (500) 
    , in_active int 
    , in_game_id BINARY(16) 
    , in_game_attack decimal 
    , in_uuid BINARY(16) 
    , in_display_name VARCHAR (255) 
    , in_name VARCHAR (255) 
    , in_date_modified TIMESTAMP 
    , in_url VARCHAR (500) 
    , in_third_party_data VARCHAR (500) 
    , in_game_price decimal 
    , in_game_type decimal 
    , in_game_skill decimal 
    , in_game_health decimal 
    , in_date_created TIMESTAMP 
    , in_game_energy decimal 
    , in_game_data TEXT 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_rpg_item_weapon`  
                    WHERE 1=1
                    AND `game_id` = in_game_id
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_rpg_item_weapon` 
                    SET
                        `status` = in_status
                        , `third_party_oembed` = in_third_party_oembed
                        , `code` = in_code
                        , `description` = in_description
                        , `game_defense` = in_game_defense
                        , `third_party_url` = in_third_party_url
                        , `third_party_id` = in_third_party_id
                        , `content_type` = in_content_type
                        , `type` = in_type
                        , `active` = in_active
                        , `game_id` = in_game_id
                        , `game_attack` = in_game_attack
                        , `uuid` = in_uuid
                        , `display_name` = in_display_name
                        , `name` = in_name
                        , `date_modified` = in_date_modified
                        , `url` = in_url
                        , `third_party_data` = in_third_party_data
                        , `game_price` = in_game_price
                        , `game_type` = in_game_type
                        , `game_skill` = in_game_skill
                        , `game_health` = in_game_health
                        , `date_created` = in_date_created
                        , `game_energy` = in_game_energy
                        , `game_data` = in_game_data
                    WHERE 1=1
                    AND `game_id` = in_game_id
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_rpg_item_weapon`
                    (
                        `status`
                        , `third_party_oembed`
                        , `code`
                        , `description`
                        , `game_defense`
                        , `third_party_url`
                        , `third_party_id`
                        , `content_type`
                        , `type`
                        , `active`
                        , `game_id`
                        , `game_attack`
                        , `uuid`
                        , `display_name`
                        , `name`
                        , `date_modified`
                        , `url`
                        , `third_party_data`
                        , `game_price`
                        , `game_type`
                        , `game_skill`
                        , `game_health`
                        , `date_created`
                        , `game_energy`
                        , `game_data`
                    )
                    VALUES
                    (
                        in_status
                        , in_third_party_oembed
                        , in_code
                        , in_description
                        , in_game_defense
                        , in_third_party_url
                        , in_third_party_id
                        , in_content_type
                        , in_type
                        , in_active
                        , in_game_id
                        , in_game_attack
                        , in_uuid
                        , in_display_name
                        , in_name
                        , in_date_modified
                        , in_url
                        , in_third_party_data
                        , in_game_price
                        , in_game_type
                        , in_game_skill
                        , in_game_health
                        , in_date_created
                        , in_game_energy
                        , in_game_data
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_rpg_item_weapon_set_url`;
delimiter $$
CREATE PROCEDURE `usp_game_rpg_item_weapon_set_url`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_third_party_oembed VARCHAR (500) 
    , in_code VARCHAR (255) 
    , in_description VARCHAR (255) 
    , in_game_defense decimal 
    , in_third_party_url VARCHAR (500) 
    , in_third_party_id VARCHAR (500) 
    , in_content_type VARCHAR (100) 
    , in_type VARCHAR (500) 
    , in_active int 
    , in_game_id BINARY(16) 
    , in_game_attack decimal 
    , in_uuid BINARY(16) 
    , in_display_name VARCHAR (255) 
    , in_name VARCHAR (255) 
    , in_date_modified TIMESTAMP 
    , in_url VARCHAR (500) 
    , in_third_party_data VARCHAR (500) 
    , in_game_price decimal 
    , in_game_type decimal 
    , in_game_skill decimal 
    , in_game_health decimal 
    , in_date_created TIMESTAMP 
    , in_game_energy decimal 
    , in_game_data TEXT 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_rpg_item_weapon`  
                    WHERE 1=1
                    AND lower(`url`) = lower(in_url)
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_rpg_item_weapon` 
                    SET
                        `status` = in_status
                        , `third_party_oembed` = in_third_party_oembed
                        , `code` = in_code
                        , `description` = in_description
                        , `game_defense` = in_game_defense
                        , `third_party_url` = in_third_party_url
                        , `third_party_id` = in_third_party_id
                        , `content_type` = in_content_type
                        , `type` = in_type
                        , `active` = in_active
                        , `game_id` = in_game_id
                        , `game_attack` = in_game_attack
                        , `uuid` = in_uuid
                        , `display_name` = in_display_name
                        , `name` = in_name
                        , `date_modified` = in_date_modified
                        , `url` = in_url
                        , `third_party_data` = in_third_party_data
                        , `game_price` = in_game_price
                        , `game_type` = in_game_type
                        , `game_skill` = in_game_skill
                        , `game_health` = in_game_health
                        , `date_created` = in_date_created
                        , `game_energy` = in_game_energy
                        , `game_data` = in_game_data
                    WHERE 1=1
                    AND lower(`url`) = lower(in_url)
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_rpg_item_weapon`
                    (
                        `status`
                        , `third_party_oembed`
                        , `code`
                        , `description`
                        , `game_defense`
                        , `third_party_url`
                        , `third_party_id`
                        , `content_type`
                        , `type`
                        , `active`
                        , `game_id`
                        , `game_attack`
                        , `uuid`
                        , `display_name`
                        , `name`
                        , `date_modified`
                        , `url`
                        , `third_party_data`
                        , `game_price`
                        , `game_type`
                        , `game_skill`
                        , `game_health`
                        , `date_created`
                        , `game_energy`
                        , `game_data`
                    )
                    VALUES
                    (
                        in_status
                        , in_third_party_oembed
                        , in_code
                        , in_description
                        , in_game_defense
                        , in_third_party_url
                        , in_third_party_id
                        , in_content_type
                        , in_type
                        , in_active
                        , in_game_id
                        , in_game_attack
                        , in_uuid
                        , in_display_name
                        , in_name
                        , in_date_modified
                        , in_url
                        , in_third_party_data
                        , in_game_price
                        , in_game_type
                        , in_game_skill
                        , in_game_health
                        , in_date_created
                        , in_game_energy
                        , in_game_data
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_rpg_item_weapon_set_url_game_id`;
delimiter $$
CREATE PROCEDURE `usp_game_rpg_item_weapon_set_url_game_id`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_third_party_oembed VARCHAR (500) 
    , in_code VARCHAR (255) 
    , in_description VARCHAR (255) 
    , in_game_defense decimal 
    , in_third_party_url VARCHAR (500) 
    , in_third_party_id VARCHAR (500) 
    , in_content_type VARCHAR (100) 
    , in_type VARCHAR (500) 
    , in_active int 
    , in_game_id BINARY(16) 
    , in_game_attack decimal 
    , in_uuid BINARY(16) 
    , in_display_name VARCHAR (255) 
    , in_name VARCHAR (255) 
    , in_date_modified TIMESTAMP 
    , in_url VARCHAR (500) 
    , in_third_party_data VARCHAR (500) 
    , in_game_price decimal 
    , in_game_type decimal 
    , in_game_skill decimal 
    , in_game_health decimal 
    , in_date_created TIMESTAMP 
    , in_game_energy decimal 
    , in_game_data TEXT 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_rpg_item_weapon`  
                    WHERE 1=1
                    AND lower(`url`) = lower(in_url)
                    AND `game_id` = in_game_id
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_rpg_item_weapon` 
                    SET
                        `status` = in_status
                        , `third_party_oembed` = in_third_party_oembed
                        , `code` = in_code
                        , `description` = in_description
                        , `game_defense` = in_game_defense
                        , `third_party_url` = in_third_party_url
                        , `third_party_id` = in_third_party_id
                        , `content_type` = in_content_type
                        , `type` = in_type
                        , `active` = in_active
                        , `game_id` = in_game_id
                        , `game_attack` = in_game_attack
                        , `uuid` = in_uuid
                        , `display_name` = in_display_name
                        , `name` = in_name
                        , `date_modified` = in_date_modified
                        , `url` = in_url
                        , `third_party_data` = in_third_party_data
                        , `game_price` = in_game_price
                        , `game_type` = in_game_type
                        , `game_skill` = in_game_skill
                        , `game_health` = in_game_health
                        , `date_created` = in_date_created
                        , `game_energy` = in_game_energy
                        , `game_data` = in_game_data
                    WHERE 1=1
                    AND lower(`url`) = lower(in_url)
                    AND `game_id` = in_game_id
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_rpg_item_weapon`
                    (
                        `status`
                        , `third_party_oembed`
                        , `code`
                        , `description`
                        , `game_defense`
                        , `third_party_url`
                        , `third_party_id`
                        , `content_type`
                        , `type`
                        , `active`
                        , `game_id`
                        , `game_attack`
                        , `uuid`
                        , `display_name`
                        , `name`
                        , `date_modified`
                        , `url`
                        , `third_party_data`
                        , `game_price`
                        , `game_type`
                        , `game_skill`
                        , `game_health`
                        , `date_created`
                        , `game_energy`
                        , `game_data`
                    )
                    VALUES
                    (
                        in_status
                        , in_third_party_oembed
                        , in_code
                        , in_description
                        , in_game_defense
                        , in_third_party_url
                        , in_third_party_id
                        , in_content_type
                        , in_type
                        , in_active
                        , in_game_id
                        , in_game_attack
                        , in_uuid
                        , in_display_name
                        , in_name
                        , in_date_modified
                        , in_url
                        , in_third_party_data
                        , in_game_price
                        , in_game_type
                        , in_game_skill
                        , in_game_health
                        , in_date_created
                        , in_game_energy
                        , in_game_data
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_rpg_item_weapon_set_uuid_game_id`;
delimiter $$
CREATE PROCEDURE `usp_game_rpg_item_weapon_set_uuid_game_id`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_third_party_oembed VARCHAR (500) 
    , in_code VARCHAR (255) 
    , in_description VARCHAR (255) 
    , in_game_defense decimal 
    , in_third_party_url VARCHAR (500) 
    , in_third_party_id VARCHAR (500) 
    , in_content_type VARCHAR (100) 
    , in_type VARCHAR (500) 
    , in_active int 
    , in_game_id BINARY(16) 
    , in_game_attack decimal 
    , in_uuid BINARY(16) 
    , in_display_name VARCHAR (255) 
    , in_name VARCHAR (255) 
    , in_date_modified TIMESTAMP 
    , in_url VARCHAR (500) 
    , in_third_party_data VARCHAR (500) 
    , in_game_price decimal 
    , in_game_type decimal 
    , in_game_skill decimal 
    , in_game_health decimal 
    , in_date_created TIMESTAMP 
    , in_game_energy decimal 
    , in_game_data TEXT 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_rpg_item_weapon`  
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    AND `game_id` = in_game_id
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_rpg_item_weapon` 
                    SET
                        `status` = in_status
                        , `third_party_oembed` = in_third_party_oembed
                        , `code` = in_code
                        , `description` = in_description
                        , `game_defense` = in_game_defense
                        , `third_party_url` = in_third_party_url
                        , `third_party_id` = in_third_party_id
                        , `content_type` = in_content_type
                        , `type` = in_type
                        , `active` = in_active
                        , `game_id` = in_game_id
                        , `game_attack` = in_game_attack
                        , `uuid` = in_uuid
                        , `display_name` = in_display_name
                        , `name` = in_name
                        , `date_modified` = in_date_modified
                        , `url` = in_url
                        , `third_party_data` = in_third_party_data
                        , `game_price` = in_game_price
                        , `game_type` = in_game_type
                        , `game_skill` = in_game_skill
                        , `game_health` = in_game_health
                        , `date_created` = in_date_created
                        , `game_energy` = in_game_energy
                        , `game_data` = in_game_data
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    AND `game_id` = in_game_id
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_rpg_item_weapon`
                    (
                        `status`
                        , `third_party_oembed`
                        , `code`
                        , `description`
                        , `game_defense`
                        , `third_party_url`
                        , `third_party_id`
                        , `content_type`
                        , `type`
                        , `active`
                        , `game_id`
                        , `game_attack`
                        , `uuid`
                        , `display_name`
                        , `name`
                        , `date_modified`
                        , `url`
                        , `third_party_data`
                        , `game_price`
                        , `game_type`
                        , `game_skill`
                        , `game_health`
                        , `date_created`
                        , `game_energy`
                        , `game_data`
                    )
                    VALUES
                    (
                        in_status
                        , in_third_party_oembed
                        , in_code
                        , in_description
                        , in_game_defense
                        , in_third_party_url
                        , in_third_party_id
                        , in_content_type
                        , in_type
                        , in_active
                        , in_game_id
                        , in_game_attack
                        , in_uuid
                        , in_display_name
                        , in_name
                        , in_date_modified
                        , in_url
                        , in_third_party_data
                        , in_game_price
                        , in_game_type
                        , in_game_skill
                        , in_game_health
                        , in_date_created
                        , in_game_energy
                        , in_game_data
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

-- ------------------------------------
-- DEL

-- ------------------------------------
-- MODEL: GameRpgItemWeapon - game_rpg_item_weapon

                       
DROP PROCEDURE IF EXISTS `usp_game_rpg_item_weapon_del_uuid`;

delimiter $$
CREATE PROCEDURE `usp_game_rpg_item_weapon_del_uuid`
(
    in_uuid BINARY(16) 
)

BEGIN
    DELETE 
    FROM `game_rpg_item_weapon`
    WHERE 1=1                        
    AND "uuid" = in_uuid
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_game_rpg_item_weapon_del_game_id`;

delimiter $$
CREATE PROCEDURE `usp_game_rpg_item_weapon_del_game_id`
(
    in_game_id BINARY(16) 
)

BEGIN
    DELETE 
    FROM `game_rpg_item_weapon`
    WHERE 1=1                        
    AND "game_id" = in_game_id
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_game_rpg_item_weapon_del_url`;

delimiter $$
CREATE PROCEDURE `usp_game_rpg_item_weapon_del_url`
(
    in_url VARCHAR (500) 
)

BEGIN
    DELETE 
    FROM `game_rpg_item_weapon`
    WHERE 1=1                        
    AND lower("url") = lower(in_url)
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_game_rpg_item_weapon_del_url_game_id`;

delimiter $$
CREATE PROCEDURE `usp_game_rpg_item_weapon_del_url_game_id`
(
    in_url VARCHAR (500) 
    , in_game_id BINARY(16) 
)

BEGIN
    DELETE 
    FROM `game_rpg_item_weapon`
    WHERE 1=1                        
    AND lower("url") = lower(in_url)
    AND "game_id" = in_game_id
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_game_rpg_item_weapon_del_uuid_game_id`;

delimiter $$
CREATE PROCEDURE `usp_game_rpg_item_weapon_del_uuid_game_id`
(
    in_uuid BINARY(16) 
    , in_game_id BINARY(16) 
)

BEGIN
    DELETE 
    FROM `game_rpg_item_weapon`
    WHERE 1=1                        
    AND "uuid" = in_uuid
    AND "game_id" = in_game_id
    ;
END$$
delimiter ;
-- ------------------------------------
-- GET

-- ------------------------------------
-- MODEL: GameRpgItemWeapon - game_rpg_item_weapon

                       
DROP PROCEDURE IF EXISTS `usp_game_rpg_item_weapon_get`;

delimiter $$
CREATE PROCEDURE `usp_game_rpg_item_weapon_get`
(
)                        
BEGIN
    SELECT
        `status`
        , `third_party_oembed`
        , `code`
        , `description`
        , `game_defense`
        , `third_party_url`
        , `third_party_id`
        , `content_type`
        , `type`
        , `active`
        , `game_id`
        , `game_attack`
        , `uuid`
        , `display_name`
        , `name`
        , `date_modified`
        , `url`
        , `third_party_data`
        , `game_price`
        , `game_type`
        , `game_skill`
        , `game_health`
        , `date_created`
        , `game_energy`
        , `game_data`
    FROM `game_rpg_item_weapon`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_rpg_item_weapon_get_uuid`;

delimiter $$
CREATE PROCEDURE `usp_game_rpg_item_weapon_get_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `third_party_oembed`
        , `code`
        , `description`
        , `game_defense`
        , `third_party_url`
        , `third_party_id`
        , `content_type`
        , `type`
        , `active`
        , `game_id`
        , `game_attack`
        , `uuid`
        , `display_name`
        , `name`
        , `date_modified`
        , `url`
        , `third_party_data`
        , `game_price`
        , `game_type`
        , `game_skill`
        , `game_health`
        , `date_created`
        , `game_energy`
        , `game_data`
    FROM `game_rpg_item_weapon`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_rpg_item_weapon_get_game_id`;

delimiter $$
CREATE PROCEDURE `usp_game_rpg_item_weapon_get_game_id`
(
    in_game_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `third_party_oembed`
        , `code`
        , `description`
        , `game_defense`
        , `third_party_url`
        , `third_party_id`
        , `content_type`
        , `type`
        , `active`
        , `game_id`
        , `game_attack`
        , `uuid`
        , `display_name`
        , `name`
        , `date_modified`
        , `url`
        , `third_party_data`
        , `game_price`
        , `game_type`
        , `game_skill`
        , `game_health`
        , `date_created`
        , `game_energy`
        , `game_data`
    FROM `game_rpg_item_weapon`
    WHERE 1=1
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_rpg_item_weapon_get_url`;

delimiter $$
CREATE PROCEDURE `usp_game_rpg_item_weapon_get_url`
(
    in_url VARCHAR (500) 
)
BEGIN
    SELECT
        `status`
        , `third_party_oembed`
        , `code`
        , `description`
        , `game_defense`
        , `third_party_url`
        , `third_party_id`
        , `content_type`
        , `type`
        , `active`
        , `game_id`
        , `game_attack`
        , `uuid`
        , `display_name`
        , `name`
        , `date_modified`
        , `url`
        , `third_party_data`
        , `game_price`
        , `game_type`
        , `game_skill`
        , `game_health`
        , `date_created`
        , `game_energy`
        , `game_data`
    FROM `game_rpg_item_weapon`
    WHERE 1=1
    AND lower(`url`) = lower(in_url)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_rpg_item_weapon_get_url_game_id`;

delimiter $$
CREATE PROCEDURE `usp_game_rpg_item_weapon_get_url_game_id`
(
    in_url VARCHAR (500) 
    , in_game_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `third_party_oembed`
        , `code`
        , `description`
        , `game_defense`
        , `third_party_url`
        , `third_party_id`
        , `content_type`
        , `type`
        , `active`
        , `game_id`
        , `game_attack`
        , `uuid`
        , `display_name`
        , `name`
        , `date_modified`
        , `url`
        , `third_party_data`
        , `game_price`
        , `game_type`
        , `game_skill`
        , `game_health`
        , `date_created`
        , `game_energy`
        , `game_data`
    FROM `game_rpg_item_weapon`
    WHERE 1=1
    AND lower(`url`) = lower(in_url)
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_rpg_item_weapon_get_uuid_game_id`;

delimiter $$
CREATE PROCEDURE `usp_game_rpg_item_weapon_get_uuid_game_id`
(
    in_uuid BINARY(16) 
    , in_game_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `third_party_oembed`
        , `code`
        , `description`
        , `game_defense`
        , `third_party_url`
        , `third_party_id`
        , `content_type`
        , `type`
        , `active`
        , `game_id`
        , `game_attack`
        , `uuid`
        , `display_name`
        , `name`
        , `date_modified`
        , `url`
        , `third_party_data`
        , `game_price`
        , `game_type`
        , `game_skill`
        , `game_health`
        , `date_created`
        , `game_energy`
        , `game_data`
    FROM `game_rpg_item_weapon`
    WHERE 1=1
    AND `uuid` = in_uuid
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

-- -----------------------------------------------------------------------------
-- PROCS

-- ------------------------------------
-- COUNT

-- ------------------------------------
-- MODEL: GameRpgItemSkill - game_rpg_item_skill

                       
DROP PROCEDURE IF EXISTS `usp_game_rpg_item_skill_count`;
delimiter $$
CREATE PROCEDURE `usp_game_rpg_item_skill_count`
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_rpg_item_skill`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_rpg_item_skill_count_uuid`;
delimiter $$
CREATE PROCEDURE `usp_game_rpg_item_skill_count_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_rpg_item_skill`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_rpg_item_skill_count_game_id`;
delimiter $$
CREATE PROCEDURE `usp_game_rpg_item_skill_count_game_id`
(
    in_game_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_rpg_item_skill`
    WHERE 1=1
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_rpg_item_skill_count_url`;
delimiter $$
CREATE PROCEDURE `usp_game_rpg_item_skill_count_url`
(
    in_url VARCHAR (500) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_rpg_item_skill`
    WHERE 1=1
    AND lower(`url`) = lower(in_url)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_rpg_item_skill_count_url_game_id`;
delimiter $$
CREATE PROCEDURE `usp_game_rpg_item_skill_count_url_game_id`
(
    in_url VARCHAR (500) 
    , in_game_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_rpg_item_skill`
    WHERE 1=1
    AND lower(`url`) = lower(in_url)
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_rpg_item_skill_count_uuid_game_id`;
delimiter $$
CREATE PROCEDURE `usp_game_rpg_item_skill_count_uuid_game_id`
(
    in_uuid BINARY(16) 
    , in_game_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_rpg_item_skill`
    WHERE 1=1
    AND `uuid` = in_uuid
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

-- ------------------------------------
-- BROWSE

-- ------------------------------------
-- MODEL: GameRpgItemSkill - game_rpg_item_skill

                       
DROP PROCEDURE IF EXISTS `usp_game_rpg_item_skill_browse_filter`;

delimiter $$
CREATE PROCEDURE `usp_game_rpg_item_skill_browse_filter`
(
    in_page int,
    in_page_size int,
    in_sort VARCHAR(500),
    in_filter VARCHAR(4000)
    
)
BEGIN
    DECLARE total_rows int;
    SET total_rows = 0;
        
    IF (in_page = 0) THEN
        SET in_page = 1;
    END IF;    
    
    IF (in_page_size = 0) THEN
       SET in_page_size = 10;
    END IF;
    
    IF (in_sort = NULL || in_sort = '') THEN
       SET in_sort = ' date_modified ASC ';
    END IF;
    
    SET @sfields = CONCAT('', '`status`');
    SET @sfields = CONCAT(@sfields, ', `third_party_oembed`');
    SET @sfields = CONCAT(@sfields, ', `code`');
    SET @sfields = CONCAT(@sfields, ', `description`');
    SET @sfields = CONCAT(@sfields, ', `game_defense`');
    SET @sfields = CONCAT(@sfields, ', `third_party_url`');
    SET @sfields = CONCAT(@sfields, ', `third_party_id`');
    SET @sfields = CONCAT(@sfields, ', `content_type`');
    SET @sfields = CONCAT(@sfields, ', `type`');
    SET @sfields = CONCAT(@sfields, ', `active`');
    SET @sfields = CONCAT(@sfields, ', `game_id`');
    SET @sfields = CONCAT(@sfields, ', `game_attack`');
    SET @sfields = CONCAT(@sfields, ', `uuid`');
    SET @sfields = CONCAT(@sfields, ', `display_name`');
    SET @sfields = CONCAT(@sfields, ', `name`');
    SET @sfields = CONCAT(@sfields, ', `date_modified`');
    SET @sfields = CONCAT(@sfields, ', `url`');
    SET @sfields = CONCAT(@sfields, ', `third_party_data`');
    SET @sfields = CONCAT(@sfields, ', `game_price`');
    SET @sfields = CONCAT(@sfields, ', `game_type`');
    SET @sfields = CONCAT(@sfields, ', `game_skill`');
    SET @sfields = CONCAT(@sfields, ', `game_health`');
    SET @sfields = CONCAT(@sfields, ', `date_created`');
    SET @sfields = CONCAT(@sfields, ', `game_energy`');
    SET @sfields = CONCAT(@sfields, ', `game_data`');
    
    SET @stable = CONCAT('', ' FROM `game_rpg_item_skill` WHERE 1=1 ');
    
    SET @s = CONCAT(' ', @stable);
    SET @s = CONCAT(@s, ' ', in_filter);    
    
    SET @scount = CONCAT('SELECT COUNT(*) as `total_rows` ', @s, ' INTO @total_rows');
    
    PREPARE stmtcount FROM @scount;
    EXECUTE stmtcount;
    #SELECT @total_rows;
    SET total_rows = @total_rows;

    SET @sfields = CONCAT(total_rows, ' as `total_rows`, ', @sfields);
    SET @s = CONCAT('SELECT ', @sfields, @s);
    SET @s = CONCAT(@s, ' ORDER BY ', in_sort);
    SET @s = CONCAT(@s, ' LIMIT ', in_page);
    SET @s = CONCAT(@s, ',', in_page_size);    

    PREPARE stmt FROM @s;
    EXECUTE stmt;
    
END$$
delimiter ;
-- ------------------------------------
-- SET

-- ------------------------------------
-- MODEL: GameRpgItemSkill - game_rpg_item_skill

                       
DROP PROCEDURE IF EXISTS `usp_game_rpg_item_skill_set_uuid`;
delimiter $$
CREATE PROCEDURE `usp_game_rpg_item_skill_set_uuid`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_third_party_oembed VARCHAR (500) 
    , in_code VARCHAR (255) 
    , in_description VARCHAR (255) 
    , in_game_defense decimal 
    , in_third_party_url VARCHAR (500) 
    , in_third_party_id VARCHAR (500) 
    , in_content_type VARCHAR (100) 
    , in_type VARCHAR (500) 
    , in_active int 
    , in_game_id BINARY(16) 
    , in_game_attack decimal 
    , in_uuid BINARY(16) 
    , in_display_name VARCHAR (255) 
    , in_name VARCHAR (255) 
    , in_date_modified TIMESTAMP 
    , in_url VARCHAR (500) 
    , in_third_party_data VARCHAR (500) 
    , in_game_price decimal 
    , in_game_type decimal 
    , in_game_skill decimal 
    , in_game_health decimal 
    , in_date_created TIMESTAMP 
    , in_game_energy decimal 
    , in_game_data TEXT 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_rpg_item_skill`  
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_rpg_item_skill` 
                    SET
                        `status` = in_status
                        , `third_party_oembed` = in_third_party_oembed
                        , `code` = in_code
                        , `description` = in_description
                        , `game_defense` = in_game_defense
                        , `third_party_url` = in_third_party_url
                        , `third_party_id` = in_third_party_id
                        , `content_type` = in_content_type
                        , `type` = in_type
                        , `active` = in_active
                        , `game_id` = in_game_id
                        , `game_attack` = in_game_attack
                        , `uuid` = in_uuid
                        , `display_name` = in_display_name
                        , `name` = in_name
                        , `date_modified` = in_date_modified
                        , `url` = in_url
                        , `third_party_data` = in_third_party_data
                        , `game_price` = in_game_price
                        , `game_type` = in_game_type
                        , `game_skill` = in_game_skill
                        , `game_health` = in_game_health
                        , `date_created` = in_date_created
                        , `game_energy` = in_game_energy
                        , `game_data` = in_game_data
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_rpg_item_skill`
                    (
                        `status`
                        , `third_party_oembed`
                        , `code`
                        , `description`
                        , `game_defense`
                        , `third_party_url`
                        , `third_party_id`
                        , `content_type`
                        , `type`
                        , `active`
                        , `game_id`
                        , `game_attack`
                        , `uuid`
                        , `display_name`
                        , `name`
                        , `date_modified`
                        , `url`
                        , `third_party_data`
                        , `game_price`
                        , `game_type`
                        , `game_skill`
                        , `game_health`
                        , `date_created`
                        , `game_energy`
                        , `game_data`
                    )
                    VALUES
                    (
                        in_status
                        , in_third_party_oembed
                        , in_code
                        , in_description
                        , in_game_defense
                        , in_third_party_url
                        , in_third_party_id
                        , in_content_type
                        , in_type
                        , in_active
                        , in_game_id
                        , in_game_attack
                        , in_uuid
                        , in_display_name
                        , in_name
                        , in_date_modified
                        , in_url
                        , in_third_party_data
                        , in_game_price
                        , in_game_type
                        , in_game_skill
                        , in_game_health
                        , in_date_created
                        , in_game_energy
                        , in_game_data
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_rpg_item_skill_set_game_id`;
delimiter $$
CREATE PROCEDURE `usp_game_rpg_item_skill_set_game_id`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_third_party_oembed VARCHAR (500) 
    , in_code VARCHAR (255) 
    , in_description VARCHAR (255) 
    , in_game_defense decimal 
    , in_third_party_url VARCHAR (500) 
    , in_third_party_id VARCHAR (500) 
    , in_content_type VARCHAR (100) 
    , in_type VARCHAR (500) 
    , in_active int 
    , in_game_id BINARY(16) 
    , in_game_attack decimal 
    , in_uuid BINARY(16) 
    , in_display_name VARCHAR (255) 
    , in_name VARCHAR (255) 
    , in_date_modified TIMESTAMP 
    , in_url VARCHAR (500) 
    , in_third_party_data VARCHAR (500) 
    , in_game_price decimal 
    , in_game_type decimal 
    , in_game_skill decimal 
    , in_game_health decimal 
    , in_date_created TIMESTAMP 
    , in_game_energy decimal 
    , in_game_data TEXT 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_rpg_item_skill`  
                    WHERE 1=1
                    AND `game_id` = in_game_id
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_rpg_item_skill` 
                    SET
                        `status` = in_status
                        , `third_party_oembed` = in_third_party_oembed
                        , `code` = in_code
                        , `description` = in_description
                        , `game_defense` = in_game_defense
                        , `third_party_url` = in_third_party_url
                        , `third_party_id` = in_third_party_id
                        , `content_type` = in_content_type
                        , `type` = in_type
                        , `active` = in_active
                        , `game_id` = in_game_id
                        , `game_attack` = in_game_attack
                        , `uuid` = in_uuid
                        , `display_name` = in_display_name
                        , `name` = in_name
                        , `date_modified` = in_date_modified
                        , `url` = in_url
                        , `third_party_data` = in_third_party_data
                        , `game_price` = in_game_price
                        , `game_type` = in_game_type
                        , `game_skill` = in_game_skill
                        , `game_health` = in_game_health
                        , `date_created` = in_date_created
                        , `game_energy` = in_game_energy
                        , `game_data` = in_game_data
                    WHERE 1=1
                    AND `game_id` = in_game_id
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_rpg_item_skill`
                    (
                        `status`
                        , `third_party_oembed`
                        , `code`
                        , `description`
                        , `game_defense`
                        , `third_party_url`
                        , `third_party_id`
                        , `content_type`
                        , `type`
                        , `active`
                        , `game_id`
                        , `game_attack`
                        , `uuid`
                        , `display_name`
                        , `name`
                        , `date_modified`
                        , `url`
                        , `third_party_data`
                        , `game_price`
                        , `game_type`
                        , `game_skill`
                        , `game_health`
                        , `date_created`
                        , `game_energy`
                        , `game_data`
                    )
                    VALUES
                    (
                        in_status
                        , in_third_party_oembed
                        , in_code
                        , in_description
                        , in_game_defense
                        , in_third_party_url
                        , in_third_party_id
                        , in_content_type
                        , in_type
                        , in_active
                        , in_game_id
                        , in_game_attack
                        , in_uuid
                        , in_display_name
                        , in_name
                        , in_date_modified
                        , in_url
                        , in_third_party_data
                        , in_game_price
                        , in_game_type
                        , in_game_skill
                        , in_game_health
                        , in_date_created
                        , in_game_energy
                        , in_game_data
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_rpg_item_skill_set_url`;
delimiter $$
CREATE PROCEDURE `usp_game_rpg_item_skill_set_url`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_third_party_oembed VARCHAR (500) 
    , in_code VARCHAR (255) 
    , in_description VARCHAR (255) 
    , in_game_defense decimal 
    , in_third_party_url VARCHAR (500) 
    , in_third_party_id VARCHAR (500) 
    , in_content_type VARCHAR (100) 
    , in_type VARCHAR (500) 
    , in_active int 
    , in_game_id BINARY(16) 
    , in_game_attack decimal 
    , in_uuid BINARY(16) 
    , in_display_name VARCHAR (255) 
    , in_name VARCHAR (255) 
    , in_date_modified TIMESTAMP 
    , in_url VARCHAR (500) 
    , in_third_party_data VARCHAR (500) 
    , in_game_price decimal 
    , in_game_type decimal 
    , in_game_skill decimal 
    , in_game_health decimal 
    , in_date_created TIMESTAMP 
    , in_game_energy decimal 
    , in_game_data TEXT 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_rpg_item_skill`  
                    WHERE 1=1
                    AND lower(`url`) = lower(in_url)
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_rpg_item_skill` 
                    SET
                        `status` = in_status
                        , `third_party_oembed` = in_third_party_oembed
                        , `code` = in_code
                        , `description` = in_description
                        , `game_defense` = in_game_defense
                        , `third_party_url` = in_third_party_url
                        , `third_party_id` = in_third_party_id
                        , `content_type` = in_content_type
                        , `type` = in_type
                        , `active` = in_active
                        , `game_id` = in_game_id
                        , `game_attack` = in_game_attack
                        , `uuid` = in_uuid
                        , `display_name` = in_display_name
                        , `name` = in_name
                        , `date_modified` = in_date_modified
                        , `url` = in_url
                        , `third_party_data` = in_third_party_data
                        , `game_price` = in_game_price
                        , `game_type` = in_game_type
                        , `game_skill` = in_game_skill
                        , `game_health` = in_game_health
                        , `date_created` = in_date_created
                        , `game_energy` = in_game_energy
                        , `game_data` = in_game_data
                    WHERE 1=1
                    AND lower(`url`) = lower(in_url)
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_rpg_item_skill`
                    (
                        `status`
                        , `third_party_oembed`
                        , `code`
                        , `description`
                        , `game_defense`
                        , `third_party_url`
                        , `third_party_id`
                        , `content_type`
                        , `type`
                        , `active`
                        , `game_id`
                        , `game_attack`
                        , `uuid`
                        , `display_name`
                        , `name`
                        , `date_modified`
                        , `url`
                        , `third_party_data`
                        , `game_price`
                        , `game_type`
                        , `game_skill`
                        , `game_health`
                        , `date_created`
                        , `game_energy`
                        , `game_data`
                    )
                    VALUES
                    (
                        in_status
                        , in_third_party_oembed
                        , in_code
                        , in_description
                        , in_game_defense
                        , in_third_party_url
                        , in_third_party_id
                        , in_content_type
                        , in_type
                        , in_active
                        , in_game_id
                        , in_game_attack
                        , in_uuid
                        , in_display_name
                        , in_name
                        , in_date_modified
                        , in_url
                        , in_third_party_data
                        , in_game_price
                        , in_game_type
                        , in_game_skill
                        , in_game_health
                        , in_date_created
                        , in_game_energy
                        , in_game_data
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_rpg_item_skill_set_url_game_id`;
delimiter $$
CREATE PROCEDURE `usp_game_rpg_item_skill_set_url_game_id`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_third_party_oembed VARCHAR (500) 
    , in_code VARCHAR (255) 
    , in_description VARCHAR (255) 
    , in_game_defense decimal 
    , in_third_party_url VARCHAR (500) 
    , in_third_party_id VARCHAR (500) 
    , in_content_type VARCHAR (100) 
    , in_type VARCHAR (500) 
    , in_active int 
    , in_game_id BINARY(16) 
    , in_game_attack decimal 
    , in_uuid BINARY(16) 
    , in_display_name VARCHAR (255) 
    , in_name VARCHAR (255) 
    , in_date_modified TIMESTAMP 
    , in_url VARCHAR (500) 
    , in_third_party_data VARCHAR (500) 
    , in_game_price decimal 
    , in_game_type decimal 
    , in_game_skill decimal 
    , in_game_health decimal 
    , in_date_created TIMESTAMP 
    , in_game_energy decimal 
    , in_game_data TEXT 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_rpg_item_skill`  
                    WHERE 1=1
                    AND lower(`url`) = lower(in_url)
                    AND `game_id` = in_game_id
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_rpg_item_skill` 
                    SET
                        `status` = in_status
                        , `third_party_oembed` = in_third_party_oembed
                        , `code` = in_code
                        , `description` = in_description
                        , `game_defense` = in_game_defense
                        , `third_party_url` = in_third_party_url
                        , `third_party_id` = in_third_party_id
                        , `content_type` = in_content_type
                        , `type` = in_type
                        , `active` = in_active
                        , `game_id` = in_game_id
                        , `game_attack` = in_game_attack
                        , `uuid` = in_uuid
                        , `display_name` = in_display_name
                        , `name` = in_name
                        , `date_modified` = in_date_modified
                        , `url` = in_url
                        , `third_party_data` = in_third_party_data
                        , `game_price` = in_game_price
                        , `game_type` = in_game_type
                        , `game_skill` = in_game_skill
                        , `game_health` = in_game_health
                        , `date_created` = in_date_created
                        , `game_energy` = in_game_energy
                        , `game_data` = in_game_data
                    WHERE 1=1
                    AND lower(`url`) = lower(in_url)
                    AND `game_id` = in_game_id
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_rpg_item_skill`
                    (
                        `status`
                        , `third_party_oembed`
                        , `code`
                        , `description`
                        , `game_defense`
                        , `third_party_url`
                        , `third_party_id`
                        , `content_type`
                        , `type`
                        , `active`
                        , `game_id`
                        , `game_attack`
                        , `uuid`
                        , `display_name`
                        , `name`
                        , `date_modified`
                        , `url`
                        , `third_party_data`
                        , `game_price`
                        , `game_type`
                        , `game_skill`
                        , `game_health`
                        , `date_created`
                        , `game_energy`
                        , `game_data`
                    )
                    VALUES
                    (
                        in_status
                        , in_third_party_oembed
                        , in_code
                        , in_description
                        , in_game_defense
                        , in_third_party_url
                        , in_third_party_id
                        , in_content_type
                        , in_type
                        , in_active
                        , in_game_id
                        , in_game_attack
                        , in_uuid
                        , in_display_name
                        , in_name
                        , in_date_modified
                        , in_url
                        , in_third_party_data
                        , in_game_price
                        , in_game_type
                        , in_game_skill
                        , in_game_health
                        , in_date_created
                        , in_game_energy
                        , in_game_data
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_rpg_item_skill_set_uuid_game_id`;
delimiter $$
CREATE PROCEDURE `usp_game_rpg_item_skill_set_uuid_game_id`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_third_party_oembed VARCHAR (500) 
    , in_code VARCHAR (255) 
    , in_description VARCHAR (255) 
    , in_game_defense decimal 
    , in_third_party_url VARCHAR (500) 
    , in_third_party_id VARCHAR (500) 
    , in_content_type VARCHAR (100) 
    , in_type VARCHAR (500) 
    , in_active int 
    , in_game_id BINARY(16) 
    , in_game_attack decimal 
    , in_uuid BINARY(16) 
    , in_display_name VARCHAR (255) 
    , in_name VARCHAR (255) 
    , in_date_modified TIMESTAMP 
    , in_url VARCHAR (500) 
    , in_third_party_data VARCHAR (500) 
    , in_game_price decimal 
    , in_game_type decimal 
    , in_game_skill decimal 
    , in_game_health decimal 
    , in_date_created TIMESTAMP 
    , in_game_energy decimal 
    , in_game_data TEXT 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_rpg_item_skill`  
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    AND `game_id` = in_game_id
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_rpg_item_skill` 
                    SET
                        `status` = in_status
                        , `third_party_oembed` = in_third_party_oembed
                        , `code` = in_code
                        , `description` = in_description
                        , `game_defense` = in_game_defense
                        , `third_party_url` = in_third_party_url
                        , `third_party_id` = in_third_party_id
                        , `content_type` = in_content_type
                        , `type` = in_type
                        , `active` = in_active
                        , `game_id` = in_game_id
                        , `game_attack` = in_game_attack
                        , `uuid` = in_uuid
                        , `display_name` = in_display_name
                        , `name` = in_name
                        , `date_modified` = in_date_modified
                        , `url` = in_url
                        , `third_party_data` = in_third_party_data
                        , `game_price` = in_game_price
                        , `game_type` = in_game_type
                        , `game_skill` = in_game_skill
                        , `game_health` = in_game_health
                        , `date_created` = in_date_created
                        , `game_energy` = in_game_energy
                        , `game_data` = in_game_data
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    AND `game_id` = in_game_id
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_rpg_item_skill`
                    (
                        `status`
                        , `third_party_oembed`
                        , `code`
                        , `description`
                        , `game_defense`
                        , `third_party_url`
                        , `third_party_id`
                        , `content_type`
                        , `type`
                        , `active`
                        , `game_id`
                        , `game_attack`
                        , `uuid`
                        , `display_name`
                        , `name`
                        , `date_modified`
                        , `url`
                        , `third_party_data`
                        , `game_price`
                        , `game_type`
                        , `game_skill`
                        , `game_health`
                        , `date_created`
                        , `game_energy`
                        , `game_data`
                    )
                    VALUES
                    (
                        in_status
                        , in_third_party_oembed
                        , in_code
                        , in_description
                        , in_game_defense
                        , in_third_party_url
                        , in_third_party_id
                        , in_content_type
                        , in_type
                        , in_active
                        , in_game_id
                        , in_game_attack
                        , in_uuid
                        , in_display_name
                        , in_name
                        , in_date_modified
                        , in_url
                        , in_third_party_data
                        , in_game_price
                        , in_game_type
                        , in_game_skill
                        , in_game_health
                        , in_date_created
                        , in_game_energy
                        , in_game_data
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

-- ------------------------------------
-- DEL

-- ------------------------------------
-- MODEL: GameRpgItemSkill - game_rpg_item_skill

                       
DROP PROCEDURE IF EXISTS `usp_game_rpg_item_skill_del_uuid`;

delimiter $$
CREATE PROCEDURE `usp_game_rpg_item_skill_del_uuid`
(
    in_uuid BINARY(16) 
)

BEGIN
    DELETE 
    FROM `game_rpg_item_skill`
    WHERE 1=1                        
    AND "uuid" = in_uuid
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_game_rpg_item_skill_del_game_id`;

delimiter $$
CREATE PROCEDURE `usp_game_rpg_item_skill_del_game_id`
(
    in_game_id BINARY(16) 
)

BEGIN
    DELETE 
    FROM `game_rpg_item_skill`
    WHERE 1=1                        
    AND "game_id" = in_game_id
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_game_rpg_item_skill_del_url`;

delimiter $$
CREATE PROCEDURE `usp_game_rpg_item_skill_del_url`
(
    in_url VARCHAR (500) 
)

BEGIN
    DELETE 
    FROM `game_rpg_item_skill`
    WHERE 1=1                        
    AND lower("url") = lower(in_url)
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_game_rpg_item_skill_del_url_game_id`;

delimiter $$
CREATE PROCEDURE `usp_game_rpg_item_skill_del_url_game_id`
(
    in_url VARCHAR (500) 
    , in_game_id BINARY(16) 
)

BEGIN
    DELETE 
    FROM `game_rpg_item_skill`
    WHERE 1=1                        
    AND lower("url") = lower(in_url)
    AND "game_id" = in_game_id
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_game_rpg_item_skill_del_uuid_game_id`;

delimiter $$
CREATE PROCEDURE `usp_game_rpg_item_skill_del_uuid_game_id`
(
    in_uuid BINARY(16) 
    , in_game_id BINARY(16) 
)

BEGIN
    DELETE 
    FROM `game_rpg_item_skill`
    WHERE 1=1                        
    AND "uuid" = in_uuid
    AND "game_id" = in_game_id
    ;
END$$
delimiter ;
-- ------------------------------------
-- GET

-- ------------------------------------
-- MODEL: GameRpgItemSkill - game_rpg_item_skill

                       
DROP PROCEDURE IF EXISTS `usp_game_rpg_item_skill_get`;

delimiter $$
CREATE PROCEDURE `usp_game_rpg_item_skill_get`
(
)                        
BEGIN
    SELECT
        `status`
        , `third_party_oembed`
        , `code`
        , `description`
        , `game_defense`
        , `third_party_url`
        , `third_party_id`
        , `content_type`
        , `type`
        , `active`
        , `game_id`
        , `game_attack`
        , `uuid`
        , `display_name`
        , `name`
        , `date_modified`
        , `url`
        , `third_party_data`
        , `game_price`
        , `game_type`
        , `game_skill`
        , `game_health`
        , `date_created`
        , `game_energy`
        , `game_data`
    FROM `game_rpg_item_skill`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_rpg_item_skill_get_uuid`;

delimiter $$
CREATE PROCEDURE `usp_game_rpg_item_skill_get_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `third_party_oembed`
        , `code`
        , `description`
        , `game_defense`
        , `third_party_url`
        , `third_party_id`
        , `content_type`
        , `type`
        , `active`
        , `game_id`
        , `game_attack`
        , `uuid`
        , `display_name`
        , `name`
        , `date_modified`
        , `url`
        , `third_party_data`
        , `game_price`
        , `game_type`
        , `game_skill`
        , `game_health`
        , `date_created`
        , `game_energy`
        , `game_data`
    FROM `game_rpg_item_skill`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_rpg_item_skill_get_game_id`;

delimiter $$
CREATE PROCEDURE `usp_game_rpg_item_skill_get_game_id`
(
    in_game_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `third_party_oembed`
        , `code`
        , `description`
        , `game_defense`
        , `third_party_url`
        , `third_party_id`
        , `content_type`
        , `type`
        , `active`
        , `game_id`
        , `game_attack`
        , `uuid`
        , `display_name`
        , `name`
        , `date_modified`
        , `url`
        , `third_party_data`
        , `game_price`
        , `game_type`
        , `game_skill`
        , `game_health`
        , `date_created`
        , `game_energy`
        , `game_data`
    FROM `game_rpg_item_skill`
    WHERE 1=1
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_rpg_item_skill_get_url`;

delimiter $$
CREATE PROCEDURE `usp_game_rpg_item_skill_get_url`
(
    in_url VARCHAR (500) 
)
BEGIN
    SELECT
        `status`
        , `third_party_oembed`
        , `code`
        , `description`
        , `game_defense`
        , `third_party_url`
        , `third_party_id`
        , `content_type`
        , `type`
        , `active`
        , `game_id`
        , `game_attack`
        , `uuid`
        , `display_name`
        , `name`
        , `date_modified`
        , `url`
        , `third_party_data`
        , `game_price`
        , `game_type`
        , `game_skill`
        , `game_health`
        , `date_created`
        , `game_energy`
        , `game_data`
    FROM `game_rpg_item_skill`
    WHERE 1=1
    AND lower(`url`) = lower(in_url)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_rpg_item_skill_get_url_game_id`;

delimiter $$
CREATE PROCEDURE `usp_game_rpg_item_skill_get_url_game_id`
(
    in_url VARCHAR (500) 
    , in_game_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `third_party_oembed`
        , `code`
        , `description`
        , `game_defense`
        , `third_party_url`
        , `third_party_id`
        , `content_type`
        , `type`
        , `active`
        , `game_id`
        , `game_attack`
        , `uuid`
        , `display_name`
        , `name`
        , `date_modified`
        , `url`
        , `third_party_data`
        , `game_price`
        , `game_type`
        , `game_skill`
        , `game_health`
        , `date_created`
        , `game_energy`
        , `game_data`
    FROM `game_rpg_item_skill`
    WHERE 1=1
    AND lower(`url`) = lower(in_url)
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_rpg_item_skill_get_uuid_game_id`;

delimiter $$
CREATE PROCEDURE `usp_game_rpg_item_skill_get_uuid_game_id`
(
    in_uuid BINARY(16) 
    , in_game_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `third_party_oembed`
        , `code`
        , `description`
        , `game_defense`
        , `third_party_url`
        , `third_party_id`
        , `content_type`
        , `type`
        , `active`
        , `game_id`
        , `game_attack`
        , `uuid`
        , `display_name`
        , `name`
        , `date_modified`
        , `url`
        , `third_party_data`
        , `game_price`
        , `game_type`
        , `game_skill`
        , `game_health`
        , `date_created`
        , `game_energy`
        , `game_data`
    FROM `game_rpg_item_skill`
    WHERE 1=1
    AND `uuid` = in_uuid
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

-- -----------------------------------------------------------------------------
-- PROCS

-- ------------------------------------
-- COUNT

-- ------------------------------------
-- MODEL: GameProduct - game_product

                       
DROP PROCEDURE IF EXISTS `usp_game_product_count`;
delimiter $$
CREATE PROCEDURE `usp_game_product_count`
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_product`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_product_count_uuid`;
delimiter $$
CREATE PROCEDURE `usp_game_product_count_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_product`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_product_count_game_id`;
delimiter $$
CREATE PROCEDURE `usp_game_product_count_game_id`
(
    in_game_id VARCHAR (100) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_product`
    WHERE 1=1
    AND lower(`game_id`) = lower(in_game_id)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_product_count_url`;
delimiter $$
CREATE PROCEDURE `usp_game_product_count_url`
(
    in_url VARCHAR (255) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_product`
    WHERE 1=1
    AND lower(`url`) = lower(in_url)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_product_count_url_game_id`;
delimiter $$
CREATE PROCEDURE `usp_game_product_count_url_game_id`
(
    in_url VARCHAR (255) 
    , in_game_id VARCHAR (100) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_product`
    WHERE 1=1
    AND lower(`url`) = lower(in_url)
    AND lower(`game_id`) = lower(in_game_id)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_product_count_uuid_game_id`;
delimiter $$
CREATE PROCEDURE `usp_game_product_count_uuid_game_id`
(
    in_uuid BINARY(16) 
    , in_game_id VARCHAR (100) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_product`
    WHERE 1=1
    AND `uuid` = in_uuid
    AND lower(`game_id`) = lower(in_game_id)
    ;
END$$
delimiter ;

-- ------------------------------------
-- BROWSE

-- ------------------------------------
-- MODEL: GameProduct - game_product

                       
DROP PROCEDURE IF EXISTS `usp_game_product_browse_filter`;

delimiter $$
CREATE PROCEDURE `usp_game_product_browse_filter`
(
    in_page int,
    in_page_size int,
    in_sort VARCHAR(500),
    in_filter VARCHAR(4000)
    
)
BEGIN
    DECLARE total_rows int;
    SET total_rows = 0;
        
    IF (in_page = 0) THEN
        SET in_page = 1;
    END IF;    
    
    IF (in_page_size = 0) THEN
       SET in_page_size = 10;
    END IF;
    
    IF (in_sort = NULL || in_sort = '') THEN
       SET in_sort = ' date_modified ASC ';
    END IF;
    
    SET @sfields = CONCAT('', '`status`');
    SET @sfields = CONCAT(@sfields, ', `code`');
    SET @sfields = CONCAT(@sfields, ', `display_name`');
    SET @sfields = CONCAT(@sfields, ', `name`');
    SET @sfields = CONCAT(@sfields, ', `date_modified`');
    SET @sfields = CONCAT(@sfields, ', `url`');
    SET @sfields = CONCAT(@sfields, ', `uuid`');
    SET @sfields = CONCAT(@sfields, ', `game_id`');
    SET @sfields = CONCAT(@sfields, ', `active`');
    SET @sfields = CONCAT(@sfields, ', `date_created`');
    SET @sfields = CONCAT(@sfields, ', `type`');
    SET @sfields = CONCAT(@sfields, ', `description`');
    
    SET @stable = CONCAT('', ' FROM `game_product` WHERE 1=1 ');
    
    SET @s = CONCAT(' ', @stable);
    SET @s = CONCAT(@s, ' ', in_filter);    
    
    SET @scount = CONCAT('SELECT COUNT(*) as `total_rows` ', @s, ' INTO @total_rows');
    
    PREPARE stmtcount FROM @scount;
    EXECUTE stmtcount;
    #SELECT @total_rows;
    SET total_rows = @total_rows;

    SET @sfields = CONCAT(total_rows, ' as `total_rows`, ', @sfields);
    SET @s = CONCAT('SELECT ', @sfields, @s);
    SET @s = CONCAT(@s, ' ORDER BY ', in_sort);
    SET @s = CONCAT(@s, ' LIMIT ', in_page);
    SET @s = CONCAT(@s, ',', in_page_size);    

    PREPARE stmt FROM @s;
    EXECUTE stmt;
    
END$$
delimiter ;
-- ------------------------------------
-- SET

-- ------------------------------------
-- MODEL: GameProduct - game_product

                       
DROP PROCEDURE IF EXISTS `usp_game_product_set_uuid`;
delimiter $$
CREATE PROCEDURE `usp_game_product_set_uuid`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_code VARCHAR (255) 
    , in_display_name VARCHAR (255) 
    , in_name VARCHAR (255) 
    , in_date_modified TIMESTAMP 
    , in_url VARCHAR (255) 
    , in_uuid BINARY(16) 
    , in_game_id VARCHAR (100) 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (500) 
    , in_description VARCHAR (255) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_product`  
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_product` 
                    SET
                        `status` = in_status
                        , `code` = in_code
                        , `display_name` = in_display_name
                        , `name` = in_name
                        , `date_modified` = in_date_modified
                        , `url` = in_url
                        , `uuid` = in_uuid
                        , `game_id` = in_game_id
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `type` = in_type
                        , `description` = in_description
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_product`
                    (
                        `status`
                        , `code`
                        , `display_name`
                        , `name`
                        , `date_modified`
                        , `url`
                        , `uuid`
                        , `game_id`
                        , `active`
                        , `date_created`
                        , `type`
                        , `description`
                    )
                    VALUES
                    (
                        in_status
                        , in_code
                        , in_display_name
                        , in_name
                        , in_date_modified
                        , in_url
                        , in_uuid
                        , in_game_id
                        , in_active
                        , in_date_created
                        , in_type
                        , in_description
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_product_set_game_id`;
delimiter $$
CREATE PROCEDURE `usp_game_product_set_game_id`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_code VARCHAR (255) 
    , in_display_name VARCHAR (255) 
    , in_name VARCHAR (255) 
    , in_date_modified TIMESTAMP 
    , in_url VARCHAR (255) 
    , in_uuid BINARY(16) 
    , in_game_id VARCHAR (100) 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (500) 
    , in_description VARCHAR (255) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_product`  
                    WHERE 1=1
                    AND lower(`game_id`) = lower(in_game_id)
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_product` 
                    SET
                        `status` = in_status
                        , `code` = in_code
                        , `display_name` = in_display_name
                        , `name` = in_name
                        , `date_modified` = in_date_modified
                        , `url` = in_url
                        , `uuid` = in_uuid
                        , `game_id` = in_game_id
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `type` = in_type
                        , `description` = in_description
                    WHERE 1=1
                    AND lower(`game_id`) = lower(in_game_id)
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_product`
                    (
                        `status`
                        , `code`
                        , `display_name`
                        , `name`
                        , `date_modified`
                        , `url`
                        , `uuid`
                        , `game_id`
                        , `active`
                        , `date_created`
                        , `type`
                        , `description`
                    )
                    VALUES
                    (
                        in_status
                        , in_code
                        , in_display_name
                        , in_name
                        , in_date_modified
                        , in_url
                        , in_uuid
                        , in_game_id
                        , in_active
                        , in_date_created
                        , in_type
                        , in_description
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_product_set_url`;
delimiter $$
CREATE PROCEDURE `usp_game_product_set_url`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_code VARCHAR (255) 
    , in_display_name VARCHAR (255) 
    , in_name VARCHAR (255) 
    , in_date_modified TIMESTAMP 
    , in_url VARCHAR (255) 
    , in_uuid BINARY(16) 
    , in_game_id VARCHAR (100) 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (500) 
    , in_description VARCHAR (255) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_product`  
                    WHERE 1=1
                    AND lower(`url`) = lower(in_url)
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_product` 
                    SET
                        `status` = in_status
                        , `code` = in_code
                        , `display_name` = in_display_name
                        , `name` = in_name
                        , `date_modified` = in_date_modified
                        , `url` = in_url
                        , `uuid` = in_uuid
                        , `game_id` = in_game_id
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `type` = in_type
                        , `description` = in_description
                    WHERE 1=1
                    AND lower(`url`) = lower(in_url)
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_product`
                    (
                        `status`
                        , `code`
                        , `display_name`
                        , `name`
                        , `date_modified`
                        , `url`
                        , `uuid`
                        , `game_id`
                        , `active`
                        , `date_created`
                        , `type`
                        , `description`
                    )
                    VALUES
                    (
                        in_status
                        , in_code
                        , in_display_name
                        , in_name
                        , in_date_modified
                        , in_url
                        , in_uuid
                        , in_game_id
                        , in_active
                        , in_date_created
                        , in_type
                        , in_description
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_product_set_url_game_id`;
delimiter $$
CREATE PROCEDURE `usp_game_product_set_url_game_id`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_code VARCHAR (255) 
    , in_display_name VARCHAR (255) 
    , in_name VARCHAR (255) 
    , in_date_modified TIMESTAMP 
    , in_url VARCHAR (255) 
    , in_uuid BINARY(16) 
    , in_game_id VARCHAR (100) 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (500) 
    , in_description VARCHAR (255) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_product`  
                    WHERE 1=1
                    AND lower(`url`) = lower(in_url)
                    AND lower(`game_id`) = lower(in_game_id)
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_product` 
                    SET
                        `status` = in_status
                        , `code` = in_code
                        , `display_name` = in_display_name
                        , `name` = in_name
                        , `date_modified` = in_date_modified
                        , `url` = in_url
                        , `uuid` = in_uuid
                        , `game_id` = in_game_id
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `type` = in_type
                        , `description` = in_description
                    WHERE 1=1
                    AND lower(`url`) = lower(in_url)
                    AND lower(`game_id`) = lower(in_game_id)
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_product`
                    (
                        `status`
                        , `code`
                        , `display_name`
                        , `name`
                        , `date_modified`
                        , `url`
                        , `uuid`
                        , `game_id`
                        , `active`
                        , `date_created`
                        , `type`
                        , `description`
                    )
                    VALUES
                    (
                        in_status
                        , in_code
                        , in_display_name
                        , in_name
                        , in_date_modified
                        , in_url
                        , in_uuid
                        , in_game_id
                        , in_active
                        , in_date_created
                        , in_type
                        , in_description
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_product_set_uuid_game_id`;
delimiter $$
CREATE PROCEDURE `usp_game_product_set_uuid_game_id`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_code VARCHAR (255) 
    , in_display_name VARCHAR (255) 
    , in_name VARCHAR (255) 
    , in_date_modified TIMESTAMP 
    , in_url VARCHAR (255) 
    , in_uuid BINARY(16) 
    , in_game_id VARCHAR (100) 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (500) 
    , in_description VARCHAR (255) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_product`  
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    AND lower(`game_id`) = lower(in_game_id)
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_product` 
                    SET
                        `status` = in_status
                        , `code` = in_code
                        , `display_name` = in_display_name
                        , `name` = in_name
                        , `date_modified` = in_date_modified
                        , `url` = in_url
                        , `uuid` = in_uuid
                        , `game_id` = in_game_id
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `type` = in_type
                        , `description` = in_description
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    AND lower(`game_id`) = lower(in_game_id)
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_product`
                    (
                        `status`
                        , `code`
                        , `display_name`
                        , `name`
                        , `date_modified`
                        , `url`
                        , `uuid`
                        , `game_id`
                        , `active`
                        , `date_created`
                        , `type`
                        , `description`
                    )
                    VALUES
                    (
                        in_status
                        , in_code
                        , in_display_name
                        , in_name
                        , in_date_modified
                        , in_url
                        , in_uuid
                        , in_game_id
                        , in_active
                        , in_date_created
                        , in_type
                        , in_description
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

-- ------------------------------------
-- DEL

-- ------------------------------------
-- MODEL: GameProduct - game_product

                       
DROP PROCEDURE IF EXISTS `usp_game_product_del_uuid`;

delimiter $$
CREATE PROCEDURE `usp_game_product_del_uuid`
(
    in_uuid BINARY(16) 
)

BEGIN
    DELETE 
    FROM `game_product`
    WHERE 1=1                        
    AND "uuid" = in_uuid
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_game_product_del_game_id`;

delimiter $$
CREATE PROCEDURE `usp_game_product_del_game_id`
(
    in_game_id VARCHAR (100) 
)

BEGIN
    DELETE 
    FROM `game_product`
    WHERE 1=1                        
    AND lower("game_id") = lower(in_game_id)
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_game_product_del_url`;

delimiter $$
CREATE PROCEDURE `usp_game_product_del_url`
(
    in_url VARCHAR (255) 
)

BEGIN
    DELETE 
    FROM `game_product`
    WHERE 1=1                        
    AND lower("url") = lower(in_url)
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_game_product_del_url_game_id`;

delimiter $$
CREATE PROCEDURE `usp_game_product_del_url_game_id`
(
    in_url VARCHAR (255) 
    , in_game_id VARCHAR (100) 
)

BEGIN
    DELETE 
    FROM `game_product`
    WHERE 1=1                        
    AND lower("url") = lower(in_url)
    AND lower("game_id") = lower(in_game_id)
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_game_product_del_uuid_game_id`;

delimiter $$
CREATE PROCEDURE `usp_game_product_del_uuid_game_id`
(
    in_uuid BINARY(16) 
    , in_game_id VARCHAR (100) 
)

BEGIN
    DELETE 
    FROM `game_product`
    WHERE 1=1                        
    AND "uuid" = in_uuid
    AND lower("game_id") = lower(in_game_id)
    ;
END$$
delimiter ;
-- ------------------------------------
-- GET

-- ------------------------------------
-- MODEL: GameProduct - game_product

                       
DROP PROCEDURE IF EXISTS `usp_game_product_get`;

delimiter $$
CREATE PROCEDURE `usp_game_product_get`
(
)                        
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `url`
        , `uuid`
        , `game_id`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `game_product`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_product_get_uuid`;

delimiter $$
CREATE PROCEDURE `usp_game_product_get_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `url`
        , `uuid`
        , `game_id`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `game_product`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_product_get_game_id`;

delimiter $$
CREATE PROCEDURE `usp_game_product_get_game_id`
(
    in_game_id VARCHAR (100) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `url`
        , `uuid`
        , `game_id`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `game_product`
    WHERE 1=1
    AND lower(`game_id`) = lower(in_game_id)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_product_get_url`;

delimiter $$
CREATE PROCEDURE `usp_game_product_get_url`
(
    in_url VARCHAR (255) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `url`
        , `uuid`
        , `game_id`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `game_product`
    WHERE 1=1
    AND lower(`url`) = lower(in_url)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_product_get_url_game_id`;

delimiter $$
CREATE PROCEDURE `usp_game_product_get_url_game_id`
(
    in_url VARCHAR (255) 
    , in_game_id VARCHAR (100) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `url`
        , `uuid`
        , `game_id`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `game_product`
    WHERE 1=1
    AND lower(`url`) = lower(in_url)
    AND lower(`game_id`) = lower(in_game_id)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_product_get_uuid_game_id`;

delimiter $$
CREATE PROCEDURE `usp_game_product_get_uuid_game_id`
(
    in_uuid BINARY(16) 
    , in_game_id VARCHAR (100) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `url`
        , `uuid`
        , `game_id`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `game_product`
    WHERE 1=1
    AND `uuid` = in_uuid
    AND lower(`game_id`) = lower(in_game_id)
    ;
END$$
delimiter ;

-- -----------------------------------------------------------------------------
-- PROCS

-- ------------------------------------
-- COUNT

-- ------------------------------------
-- MODEL: GameLeaderboard - game_leaderboard

                       
DROP PROCEDURE IF EXISTS `usp_game_leaderboard_count`;
delimiter $$
CREATE PROCEDURE `usp_game_leaderboard_count`
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_leaderboard`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_leaderboard_count_uuid`;
delimiter $$
CREATE PROCEDURE `usp_game_leaderboard_count_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_leaderboard`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_leaderboard_count_game_id`;
delimiter $$
CREATE PROCEDURE `usp_game_leaderboard_count_game_id`
(
    in_game_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_leaderboard`
    WHERE 1=1
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_leaderboard_count_code`;
delimiter $$
CREATE PROCEDURE `usp_game_leaderboard_count_code`
(
    in_code VARCHAR (500) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_leaderboard`
    WHERE 1=1
    AND lower(`code`) = lower(in_code)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_leaderboard_count_code_game_id`;
delimiter $$
CREATE PROCEDURE `usp_game_leaderboard_count_code_game_id`
(
    in_code VARCHAR (500) 
    , in_game_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_leaderboard`
    WHERE 1=1
    AND lower(`code`) = lower(in_code)
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_leaderboard_count_code_game_id_profile_id`;
delimiter $$
CREATE PROCEDURE `usp_game_leaderboard_count_code_game_id_profile_id`
(
    in_code VARCHAR (500) 
    , in_game_id BINARY(16) 
    , in_profile_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_leaderboard`
    WHERE 1=1
    AND lower(`code`) = lower(in_code)
    AND `game_id` = in_game_id
    AND `profile_id` = in_profile_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_leaderboard_count_code_game_id_profile_id_timestamp`;
delimiter $$
CREATE PROCEDURE `usp_game_leaderboard_count_code_game_id_profile_id_timestamp`
(
    in_code VARCHAR (500) 
    , in_game_id BINARY(16) 
    , in_profile_id BINARY(16) 
    , in_timestamp decimal 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_leaderboard`
    WHERE 1=1
    AND lower(`code`) = lower(in_code)
    AND `game_id` = in_game_id
    AND `profile_id` = in_profile_id
    AND `timestamp` = in_timestamp
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_leaderboard_count_profile_id_game_id`;
delimiter $$
CREATE PROCEDURE `usp_game_leaderboard_count_profile_id_game_id`
(
    in_profile_id BINARY(16) 
    , in_game_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_leaderboard`
    WHERE 1=1
    AND `profile_id` = in_profile_id
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

-- ------------------------------------
-- BROWSE

-- ------------------------------------
-- MODEL: GameLeaderboard - game_leaderboard

                       
DROP PROCEDURE IF EXISTS `usp_game_leaderboard_browse_filter`;

delimiter $$
CREATE PROCEDURE `usp_game_leaderboard_browse_filter`
(
    in_page int,
    in_page_size int,
    in_sort VARCHAR(500),
    in_filter VARCHAR(4000)
    
)
BEGIN
    DECLARE total_rows int;
    SET total_rows = 0;
        
    IF (in_page = 0) THEN
        SET in_page = 1;
    END IF;    
    
    IF (in_page_size = 0) THEN
       SET in_page_size = 10;
    END IF;
    
    IF (in_sort = NULL || in_sort = '') THEN
       SET in_sort = ' date_modified ASC ';
    END IF;
    
    SET @sfields = CONCAT('', '`status`');
    SET @sfields = CONCAT(@sfields, ', `username`');
    SET @sfields = CONCAT(@sfields, ', `code`');
    SET @sfields = CONCAT(@sfields, ', `timestamp`');
    SET @sfields = CONCAT(@sfields, ', `profile_id`');
    SET @sfields = CONCAT(@sfields, ', `rank`');
    SET @sfields = CONCAT(@sfields, ', `rank_change`');
    SET @sfields = CONCAT(@sfields, ', `game_id`');
    SET @sfields = CONCAT(@sfields, ', `active`');
    SET @sfields = CONCAT(@sfields, ', `rank_total_count`');
    SET @sfields = CONCAT(@sfields, ', `absolute_value`');
    SET @sfields = CONCAT(@sfields, ', `data`');
    SET @sfields = CONCAT(@sfields, ', `stat_value`');
    SET @sfields = CONCAT(@sfields, ', `network`');
    SET @sfields = CONCAT(@sfields, ', `uuid`');
    SET @sfields = CONCAT(@sfields, ', `date_modified`');
    SET @sfields = CONCAT(@sfields, ', `level`');
    SET @sfields = CONCAT(@sfields, ', `stat_value_formatted`');
    SET @sfields = CONCAT(@sfields, ', `date_created`');
    SET @sfields = CONCAT(@sfields, ', `type`');
    
    SET @stable = CONCAT('', ' FROM `game_leaderboard` WHERE 1=1 ');
    
    SET @s = CONCAT(' ', @stable);
    SET @s = CONCAT(@s, ' ', in_filter);    
    
    SET @scount = CONCAT('SELECT COUNT(*) as `total_rows` ', @s, ' INTO @total_rows');
    
    PREPARE stmtcount FROM @scount;
    EXECUTE stmtcount;
    #SELECT @total_rows;
    SET total_rows = @total_rows;

    SET @sfields = CONCAT(total_rows, ' as `total_rows`, ', @sfields);
    SET @s = CONCAT('SELECT ', @sfields, @s);
    SET @s = CONCAT(@s, ' ORDER BY ', in_sort);
    SET @s = CONCAT(@s, ' LIMIT ', in_page);
    SET @s = CONCAT(@s, ',', in_page_size);    

    PREPARE stmt FROM @s;
    EXECUTE stmt;
    
END$$
delimiter ;
-- ------------------------------------
-- SET

-- ------------------------------------
-- MODEL: GameLeaderboard - game_leaderboard

                       
DROP PROCEDURE IF EXISTS `usp_game_leaderboard_set_uuid`;
delimiter $$
CREATE PROCEDURE `usp_game_leaderboard_set_uuid`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_username VARCHAR (500) 
    , in_code VARCHAR (500) 
    , in_timestamp decimal 
    , in_profile_id BINARY(16) 
    , in_rank INTEGER 
    , in_rank_change INTEGER 
    , in_game_id BINARY(16) 
    , in_active int 
    , in_rank_total_count INTEGER 
    , in_absolute_value decimal 
    , in_data TEXT 
    , in_stat_value decimal 
    , in_network VARCHAR (500) 
    , in_uuid BINARY(16) 
    , in_date_modified TIMESTAMP 
    , in_level VARCHAR (500) 
    , in_stat_value_formatted VARCHAR (500) 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (500) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_leaderboard`  
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_leaderboard` 
                    SET
                        `status` = in_status
                        , `username` = in_username
                        , `code` = in_code
                        , `timestamp` = in_timestamp
                        , `profile_id` = in_profile_id
                        , `rank` = in_rank
                        , `rank_change` = in_rank_change
                        , `game_id` = in_game_id
                        , `active` = in_active
                        , `rank_total_count` = in_rank_total_count
                        , `absolute_value` = in_absolute_value
                        , `data` = in_data
                        , `stat_value` = in_stat_value
                        , `network` = in_network
                        , `uuid` = in_uuid
                        , `date_modified` = in_date_modified
                        , `level` = in_level
                        , `stat_value_formatted` = in_stat_value_formatted
                        , `date_created` = in_date_created
                        , `type` = in_type
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_leaderboard`
                    (
                        `status`
                        , `username`
                        , `code`
                        , `timestamp`
                        , `profile_id`
                        , `rank`
                        , `rank_change`
                        , `game_id`
                        , `active`
                        , `rank_total_count`
                        , `absolute_value`
                        , `data`
                        , `stat_value`
                        , `network`
                        , `uuid`
                        , `date_modified`
                        , `level`
                        , `stat_value_formatted`
                        , `date_created`
                        , `type`
                    )
                    VALUES
                    (
                        in_status
                        , in_username
                        , in_code
                        , in_timestamp
                        , in_profile_id
                        , in_rank
                        , in_rank_change
                        , in_game_id
                        , in_active
                        , in_rank_total_count
                        , in_absolute_value
                        , in_data
                        , in_stat_value
                        , in_network
                        , in_uuid
                        , in_date_modified
                        , in_level
                        , in_stat_value_formatted
                        , in_date_created
                        , in_type
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_leaderboard_set_uuid_profile_id_game_id_timestamp`;
delimiter $$
CREATE PROCEDURE `usp_game_leaderboard_set_uuid_profile_id_game_id_timestamp`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_username VARCHAR (500) 
    , in_code VARCHAR (500) 
    , in_timestamp decimal 
    , in_profile_id BINARY(16) 
    , in_rank INTEGER 
    , in_rank_change INTEGER 
    , in_game_id BINARY(16) 
    , in_active int 
    , in_rank_total_count INTEGER 
    , in_absolute_value decimal 
    , in_data TEXT 
    , in_stat_value decimal 
    , in_network VARCHAR (500) 
    , in_uuid BINARY(16) 
    , in_date_modified TIMESTAMP 
    , in_level VARCHAR (500) 
    , in_stat_value_formatted VARCHAR (500) 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (500) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_leaderboard`  
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    AND `profile_id` = in_profile_id
                    AND `game_id` = in_game_id
                    AND `timestamp` = in_timestamp
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_leaderboard` 
                    SET
                        `status` = in_status
                        , `username` = in_username
                        , `code` = in_code
                        , `timestamp` = in_timestamp
                        , `profile_id` = in_profile_id
                        , `rank` = in_rank
                        , `rank_change` = in_rank_change
                        , `game_id` = in_game_id
                        , `active` = in_active
                        , `rank_total_count` = in_rank_total_count
                        , `absolute_value` = in_absolute_value
                        , `data` = in_data
                        , `stat_value` = in_stat_value
                        , `network` = in_network
                        , `uuid` = in_uuid
                        , `date_modified` = in_date_modified
                        , `level` = in_level
                        , `stat_value_formatted` = in_stat_value_formatted
                        , `date_created` = in_date_created
                        , `type` = in_type
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    AND `profile_id` = in_profile_id
                    AND `game_id` = in_game_id
                    AND `timestamp` = in_timestamp
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_leaderboard`
                    (
                        `status`
                        , `username`
                        , `code`
                        , `timestamp`
                        , `profile_id`
                        , `rank`
                        , `rank_change`
                        , `game_id`
                        , `active`
                        , `rank_total_count`
                        , `absolute_value`
                        , `data`
                        , `stat_value`
                        , `network`
                        , `uuid`
                        , `date_modified`
                        , `level`
                        , `stat_value_formatted`
                        , `date_created`
                        , `type`
                    )
                    VALUES
                    (
                        in_status
                        , in_username
                        , in_code
                        , in_timestamp
                        , in_profile_id
                        , in_rank
                        , in_rank_change
                        , in_game_id
                        , in_active
                        , in_rank_total_count
                        , in_absolute_value
                        , in_data
                        , in_stat_value
                        , in_network
                        , in_uuid
                        , in_date_modified
                        , in_level
                        , in_stat_value_formatted
                        , in_date_created
                        , in_type
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_leaderboard_set_code`;
delimiter $$
CREATE PROCEDURE `usp_game_leaderboard_set_code`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_username VARCHAR (500) 
    , in_code VARCHAR (500) 
    , in_timestamp decimal 
    , in_profile_id BINARY(16) 
    , in_rank INTEGER 
    , in_rank_change INTEGER 
    , in_game_id BINARY(16) 
    , in_active int 
    , in_rank_total_count INTEGER 
    , in_absolute_value decimal 
    , in_data TEXT 
    , in_stat_value decimal 
    , in_network VARCHAR (500) 
    , in_uuid BINARY(16) 
    , in_date_modified TIMESTAMP 
    , in_level VARCHAR (500) 
    , in_stat_value_formatted VARCHAR (500) 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (500) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_leaderboard`  
                    WHERE 1=1
                    AND lower(`code`) = lower(in_code)
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_leaderboard` 
                    SET
                        `status` = in_status
                        , `username` = in_username
                        , `code` = in_code
                        , `timestamp` = in_timestamp
                        , `profile_id` = in_profile_id
                        , `rank` = in_rank
                        , `rank_change` = in_rank_change
                        , `game_id` = in_game_id
                        , `active` = in_active
                        , `rank_total_count` = in_rank_total_count
                        , `absolute_value` = in_absolute_value
                        , `data` = in_data
                        , `stat_value` = in_stat_value
                        , `network` = in_network
                        , `uuid` = in_uuid
                        , `date_modified` = in_date_modified
                        , `level` = in_level
                        , `stat_value_formatted` = in_stat_value_formatted
                        , `date_created` = in_date_created
                        , `type` = in_type
                    WHERE 1=1
                    AND lower(`code`) = lower(in_code)
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_leaderboard`
                    (
                        `status`
                        , `username`
                        , `code`
                        , `timestamp`
                        , `profile_id`
                        , `rank`
                        , `rank_change`
                        , `game_id`
                        , `active`
                        , `rank_total_count`
                        , `absolute_value`
                        , `data`
                        , `stat_value`
                        , `network`
                        , `uuid`
                        , `date_modified`
                        , `level`
                        , `stat_value_formatted`
                        , `date_created`
                        , `type`
                    )
                    VALUES
                    (
                        in_status
                        , in_username
                        , in_code
                        , in_timestamp
                        , in_profile_id
                        , in_rank
                        , in_rank_change
                        , in_game_id
                        , in_active
                        , in_rank_total_count
                        , in_absolute_value
                        , in_data
                        , in_stat_value
                        , in_network
                        , in_uuid
                        , in_date_modified
                        , in_level
                        , in_stat_value_formatted
                        , in_date_created
                        , in_type
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_leaderboard_set_code_game_id`;
delimiter $$
CREATE PROCEDURE `usp_game_leaderboard_set_code_game_id`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_username VARCHAR (500) 
    , in_code VARCHAR (500) 
    , in_timestamp decimal 
    , in_profile_id BINARY(16) 
    , in_rank INTEGER 
    , in_rank_change INTEGER 
    , in_game_id BINARY(16) 
    , in_active int 
    , in_rank_total_count INTEGER 
    , in_absolute_value decimal 
    , in_data TEXT 
    , in_stat_value decimal 
    , in_network VARCHAR (500) 
    , in_uuid BINARY(16) 
    , in_date_modified TIMESTAMP 
    , in_level VARCHAR (500) 
    , in_stat_value_formatted VARCHAR (500) 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (500) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_leaderboard`  
                    WHERE 1=1
                    AND lower(`code`) = lower(in_code)
                    AND `game_id` = in_game_id
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_leaderboard` 
                    SET
                        `status` = in_status
                        , `username` = in_username
                        , `code` = in_code
                        , `timestamp` = in_timestamp
                        , `profile_id` = in_profile_id
                        , `rank` = in_rank
                        , `rank_change` = in_rank_change
                        , `game_id` = in_game_id
                        , `active` = in_active
                        , `rank_total_count` = in_rank_total_count
                        , `absolute_value` = in_absolute_value
                        , `data` = in_data
                        , `stat_value` = in_stat_value
                        , `network` = in_network
                        , `uuid` = in_uuid
                        , `date_modified` = in_date_modified
                        , `level` = in_level
                        , `stat_value_formatted` = in_stat_value_formatted
                        , `date_created` = in_date_created
                        , `type` = in_type
                    WHERE 1=1
                    AND lower(`code`) = lower(in_code)
                    AND `game_id` = in_game_id
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_leaderboard`
                    (
                        `status`
                        , `username`
                        , `code`
                        , `timestamp`
                        , `profile_id`
                        , `rank`
                        , `rank_change`
                        , `game_id`
                        , `active`
                        , `rank_total_count`
                        , `absolute_value`
                        , `data`
                        , `stat_value`
                        , `network`
                        , `uuid`
                        , `date_modified`
                        , `level`
                        , `stat_value_formatted`
                        , `date_created`
                        , `type`
                    )
                    VALUES
                    (
                        in_status
                        , in_username
                        , in_code
                        , in_timestamp
                        , in_profile_id
                        , in_rank
                        , in_rank_change
                        , in_game_id
                        , in_active
                        , in_rank_total_count
                        , in_absolute_value
                        , in_data
                        , in_stat_value
                        , in_network
                        , in_uuid
                        , in_date_modified
                        , in_level
                        , in_stat_value_formatted
                        , in_date_created
                        , in_type
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_leaderboard_set_code_game_id_profile_id`;
delimiter $$
CREATE PROCEDURE `usp_game_leaderboard_set_code_game_id_profile_id`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_username VARCHAR (500) 
    , in_code VARCHAR (500) 
    , in_timestamp decimal 
    , in_profile_id BINARY(16) 
    , in_rank INTEGER 
    , in_rank_change INTEGER 
    , in_game_id BINARY(16) 
    , in_active int 
    , in_rank_total_count INTEGER 
    , in_absolute_value decimal 
    , in_data TEXT 
    , in_stat_value decimal 
    , in_network VARCHAR (500) 
    , in_uuid BINARY(16) 
    , in_date_modified TIMESTAMP 
    , in_level VARCHAR (500) 
    , in_stat_value_formatted VARCHAR (500) 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (500) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_leaderboard`  
                    WHERE 1=1
                    AND lower(`code`) = lower(in_code)
                    AND `game_id` = in_game_id
                    AND `profile_id` = in_profile_id
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_leaderboard` 
                    SET
                        `status` = in_status
                        , `username` = in_username
                        , `code` = in_code
                        , `timestamp` = in_timestamp
                        , `profile_id` = in_profile_id
                        , `rank` = in_rank
                        , `rank_change` = in_rank_change
                        , `game_id` = in_game_id
                        , `active` = in_active
                        , `rank_total_count` = in_rank_total_count
                        , `absolute_value` = in_absolute_value
                        , `data` = in_data
                        , `stat_value` = in_stat_value
                        , `network` = in_network
                        , `uuid` = in_uuid
                        , `date_modified` = in_date_modified
                        , `level` = in_level
                        , `stat_value_formatted` = in_stat_value_formatted
                        , `date_created` = in_date_created
                        , `type` = in_type
                    WHERE 1=1
                    AND lower(`code`) = lower(in_code)
                    AND `game_id` = in_game_id
                    AND `profile_id` = in_profile_id
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_leaderboard`
                    (
                        `status`
                        , `username`
                        , `code`
                        , `timestamp`
                        , `profile_id`
                        , `rank`
                        , `rank_change`
                        , `game_id`
                        , `active`
                        , `rank_total_count`
                        , `absolute_value`
                        , `data`
                        , `stat_value`
                        , `network`
                        , `uuid`
                        , `date_modified`
                        , `level`
                        , `stat_value_formatted`
                        , `date_created`
                        , `type`
                    )
                    VALUES
                    (
                        in_status
                        , in_username
                        , in_code
                        , in_timestamp
                        , in_profile_id
                        , in_rank
                        , in_rank_change
                        , in_game_id
                        , in_active
                        , in_rank_total_count
                        , in_absolute_value
                        , in_data
                        , in_stat_value
                        , in_network
                        , in_uuid
                        , in_date_modified
                        , in_level
                        , in_stat_value_formatted
                        , in_date_created
                        , in_type
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_leaderboard_set_code_game_id_profile_id_timestamp`;
delimiter $$
CREATE PROCEDURE `usp_game_leaderboard_set_code_game_id_profile_id_timestamp`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_username VARCHAR (500) 
    , in_code VARCHAR (500) 
    , in_timestamp decimal 
    , in_profile_id BINARY(16) 
    , in_rank INTEGER 
    , in_rank_change INTEGER 
    , in_game_id BINARY(16) 
    , in_active int 
    , in_rank_total_count INTEGER 
    , in_absolute_value decimal 
    , in_data TEXT 
    , in_stat_value decimal 
    , in_network VARCHAR (500) 
    , in_uuid BINARY(16) 
    , in_date_modified TIMESTAMP 
    , in_level VARCHAR (500) 
    , in_stat_value_formatted VARCHAR (500) 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (500) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_leaderboard`  
                    WHERE 1=1
                    AND lower(`code`) = lower(in_code)
                    AND `game_id` = in_game_id
                    AND `profile_id` = in_profile_id
                    AND `timestamp` = in_timestamp
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_leaderboard` 
                    SET
                        `status` = in_status
                        , `username` = in_username
                        , `code` = in_code
                        , `timestamp` = in_timestamp
                        , `profile_id` = in_profile_id
                        , `rank` = in_rank
                        , `rank_change` = in_rank_change
                        , `game_id` = in_game_id
                        , `active` = in_active
                        , `rank_total_count` = in_rank_total_count
                        , `absolute_value` = in_absolute_value
                        , `data` = in_data
                        , `stat_value` = in_stat_value
                        , `network` = in_network
                        , `uuid` = in_uuid
                        , `date_modified` = in_date_modified
                        , `level` = in_level
                        , `stat_value_formatted` = in_stat_value_formatted
                        , `date_created` = in_date_created
                        , `type` = in_type
                    WHERE 1=1
                    AND lower(`code`) = lower(in_code)
                    AND `game_id` = in_game_id
                    AND `profile_id` = in_profile_id
                    AND `timestamp` = in_timestamp
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_leaderboard`
                    (
                        `status`
                        , `username`
                        , `code`
                        , `timestamp`
                        , `profile_id`
                        , `rank`
                        , `rank_change`
                        , `game_id`
                        , `active`
                        , `rank_total_count`
                        , `absolute_value`
                        , `data`
                        , `stat_value`
                        , `network`
                        , `uuid`
                        , `date_modified`
                        , `level`
                        , `stat_value_formatted`
                        , `date_created`
                        , `type`
                    )
                    VALUES
                    (
                        in_status
                        , in_username
                        , in_code
                        , in_timestamp
                        , in_profile_id
                        , in_rank
                        , in_rank_change
                        , in_game_id
                        , in_active
                        , in_rank_total_count
                        , in_absolute_value
                        , in_data
                        , in_stat_value
                        , in_network
                        , in_uuid
                        , in_date_modified
                        , in_level
                        , in_stat_value_formatted
                        , in_date_created
                        , in_type
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

-- ------------------------------------
-- DEL

-- ------------------------------------
-- MODEL: GameLeaderboard - game_leaderboard

                       
DROP PROCEDURE IF EXISTS `usp_game_leaderboard_del_uuid`;

delimiter $$
CREATE PROCEDURE `usp_game_leaderboard_del_uuid`
(
    in_uuid BINARY(16) 
)

BEGIN
    DELETE 
    FROM `game_leaderboard`
    WHERE 1=1                        
    AND "uuid" = in_uuid
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_game_leaderboard_del_code`;

delimiter $$
CREATE PROCEDURE `usp_game_leaderboard_del_code`
(
    in_code VARCHAR (500) 
)

BEGIN
    DELETE 
    FROM `game_leaderboard`
    WHERE 1=1                        
    AND lower("code") = lower(in_code)
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_game_leaderboard_del_code_game_id`;

delimiter $$
CREATE PROCEDURE `usp_game_leaderboard_del_code_game_id`
(
    in_code VARCHAR (500) 
    , in_game_id BINARY(16) 
)

BEGIN
    DELETE 
    FROM `game_leaderboard`
    WHERE 1=1                        
    AND lower("code") = lower(in_code)
    AND "game_id" = in_game_id
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_game_leaderboard_del_code_game_id_profile_id`;

delimiter $$
CREATE PROCEDURE `usp_game_leaderboard_del_code_game_id_profile_id`
(
    in_code VARCHAR (500) 
    , in_game_id BINARY(16) 
    , in_profile_id BINARY(16) 
)

BEGIN
    DELETE 
    FROM `game_leaderboard`
    WHERE 1=1                        
    AND lower("code") = lower(in_code)
    AND "game_id" = in_game_id
    AND "profile_id" = in_profile_id
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_game_leaderboard_del_code_game_id_profile_id_timestamp`;

delimiter $$
CREATE PROCEDURE `usp_game_leaderboard_del_code_game_id_profile_id_timestamp`
(
    in_code VARCHAR (500) 
    , in_game_id BINARY(16) 
    , in_profile_id BINARY(16) 
    , in_timestamp decimal 
)

BEGIN
    DELETE 
    FROM `game_leaderboard`
    WHERE 1=1                        
    AND lower("code") = lower(in_code)
    AND "game_id" = in_game_id
    AND "profile_id" = in_profile_id
    AND "timestamp" = in_timestamp
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_game_leaderboard_del_profile_id_game_id`;

delimiter $$
CREATE PROCEDURE `usp_game_leaderboard_del_profile_id_game_id`
(
    in_profile_id BINARY(16) 
    , in_game_id BINARY(16) 
)

BEGIN
    DELETE 
    FROM `game_leaderboard`
    WHERE 1=1                        
    AND "profile_id" = in_profile_id
    AND "game_id" = in_game_id
    ;
END$$
delimiter ;
-- ------------------------------------
-- GET

-- ------------------------------------
-- MODEL: GameLeaderboard - game_leaderboard

                       
DROP PROCEDURE IF EXISTS `usp_game_leaderboard_get`;

delimiter $$
CREATE PROCEDURE `usp_game_leaderboard_get`
(
)                        
BEGIN
    SELECT
        `status`
        , `username`
        , `code`
        , `timestamp`
        , `profile_id`
        , `rank`
        , `rank_change`
        , `game_id`
        , `active`
        , `rank_total_count`
        , `absolute_value`
        , `data`
        , `stat_value`
        , `network`
        , `uuid`
        , `date_modified`
        , `level`
        , `stat_value_formatted`
        , `date_created`
        , `type`
    FROM `game_leaderboard`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_leaderboard_get_uuid`;

delimiter $$
CREATE PROCEDURE `usp_game_leaderboard_get_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `username`
        , `code`
        , `timestamp`
        , `profile_id`
        , `rank`
        , `rank_change`
        , `game_id`
        , `active`
        , `rank_total_count`
        , `absolute_value`
        , `data`
        , `stat_value`
        , `network`
        , `uuid`
        , `date_modified`
        , `level`
        , `stat_value_formatted`
        , `date_created`
        , `type`
    FROM `game_leaderboard`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_leaderboard_get_game_id`;

delimiter $$
CREATE PROCEDURE `usp_game_leaderboard_get_game_id`
(
    in_game_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `username`
        , `code`
        , `timestamp`
        , `profile_id`
        , `rank`
        , `rank_change`
        , `game_id`
        , `active`
        , `rank_total_count`
        , `absolute_value`
        , `data`
        , `stat_value`
        , `network`
        , `uuid`
        , `date_modified`
        , `level`
        , `stat_value_formatted`
        , `date_created`
        , `type`
    FROM `game_leaderboard`
    WHERE 1=1
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_leaderboard_get_code`;

delimiter $$
CREATE PROCEDURE `usp_game_leaderboard_get_code`
(
    in_code VARCHAR (500) 
)
BEGIN
    SELECT
        `status`
        , `username`
        , `code`
        , `timestamp`
        , `profile_id`
        , `rank`
        , `rank_change`
        , `game_id`
        , `active`
        , `rank_total_count`
        , `absolute_value`
        , `data`
        , `stat_value`
        , `network`
        , `uuid`
        , `date_modified`
        , `level`
        , `stat_value_formatted`
        , `date_created`
        , `type`
    FROM `game_leaderboard`
    WHERE 1=1
    AND lower(`code`) = lower(in_code)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_leaderboard_get_code_game_id`;

delimiter $$
CREATE PROCEDURE `usp_game_leaderboard_get_code_game_id`
(
    in_code VARCHAR (500) 
    , in_game_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `username`
        , `code`
        , `timestamp`
        , `profile_id`
        , `rank`
        , `rank_change`
        , `game_id`
        , `active`
        , `rank_total_count`
        , `absolute_value`
        , `data`
        , `stat_value`
        , `network`
        , `uuid`
        , `date_modified`
        , `level`
        , `stat_value_formatted`
        , `date_created`
        , `type`
    FROM `game_leaderboard`
    WHERE 1=1
    AND lower(`code`) = lower(in_code)
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_leaderboard_get_code_game_id_profile_id`;

delimiter $$
CREATE PROCEDURE `usp_game_leaderboard_get_code_game_id_profile_id`
(
    in_code VARCHAR (500) 
    , in_game_id BINARY(16) 
    , in_profile_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `username`
        , `code`
        , `timestamp`
        , `profile_id`
        , `rank`
        , `rank_change`
        , `game_id`
        , `active`
        , `rank_total_count`
        , `absolute_value`
        , `data`
        , `stat_value`
        , `network`
        , `uuid`
        , `date_modified`
        , `level`
        , `stat_value_formatted`
        , `date_created`
        , `type`
    FROM `game_leaderboard`
    WHERE 1=1
    AND lower(`code`) = lower(in_code)
    AND `game_id` = in_game_id
    AND `profile_id` = in_profile_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_leaderboard_get_code_game_id_profile_id_timestamp`;

delimiter $$
CREATE PROCEDURE `usp_game_leaderboard_get_code_game_id_profile_id_timestamp`
(
    in_code VARCHAR (500) 
    , in_game_id BINARY(16) 
    , in_profile_id BINARY(16) 
    , in_timestamp decimal 
)
BEGIN
    SELECT
        `status`
        , `username`
        , `code`
        , `timestamp`
        , `profile_id`
        , `rank`
        , `rank_change`
        , `game_id`
        , `active`
        , `rank_total_count`
        , `absolute_value`
        , `data`
        , `stat_value`
        , `network`
        , `uuid`
        , `date_modified`
        , `level`
        , `stat_value_formatted`
        , `date_created`
        , `type`
    FROM `game_leaderboard`
    WHERE 1=1
    AND lower(`code`) = lower(in_code)
    AND `game_id` = in_game_id
    AND `profile_id` = in_profile_id
    AND `timestamp` = in_timestamp
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_leaderboard_get_profile_id_game_id`;

delimiter $$
CREATE PROCEDURE `usp_game_leaderboard_get_profile_id_game_id`
(
    in_profile_id BINARY(16) 
    , in_game_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `username`
        , `code`
        , `timestamp`
        , `profile_id`
        , `rank`
        , `rank_change`
        , `game_id`
        , `active`
        , `rank_total_count`
        , `absolute_value`
        , `data`
        , `stat_value`
        , `network`
        , `uuid`
        , `date_modified`
        , `level`
        , `stat_value_formatted`
        , `date_created`
        , `type`
    FROM `game_leaderboard`
    WHERE 1=1
    AND `profile_id` = in_profile_id
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_leaderboard_get_profile_id_game_id_timestamp`;

delimiter $$
CREATE PROCEDURE `usp_game_leaderboard_get_profile_id_game_id_timestamp`
(
    in_profile_id BINARY(16) 
    , in_game_id BINARY(16) 
    , in_timestamp decimal 
)
BEGIN
    SELECT
        `status`
        , `username`
        , `code`
        , `timestamp`
        , `profile_id`
        , `rank`
        , `rank_change`
        , `game_id`
        , `active`
        , `rank_total_count`
        , `absolute_value`
        , `data`
        , `stat_value`
        , `network`
        , `uuid`
        , `date_modified`
        , `level`
        , `stat_value_formatted`
        , `date_created`
        , `type`
    FROM `game_leaderboard`
    WHERE 1=1
    AND `profile_id` = in_profile_id
    AND `game_id` = in_game_id
    AND `timestamp` = in_timestamp
    ;
END$$
delimiter ;

-- -----------------------------------------------------------------------------
-- PROCS

-- ------------------------------------
-- COUNT

-- ------------------------------------
-- MODEL: GameLeaderboardItem - game_leaderboard_item

                       
DROP PROCEDURE IF EXISTS `usp_game_leaderboard_item_count`;
delimiter $$
CREATE PROCEDURE `usp_game_leaderboard_item_count`
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_leaderboard_item`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_leaderboard_item_count_uuid`;
delimiter $$
CREATE PROCEDURE `usp_game_leaderboard_item_count_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_leaderboard_item`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_leaderboard_item_count_game_id`;
delimiter $$
CREATE PROCEDURE `usp_game_leaderboard_item_count_game_id`
(
    in_game_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_leaderboard_item`
    WHERE 1=1
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_leaderboard_item_count_code`;
delimiter $$
CREATE PROCEDURE `usp_game_leaderboard_item_count_code`
(
    in_code VARCHAR (500) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_leaderboard_item`
    WHERE 1=1
    AND lower(`code`) = lower(in_code)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_leaderboard_item_count_code_game_id`;
delimiter $$
CREATE PROCEDURE `usp_game_leaderboard_item_count_code_game_id`
(
    in_code VARCHAR (500) 
    , in_game_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_leaderboard_item`
    WHERE 1=1
    AND lower(`code`) = lower(in_code)
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_leaderboard_item_count_code_game_id_profile_id`;
delimiter $$
CREATE PROCEDURE `usp_game_leaderboard_item_count_code_game_id_profile_id`
(
    in_code VARCHAR (500) 
    , in_game_id BINARY(16) 
    , in_profile_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_leaderboard_item`
    WHERE 1=1
    AND lower(`code`) = lower(in_code)
    AND `game_id` = in_game_id
    AND `profile_id` = in_profile_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_leaderboard_item_count_code_game_id_profile_id_timesta`;
delimiter $$
CREATE PROCEDURE `usp_game_leaderboard_item_count_code_game_id_profile_id_timesta`
(
    in_code VARCHAR (500) 
    , in_game_id BINARY(16) 
    , in_profile_id BINARY(16) 
    , in_timestamp decimal 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_leaderboard_item`
    WHERE 1=1
    AND lower(`code`) = lower(in_code)
    AND `game_id` = in_game_id
    AND `profile_id` = in_profile_id
    AND `timestamp` = in_timestamp
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_leaderboard_item_count_profile_id_game_id`;
delimiter $$
CREATE PROCEDURE `usp_game_leaderboard_item_count_profile_id_game_id`
(
    in_profile_id BINARY(16) 
    , in_game_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_leaderboard_item`
    WHERE 1=1
    AND `profile_id` = in_profile_id
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

-- ------------------------------------
-- BROWSE

-- ------------------------------------
-- MODEL: GameLeaderboardItem - game_leaderboard_item

                       
DROP PROCEDURE IF EXISTS `usp_game_leaderboard_item_browse_filter`;

delimiter $$
CREATE PROCEDURE `usp_game_leaderboard_item_browse_filter`
(
    in_page int,
    in_page_size int,
    in_sort VARCHAR(500),
    in_filter VARCHAR(4000)
    
)
BEGIN
    DECLARE total_rows int;
    SET total_rows = 0;
        
    IF (in_page = 0) THEN
        SET in_page = 1;
    END IF;    
    
    IF (in_page_size = 0) THEN
       SET in_page_size = 10;
    END IF;
    
    IF (in_sort = NULL || in_sort = '') THEN
       SET in_sort = ' date_modified ASC ';
    END IF;
    
    SET @sfields = CONCAT('', '`status`');
    SET @sfields = CONCAT(@sfields, ', `username`');
    SET @sfields = CONCAT(@sfields, ', `code`');
    SET @sfields = CONCAT(@sfields, ', `timestamp`');
    SET @sfields = CONCAT(@sfields, ', `profile_id`');
    SET @sfields = CONCAT(@sfields, ', `rank`');
    SET @sfields = CONCAT(@sfields, ', `rank_change`');
    SET @sfields = CONCAT(@sfields, ', `game_id`');
    SET @sfields = CONCAT(@sfields, ', `active`');
    SET @sfields = CONCAT(@sfields, ', `rank_total_count`');
    SET @sfields = CONCAT(@sfields, ', `absolute_value`');
    SET @sfields = CONCAT(@sfields, ', `data`');
    SET @sfields = CONCAT(@sfields, ', `stat_value`');
    SET @sfields = CONCAT(@sfields, ', `network`');
    SET @sfields = CONCAT(@sfields, ', `uuid`');
    SET @sfields = CONCAT(@sfields, ', `date_modified`');
    SET @sfields = CONCAT(@sfields, ', `level`');
    SET @sfields = CONCAT(@sfields, ', `stat_value_formatted`');
    SET @sfields = CONCAT(@sfields, ', `date_created`');
    SET @sfields = CONCAT(@sfields, ', `type`');
    
    SET @stable = CONCAT('', ' FROM `game_leaderboard_item` WHERE 1=1 ');
    
    SET @s = CONCAT(' ', @stable);
    SET @s = CONCAT(@s, ' ', in_filter);    
    
    SET @scount = CONCAT('SELECT COUNT(*) as `total_rows` ', @s, ' INTO @total_rows');
    
    PREPARE stmtcount FROM @scount;
    EXECUTE stmtcount;
    #SELECT @total_rows;
    SET total_rows = @total_rows;

    SET @sfields = CONCAT(total_rows, ' as `total_rows`, ', @sfields);
    SET @s = CONCAT('SELECT ', @sfields, @s);
    SET @s = CONCAT(@s, ' ORDER BY ', in_sort);
    SET @s = CONCAT(@s, ' LIMIT ', in_page);
    SET @s = CONCAT(@s, ',', in_page_size);    

    PREPARE stmt FROM @s;
    EXECUTE stmt;
    
END$$
delimiter ;
-- ------------------------------------
-- SET

-- ------------------------------------
-- MODEL: GameLeaderboardItem - game_leaderboard_item

                       
DROP PROCEDURE IF EXISTS `usp_game_leaderboard_item_set_uuid`;
delimiter $$
CREATE PROCEDURE `usp_game_leaderboard_item_set_uuid`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_username VARCHAR (500) 
    , in_code VARCHAR (500) 
    , in_timestamp decimal 
    , in_profile_id BINARY(16) 
    , in_rank INTEGER 
    , in_rank_change INTEGER 
    , in_game_id BINARY(16) 
    , in_active int 
    , in_rank_total_count INTEGER 
    , in_absolute_value decimal 
    , in_data TEXT 
    , in_stat_value decimal 
    , in_network VARCHAR (500) 
    , in_uuid BINARY(16) 
    , in_date_modified TIMESTAMP 
    , in_level VARCHAR (500) 
    , in_stat_value_formatted VARCHAR (500) 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (500) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_leaderboard_item`  
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_leaderboard_item` 
                    SET
                        `status` = in_status
                        , `username` = in_username
                        , `code` = in_code
                        , `timestamp` = in_timestamp
                        , `profile_id` = in_profile_id
                        , `rank` = in_rank
                        , `rank_change` = in_rank_change
                        , `game_id` = in_game_id
                        , `active` = in_active
                        , `rank_total_count` = in_rank_total_count
                        , `absolute_value` = in_absolute_value
                        , `data` = in_data
                        , `stat_value` = in_stat_value
                        , `network` = in_network
                        , `uuid` = in_uuid
                        , `date_modified` = in_date_modified
                        , `level` = in_level
                        , `stat_value_formatted` = in_stat_value_formatted
                        , `date_created` = in_date_created
                        , `type` = in_type
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_leaderboard_item`
                    (
                        `status`
                        , `username`
                        , `code`
                        , `timestamp`
                        , `profile_id`
                        , `rank`
                        , `rank_change`
                        , `game_id`
                        , `active`
                        , `rank_total_count`
                        , `absolute_value`
                        , `data`
                        , `stat_value`
                        , `network`
                        , `uuid`
                        , `date_modified`
                        , `level`
                        , `stat_value_formatted`
                        , `date_created`
                        , `type`
                    )
                    VALUES
                    (
                        in_status
                        , in_username
                        , in_code
                        , in_timestamp
                        , in_profile_id
                        , in_rank
                        , in_rank_change
                        , in_game_id
                        , in_active
                        , in_rank_total_count
                        , in_absolute_value
                        , in_data
                        , in_stat_value
                        , in_network
                        , in_uuid
                        , in_date_modified
                        , in_level
                        , in_stat_value_formatted
                        , in_date_created
                        , in_type
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_leaderboard_item_set_uuid_profile_id_game_id_timestamp`;
delimiter $$
CREATE PROCEDURE `usp_game_leaderboard_item_set_uuid_profile_id_game_id_timestamp`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_username VARCHAR (500) 
    , in_code VARCHAR (500) 
    , in_timestamp decimal 
    , in_profile_id BINARY(16) 
    , in_rank INTEGER 
    , in_rank_change INTEGER 
    , in_game_id BINARY(16) 
    , in_active int 
    , in_rank_total_count INTEGER 
    , in_absolute_value decimal 
    , in_data TEXT 
    , in_stat_value decimal 
    , in_network VARCHAR (500) 
    , in_uuid BINARY(16) 
    , in_date_modified TIMESTAMP 
    , in_level VARCHAR (500) 
    , in_stat_value_formatted VARCHAR (500) 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (500) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_leaderboard_item`  
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    AND `profile_id` = in_profile_id
                    AND `game_id` = in_game_id
                    AND `timestamp` = in_timestamp
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_leaderboard_item` 
                    SET
                        `status` = in_status
                        , `username` = in_username
                        , `code` = in_code
                        , `timestamp` = in_timestamp
                        , `profile_id` = in_profile_id
                        , `rank` = in_rank
                        , `rank_change` = in_rank_change
                        , `game_id` = in_game_id
                        , `active` = in_active
                        , `rank_total_count` = in_rank_total_count
                        , `absolute_value` = in_absolute_value
                        , `data` = in_data
                        , `stat_value` = in_stat_value
                        , `network` = in_network
                        , `uuid` = in_uuid
                        , `date_modified` = in_date_modified
                        , `level` = in_level
                        , `stat_value_formatted` = in_stat_value_formatted
                        , `date_created` = in_date_created
                        , `type` = in_type
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    AND `profile_id` = in_profile_id
                    AND `game_id` = in_game_id
                    AND `timestamp` = in_timestamp
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_leaderboard_item`
                    (
                        `status`
                        , `username`
                        , `code`
                        , `timestamp`
                        , `profile_id`
                        , `rank`
                        , `rank_change`
                        , `game_id`
                        , `active`
                        , `rank_total_count`
                        , `absolute_value`
                        , `data`
                        , `stat_value`
                        , `network`
                        , `uuid`
                        , `date_modified`
                        , `level`
                        , `stat_value_formatted`
                        , `date_created`
                        , `type`
                    )
                    VALUES
                    (
                        in_status
                        , in_username
                        , in_code
                        , in_timestamp
                        , in_profile_id
                        , in_rank
                        , in_rank_change
                        , in_game_id
                        , in_active
                        , in_rank_total_count
                        , in_absolute_value
                        , in_data
                        , in_stat_value
                        , in_network
                        , in_uuid
                        , in_date_modified
                        , in_level
                        , in_stat_value_formatted
                        , in_date_created
                        , in_type
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_leaderboard_item_set_code`;
delimiter $$
CREATE PROCEDURE `usp_game_leaderboard_item_set_code`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_username VARCHAR (500) 
    , in_code VARCHAR (500) 
    , in_timestamp decimal 
    , in_profile_id BINARY(16) 
    , in_rank INTEGER 
    , in_rank_change INTEGER 
    , in_game_id BINARY(16) 
    , in_active int 
    , in_rank_total_count INTEGER 
    , in_absolute_value decimal 
    , in_data TEXT 
    , in_stat_value decimal 
    , in_network VARCHAR (500) 
    , in_uuid BINARY(16) 
    , in_date_modified TIMESTAMP 
    , in_level VARCHAR (500) 
    , in_stat_value_formatted VARCHAR (500) 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (500) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_leaderboard_item`  
                    WHERE 1=1
                    AND lower(`code`) = lower(in_code)
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_leaderboard_item` 
                    SET
                        `status` = in_status
                        , `username` = in_username
                        , `code` = in_code
                        , `timestamp` = in_timestamp
                        , `profile_id` = in_profile_id
                        , `rank` = in_rank
                        , `rank_change` = in_rank_change
                        , `game_id` = in_game_id
                        , `active` = in_active
                        , `rank_total_count` = in_rank_total_count
                        , `absolute_value` = in_absolute_value
                        , `data` = in_data
                        , `stat_value` = in_stat_value
                        , `network` = in_network
                        , `uuid` = in_uuid
                        , `date_modified` = in_date_modified
                        , `level` = in_level
                        , `stat_value_formatted` = in_stat_value_formatted
                        , `date_created` = in_date_created
                        , `type` = in_type
                    WHERE 1=1
                    AND lower(`code`) = lower(in_code)
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_leaderboard_item`
                    (
                        `status`
                        , `username`
                        , `code`
                        , `timestamp`
                        , `profile_id`
                        , `rank`
                        , `rank_change`
                        , `game_id`
                        , `active`
                        , `rank_total_count`
                        , `absolute_value`
                        , `data`
                        , `stat_value`
                        , `network`
                        , `uuid`
                        , `date_modified`
                        , `level`
                        , `stat_value_formatted`
                        , `date_created`
                        , `type`
                    )
                    VALUES
                    (
                        in_status
                        , in_username
                        , in_code
                        , in_timestamp
                        , in_profile_id
                        , in_rank
                        , in_rank_change
                        , in_game_id
                        , in_active
                        , in_rank_total_count
                        , in_absolute_value
                        , in_data
                        , in_stat_value
                        , in_network
                        , in_uuid
                        , in_date_modified
                        , in_level
                        , in_stat_value_formatted
                        , in_date_created
                        , in_type
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_leaderboard_item_set_code_game_id`;
delimiter $$
CREATE PROCEDURE `usp_game_leaderboard_item_set_code_game_id`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_username VARCHAR (500) 
    , in_code VARCHAR (500) 
    , in_timestamp decimal 
    , in_profile_id BINARY(16) 
    , in_rank INTEGER 
    , in_rank_change INTEGER 
    , in_game_id BINARY(16) 
    , in_active int 
    , in_rank_total_count INTEGER 
    , in_absolute_value decimal 
    , in_data TEXT 
    , in_stat_value decimal 
    , in_network VARCHAR (500) 
    , in_uuid BINARY(16) 
    , in_date_modified TIMESTAMP 
    , in_level VARCHAR (500) 
    , in_stat_value_formatted VARCHAR (500) 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (500) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_leaderboard_item`  
                    WHERE 1=1
                    AND lower(`code`) = lower(in_code)
                    AND `game_id` = in_game_id
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_leaderboard_item` 
                    SET
                        `status` = in_status
                        , `username` = in_username
                        , `code` = in_code
                        , `timestamp` = in_timestamp
                        , `profile_id` = in_profile_id
                        , `rank` = in_rank
                        , `rank_change` = in_rank_change
                        , `game_id` = in_game_id
                        , `active` = in_active
                        , `rank_total_count` = in_rank_total_count
                        , `absolute_value` = in_absolute_value
                        , `data` = in_data
                        , `stat_value` = in_stat_value
                        , `network` = in_network
                        , `uuid` = in_uuid
                        , `date_modified` = in_date_modified
                        , `level` = in_level
                        , `stat_value_formatted` = in_stat_value_formatted
                        , `date_created` = in_date_created
                        , `type` = in_type
                    WHERE 1=1
                    AND lower(`code`) = lower(in_code)
                    AND `game_id` = in_game_id
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_leaderboard_item`
                    (
                        `status`
                        , `username`
                        , `code`
                        , `timestamp`
                        , `profile_id`
                        , `rank`
                        , `rank_change`
                        , `game_id`
                        , `active`
                        , `rank_total_count`
                        , `absolute_value`
                        , `data`
                        , `stat_value`
                        , `network`
                        , `uuid`
                        , `date_modified`
                        , `level`
                        , `stat_value_formatted`
                        , `date_created`
                        , `type`
                    )
                    VALUES
                    (
                        in_status
                        , in_username
                        , in_code
                        , in_timestamp
                        , in_profile_id
                        , in_rank
                        , in_rank_change
                        , in_game_id
                        , in_active
                        , in_rank_total_count
                        , in_absolute_value
                        , in_data
                        , in_stat_value
                        , in_network
                        , in_uuid
                        , in_date_modified
                        , in_level
                        , in_stat_value_formatted
                        , in_date_created
                        , in_type
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_leaderboard_item_set_code_game_id_profile_id`;
delimiter $$
CREATE PROCEDURE `usp_game_leaderboard_item_set_code_game_id_profile_id`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_username VARCHAR (500) 
    , in_code VARCHAR (500) 
    , in_timestamp decimal 
    , in_profile_id BINARY(16) 
    , in_rank INTEGER 
    , in_rank_change INTEGER 
    , in_game_id BINARY(16) 
    , in_active int 
    , in_rank_total_count INTEGER 
    , in_absolute_value decimal 
    , in_data TEXT 
    , in_stat_value decimal 
    , in_network VARCHAR (500) 
    , in_uuid BINARY(16) 
    , in_date_modified TIMESTAMP 
    , in_level VARCHAR (500) 
    , in_stat_value_formatted VARCHAR (500) 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (500) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_leaderboard_item`  
                    WHERE 1=1
                    AND lower(`code`) = lower(in_code)
                    AND `game_id` = in_game_id
                    AND `profile_id` = in_profile_id
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_leaderboard_item` 
                    SET
                        `status` = in_status
                        , `username` = in_username
                        , `code` = in_code
                        , `timestamp` = in_timestamp
                        , `profile_id` = in_profile_id
                        , `rank` = in_rank
                        , `rank_change` = in_rank_change
                        , `game_id` = in_game_id
                        , `active` = in_active
                        , `rank_total_count` = in_rank_total_count
                        , `absolute_value` = in_absolute_value
                        , `data` = in_data
                        , `stat_value` = in_stat_value
                        , `network` = in_network
                        , `uuid` = in_uuid
                        , `date_modified` = in_date_modified
                        , `level` = in_level
                        , `stat_value_formatted` = in_stat_value_formatted
                        , `date_created` = in_date_created
                        , `type` = in_type
                    WHERE 1=1
                    AND lower(`code`) = lower(in_code)
                    AND `game_id` = in_game_id
                    AND `profile_id` = in_profile_id
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_leaderboard_item`
                    (
                        `status`
                        , `username`
                        , `code`
                        , `timestamp`
                        , `profile_id`
                        , `rank`
                        , `rank_change`
                        , `game_id`
                        , `active`
                        , `rank_total_count`
                        , `absolute_value`
                        , `data`
                        , `stat_value`
                        , `network`
                        , `uuid`
                        , `date_modified`
                        , `level`
                        , `stat_value_formatted`
                        , `date_created`
                        , `type`
                    )
                    VALUES
                    (
                        in_status
                        , in_username
                        , in_code
                        , in_timestamp
                        , in_profile_id
                        , in_rank
                        , in_rank_change
                        , in_game_id
                        , in_active
                        , in_rank_total_count
                        , in_absolute_value
                        , in_data
                        , in_stat_value
                        , in_network
                        , in_uuid
                        , in_date_modified
                        , in_level
                        , in_stat_value_formatted
                        , in_date_created
                        , in_type
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_leaderboard_item_set_code_game_id_profile_id_timestamp`;
delimiter $$
CREATE PROCEDURE `usp_game_leaderboard_item_set_code_game_id_profile_id_timestamp`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_username VARCHAR (500) 
    , in_code VARCHAR (500) 
    , in_timestamp decimal 
    , in_profile_id BINARY(16) 
    , in_rank INTEGER 
    , in_rank_change INTEGER 
    , in_game_id BINARY(16) 
    , in_active int 
    , in_rank_total_count INTEGER 
    , in_absolute_value decimal 
    , in_data TEXT 
    , in_stat_value decimal 
    , in_network VARCHAR (500) 
    , in_uuid BINARY(16) 
    , in_date_modified TIMESTAMP 
    , in_level VARCHAR (500) 
    , in_stat_value_formatted VARCHAR (500) 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (500) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_leaderboard_item`  
                    WHERE 1=1
                    AND lower(`code`) = lower(in_code)
                    AND `game_id` = in_game_id
                    AND `profile_id` = in_profile_id
                    AND `timestamp` = in_timestamp
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_leaderboard_item` 
                    SET
                        `status` = in_status
                        , `username` = in_username
                        , `code` = in_code
                        , `timestamp` = in_timestamp
                        , `profile_id` = in_profile_id
                        , `rank` = in_rank
                        , `rank_change` = in_rank_change
                        , `game_id` = in_game_id
                        , `active` = in_active
                        , `rank_total_count` = in_rank_total_count
                        , `absolute_value` = in_absolute_value
                        , `data` = in_data
                        , `stat_value` = in_stat_value
                        , `network` = in_network
                        , `uuid` = in_uuid
                        , `date_modified` = in_date_modified
                        , `level` = in_level
                        , `stat_value_formatted` = in_stat_value_formatted
                        , `date_created` = in_date_created
                        , `type` = in_type
                    WHERE 1=1
                    AND lower(`code`) = lower(in_code)
                    AND `game_id` = in_game_id
                    AND `profile_id` = in_profile_id
                    AND `timestamp` = in_timestamp
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_leaderboard_item`
                    (
                        `status`
                        , `username`
                        , `code`
                        , `timestamp`
                        , `profile_id`
                        , `rank`
                        , `rank_change`
                        , `game_id`
                        , `active`
                        , `rank_total_count`
                        , `absolute_value`
                        , `data`
                        , `stat_value`
                        , `network`
                        , `uuid`
                        , `date_modified`
                        , `level`
                        , `stat_value_formatted`
                        , `date_created`
                        , `type`
                    )
                    VALUES
                    (
                        in_status
                        , in_username
                        , in_code
                        , in_timestamp
                        , in_profile_id
                        , in_rank
                        , in_rank_change
                        , in_game_id
                        , in_active
                        , in_rank_total_count
                        , in_absolute_value
                        , in_data
                        , in_stat_value
                        , in_network
                        , in_uuid
                        , in_date_modified
                        , in_level
                        , in_stat_value_formatted
                        , in_date_created
                        , in_type
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

-- ------------------------------------
-- DEL

-- ------------------------------------
-- MODEL: GameLeaderboardItem - game_leaderboard_item

                       
DROP PROCEDURE IF EXISTS `usp_game_leaderboard_item_del_uuid`;

delimiter $$
CREATE PROCEDURE `usp_game_leaderboard_item_del_uuid`
(
    in_uuid BINARY(16) 
)

BEGIN
    DELETE 
    FROM `game_leaderboard_item`
    WHERE 1=1                        
    AND "uuid" = in_uuid
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_game_leaderboard_item_del_code`;

delimiter $$
CREATE PROCEDURE `usp_game_leaderboard_item_del_code`
(
    in_code VARCHAR (500) 
)

BEGIN
    DELETE 
    FROM `game_leaderboard_item`
    WHERE 1=1                        
    AND lower("code") = lower(in_code)
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_game_leaderboard_item_del_code_game_id`;

delimiter $$
CREATE PROCEDURE `usp_game_leaderboard_item_del_code_game_id`
(
    in_code VARCHAR (500) 
    , in_game_id BINARY(16) 
)

BEGIN
    DELETE 
    FROM `game_leaderboard_item`
    WHERE 1=1                        
    AND lower("code") = lower(in_code)
    AND "game_id" = in_game_id
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_game_leaderboard_item_del_code_game_id_profile_id`;

delimiter $$
CREATE PROCEDURE `usp_game_leaderboard_item_del_code_game_id_profile_id`
(
    in_code VARCHAR (500) 
    , in_game_id BINARY(16) 
    , in_profile_id BINARY(16) 
)

BEGIN
    DELETE 
    FROM `game_leaderboard_item`
    WHERE 1=1                        
    AND lower("code") = lower(in_code)
    AND "game_id" = in_game_id
    AND "profile_id" = in_profile_id
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_game_leaderboard_item_del_code_game_id_profile_id_timestamp`;

delimiter $$
CREATE PROCEDURE `usp_game_leaderboard_item_del_code_game_id_profile_id_timestamp`
(
    in_code VARCHAR (500) 
    , in_game_id BINARY(16) 
    , in_profile_id BINARY(16) 
    , in_timestamp decimal 
)

BEGIN
    DELETE 
    FROM `game_leaderboard_item`
    WHERE 1=1                        
    AND lower("code") = lower(in_code)
    AND "game_id" = in_game_id
    AND "profile_id" = in_profile_id
    AND "timestamp" = in_timestamp
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_game_leaderboard_item_del_profile_id_game_id`;

delimiter $$
CREATE PROCEDURE `usp_game_leaderboard_item_del_profile_id_game_id`
(
    in_profile_id BINARY(16) 
    , in_game_id BINARY(16) 
)

BEGIN
    DELETE 
    FROM `game_leaderboard_item`
    WHERE 1=1                        
    AND "profile_id" = in_profile_id
    AND "game_id" = in_game_id
    ;
END$$
delimiter ;
-- ------------------------------------
-- GET

-- ------------------------------------
-- MODEL: GameLeaderboardItem - game_leaderboard_item

                       
DROP PROCEDURE IF EXISTS `usp_game_leaderboard_item_get`;

delimiter $$
CREATE PROCEDURE `usp_game_leaderboard_item_get`
(
)                        
BEGIN
    SELECT
        `status`
        , `username`
        , `code`
        , `timestamp`
        , `profile_id`
        , `rank`
        , `rank_change`
        , `game_id`
        , `active`
        , `rank_total_count`
        , `absolute_value`
        , `data`
        , `stat_value`
        , `network`
        , `uuid`
        , `date_modified`
        , `level`
        , `stat_value_formatted`
        , `date_created`
        , `type`
    FROM `game_leaderboard_item`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_leaderboard_item_get_uuid`;

delimiter $$
CREATE PROCEDURE `usp_game_leaderboard_item_get_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `username`
        , `code`
        , `timestamp`
        , `profile_id`
        , `rank`
        , `rank_change`
        , `game_id`
        , `active`
        , `rank_total_count`
        , `absolute_value`
        , `data`
        , `stat_value`
        , `network`
        , `uuid`
        , `date_modified`
        , `level`
        , `stat_value_formatted`
        , `date_created`
        , `type`
    FROM `game_leaderboard_item`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_leaderboard_item_get_game_id`;

delimiter $$
CREATE PROCEDURE `usp_game_leaderboard_item_get_game_id`
(
    in_game_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `username`
        , `code`
        , `timestamp`
        , `profile_id`
        , `rank`
        , `rank_change`
        , `game_id`
        , `active`
        , `rank_total_count`
        , `absolute_value`
        , `data`
        , `stat_value`
        , `network`
        , `uuid`
        , `date_modified`
        , `level`
        , `stat_value_formatted`
        , `date_created`
        , `type`
    FROM `game_leaderboard_item`
    WHERE 1=1
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_leaderboard_item_get_code`;

delimiter $$
CREATE PROCEDURE `usp_game_leaderboard_item_get_code`
(
    in_code VARCHAR (500) 
)
BEGIN
    SELECT
        `status`
        , `username`
        , `code`
        , `timestamp`
        , `profile_id`
        , `rank`
        , `rank_change`
        , `game_id`
        , `active`
        , `rank_total_count`
        , `absolute_value`
        , `data`
        , `stat_value`
        , `network`
        , `uuid`
        , `date_modified`
        , `level`
        , `stat_value_formatted`
        , `date_created`
        , `type`
    FROM `game_leaderboard_item`
    WHERE 1=1
    AND lower(`code`) = lower(in_code)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_leaderboard_item_get_code_game_id`;

delimiter $$
CREATE PROCEDURE `usp_game_leaderboard_item_get_code_game_id`
(
    in_code VARCHAR (500) 
    , in_game_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `username`
        , `code`
        , `timestamp`
        , `profile_id`
        , `rank`
        , `rank_change`
        , `game_id`
        , `active`
        , `rank_total_count`
        , `absolute_value`
        , `data`
        , `stat_value`
        , `network`
        , `uuid`
        , `date_modified`
        , `level`
        , `stat_value_formatted`
        , `date_created`
        , `type`
    FROM `game_leaderboard_item`
    WHERE 1=1
    AND lower(`code`) = lower(in_code)
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_leaderboard_item_get_code_game_id_profile_id`;

delimiter $$
CREATE PROCEDURE `usp_game_leaderboard_item_get_code_game_id_profile_id`
(
    in_code VARCHAR (500) 
    , in_game_id BINARY(16) 
    , in_profile_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `username`
        , `code`
        , `timestamp`
        , `profile_id`
        , `rank`
        , `rank_change`
        , `game_id`
        , `active`
        , `rank_total_count`
        , `absolute_value`
        , `data`
        , `stat_value`
        , `network`
        , `uuid`
        , `date_modified`
        , `level`
        , `stat_value_formatted`
        , `date_created`
        , `type`
    FROM `game_leaderboard_item`
    WHERE 1=1
    AND lower(`code`) = lower(in_code)
    AND `game_id` = in_game_id
    AND `profile_id` = in_profile_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_leaderboard_item_get_code_game_id_profile_id_timestamp`;

delimiter $$
CREATE PROCEDURE `usp_game_leaderboard_item_get_code_game_id_profile_id_timestamp`
(
    in_code VARCHAR (500) 
    , in_game_id BINARY(16) 
    , in_profile_id BINARY(16) 
    , in_timestamp decimal 
)
BEGIN
    SELECT
        `status`
        , `username`
        , `code`
        , `timestamp`
        , `profile_id`
        , `rank`
        , `rank_change`
        , `game_id`
        , `active`
        , `rank_total_count`
        , `absolute_value`
        , `data`
        , `stat_value`
        , `network`
        , `uuid`
        , `date_modified`
        , `level`
        , `stat_value_formatted`
        , `date_created`
        , `type`
    FROM `game_leaderboard_item`
    WHERE 1=1
    AND lower(`code`) = lower(in_code)
    AND `game_id` = in_game_id
    AND `profile_id` = in_profile_id
    AND `timestamp` = in_timestamp
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_leaderboard_item_get_profile_id_game_id`;

delimiter $$
CREATE PROCEDURE `usp_game_leaderboard_item_get_profile_id_game_id`
(
    in_profile_id BINARY(16) 
    , in_game_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `username`
        , `code`
        , `timestamp`
        , `profile_id`
        , `rank`
        , `rank_change`
        , `game_id`
        , `active`
        , `rank_total_count`
        , `absolute_value`
        , `data`
        , `stat_value`
        , `network`
        , `uuid`
        , `date_modified`
        , `level`
        , `stat_value_formatted`
        , `date_created`
        , `type`
    FROM `game_leaderboard_item`
    WHERE 1=1
    AND `profile_id` = in_profile_id
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_leaderboard_item_get_profile_id_game_id_timestamp`;

delimiter $$
CREATE PROCEDURE `usp_game_leaderboard_item_get_profile_id_game_id_timestamp`
(
    in_profile_id BINARY(16) 
    , in_game_id BINARY(16) 
    , in_timestamp decimal 
)
BEGIN
    SELECT
        `status`
        , `username`
        , `code`
        , `timestamp`
        , `profile_id`
        , `rank`
        , `rank_change`
        , `game_id`
        , `active`
        , `rank_total_count`
        , `absolute_value`
        , `data`
        , `stat_value`
        , `network`
        , `uuid`
        , `date_modified`
        , `level`
        , `stat_value_formatted`
        , `date_created`
        , `type`
    FROM `game_leaderboard_item`
    WHERE 1=1
    AND `profile_id` = in_profile_id
    AND `game_id` = in_game_id
    AND `timestamp` = in_timestamp
    ;
END$$
delimiter ;

-- -----------------------------------------------------------------------------
-- PROCS

-- ------------------------------------
-- COUNT

-- ------------------------------------
-- MODEL: GameLeaderboardRollup - game_leaderboard_rollup

                       
DROP PROCEDURE IF EXISTS `usp_game_leaderboard_rollup_count`;
delimiter $$
CREATE PROCEDURE `usp_game_leaderboard_rollup_count`
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_leaderboard_rollup`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_leaderboard_rollup_count_uuid`;
delimiter $$
CREATE PROCEDURE `usp_game_leaderboard_rollup_count_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_leaderboard_rollup`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_leaderboard_rollup_count_game_id`;
delimiter $$
CREATE PROCEDURE `usp_game_leaderboard_rollup_count_game_id`
(
    in_game_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_leaderboard_rollup`
    WHERE 1=1
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_leaderboard_rollup_count_code`;
delimiter $$
CREATE PROCEDURE `usp_game_leaderboard_rollup_count_code`
(
    in_code VARCHAR (500) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_leaderboard_rollup`
    WHERE 1=1
    AND lower(`code`) = lower(in_code)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_leaderboard_rollup_count_code_game_id`;
delimiter $$
CREATE PROCEDURE `usp_game_leaderboard_rollup_count_code_game_id`
(
    in_code VARCHAR (500) 
    , in_game_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_leaderboard_rollup`
    WHERE 1=1
    AND lower(`code`) = lower(in_code)
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_leaderboard_rollup_count_code_game_id_profile_id`;
delimiter $$
CREATE PROCEDURE `usp_game_leaderboard_rollup_count_code_game_id_profile_id`
(
    in_code VARCHAR (500) 
    , in_game_id BINARY(16) 
    , in_profile_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_leaderboard_rollup`
    WHERE 1=1
    AND lower(`code`) = lower(in_code)
    AND `game_id` = in_game_id
    AND `profile_id` = in_profile_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_leaderboard_rollup_count_code_game_id_profile_id_times`;
delimiter $$
CREATE PROCEDURE `usp_game_leaderboard_rollup_count_code_game_id_profile_id_times`
(
    in_code VARCHAR (500) 
    , in_game_id BINARY(16) 
    , in_profile_id BINARY(16) 
    , in_timestamp decimal 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_leaderboard_rollup`
    WHERE 1=1
    AND lower(`code`) = lower(in_code)
    AND `game_id` = in_game_id
    AND `profile_id` = in_profile_id
    AND `timestamp` = in_timestamp
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_leaderboard_rollup_count_profile_id_game_id`;
delimiter $$
CREATE PROCEDURE `usp_game_leaderboard_rollup_count_profile_id_game_id`
(
    in_profile_id BINARY(16) 
    , in_game_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_leaderboard_rollup`
    WHERE 1=1
    AND `profile_id` = in_profile_id
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

-- ------------------------------------
-- BROWSE

-- ------------------------------------
-- MODEL: GameLeaderboardRollup - game_leaderboard_rollup

                       
DROP PROCEDURE IF EXISTS `usp_game_leaderboard_rollup_browse_filter`;

delimiter $$
CREATE PROCEDURE `usp_game_leaderboard_rollup_browse_filter`
(
    in_page int,
    in_page_size int,
    in_sort VARCHAR(500),
    in_filter VARCHAR(4000)
    
)
BEGIN
    DECLARE total_rows int;
    SET total_rows = 0;
        
    IF (in_page = 0) THEN
        SET in_page = 1;
    END IF;    
    
    IF (in_page_size = 0) THEN
       SET in_page_size = 10;
    END IF;
    
    IF (in_sort = NULL || in_sort = '') THEN
       SET in_sort = ' date_modified ASC ';
    END IF;
    
    SET @sfields = CONCAT('', '`status`');
    SET @sfields = CONCAT(@sfields, ', `username`');
    SET @sfields = CONCAT(@sfields, ', `code`');
    SET @sfields = CONCAT(@sfields, ', `timestamp`');
    SET @sfields = CONCAT(@sfields, ', `profile_id`');
    SET @sfields = CONCAT(@sfields, ', `rank`');
    SET @sfields = CONCAT(@sfields, ', `rank_change`');
    SET @sfields = CONCAT(@sfields, ', `game_id`');
    SET @sfields = CONCAT(@sfields, ', `active`');
    SET @sfields = CONCAT(@sfields, ', `rank_total_count`');
    SET @sfields = CONCAT(@sfields, ', `absolute_value`');
    SET @sfields = CONCAT(@sfields, ', `data`');
    SET @sfields = CONCAT(@sfields, ', `stat_value`');
    SET @sfields = CONCAT(@sfields, ', `network`');
    SET @sfields = CONCAT(@sfields, ', `uuid`');
    SET @sfields = CONCAT(@sfields, ', `date_modified`');
    SET @sfields = CONCAT(@sfields, ', `level`');
    SET @sfields = CONCAT(@sfields, ', `stat_value_formatted`');
    SET @sfields = CONCAT(@sfields, ', `date_created`');
    SET @sfields = CONCAT(@sfields, ', `type`');
    
    SET @stable = CONCAT('', ' FROM `game_leaderboard_rollup` WHERE 1=1 ');
    
    SET @s = CONCAT(' ', @stable);
    SET @s = CONCAT(@s, ' ', in_filter);    
    
    SET @scount = CONCAT('SELECT COUNT(*) as `total_rows` ', @s, ' INTO @total_rows');
    
    PREPARE stmtcount FROM @scount;
    EXECUTE stmtcount;
    #SELECT @total_rows;
    SET total_rows = @total_rows;

    SET @sfields = CONCAT(total_rows, ' as `total_rows`, ', @sfields);
    SET @s = CONCAT('SELECT ', @sfields, @s);
    SET @s = CONCAT(@s, ' ORDER BY ', in_sort);
    SET @s = CONCAT(@s, ' LIMIT ', in_page);
    SET @s = CONCAT(@s, ',', in_page_size);    

    PREPARE stmt FROM @s;
    EXECUTE stmt;
    
END$$
delimiter ;
-- ------------------------------------
-- SET

-- ------------------------------------
-- MODEL: GameLeaderboardRollup - game_leaderboard_rollup

                       
DROP PROCEDURE IF EXISTS `usp_game_leaderboard_rollup_set_uuid`;
delimiter $$
CREATE PROCEDURE `usp_game_leaderboard_rollup_set_uuid`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_username VARCHAR (500) 
    , in_code VARCHAR (500) 
    , in_timestamp decimal 
    , in_profile_id BINARY(16) 
    , in_rank INTEGER 
    , in_rank_change INTEGER 
    , in_game_id BINARY(16) 
    , in_active int 
    , in_rank_total_count INTEGER 
    , in_absolute_value decimal 
    , in_data TEXT 
    , in_stat_value decimal 
    , in_network VARCHAR (500) 
    , in_uuid BINARY(16) 
    , in_date_modified TIMESTAMP 
    , in_level VARCHAR (500) 
    , in_stat_value_formatted VARCHAR (500) 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (500) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_leaderboard_rollup`  
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_leaderboard_rollup` 
                    SET
                        `status` = in_status
                        , `username` = in_username
                        , `code` = in_code
                        , `timestamp` = in_timestamp
                        , `profile_id` = in_profile_id
                        , `rank` = in_rank
                        , `rank_change` = in_rank_change
                        , `game_id` = in_game_id
                        , `active` = in_active
                        , `rank_total_count` = in_rank_total_count
                        , `absolute_value` = in_absolute_value
                        , `data` = in_data
                        , `stat_value` = in_stat_value
                        , `network` = in_network
                        , `uuid` = in_uuid
                        , `date_modified` = in_date_modified
                        , `level` = in_level
                        , `stat_value_formatted` = in_stat_value_formatted
                        , `date_created` = in_date_created
                        , `type` = in_type
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_leaderboard_rollup`
                    (
                        `status`
                        , `username`
                        , `code`
                        , `timestamp`
                        , `profile_id`
                        , `rank`
                        , `rank_change`
                        , `game_id`
                        , `active`
                        , `rank_total_count`
                        , `absolute_value`
                        , `data`
                        , `stat_value`
                        , `network`
                        , `uuid`
                        , `date_modified`
                        , `level`
                        , `stat_value_formatted`
                        , `date_created`
                        , `type`
                    )
                    VALUES
                    (
                        in_status
                        , in_username
                        , in_code
                        , in_timestamp
                        , in_profile_id
                        , in_rank
                        , in_rank_change
                        , in_game_id
                        , in_active
                        , in_rank_total_count
                        , in_absolute_value
                        , in_data
                        , in_stat_value
                        , in_network
                        , in_uuid
                        , in_date_modified
                        , in_level
                        , in_stat_value_formatted
                        , in_date_created
                        , in_type
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_leaderboard_rollup_set_uuid_profile_id_game_id_timesta`;
delimiter $$
CREATE PROCEDURE `usp_game_leaderboard_rollup_set_uuid_profile_id_game_id_timesta`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_username VARCHAR (500) 
    , in_code VARCHAR (500) 
    , in_timestamp decimal 
    , in_profile_id BINARY(16) 
    , in_rank INTEGER 
    , in_rank_change INTEGER 
    , in_game_id BINARY(16) 
    , in_active int 
    , in_rank_total_count INTEGER 
    , in_absolute_value decimal 
    , in_data TEXT 
    , in_stat_value decimal 
    , in_network VARCHAR (500) 
    , in_uuid BINARY(16) 
    , in_date_modified TIMESTAMP 
    , in_level VARCHAR (500) 
    , in_stat_value_formatted VARCHAR (500) 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (500) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_leaderboard_rollup`  
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    AND `profile_id` = in_profile_id
                    AND `game_id` = in_game_id
                    AND `timestamp` = in_timestamp
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_leaderboard_rollup` 
                    SET
                        `status` = in_status
                        , `username` = in_username
                        , `code` = in_code
                        , `timestamp` = in_timestamp
                        , `profile_id` = in_profile_id
                        , `rank` = in_rank
                        , `rank_change` = in_rank_change
                        , `game_id` = in_game_id
                        , `active` = in_active
                        , `rank_total_count` = in_rank_total_count
                        , `absolute_value` = in_absolute_value
                        , `data` = in_data
                        , `stat_value` = in_stat_value
                        , `network` = in_network
                        , `uuid` = in_uuid
                        , `date_modified` = in_date_modified
                        , `level` = in_level
                        , `stat_value_formatted` = in_stat_value_formatted
                        , `date_created` = in_date_created
                        , `type` = in_type
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    AND `profile_id` = in_profile_id
                    AND `game_id` = in_game_id
                    AND `timestamp` = in_timestamp
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_leaderboard_rollup`
                    (
                        `status`
                        , `username`
                        , `code`
                        , `timestamp`
                        , `profile_id`
                        , `rank`
                        , `rank_change`
                        , `game_id`
                        , `active`
                        , `rank_total_count`
                        , `absolute_value`
                        , `data`
                        , `stat_value`
                        , `network`
                        , `uuid`
                        , `date_modified`
                        , `level`
                        , `stat_value_formatted`
                        , `date_created`
                        , `type`
                    )
                    VALUES
                    (
                        in_status
                        , in_username
                        , in_code
                        , in_timestamp
                        , in_profile_id
                        , in_rank
                        , in_rank_change
                        , in_game_id
                        , in_active
                        , in_rank_total_count
                        , in_absolute_value
                        , in_data
                        , in_stat_value
                        , in_network
                        , in_uuid
                        , in_date_modified
                        , in_level
                        , in_stat_value_formatted
                        , in_date_created
                        , in_type
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_leaderboard_rollup_set_code`;
delimiter $$
CREATE PROCEDURE `usp_game_leaderboard_rollup_set_code`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_username VARCHAR (500) 
    , in_code VARCHAR (500) 
    , in_timestamp decimal 
    , in_profile_id BINARY(16) 
    , in_rank INTEGER 
    , in_rank_change INTEGER 
    , in_game_id BINARY(16) 
    , in_active int 
    , in_rank_total_count INTEGER 
    , in_absolute_value decimal 
    , in_data TEXT 
    , in_stat_value decimal 
    , in_network VARCHAR (500) 
    , in_uuid BINARY(16) 
    , in_date_modified TIMESTAMP 
    , in_level VARCHAR (500) 
    , in_stat_value_formatted VARCHAR (500) 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (500) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_leaderboard_rollup`  
                    WHERE 1=1
                    AND lower(`code`) = lower(in_code)
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_leaderboard_rollup` 
                    SET
                        `status` = in_status
                        , `username` = in_username
                        , `code` = in_code
                        , `timestamp` = in_timestamp
                        , `profile_id` = in_profile_id
                        , `rank` = in_rank
                        , `rank_change` = in_rank_change
                        , `game_id` = in_game_id
                        , `active` = in_active
                        , `rank_total_count` = in_rank_total_count
                        , `absolute_value` = in_absolute_value
                        , `data` = in_data
                        , `stat_value` = in_stat_value
                        , `network` = in_network
                        , `uuid` = in_uuid
                        , `date_modified` = in_date_modified
                        , `level` = in_level
                        , `stat_value_formatted` = in_stat_value_formatted
                        , `date_created` = in_date_created
                        , `type` = in_type
                    WHERE 1=1
                    AND lower(`code`) = lower(in_code)
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_leaderboard_rollup`
                    (
                        `status`
                        , `username`
                        , `code`
                        , `timestamp`
                        , `profile_id`
                        , `rank`
                        , `rank_change`
                        , `game_id`
                        , `active`
                        , `rank_total_count`
                        , `absolute_value`
                        , `data`
                        , `stat_value`
                        , `network`
                        , `uuid`
                        , `date_modified`
                        , `level`
                        , `stat_value_formatted`
                        , `date_created`
                        , `type`
                    )
                    VALUES
                    (
                        in_status
                        , in_username
                        , in_code
                        , in_timestamp
                        , in_profile_id
                        , in_rank
                        , in_rank_change
                        , in_game_id
                        , in_active
                        , in_rank_total_count
                        , in_absolute_value
                        , in_data
                        , in_stat_value
                        , in_network
                        , in_uuid
                        , in_date_modified
                        , in_level
                        , in_stat_value_formatted
                        , in_date_created
                        , in_type
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_leaderboard_rollup_set_code_game_id`;
delimiter $$
CREATE PROCEDURE `usp_game_leaderboard_rollup_set_code_game_id`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_username VARCHAR (500) 
    , in_code VARCHAR (500) 
    , in_timestamp decimal 
    , in_profile_id BINARY(16) 
    , in_rank INTEGER 
    , in_rank_change INTEGER 
    , in_game_id BINARY(16) 
    , in_active int 
    , in_rank_total_count INTEGER 
    , in_absolute_value decimal 
    , in_data TEXT 
    , in_stat_value decimal 
    , in_network VARCHAR (500) 
    , in_uuid BINARY(16) 
    , in_date_modified TIMESTAMP 
    , in_level VARCHAR (500) 
    , in_stat_value_formatted VARCHAR (500) 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (500) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_leaderboard_rollup`  
                    WHERE 1=1
                    AND lower(`code`) = lower(in_code)
                    AND `game_id` = in_game_id
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_leaderboard_rollup` 
                    SET
                        `status` = in_status
                        , `username` = in_username
                        , `code` = in_code
                        , `timestamp` = in_timestamp
                        , `profile_id` = in_profile_id
                        , `rank` = in_rank
                        , `rank_change` = in_rank_change
                        , `game_id` = in_game_id
                        , `active` = in_active
                        , `rank_total_count` = in_rank_total_count
                        , `absolute_value` = in_absolute_value
                        , `data` = in_data
                        , `stat_value` = in_stat_value
                        , `network` = in_network
                        , `uuid` = in_uuid
                        , `date_modified` = in_date_modified
                        , `level` = in_level
                        , `stat_value_formatted` = in_stat_value_formatted
                        , `date_created` = in_date_created
                        , `type` = in_type
                    WHERE 1=1
                    AND lower(`code`) = lower(in_code)
                    AND `game_id` = in_game_id
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_leaderboard_rollup`
                    (
                        `status`
                        , `username`
                        , `code`
                        , `timestamp`
                        , `profile_id`
                        , `rank`
                        , `rank_change`
                        , `game_id`
                        , `active`
                        , `rank_total_count`
                        , `absolute_value`
                        , `data`
                        , `stat_value`
                        , `network`
                        , `uuid`
                        , `date_modified`
                        , `level`
                        , `stat_value_formatted`
                        , `date_created`
                        , `type`
                    )
                    VALUES
                    (
                        in_status
                        , in_username
                        , in_code
                        , in_timestamp
                        , in_profile_id
                        , in_rank
                        , in_rank_change
                        , in_game_id
                        , in_active
                        , in_rank_total_count
                        , in_absolute_value
                        , in_data
                        , in_stat_value
                        , in_network
                        , in_uuid
                        , in_date_modified
                        , in_level
                        , in_stat_value_formatted
                        , in_date_created
                        , in_type
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_leaderboard_rollup_set_code_game_id_profile_id`;
delimiter $$
CREATE PROCEDURE `usp_game_leaderboard_rollup_set_code_game_id_profile_id`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_username VARCHAR (500) 
    , in_code VARCHAR (500) 
    , in_timestamp decimal 
    , in_profile_id BINARY(16) 
    , in_rank INTEGER 
    , in_rank_change INTEGER 
    , in_game_id BINARY(16) 
    , in_active int 
    , in_rank_total_count INTEGER 
    , in_absolute_value decimal 
    , in_data TEXT 
    , in_stat_value decimal 
    , in_network VARCHAR (500) 
    , in_uuid BINARY(16) 
    , in_date_modified TIMESTAMP 
    , in_level VARCHAR (500) 
    , in_stat_value_formatted VARCHAR (500) 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (500) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_leaderboard_rollup`  
                    WHERE 1=1
                    AND lower(`code`) = lower(in_code)
                    AND `game_id` = in_game_id
                    AND `profile_id` = in_profile_id
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_leaderboard_rollup` 
                    SET
                        `status` = in_status
                        , `username` = in_username
                        , `code` = in_code
                        , `timestamp` = in_timestamp
                        , `profile_id` = in_profile_id
                        , `rank` = in_rank
                        , `rank_change` = in_rank_change
                        , `game_id` = in_game_id
                        , `active` = in_active
                        , `rank_total_count` = in_rank_total_count
                        , `absolute_value` = in_absolute_value
                        , `data` = in_data
                        , `stat_value` = in_stat_value
                        , `network` = in_network
                        , `uuid` = in_uuid
                        , `date_modified` = in_date_modified
                        , `level` = in_level
                        , `stat_value_formatted` = in_stat_value_formatted
                        , `date_created` = in_date_created
                        , `type` = in_type
                    WHERE 1=1
                    AND lower(`code`) = lower(in_code)
                    AND `game_id` = in_game_id
                    AND `profile_id` = in_profile_id
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_leaderboard_rollup`
                    (
                        `status`
                        , `username`
                        , `code`
                        , `timestamp`
                        , `profile_id`
                        , `rank`
                        , `rank_change`
                        , `game_id`
                        , `active`
                        , `rank_total_count`
                        , `absolute_value`
                        , `data`
                        , `stat_value`
                        , `network`
                        , `uuid`
                        , `date_modified`
                        , `level`
                        , `stat_value_formatted`
                        , `date_created`
                        , `type`
                    )
                    VALUES
                    (
                        in_status
                        , in_username
                        , in_code
                        , in_timestamp
                        , in_profile_id
                        , in_rank
                        , in_rank_change
                        , in_game_id
                        , in_active
                        , in_rank_total_count
                        , in_absolute_value
                        , in_data
                        , in_stat_value
                        , in_network
                        , in_uuid
                        , in_date_modified
                        , in_level
                        , in_stat_value_formatted
                        , in_date_created
                        , in_type
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_leaderboard_rollup_set_code_game_id_profile_id_timesta`;
delimiter $$
CREATE PROCEDURE `usp_game_leaderboard_rollup_set_code_game_id_profile_id_timesta`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_username VARCHAR (500) 
    , in_code VARCHAR (500) 
    , in_timestamp decimal 
    , in_profile_id BINARY(16) 
    , in_rank INTEGER 
    , in_rank_change INTEGER 
    , in_game_id BINARY(16) 
    , in_active int 
    , in_rank_total_count INTEGER 
    , in_absolute_value decimal 
    , in_data TEXT 
    , in_stat_value decimal 
    , in_network VARCHAR (500) 
    , in_uuid BINARY(16) 
    , in_date_modified TIMESTAMP 
    , in_level VARCHAR (500) 
    , in_stat_value_formatted VARCHAR (500) 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (500) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_leaderboard_rollup`  
                    WHERE 1=1
                    AND lower(`code`) = lower(in_code)
                    AND `game_id` = in_game_id
                    AND `profile_id` = in_profile_id
                    AND `timestamp` = in_timestamp
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_leaderboard_rollup` 
                    SET
                        `status` = in_status
                        , `username` = in_username
                        , `code` = in_code
                        , `timestamp` = in_timestamp
                        , `profile_id` = in_profile_id
                        , `rank` = in_rank
                        , `rank_change` = in_rank_change
                        , `game_id` = in_game_id
                        , `active` = in_active
                        , `rank_total_count` = in_rank_total_count
                        , `absolute_value` = in_absolute_value
                        , `data` = in_data
                        , `stat_value` = in_stat_value
                        , `network` = in_network
                        , `uuid` = in_uuid
                        , `date_modified` = in_date_modified
                        , `level` = in_level
                        , `stat_value_formatted` = in_stat_value_formatted
                        , `date_created` = in_date_created
                        , `type` = in_type
                    WHERE 1=1
                    AND lower(`code`) = lower(in_code)
                    AND `game_id` = in_game_id
                    AND `profile_id` = in_profile_id
                    AND `timestamp` = in_timestamp
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_leaderboard_rollup`
                    (
                        `status`
                        , `username`
                        , `code`
                        , `timestamp`
                        , `profile_id`
                        , `rank`
                        , `rank_change`
                        , `game_id`
                        , `active`
                        , `rank_total_count`
                        , `absolute_value`
                        , `data`
                        , `stat_value`
                        , `network`
                        , `uuid`
                        , `date_modified`
                        , `level`
                        , `stat_value_formatted`
                        , `date_created`
                        , `type`
                    )
                    VALUES
                    (
                        in_status
                        , in_username
                        , in_code
                        , in_timestamp
                        , in_profile_id
                        , in_rank
                        , in_rank_change
                        , in_game_id
                        , in_active
                        , in_rank_total_count
                        , in_absolute_value
                        , in_data
                        , in_stat_value
                        , in_network
                        , in_uuid
                        , in_date_modified
                        , in_level
                        , in_stat_value_formatted
                        , in_date_created
                        , in_type
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

-- ------------------------------------
-- DEL

-- ------------------------------------
-- MODEL: GameLeaderboardRollup - game_leaderboard_rollup

                       
DROP PROCEDURE IF EXISTS `usp_game_leaderboard_rollup_del_uuid`;

delimiter $$
CREATE PROCEDURE `usp_game_leaderboard_rollup_del_uuid`
(
    in_uuid BINARY(16) 
)

BEGIN
    DELETE 
    FROM `game_leaderboard_rollup`
    WHERE 1=1                        
    AND "uuid" = in_uuid
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_game_leaderboard_rollup_del_code`;

delimiter $$
CREATE PROCEDURE `usp_game_leaderboard_rollup_del_code`
(
    in_code VARCHAR (500) 
)

BEGIN
    DELETE 
    FROM `game_leaderboard_rollup`
    WHERE 1=1                        
    AND lower("code") = lower(in_code)
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_game_leaderboard_rollup_del_code_game_id`;

delimiter $$
CREATE PROCEDURE `usp_game_leaderboard_rollup_del_code_game_id`
(
    in_code VARCHAR (500) 
    , in_game_id BINARY(16) 
)

BEGIN
    DELETE 
    FROM `game_leaderboard_rollup`
    WHERE 1=1                        
    AND lower("code") = lower(in_code)
    AND "game_id" = in_game_id
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_game_leaderboard_rollup_del_code_game_id_profile_id`;

delimiter $$
CREATE PROCEDURE `usp_game_leaderboard_rollup_del_code_game_id_profile_id`
(
    in_code VARCHAR (500) 
    , in_game_id BINARY(16) 
    , in_profile_id BINARY(16) 
)

BEGIN
    DELETE 
    FROM `game_leaderboard_rollup`
    WHERE 1=1                        
    AND lower("code") = lower(in_code)
    AND "game_id" = in_game_id
    AND "profile_id" = in_profile_id
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_game_leaderboard_rollup_del_code_game_id_profile_id_timesta`;

delimiter $$
CREATE PROCEDURE `usp_game_leaderboard_rollup_del_code_game_id_profile_id_timesta`
(
    in_code VARCHAR (500) 
    , in_game_id BINARY(16) 
    , in_profile_id BINARY(16) 
    , in_timestamp decimal 
)

BEGIN
    DELETE 
    FROM `game_leaderboard_rollup`
    WHERE 1=1                        
    AND lower("code") = lower(in_code)
    AND "game_id" = in_game_id
    AND "profile_id" = in_profile_id
    AND "timestamp" = in_timestamp
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_game_leaderboard_rollup_del_profile_id_game_id`;

delimiter $$
CREATE PROCEDURE `usp_game_leaderboard_rollup_del_profile_id_game_id`
(
    in_profile_id BINARY(16) 
    , in_game_id BINARY(16) 
)

BEGIN
    DELETE 
    FROM `game_leaderboard_rollup`
    WHERE 1=1                        
    AND "profile_id" = in_profile_id
    AND "game_id" = in_game_id
    ;
END$$
delimiter ;
-- ------------------------------------
-- GET

-- ------------------------------------
-- MODEL: GameLeaderboardRollup - game_leaderboard_rollup

                       
DROP PROCEDURE IF EXISTS `usp_game_leaderboard_rollup_get`;

delimiter $$
CREATE PROCEDURE `usp_game_leaderboard_rollup_get`
(
)                        
BEGIN
    SELECT
        `status`
        , `username`
        , `code`
        , `timestamp`
        , `profile_id`
        , `rank`
        , `rank_change`
        , `game_id`
        , `active`
        , `rank_total_count`
        , `absolute_value`
        , `data`
        , `stat_value`
        , `network`
        , `uuid`
        , `date_modified`
        , `level`
        , `stat_value_formatted`
        , `date_created`
        , `type`
    FROM `game_leaderboard_rollup`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_leaderboard_rollup_get_uuid`;

delimiter $$
CREATE PROCEDURE `usp_game_leaderboard_rollup_get_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `username`
        , `code`
        , `timestamp`
        , `profile_id`
        , `rank`
        , `rank_change`
        , `game_id`
        , `active`
        , `rank_total_count`
        , `absolute_value`
        , `data`
        , `stat_value`
        , `network`
        , `uuid`
        , `date_modified`
        , `level`
        , `stat_value_formatted`
        , `date_created`
        , `type`
    FROM `game_leaderboard_rollup`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_leaderboard_rollup_get_game_id`;

delimiter $$
CREATE PROCEDURE `usp_game_leaderboard_rollup_get_game_id`
(
    in_game_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `username`
        , `code`
        , `timestamp`
        , `profile_id`
        , `rank`
        , `rank_change`
        , `game_id`
        , `active`
        , `rank_total_count`
        , `absolute_value`
        , `data`
        , `stat_value`
        , `network`
        , `uuid`
        , `date_modified`
        , `level`
        , `stat_value_formatted`
        , `date_created`
        , `type`
    FROM `game_leaderboard_rollup`
    WHERE 1=1
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_leaderboard_rollup_get_code`;

delimiter $$
CREATE PROCEDURE `usp_game_leaderboard_rollup_get_code`
(
    in_code VARCHAR (500) 
)
BEGIN
    SELECT
        `status`
        , `username`
        , `code`
        , `timestamp`
        , `profile_id`
        , `rank`
        , `rank_change`
        , `game_id`
        , `active`
        , `rank_total_count`
        , `absolute_value`
        , `data`
        , `stat_value`
        , `network`
        , `uuid`
        , `date_modified`
        , `level`
        , `stat_value_formatted`
        , `date_created`
        , `type`
    FROM `game_leaderboard_rollup`
    WHERE 1=1
    AND lower(`code`) = lower(in_code)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_leaderboard_rollup_get_code_game_id`;

delimiter $$
CREATE PROCEDURE `usp_game_leaderboard_rollup_get_code_game_id`
(
    in_code VARCHAR (500) 
    , in_game_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `username`
        , `code`
        , `timestamp`
        , `profile_id`
        , `rank`
        , `rank_change`
        , `game_id`
        , `active`
        , `rank_total_count`
        , `absolute_value`
        , `data`
        , `stat_value`
        , `network`
        , `uuid`
        , `date_modified`
        , `level`
        , `stat_value_formatted`
        , `date_created`
        , `type`
    FROM `game_leaderboard_rollup`
    WHERE 1=1
    AND lower(`code`) = lower(in_code)
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_leaderboard_rollup_get_code_game_id_profile_id`;

delimiter $$
CREATE PROCEDURE `usp_game_leaderboard_rollup_get_code_game_id_profile_id`
(
    in_code VARCHAR (500) 
    , in_game_id BINARY(16) 
    , in_profile_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `username`
        , `code`
        , `timestamp`
        , `profile_id`
        , `rank`
        , `rank_change`
        , `game_id`
        , `active`
        , `rank_total_count`
        , `absolute_value`
        , `data`
        , `stat_value`
        , `network`
        , `uuid`
        , `date_modified`
        , `level`
        , `stat_value_formatted`
        , `date_created`
        , `type`
    FROM `game_leaderboard_rollup`
    WHERE 1=1
    AND lower(`code`) = lower(in_code)
    AND `game_id` = in_game_id
    AND `profile_id` = in_profile_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_leaderboard_rollup_get_code_game_id_profile_id_timesta`;

delimiter $$
CREATE PROCEDURE `usp_game_leaderboard_rollup_get_code_game_id_profile_id_timesta`
(
    in_code VARCHAR (500) 
    , in_game_id BINARY(16) 
    , in_profile_id BINARY(16) 
    , in_timestamp decimal 
)
BEGIN
    SELECT
        `status`
        , `username`
        , `code`
        , `timestamp`
        , `profile_id`
        , `rank`
        , `rank_change`
        , `game_id`
        , `active`
        , `rank_total_count`
        , `absolute_value`
        , `data`
        , `stat_value`
        , `network`
        , `uuid`
        , `date_modified`
        , `level`
        , `stat_value_formatted`
        , `date_created`
        , `type`
    FROM `game_leaderboard_rollup`
    WHERE 1=1
    AND lower(`code`) = lower(in_code)
    AND `game_id` = in_game_id
    AND `profile_id` = in_profile_id
    AND `timestamp` = in_timestamp
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_leaderboard_rollup_get_profile_id_game_id`;

delimiter $$
CREATE PROCEDURE `usp_game_leaderboard_rollup_get_profile_id_game_id`
(
    in_profile_id BINARY(16) 
    , in_game_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `username`
        , `code`
        , `timestamp`
        , `profile_id`
        , `rank`
        , `rank_change`
        , `game_id`
        , `active`
        , `rank_total_count`
        , `absolute_value`
        , `data`
        , `stat_value`
        , `network`
        , `uuid`
        , `date_modified`
        , `level`
        , `stat_value_formatted`
        , `date_created`
        , `type`
    FROM `game_leaderboard_rollup`
    WHERE 1=1
    AND `profile_id` = in_profile_id
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_leaderboard_rollup_get_profile_id_game_id_timestamp`;

delimiter $$
CREATE PROCEDURE `usp_game_leaderboard_rollup_get_profile_id_game_id_timestamp`
(
    in_profile_id BINARY(16) 
    , in_game_id BINARY(16) 
    , in_timestamp decimal 
)
BEGIN
    SELECT
        `status`
        , `username`
        , `code`
        , `timestamp`
        , `profile_id`
        , `rank`
        , `rank_change`
        , `game_id`
        , `active`
        , `rank_total_count`
        , `absolute_value`
        , `data`
        , `stat_value`
        , `network`
        , `uuid`
        , `date_modified`
        , `level`
        , `stat_value_formatted`
        , `date_created`
        , `type`
    FROM `game_leaderboard_rollup`
    WHERE 1=1
    AND `profile_id` = in_profile_id
    AND `game_id` = in_game_id
    AND `timestamp` = in_timestamp
    ;
END$$
delimiter ;

-- -----------------------------------------------------------------------------
-- PROCS

-- ------------------------------------
-- COUNT

-- ------------------------------------
-- MODEL: GameLiveQueue - game_live_queue

                       
DROP PROCEDURE IF EXISTS `usp_game_live_queue_count`;
delimiter $$
CREATE PROCEDURE `usp_game_live_queue_count`
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_live_queue`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_live_queue_count_uuid`;
delimiter $$
CREATE PROCEDURE `usp_game_live_queue_count_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_live_queue`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_live_queue_count_profile_id_game_id`;
delimiter $$
CREATE PROCEDURE `usp_game_live_queue_count_profile_id_game_id`
(
    in_profile_id BINARY(16) 
    , in_game_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_live_queue`
    WHERE 1=1
    AND `profile_id` = in_profile_id
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

-- ------------------------------------
-- BROWSE

-- ------------------------------------
-- MODEL: GameLiveQueue - game_live_queue

                       
DROP PROCEDURE IF EXISTS `usp_game_live_queue_browse_filter`;

delimiter $$
CREATE PROCEDURE `usp_game_live_queue_browse_filter`
(
    in_page int,
    in_page_size int,
    in_sort VARCHAR(500),
    in_filter VARCHAR(4000)
    
)
BEGIN
    DECLARE total_rows int;
    SET total_rows = 0;
        
    IF (in_page = 0) THEN
        SET in_page = 1;
    END IF;    
    
    IF (in_page_size = 0) THEN
       SET in_page_size = 10;
    END IF;
    
    IF (in_sort = NULL || in_sort = '') THEN
       SET in_sort = ' date_modified ASC ';
    END IF;
    
    SET @sfields = CONCAT('', '`status`');
    SET @sfields = CONCAT(@sfields, ', `data_stat`');
    SET @sfields = CONCAT(@sfields, ', `uuid`');
    SET @sfields = CONCAT(@sfields, ', `date_modified`');
    SET @sfields = CONCAT(@sfields, ', `active`');
    SET @sfields = CONCAT(@sfields, ', `date_created`');
    SET @sfields = CONCAT(@sfields, ', `game_id`');
    SET @sfields = CONCAT(@sfields, ', `profile_id`');
    SET @sfields = CONCAT(@sfields, ', `type`');
    SET @sfields = CONCAT(@sfields, ', `data_ad`');
    
    SET @stable = CONCAT('', ' FROM `game_live_queue` WHERE 1=1 ');
    
    SET @s = CONCAT(' ', @stable);
    SET @s = CONCAT(@s, ' ', in_filter);    
    
    SET @scount = CONCAT('SELECT COUNT(*) as `total_rows` ', @s, ' INTO @total_rows');
    
    PREPARE stmtcount FROM @scount;
    EXECUTE stmtcount;
    #SELECT @total_rows;
    SET total_rows = @total_rows;

    SET @sfields = CONCAT(total_rows, ' as `total_rows`, ', @sfields);
    SET @s = CONCAT('SELECT ', @sfields, @s);
    SET @s = CONCAT(@s, ' ORDER BY ', in_sort);
    SET @s = CONCAT(@s, ' LIMIT ', in_page);
    SET @s = CONCAT(@s, ',', in_page_size);    

    PREPARE stmt FROM @s;
    EXECUTE stmt;
    
END$$
delimiter ;
-- ------------------------------------
-- SET

-- ------------------------------------
-- MODEL: GameLiveQueue - game_live_queue

                       
DROP PROCEDURE IF EXISTS `usp_game_live_queue_set_uuid`;
delimiter $$
CREATE PROCEDURE `usp_game_live_queue_set_uuid`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_data_stat TEXT 
    , in_uuid BINARY(16) 
    , in_date_modified TIMESTAMP 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_game_id BINARY(16) 
    , in_profile_id BINARY(16) 
    , in_type VARCHAR (500) 
    , in_data_ad TEXT 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_live_queue`  
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_live_queue` 
                    SET
                        `status` = in_status
                        , `data_stat` = in_data_stat
                        , `uuid` = in_uuid
                        , `date_modified` = in_date_modified
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `game_id` = in_game_id
                        , `profile_id` = in_profile_id
                        , `type` = in_type
                        , `data_ad` = in_data_ad
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_live_queue`
                    (
                        `status`
                        , `data_stat`
                        , `uuid`
                        , `date_modified`
                        , `active`
                        , `date_created`
                        , `game_id`
                        , `profile_id`
                        , `type`
                        , `data_ad`
                    )
                    VALUES
                    (
                        in_status
                        , in_data_stat
                        , in_uuid
                        , in_date_modified
                        , in_active
                        , in_date_created
                        , in_game_id
                        , in_profile_id
                        , in_type
                        , in_data_ad
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_live_queue_set_profile_id_game_id`;
delimiter $$
CREATE PROCEDURE `usp_game_live_queue_set_profile_id_game_id`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_data_stat TEXT 
    , in_uuid BINARY(16) 
    , in_date_modified TIMESTAMP 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_game_id BINARY(16) 
    , in_profile_id BINARY(16) 
    , in_type VARCHAR (500) 
    , in_data_ad TEXT 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_live_queue`  
                    WHERE 1=1
                    AND `profile_id` = in_profile_id
                    AND `game_id` = in_game_id
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_live_queue` 
                    SET
                        `status` = in_status
                        , `data_stat` = in_data_stat
                        , `uuid` = in_uuid
                        , `date_modified` = in_date_modified
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `game_id` = in_game_id
                        , `profile_id` = in_profile_id
                        , `type` = in_type
                        , `data_ad` = in_data_ad
                    WHERE 1=1
                    AND `profile_id` = in_profile_id
                    AND `game_id` = in_game_id
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_live_queue`
                    (
                        `status`
                        , `data_stat`
                        , `uuid`
                        , `date_modified`
                        , `active`
                        , `date_created`
                        , `game_id`
                        , `profile_id`
                        , `type`
                        , `data_ad`
                    )
                    VALUES
                    (
                        in_status
                        , in_data_stat
                        , in_uuid
                        , in_date_modified
                        , in_active
                        , in_date_created
                        , in_game_id
                        , in_profile_id
                        , in_type
                        , in_data_ad
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

-- ------------------------------------
-- DEL

-- ------------------------------------
-- MODEL: GameLiveQueue - game_live_queue

                       
DROP PROCEDURE IF EXISTS `usp_game_live_queue_del_uuid`;

delimiter $$
CREATE PROCEDURE `usp_game_live_queue_del_uuid`
(
    in_uuid BINARY(16) 
)

BEGIN
    DELETE 
    FROM `game_live_queue`
    WHERE 1=1                        
    AND "uuid" = in_uuid
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_game_live_queue_del_profile_id_game_id`;

delimiter $$
CREATE PROCEDURE `usp_game_live_queue_del_profile_id_game_id`
(
    in_profile_id BINARY(16) 
    , in_game_id BINARY(16) 
)

BEGIN
    DELETE 
    FROM `game_live_queue`
    WHERE 1=1                        
    AND "profile_id" = in_profile_id
    AND "game_id" = in_game_id
    ;
END$$
delimiter ;
-- ------------------------------------
-- GET

-- ------------------------------------
-- MODEL: GameLiveQueue - game_live_queue

                       
DROP PROCEDURE IF EXISTS `usp_game_live_queue_get`;

delimiter $$
CREATE PROCEDURE `usp_game_live_queue_get`
(
)                        
BEGIN
    SELECT
        `status`
        , `data_stat`
        , `uuid`
        , `date_modified`
        , `active`
        , `date_created`
        , `game_id`
        , `profile_id`
        , `type`
        , `data_ad`
    FROM `game_live_queue`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_live_queue_get_uuid`;

delimiter $$
CREATE PROCEDURE `usp_game_live_queue_get_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `data_stat`
        , `uuid`
        , `date_modified`
        , `active`
        , `date_created`
        , `game_id`
        , `profile_id`
        , `type`
        , `data_ad`
    FROM `game_live_queue`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_live_queue_get_game_id`;

delimiter $$
CREATE PROCEDURE `usp_game_live_queue_get_game_id`
(
    in_game_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `data_stat`
        , `uuid`
        , `date_modified`
        , `active`
        , `date_created`
        , `game_id`
        , `profile_id`
        , `type`
        , `data_ad`
    FROM `game_live_queue`
    WHERE 1=1
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_live_queue_get_profile_id_game_id`;

delimiter $$
CREATE PROCEDURE `usp_game_live_queue_get_profile_id_game_id`
(
    in_profile_id BINARY(16) 
    , in_game_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `data_stat`
        , `uuid`
        , `date_modified`
        , `active`
        , `date_created`
        , `game_id`
        , `profile_id`
        , `type`
        , `data_ad`
    FROM `game_live_queue`
    WHERE 1=1
    AND `profile_id` = in_profile_id
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

-- -----------------------------------------------------------------------------
-- PROCS

-- ------------------------------------
-- COUNT

-- ------------------------------------
-- MODEL: GameLiveRecentQueue - game_live_recent_queue

                       
DROP PROCEDURE IF EXISTS `usp_game_live_recent_queue_count`;
delimiter $$
CREATE PROCEDURE `usp_game_live_recent_queue_count`
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_live_recent_queue`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_live_recent_queue_count_uuid`;
delimiter $$
CREATE PROCEDURE `usp_game_live_recent_queue_count_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_live_recent_queue`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_live_recent_queue_count_profile_id_game_id`;
delimiter $$
CREATE PROCEDURE `usp_game_live_recent_queue_count_profile_id_game_id`
(
    in_profile_id BINARY(16) 
    , in_game_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_live_recent_queue`
    WHERE 1=1
    AND `profile_id` = in_profile_id
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

-- ------------------------------------
-- BROWSE

-- ------------------------------------
-- MODEL: GameLiveRecentQueue - game_live_recent_queue

                       
DROP PROCEDURE IF EXISTS `usp_game_live_recent_queue_browse_filter`;

delimiter $$
CREATE PROCEDURE `usp_game_live_recent_queue_browse_filter`
(
    in_page int,
    in_page_size int,
    in_sort VARCHAR(500),
    in_filter VARCHAR(4000)
    
)
BEGIN
    DECLARE total_rows int;
    SET total_rows = 0;
        
    IF (in_page = 0) THEN
        SET in_page = 1;
    END IF;    
    
    IF (in_page_size = 0) THEN
       SET in_page_size = 10;
    END IF;
    
    IF (in_sort = NULL || in_sort = '') THEN
       SET in_sort = ' date_modified ASC ';
    END IF;
    
    SET @sfields = CONCAT('', '`status`');
    SET @sfields = CONCAT(@sfields, ', `username`');
    SET @sfields = CONCAT(@sfields, ', `code`');
    SET @sfields = CONCAT(@sfields, ', `display_name`');
    SET @sfields = CONCAT(@sfields, ', `name`');
    SET @sfields = CONCAT(@sfields, ', `date_modified`');
    SET @sfields = CONCAT(@sfields, ', `data`');
    SET @sfields = CONCAT(@sfields, ', `profile_id`');
    SET @sfields = CONCAT(@sfields, ', `uuid`');
    SET @sfields = CONCAT(@sfields, ', `game`');
    SET @sfields = CONCAT(@sfields, ', `game_id`');
    SET @sfields = CONCAT(@sfields, ', `active`');
    SET @sfields = CONCAT(@sfields, ', `date_created`');
    SET @sfields = CONCAT(@sfields, ', `type`');
    SET @sfields = CONCAT(@sfields, ', `description`');
    
    SET @stable = CONCAT('', ' FROM `game_live_recent_queue` WHERE 1=1 ');
    
    SET @s = CONCAT(' ', @stable);
    SET @s = CONCAT(@s, ' ', in_filter);    
    
    SET @scount = CONCAT('SELECT COUNT(*) as `total_rows` ', @s, ' INTO @total_rows');
    
    PREPARE stmtcount FROM @scount;
    EXECUTE stmtcount;
    #SELECT @total_rows;
    SET total_rows = @total_rows;

    SET @sfields = CONCAT(total_rows, ' as `total_rows`, ', @sfields);
    SET @s = CONCAT('SELECT ', @sfields, @s);
    SET @s = CONCAT(@s, ' ORDER BY ', in_sort);
    SET @s = CONCAT(@s, ' LIMIT ', in_page);
    SET @s = CONCAT(@s, ',', in_page_size);    

    PREPARE stmt FROM @s;
    EXECUTE stmt;
    
END$$
delimiter ;
-- ------------------------------------
-- SET

-- ------------------------------------
-- MODEL: GameLiveRecentQueue - game_live_recent_queue

                       
DROP PROCEDURE IF EXISTS `usp_game_live_recent_queue_set_uuid`;
delimiter $$
CREATE PROCEDURE `usp_game_live_recent_queue_set_uuid`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_username VARCHAR (500) 
    , in_code VARCHAR (255) 
    , in_display_name VARCHAR (255) 
    , in_name VARCHAR (255) 
    , in_date_modified TIMESTAMP 
    , in_data TEXT 
    , in_profile_id BINARY(16) 
    , in_uuid BINARY(16) 
    , in_game VARCHAR (500) 
    , in_game_id BINARY(16) 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (500) 
    , in_description VARCHAR (255) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_live_recent_queue`  
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_live_recent_queue` 
                    SET
                        `status` = in_status
                        , `username` = in_username
                        , `code` = in_code
                        , `display_name` = in_display_name
                        , `name` = in_name
                        , `date_modified` = in_date_modified
                        , `data` = in_data
                        , `profile_id` = in_profile_id
                        , `uuid` = in_uuid
                        , `game` = in_game
                        , `game_id` = in_game_id
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `type` = in_type
                        , `description` = in_description
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_live_recent_queue`
                    (
                        `status`
                        , `username`
                        , `code`
                        , `display_name`
                        , `name`
                        , `date_modified`
                        , `data`
                        , `profile_id`
                        , `uuid`
                        , `game`
                        , `game_id`
                        , `active`
                        , `date_created`
                        , `type`
                        , `description`
                    )
                    VALUES
                    (
                        in_status
                        , in_username
                        , in_code
                        , in_display_name
                        , in_name
                        , in_date_modified
                        , in_data
                        , in_profile_id
                        , in_uuid
                        , in_game
                        , in_game_id
                        , in_active
                        , in_date_created
                        , in_type
                        , in_description
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_live_recent_queue_set_profile_id_game_id`;
delimiter $$
CREATE PROCEDURE `usp_game_live_recent_queue_set_profile_id_game_id`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_username VARCHAR (500) 
    , in_code VARCHAR (255) 
    , in_display_name VARCHAR (255) 
    , in_name VARCHAR (255) 
    , in_date_modified TIMESTAMP 
    , in_data TEXT 
    , in_profile_id BINARY(16) 
    , in_uuid BINARY(16) 
    , in_game VARCHAR (500) 
    , in_game_id BINARY(16) 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (500) 
    , in_description VARCHAR (255) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_live_recent_queue`  
                    WHERE 1=1
                    AND `profile_id` = in_profile_id
                    AND `game_id` = in_game_id
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_live_recent_queue` 
                    SET
                        `status` = in_status
                        , `username` = in_username
                        , `code` = in_code
                        , `display_name` = in_display_name
                        , `name` = in_name
                        , `date_modified` = in_date_modified
                        , `data` = in_data
                        , `profile_id` = in_profile_id
                        , `uuid` = in_uuid
                        , `game` = in_game
                        , `game_id` = in_game_id
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `type` = in_type
                        , `description` = in_description
                    WHERE 1=1
                    AND `profile_id` = in_profile_id
                    AND `game_id` = in_game_id
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_live_recent_queue`
                    (
                        `status`
                        , `username`
                        , `code`
                        , `display_name`
                        , `name`
                        , `date_modified`
                        , `data`
                        , `profile_id`
                        , `uuid`
                        , `game`
                        , `game_id`
                        , `active`
                        , `date_created`
                        , `type`
                        , `description`
                    )
                    VALUES
                    (
                        in_status
                        , in_username
                        , in_code
                        , in_display_name
                        , in_name
                        , in_date_modified
                        , in_data
                        , in_profile_id
                        , in_uuid
                        , in_game
                        , in_game_id
                        , in_active
                        , in_date_created
                        , in_type
                        , in_description
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

-- ------------------------------------
-- DEL

-- ------------------------------------
-- MODEL: GameLiveRecentQueue - game_live_recent_queue

                       
DROP PROCEDURE IF EXISTS `usp_game_live_recent_queue_del_uuid`;

delimiter $$
CREATE PROCEDURE `usp_game_live_recent_queue_del_uuid`
(
    in_uuid BINARY(16) 
)

BEGIN
    DELETE 
    FROM `game_live_recent_queue`
    WHERE 1=1                        
    AND "uuid" = in_uuid
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_game_live_recent_queue_del_profile_id_game_id`;

delimiter $$
CREATE PROCEDURE `usp_game_live_recent_queue_del_profile_id_game_id`
(
    in_profile_id BINARY(16) 
    , in_game_id BINARY(16) 
)

BEGIN
    DELETE 
    FROM `game_live_recent_queue`
    WHERE 1=1                        
    AND "profile_id" = in_profile_id
    AND "game_id" = in_game_id
    ;
END$$
delimiter ;
-- ------------------------------------
-- GET

-- ------------------------------------
-- MODEL: GameLiveRecentQueue - game_live_recent_queue

                       
DROP PROCEDURE IF EXISTS `usp_game_live_recent_queue_get`;

delimiter $$
CREATE PROCEDURE `usp_game_live_recent_queue_get`
(
)                        
BEGIN
    SELECT
        `status`
        , `username`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `data`
        , `profile_id`
        , `uuid`
        , `game`
        , `game_id`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `game_live_recent_queue`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_live_recent_queue_get_uuid`;

delimiter $$
CREATE PROCEDURE `usp_game_live_recent_queue_get_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `username`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `data`
        , `profile_id`
        , `uuid`
        , `game`
        , `game_id`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `game_live_recent_queue`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_live_recent_queue_get_game_id`;

delimiter $$
CREATE PROCEDURE `usp_game_live_recent_queue_get_game_id`
(
    in_game_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `username`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `data`
        , `profile_id`
        , `uuid`
        , `game`
        , `game_id`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `game_live_recent_queue`
    WHERE 1=1
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_live_recent_queue_get_profile_id_game_id`;

delimiter $$
CREATE PROCEDURE `usp_game_live_recent_queue_get_profile_id_game_id`
(
    in_profile_id BINARY(16) 
    , in_game_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `username`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `data`
        , `profile_id`
        , `uuid`
        , `game`
        , `game_id`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `game_live_recent_queue`
    WHERE 1=1
    AND `profile_id` = in_profile_id
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

-- -----------------------------------------------------------------------------
-- PROCS

-- ------------------------------------
-- COUNT

-- ------------------------------------
-- MODEL: GameProfileStatistic - game_profile_statistic

                       
DROP PROCEDURE IF EXISTS `usp_game_profile_statistic_count`;
delimiter $$
CREATE PROCEDURE `usp_game_profile_statistic_count`
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_profile_statistic`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_profile_statistic_count_uuid`;
delimiter $$
CREATE PROCEDURE `usp_game_profile_statistic_count_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_profile_statistic`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_profile_statistic_count_code`;
delimiter $$
CREATE PROCEDURE `usp_game_profile_statistic_count_code`
(
    in_code VARCHAR (500) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_profile_statistic`
    WHERE 1=1
    AND lower(`code`) = lower(in_code)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_profile_statistic_count_game_id`;
delimiter $$
CREATE PROCEDURE `usp_game_profile_statistic_count_game_id`
(
    in_game_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_profile_statistic`
    WHERE 1=1
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_profile_statistic_count_code_game_id`;
delimiter $$
CREATE PROCEDURE `usp_game_profile_statistic_count_code_game_id`
(
    in_code VARCHAR (500) 
    , in_game_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_profile_statistic`
    WHERE 1=1
    AND lower(`code`) = lower(in_code)
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_profile_statistic_count_profile_id_game_id`;
delimiter $$
CREATE PROCEDURE `usp_game_profile_statistic_count_profile_id_game_id`
(
    in_profile_id BINARY(16) 
    , in_game_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_profile_statistic`
    WHERE 1=1
    AND `profile_id` = in_profile_id
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_profile_statistic_count_code_profile_id_game_id`;
delimiter $$
CREATE PROCEDURE `usp_game_profile_statistic_count_code_profile_id_game_id`
(
    in_code VARCHAR (500) 
    , in_profile_id BINARY(16) 
    , in_game_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_profile_statistic`
    WHERE 1=1
    AND lower(`code`) = lower(in_code)
    AND `profile_id` = in_profile_id
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_profile_statistic_count_code_profile_id_game_id_timest`;
delimiter $$
CREATE PROCEDURE `usp_game_profile_statistic_count_code_profile_id_game_id_timest`
(
    in_code VARCHAR (500) 
    , in_profile_id BINARY(16) 
    , in_game_id BINARY(16) 
    , in_timestamp decimal 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_profile_statistic`
    WHERE 1=1
    AND lower(`code`) = lower(in_code)
    AND `profile_id` = in_profile_id
    AND `game_id` = in_game_id
    AND `timestamp` = in_timestamp
    ;
END$$
delimiter ;

-- ------------------------------------
-- BROWSE

-- ------------------------------------
-- MODEL: GameProfileStatistic - game_profile_statistic

                       
DROP PROCEDURE IF EXISTS `usp_game_profile_statistic_browse_filter`;

delimiter $$
CREATE PROCEDURE `usp_game_profile_statistic_browse_filter`
(
    in_page int,
    in_page_size int,
    in_sort VARCHAR(500),
    in_filter VARCHAR(4000)
    
)
BEGIN
    DECLARE total_rows int;
    SET total_rows = 0;
        
    IF (in_page = 0) THEN
        SET in_page = 1;
    END IF;    
    
    IF (in_page_size = 0) THEN
       SET in_page_size = 10;
    END IF;
    
    IF (in_sort = NULL || in_sort = '') THEN
       SET in_sort = ' date_modified ASC ';
    END IF;
    
    SET @sfields = CONCAT('', '`status`');
    SET @sfields = CONCAT(@sfields, ', `username`');
    SET @sfields = CONCAT(@sfields, ', `code`');
    SET @sfields = CONCAT(@sfields, ', `stat_value_formatted`');
    SET @sfields = CONCAT(@sfields, ', `profile_id`');
    SET @sfields = CONCAT(@sfields, ', `active`');
    SET @sfields = CONCAT(@sfields, ', `game_id`');
    SET @sfields = CONCAT(@sfields, ', `data`');
    SET @sfields = CONCAT(@sfields, ', `stat_value`');
    SET @sfields = CONCAT(@sfields, ', `uuid`');
    SET @sfields = CONCAT(@sfields, ', `date_modified`');
    SET @sfields = CONCAT(@sfields, ', `level`');
    SET @sfields = CONCAT(@sfields, ', `points`');
    SET @sfields = CONCAT(@sfields, ', `timestamp`');
    SET @sfields = CONCAT(@sfields, ', `date_created`');
    SET @sfields = CONCAT(@sfields, ', `type`');
    
    SET @stable = CONCAT('', ' FROM `game_profile_statistic` WHERE 1=1 ');
    
    SET @s = CONCAT(' ', @stable);
    SET @s = CONCAT(@s, ' ', in_filter);    
    
    SET @scount = CONCAT('SELECT COUNT(*) as `total_rows` ', @s, ' INTO @total_rows');
    
    PREPARE stmtcount FROM @scount;
    EXECUTE stmtcount;
    #SELECT @total_rows;
    SET total_rows = @total_rows;

    SET @sfields = CONCAT(total_rows, ' as `total_rows`, ', @sfields);
    SET @s = CONCAT('SELECT ', @sfields, @s);
    SET @s = CONCAT(@s, ' ORDER BY ', in_sort);
    SET @s = CONCAT(@s, ' LIMIT ', in_page);
    SET @s = CONCAT(@s, ',', in_page_size);    

    PREPARE stmt FROM @s;
    EXECUTE stmt;
    
END$$
delimiter ;
-- ------------------------------------
-- SET

-- ------------------------------------
-- MODEL: GameProfileStatistic - game_profile_statistic

                       
DROP PROCEDURE IF EXISTS `usp_game_profile_statistic_set_uuid`;
delimiter $$
CREATE PROCEDURE `usp_game_profile_statistic_set_uuid`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_username VARCHAR (500) 
    , in_code VARCHAR (500) 
    , in_stat_value_formatted VARCHAR (500) 
    , in_profile_id BINARY(16) 
    , in_active int 
    , in_game_id BINARY(16) 
    , in_data TEXT 
    , in_stat_value decimal 
    , in_uuid BINARY(16) 
    , in_date_modified TIMESTAMP 
    , in_level VARCHAR (500) 
    , in_points decimal 
    , in_timestamp decimal 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (500) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_profile_statistic`  
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_profile_statistic` 
                    SET
                        `status` = in_status
                        , `username` = in_username
                        , `code` = in_code
                        , `stat_value_formatted` = in_stat_value_formatted
                        , `profile_id` = in_profile_id
                        , `active` = in_active
                        , `game_id` = in_game_id
                        , `data` = in_data
                        , `stat_value` = in_stat_value
                        , `uuid` = in_uuid
                        , `date_modified` = in_date_modified
                        , `level` = in_level
                        , `points` = in_points
                        , `timestamp` = in_timestamp
                        , `date_created` = in_date_created
                        , `type` = in_type
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_profile_statistic`
                    (
                        `status`
                        , `username`
                        , `code`
                        , `stat_value_formatted`
                        , `profile_id`
                        , `active`
                        , `game_id`
                        , `data`
                        , `stat_value`
                        , `uuid`
                        , `date_modified`
                        , `level`
                        , `points`
                        , `timestamp`
                        , `date_created`
                        , `type`
                    )
                    VALUES
                    (
                        in_status
                        , in_username
                        , in_code
                        , in_stat_value_formatted
                        , in_profile_id
                        , in_active
                        , in_game_id
                        , in_data
                        , in_stat_value
                        , in_uuid
                        , in_date_modified
                        , in_level
                        , in_points
                        , in_timestamp
                        , in_date_created
                        , in_type
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_profile_statistic_set_uuid_profile_id_game_id_timestam`;
delimiter $$
CREATE PROCEDURE `usp_game_profile_statistic_set_uuid_profile_id_game_id_timestam`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_username VARCHAR (500) 
    , in_code VARCHAR (500) 
    , in_stat_value_formatted VARCHAR (500) 
    , in_profile_id BINARY(16) 
    , in_active int 
    , in_game_id BINARY(16) 
    , in_data TEXT 
    , in_stat_value decimal 
    , in_uuid BINARY(16) 
    , in_date_modified TIMESTAMP 
    , in_level VARCHAR (500) 
    , in_points decimal 
    , in_timestamp decimal 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (500) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_profile_statistic`  
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    AND `profile_id` = in_profile_id
                    AND `game_id` = in_game_id
                    AND `timestamp` = in_timestamp
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_profile_statistic` 
                    SET
                        `status` = in_status
                        , `username` = in_username
                        , `code` = in_code
                        , `stat_value_formatted` = in_stat_value_formatted
                        , `profile_id` = in_profile_id
                        , `active` = in_active
                        , `game_id` = in_game_id
                        , `data` = in_data
                        , `stat_value` = in_stat_value
                        , `uuid` = in_uuid
                        , `date_modified` = in_date_modified
                        , `level` = in_level
                        , `points` = in_points
                        , `timestamp` = in_timestamp
                        , `date_created` = in_date_created
                        , `type` = in_type
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    AND `profile_id` = in_profile_id
                    AND `game_id` = in_game_id
                    AND `timestamp` = in_timestamp
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_profile_statistic`
                    (
                        `status`
                        , `username`
                        , `code`
                        , `stat_value_formatted`
                        , `profile_id`
                        , `active`
                        , `game_id`
                        , `data`
                        , `stat_value`
                        , `uuid`
                        , `date_modified`
                        , `level`
                        , `points`
                        , `timestamp`
                        , `date_created`
                        , `type`
                    )
                    VALUES
                    (
                        in_status
                        , in_username
                        , in_code
                        , in_stat_value_formatted
                        , in_profile_id
                        , in_active
                        , in_game_id
                        , in_data
                        , in_stat_value
                        , in_uuid
                        , in_date_modified
                        , in_level
                        , in_points
                        , in_timestamp
                        , in_date_created
                        , in_type
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_profile_statistic_set_profile_id_code`;
delimiter $$
CREATE PROCEDURE `usp_game_profile_statistic_set_profile_id_code`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_username VARCHAR (500) 
    , in_code VARCHAR (500) 
    , in_stat_value_formatted VARCHAR (500) 
    , in_profile_id BINARY(16) 
    , in_active int 
    , in_game_id BINARY(16) 
    , in_data TEXT 
    , in_stat_value decimal 
    , in_uuid BINARY(16) 
    , in_date_modified TIMESTAMP 
    , in_level VARCHAR (500) 
    , in_points decimal 
    , in_timestamp decimal 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (500) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_profile_statistic`  
                    WHERE 1=1
                    AND `profile_id` = in_profile_id
                    AND lower(`code`) = lower(in_code)
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_profile_statistic` 
                    SET
                        `status` = in_status
                        , `username` = in_username
                        , `code` = in_code
                        , `stat_value_formatted` = in_stat_value_formatted
                        , `profile_id` = in_profile_id
                        , `active` = in_active
                        , `game_id` = in_game_id
                        , `data` = in_data
                        , `stat_value` = in_stat_value
                        , `uuid` = in_uuid
                        , `date_modified` = in_date_modified
                        , `level` = in_level
                        , `points` = in_points
                        , `timestamp` = in_timestamp
                        , `date_created` = in_date_created
                        , `type` = in_type
                    WHERE 1=1
                    AND `profile_id` = in_profile_id
                    AND lower(`code`) = lower(in_code)
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_profile_statistic`
                    (
                        `status`
                        , `username`
                        , `code`
                        , `stat_value_formatted`
                        , `profile_id`
                        , `active`
                        , `game_id`
                        , `data`
                        , `stat_value`
                        , `uuid`
                        , `date_modified`
                        , `level`
                        , `points`
                        , `timestamp`
                        , `date_created`
                        , `type`
                    )
                    VALUES
                    (
                        in_status
                        , in_username
                        , in_code
                        , in_stat_value_formatted
                        , in_profile_id
                        , in_active
                        , in_game_id
                        , in_data
                        , in_stat_value
                        , in_uuid
                        , in_date_modified
                        , in_level
                        , in_points
                        , in_timestamp
                        , in_date_created
                        , in_type
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_profile_statistic_set_profile_id_code_timestamp`;
delimiter $$
CREATE PROCEDURE `usp_game_profile_statistic_set_profile_id_code_timestamp`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_username VARCHAR (500) 
    , in_code VARCHAR (500) 
    , in_stat_value_formatted VARCHAR (500) 
    , in_profile_id BINARY(16) 
    , in_active int 
    , in_game_id BINARY(16) 
    , in_data TEXT 
    , in_stat_value decimal 
    , in_uuid BINARY(16) 
    , in_date_modified TIMESTAMP 
    , in_level VARCHAR (500) 
    , in_points decimal 
    , in_timestamp decimal 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (500) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_profile_statistic`  
                    WHERE 1=1
                    AND `profile_id` = in_profile_id
                    AND lower(`code`) = lower(in_code)
                    AND `timestamp` = in_timestamp
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_profile_statistic` 
                    SET
                        `status` = in_status
                        , `username` = in_username
                        , `code` = in_code
                        , `stat_value_formatted` = in_stat_value_formatted
                        , `profile_id` = in_profile_id
                        , `active` = in_active
                        , `game_id` = in_game_id
                        , `data` = in_data
                        , `stat_value` = in_stat_value
                        , `uuid` = in_uuid
                        , `date_modified` = in_date_modified
                        , `level` = in_level
                        , `points` = in_points
                        , `timestamp` = in_timestamp
                        , `date_created` = in_date_created
                        , `type` = in_type
                    WHERE 1=1
                    AND `profile_id` = in_profile_id
                    AND lower(`code`) = lower(in_code)
                    AND `timestamp` = in_timestamp
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_profile_statistic`
                    (
                        `status`
                        , `username`
                        , `code`
                        , `stat_value_formatted`
                        , `profile_id`
                        , `active`
                        , `game_id`
                        , `data`
                        , `stat_value`
                        , `uuid`
                        , `date_modified`
                        , `level`
                        , `points`
                        , `timestamp`
                        , `date_created`
                        , `type`
                    )
                    VALUES
                    (
                        in_status
                        , in_username
                        , in_code
                        , in_stat_value_formatted
                        , in_profile_id
                        , in_active
                        , in_game_id
                        , in_data
                        , in_stat_value
                        , in_uuid
                        , in_date_modified
                        , in_level
                        , in_points
                        , in_timestamp
                        , in_date_created
                        , in_type
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_profile_statistic_set_code_profile_id_game_id_timestam`;
delimiter $$
CREATE PROCEDURE `usp_game_profile_statistic_set_code_profile_id_game_id_timestam`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_username VARCHAR (500) 
    , in_code VARCHAR (500) 
    , in_stat_value_formatted VARCHAR (500) 
    , in_profile_id BINARY(16) 
    , in_active int 
    , in_game_id BINARY(16) 
    , in_data TEXT 
    , in_stat_value decimal 
    , in_uuid BINARY(16) 
    , in_date_modified TIMESTAMP 
    , in_level VARCHAR (500) 
    , in_points decimal 
    , in_timestamp decimal 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (500) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_profile_statistic`  
                    WHERE 1=1
                    AND lower(`code`) = lower(in_code)
                    AND `profile_id` = in_profile_id
                    AND `game_id` = in_game_id
                    AND `timestamp` = in_timestamp
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_profile_statistic` 
                    SET
                        `status` = in_status
                        , `username` = in_username
                        , `code` = in_code
                        , `stat_value_formatted` = in_stat_value_formatted
                        , `profile_id` = in_profile_id
                        , `active` = in_active
                        , `game_id` = in_game_id
                        , `data` = in_data
                        , `stat_value` = in_stat_value
                        , `uuid` = in_uuid
                        , `date_modified` = in_date_modified
                        , `level` = in_level
                        , `points` = in_points
                        , `timestamp` = in_timestamp
                        , `date_created` = in_date_created
                        , `type` = in_type
                    WHERE 1=1
                    AND lower(`code`) = lower(in_code)
                    AND `profile_id` = in_profile_id
                    AND `game_id` = in_game_id
                    AND `timestamp` = in_timestamp
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_profile_statistic`
                    (
                        `status`
                        , `username`
                        , `code`
                        , `stat_value_formatted`
                        , `profile_id`
                        , `active`
                        , `game_id`
                        , `data`
                        , `stat_value`
                        , `uuid`
                        , `date_modified`
                        , `level`
                        , `points`
                        , `timestamp`
                        , `date_created`
                        , `type`
                    )
                    VALUES
                    (
                        in_status
                        , in_username
                        , in_code
                        , in_stat_value_formatted
                        , in_profile_id
                        , in_active
                        , in_game_id
                        , in_data
                        , in_stat_value
                        , in_uuid
                        , in_date_modified
                        , in_level
                        , in_points
                        , in_timestamp
                        , in_date_created
                        , in_type
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_profile_statistic_set_code_profile_id_game_id`;
delimiter $$
CREATE PROCEDURE `usp_game_profile_statistic_set_code_profile_id_game_id`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_username VARCHAR (500) 
    , in_code VARCHAR (500) 
    , in_stat_value_formatted VARCHAR (500) 
    , in_profile_id BINARY(16) 
    , in_active int 
    , in_game_id BINARY(16) 
    , in_data TEXT 
    , in_stat_value decimal 
    , in_uuid BINARY(16) 
    , in_date_modified TIMESTAMP 
    , in_level VARCHAR (500) 
    , in_points decimal 
    , in_timestamp decimal 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (500) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_profile_statistic`  
                    WHERE 1=1
                    AND lower(`code`) = lower(in_code)
                    AND `profile_id` = in_profile_id
                    AND `game_id` = in_game_id
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_profile_statistic` 
                    SET
                        `status` = in_status
                        , `username` = in_username
                        , `code` = in_code
                        , `stat_value_formatted` = in_stat_value_formatted
                        , `profile_id` = in_profile_id
                        , `active` = in_active
                        , `game_id` = in_game_id
                        , `data` = in_data
                        , `stat_value` = in_stat_value
                        , `uuid` = in_uuid
                        , `date_modified` = in_date_modified
                        , `level` = in_level
                        , `points` = in_points
                        , `timestamp` = in_timestamp
                        , `date_created` = in_date_created
                        , `type` = in_type
                    WHERE 1=1
                    AND lower(`code`) = lower(in_code)
                    AND `profile_id` = in_profile_id
                    AND `game_id` = in_game_id
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_profile_statistic`
                    (
                        `status`
                        , `username`
                        , `code`
                        , `stat_value_formatted`
                        , `profile_id`
                        , `active`
                        , `game_id`
                        , `data`
                        , `stat_value`
                        , `uuid`
                        , `date_modified`
                        , `level`
                        , `points`
                        , `timestamp`
                        , `date_created`
                        , `type`
                    )
                    VALUES
                    (
                        in_status
                        , in_username
                        , in_code
                        , in_stat_value_formatted
                        , in_profile_id
                        , in_active
                        , in_game_id
                        , in_data
                        , in_stat_value
                        , in_uuid
                        , in_date_modified
                        , in_level
                        , in_points
                        , in_timestamp
                        , in_date_created
                        , in_type
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

-- ------------------------------------
-- DEL

-- ------------------------------------
-- MODEL: GameProfileStatistic - game_profile_statistic

                       
DROP PROCEDURE IF EXISTS `usp_game_profile_statistic_del_uuid`;

delimiter $$
CREATE PROCEDURE `usp_game_profile_statistic_del_uuid`
(
    in_uuid BINARY(16) 
)

BEGIN
    DELETE 
    FROM `game_profile_statistic`
    WHERE 1=1                        
    AND "uuid" = in_uuid
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_game_profile_statistic_del_code_game_id`;

delimiter $$
CREATE PROCEDURE `usp_game_profile_statistic_del_code_game_id`
(
    in_code VARCHAR (500) 
    , in_game_id BINARY(16) 
)

BEGIN
    DELETE 
    FROM `game_profile_statistic`
    WHERE 1=1                        
    AND lower("code") = lower(in_code)
    AND "game_id" = in_game_id
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_game_profile_statistic_del_profile_id_game_id`;

delimiter $$
CREATE PROCEDURE `usp_game_profile_statistic_del_profile_id_game_id`
(
    in_profile_id BINARY(16) 
    , in_game_id BINARY(16) 
)

BEGIN
    DELETE 
    FROM `game_profile_statistic`
    WHERE 1=1                        
    AND "profile_id" = in_profile_id
    AND "game_id" = in_game_id
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_game_profile_statistic_del_code_profile_id_game_id`;

delimiter $$
CREATE PROCEDURE `usp_game_profile_statistic_del_code_profile_id_game_id`
(
    in_code VARCHAR (500) 
    , in_profile_id BINARY(16) 
    , in_game_id BINARY(16) 
)

BEGIN
    DELETE 
    FROM `game_profile_statistic`
    WHERE 1=1                        
    AND lower("code") = lower(in_code)
    AND "profile_id" = in_profile_id
    AND "game_id" = in_game_id
    ;
END$$
delimiter ;
-- ------------------------------------
-- GET

-- ------------------------------------
-- MODEL: GameProfileStatistic - game_profile_statistic

                       
DROP PROCEDURE IF EXISTS `usp_game_profile_statistic_get_uuid`;

delimiter $$
CREATE PROCEDURE `usp_game_profile_statistic_get_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `username`
        , `code`
        , `stat_value_formatted`
        , `profile_id`
        , `active`
        , `game_id`
        , `data`
        , `stat_value`
        , `uuid`
        , `date_modified`
        , `level`
        , `points`
        , `timestamp`
        , `date_created`
        , `type`
    FROM `game_profile_statistic`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_profile_statistic_get_code`;

delimiter $$
CREATE PROCEDURE `usp_game_profile_statistic_get_code`
(
    in_code VARCHAR (500) 
)
BEGIN
    SELECT
        `status`
        , `username`
        , `code`
        , `stat_value_formatted`
        , `profile_id`
        , `active`
        , `game_id`
        , `data`
        , `stat_value`
        , `uuid`
        , `date_modified`
        , `level`
        , `points`
        , `timestamp`
        , `date_created`
        , `type`
    FROM `game_profile_statistic`
    WHERE 1=1
    AND lower(`code`) = lower(in_code)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_profile_statistic_get_game_id`;

delimiter $$
CREATE PROCEDURE `usp_game_profile_statistic_get_game_id`
(
    in_game_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `username`
        , `code`
        , `stat_value_formatted`
        , `profile_id`
        , `active`
        , `game_id`
        , `data`
        , `stat_value`
        , `uuid`
        , `date_modified`
        , `level`
        , `points`
        , `timestamp`
        , `date_created`
        , `type`
    FROM `game_profile_statistic`
    WHERE 1=1
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_profile_statistic_get_code_game_id`;

delimiter $$
CREATE PROCEDURE `usp_game_profile_statistic_get_code_game_id`
(
    in_code VARCHAR (500) 
    , in_game_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `username`
        , `code`
        , `stat_value_formatted`
        , `profile_id`
        , `active`
        , `game_id`
        , `data`
        , `stat_value`
        , `uuid`
        , `date_modified`
        , `level`
        , `points`
        , `timestamp`
        , `date_created`
        , `type`
    FROM `game_profile_statistic`
    WHERE 1=1
    AND lower(`code`) = lower(in_code)
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_profile_statistic_get_profile_id_game_id`;

delimiter $$
CREATE PROCEDURE `usp_game_profile_statistic_get_profile_id_game_id`
(
    in_profile_id BINARY(16) 
    , in_game_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `username`
        , `code`
        , `stat_value_formatted`
        , `profile_id`
        , `active`
        , `game_id`
        , `data`
        , `stat_value`
        , `uuid`
        , `date_modified`
        , `level`
        , `points`
        , `timestamp`
        , `date_created`
        , `type`
    FROM `game_profile_statistic`
    WHERE 1=1
    AND `profile_id` = in_profile_id
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_profile_statistic_get_profile_id_game_id_timestamp`;

delimiter $$
CREATE PROCEDURE `usp_game_profile_statistic_get_profile_id_game_id_timestamp`
(
    in_profile_id BINARY(16) 
    , in_game_id BINARY(16) 
    , in_timestamp decimal 
)
BEGIN
    SELECT
        `status`
        , `username`
        , `code`
        , `stat_value_formatted`
        , `profile_id`
        , `active`
        , `game_id`
        , `data`
        , `stat_value`
        , `uuid`
        , `date_modified`
        , `level`
        , `points`
        , `timestamp`
        , `date_created`
        , `type`
    FROM `game_profile_statistic`
    WHERE 1=1
    AND `profile_id` = in_profile_id
    AND `game_id` = in_game_id
    AND `timestamp` = in_timestamp
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_profile_statistic_get_code_profile_id_game_id`;

delimiter $$
CREATE PROCEDURE `usp_game_profile_statistic_get_code_profile_id_game_id`
(
    in_code VARCHAR (500) 
    , in_profile_id BINARY(16) 
    , in_game_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `username`
        , `code`
        , `stat_value_formatted`
        , `profile_id`
        , `active`
        , `game_id`
        , `data`
        , `stat_value`
        , `uuid`
        , `date_modified`
        , `level`
        , `points`
        , `timestamp`
        , `date_created`
        , `type`
    FROM `game_profile_statistic`
    WHERE 1=1
    AND lower(`code`) = lower(in_code)
    AND `profile_id` = in_profile_id
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_profile_statistic_get_code_profile_id_game_id_timestam`;

delimiter $$
CREATE PROCEDURE `usp_game_profile_statistic_get_code_profile_id_game_id_timestam`
(
    in_code VARCHAR (500) 
    , in_profile_id BINARY(16) 
    , in_game_id BINARY(16) 
    , in_timestamp decimal 
)
BEGIN
    SELECT
        `status`
        , `username`
        , `code`
        , `stat_value_formatted`
        , `profile_id`
        , `active`
        , `game_id`
        , `data`
        , `stat_value`
        , `uuid`
        , `date_modified`
        , `level`
        , `points`
        , `timestamp`
        , `date_created`
        , `type`
    FROM `game_profile_statistic`
    WHERE 1=1
    AND lower(`code`) = lower(in_code)
    AND `profile_id` = in_profile_id
    AND `game_id` = in_game_id
    AND `timestamp` = in_timestamp
    ;
END$$
delimiter ;

-- -----------------------------------------------------------------------------
-- PROCS

-- ------------------------------------
-- COUNT

-- ------------------------------------
-- MODEL: GameStatisticMeta - game_statistic_meta

                       
DROP PROCEDURE IF EXISTS `usp_game_statistic_meta_count`;
delimiter $$
CREATE PROCEDURE `usp_game_statistic_meta_count`
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_statistic_meta`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_statistic_meta_count_uuid`;
delimiter $$
CREATE PROCEDURE `usp_game_statistic_meta_count_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_statistic_meta`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_statistic_meta_count_code`;
delimiter $$
CREATE PROCEDURE `usp_game_statistic_meta_count_code`
(
    in_code VARCHAR (255) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_statistic_meta`
    WHERE 1=1
    AND lower(`code`) = lower(in_code)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_statistic_meta_count_code_game_id`;
delimiter $$
CREATE PROCEDURE `usp_game_statistic_meta_count_code_game_id`
(
    in_code VARCHAR (255) 
    , in_game_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_statistic_meta`
    WHERE 1=1
    AND lower(`code`) = lower(in_code)
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_statistic_meta_count_name`;
delimiter $$
CREATE PROCEDURE `usp_game_statistic_meta_count_name`
(
    in_name VARCHAR (255) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_statistic_meta`
    WHERE 1=1
    AND lower(`name`) = lower(in_name)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_statistic_meta_count_game_id`;
delimiter $$
CREATE PROCEDURE `usp_game_statistic_meta_count_game_id`
(
    in_game_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_statistic_meta`
    WHERE 1=1
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

-- ------------------------------------
-- BROWSE

-- ------------------------------------
-- MODEL: GameStatisticMeta - game_statistic_meta

                       
DROP PROCEDURE IF EXISTS `usp_game_statistic_meta_browse_filter`;

delimiter $$
CREATE PROCEDURE `usp_game_statistic_meta_browse_filter`
(
    in_page int,
    in_page_size int,
    in_sort VARCHAR(500),
    in_filter VARCHAR(4000)
    
)
BEGIN
    DECLARE total_rows int;
    SET total_rows = 0;
        
    IF (in_page = 0) THEN
        SET in_page = 1;
    END IF;    
    
    IF (in_page_size = 0) THEN
       SET in_page_size = 10;
    END IF;
    
    IF (in_sort = NULL || in_sort = '') THEN
       SET in_sort = ' date_modified ASC ';
    END IF;
    
    SET @sfields = CONCAT('', '`status`');
    SET @sfields = CONCAT(@sfields, ', `sort`');
    SET @sfields = CONCAT(@sfields, ', `code`');
    SET @sfields = CONCAT(@sfields, ', `display_name`');
    SET @sfields = CONCAT(@sfields, ', `name`');
    SET @sfields = CONCAT(@sfields, ', `date_modified`');
    SET @sfields = CONCAT(@sfields, ', `data`');
    SET @sfields = CONCAT(@sfields, ', `uuid`');
    SET @sfields = CONCAT(@sfields, ', `points`');
    SET @sfields = CONCAT(@sfields, ', `store_count`');
    SET @sfields = CONCAT(@sfields, ', `game_id`');
    SET @sfields = CONCAT(@sfields, ', `active`');
    SET @sfields = CONCAT(@sfields, ', `date_created`');
    SET @sfields = CONCAT(@sfields, ', `type`');
    SET @sfields = CONCAT(@sfields, ', `order`');
    SET @sfields = CONCAT(@sfields, ', `description`');
    
    SET @stable = CONCAT('', ' FROM `game_statistic_meta` WHERE 1=1 ');
    
    SET @s = CONCAT(' ', @stable);
    SET @s = CONCAT(@s, ' ', in_filter);    
    
    SET @scount = CONCAT('SELECT COUNT(*) as `total_rows` ', @s, ' INTO @total_rows');
    
    PREPARE stmtcount FROM @scount;
    EXECUTE stmtcount;
    #SELECT @total_rows;
    SET total_rows = @total_rows;

    SET @sfields = CONCAT(total_rows, ' as `total_rows`, ', @sfields);
    SET @s = CONCAT('SELECT ', @sfields, @s);
    SET @s = CONCAT(@s, ' ORDER BY ', in_sort);
    SET @s = CONCAT(@s, ' LIMIT ', in_page);
    SET @s = CONCAT(@s, ',', in_page_size);    

    PREPARE stmt FROM @s;
    EXECUTE stmt;
    
END$$
delimiter ;
-- ------------------------------------
-- SET

-- ------------------------------------
-- MODEL: GameStatisticMeta - game_statistic_meta

                       
DROP PROCEDURE IF EXISTS `usp_game_statistic_meta_set_uuid`;
delimiter $$
CREATE PROCEDURE `usp_game_statistic_meta_set_uuid`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_sort INTEGER 
    , in_code VARCHAR (255) 
    , in_display_name VARCHAR (255) 
    , in_name VARCHAR (255) 
    , in_date_modified TIMESTAMP 
    , in_data TEXT 
    , in_uuid BINARY(16) 
    , in_points decimal 
    , in_store_count INTEGER 
    , in_game_id BINARY(16) 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (40) 
    , in_order VARCHAR (40) 
    , in_description VARCHAR (255) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_statistic_meta`  
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_statistic_meta` 
                    SET
                        `status` = in_status
                        , `sort` = in_sort
                        , `code` = in_code
                        , `display_name` = in_display_name
                        , `name` = in_name
                        , `date_modified` = in_date_modified
                        , `data` = in_data
                        , `uuid` = in_uuid
                        , `points` = in_points
                        , `store_count` = in_store_count
                        , `game_id` = in_game_id
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `type` = in_type
                        , `order` = in_order
                        , `description` = in_description
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_statistic_meta`
                    (
                        `status`
                        , `sort`
                        , `code`
                        , `display_name`
                        , `name`
                        , `date_modified`
                        , `data`
                        , `uuid`
                        , `points`
                        , `store_count`
                        , `game_id`
                        , `active`
                        , `date_created`
                        , `type`
                        , `order`
                        , `description`
                    )
                    VALUES
                    (
                        in_status
                        , in_sort
                        , in_code
                        , in_display_name
                        , in_name
                        , in_date_modified
                        , in_data
                        , in_uuid
                        , in_points
                        , in_store_count
                        , in_game_id
                        , in_active
                        , in_date_created
                        , in_type
                        , in_order
                        , in_description
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_statistic_meta_set_code_game_id`;
delimiter $$
CREATE PROCEDURE `usp_game_statistic_meta_set_code_game_id`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_sort INTEGER 
    , in_code VARCHAR (255) 
    , in_display_name VARCHAR (255) 
    , in_name VARCHAR (255) 
    , in_date_modified TIMESTAMP 
    , in_data TEXT 
    , in_uuid BINARY(16) 
    , in_points decimal 
    , in_store_count INTEGER 
    , in_game_id BINARY(16) 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (40) 
    , in_order VARCHAR (40) 
    , in_description VARCHAR (255) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_statistic_meta`  
                    WHERE 1=1
                    AND lower(`code`) = lower(in_code)
                    AND `game_id` = in_game_id
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_statistic_meta` 
                    SET
                        `status` = in_status
                        , `sort` = in_sort
                        , `code` = in_code
                        , `display_name` = in_display_name
                        , `name` = in_name
                        , `date_modified` = in_date_modified
                        , `data` = in_data
                        , `uuid` = in_uuid
                        , `points` = in_points
                        , `store_count` = in_store_count
                        , `game_id` = in_game_id
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `type` = in_type
                        , `order` = in_order
                        , `description` = in_description
                    WHERE 1=1
                    AND lower(`code`) = lower(in_code)
                    AND `game_id` = in_game_id
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_statistic_meta`
                    (
                        `status`
                        , `sort`
                        , `code`
                        , `display_name`
                        , `name`
                        , `date_modified`
                        , `data`
                        , `uuid`
                        , `points`
                        , `store_count`
                        , `game_id`
                        , `active`
                        , `date_created`
                        , `type`
                        , `order`
                        , `description`
                    )
                    VALUES
                    (
                        in_status
                        , in_sort
                        , in_code
                        , in_display_name
                        , in_name
                        , in_date_modified
                        , in_data
                        , in_uuid
                        , in_points
                        , in_store_count
                        , in_game_id
                        , in_active
                        , in_date_created
                        , in_type
                        , in_order
                        , in_description
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

-- ------------------------------------
-- DEL

-- ------------------------------------
-- MODEL: GameStatisticMeta - game_statistic_meta

                       
DROP PROCEDURE IF EXISTS `usp_game_statistic_meta_del_uuid`;

delimiter $$
CREATE PROCEDURE `usp_game_statistic_meta_del_uuid`
(
    in_uuid BINARY(16) 
)

BEGIN
    DELETE 
    FROM `game_statistic_meta`
    WHERE 1=1                        
    AND "uuid" = in_uuid
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_game_statistic_meta_del_code_game_id`;

delimiter $$
CREATE PROCEDURE `usp_game_statistic_meta_del_code_game_id`
(
    in_code VARCHAR (255) 
    , in_game_id BINARY(16) 
)

BEGIN
    DELETE 
    FROM `game_statistic_meta`
    WHERE 1=1                        
    AND lower("code") = lower(in_code)
    AND "game_id" = in_game_id
    ;
END$$
delimiter ;
-- ------------------------------------
-- GET

-- ------------------------------------
-- MODEL: GameStatisticMeta - game_statistic_meta

                       
DROP PROCEDURE IF EXISTS `usp_game_statistic_meta_get_uuid`;

delimiter $$
CREATE PROCEDURE `usp_game_statistic_meta_get_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `sort`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `data`
        , `uuid`
        , `points`
        , `store_count`
        , `game_id`
        , `active`
        , `date_created`
        , `type`
        , `order`
        , `description`
    FROM `game_statistic_meta`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_statistic_meta_get_code`;

delimiter $$
CREATE PROCEDURE `usp_game_statistic_meta_get_code`
(
    in_code VARCHAR (255) 
)
BEGIN
    SELECT
        `status`
        , `sort`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `data`
        , `uuid`
        , `points`
        , `store_count`
        , `game_id`
        , `active`
        , `date_created`
        , `type`
        , `order`
        , `description`
    FROM `game_statistic_meta`
    WHERE 1=1
    AND lower(`code`) = lower(in_code)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_statistic_meta_get_name`;

delimiter $$
CREATE PROCEDURE `usp_game_statistic_meta_get_name`
(
    in_name VARCHAR (255) 
)
BEGIN
    SELECT
        `status`
        , `sort`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `data`
        , `uuid`
        , `points`
        , `store_count`
        , `game_id`
        , `active`
        , `date_created`
        , `type`
        , `order`
        , `description`
    FROM `game_statistic_meta`
    WHERE 1=1
    AND lower(`name`) = lower(in_name)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_statistic_meta_get_game_id`;

delimiter $$
CREATE PROCEDURE `usp_game_statistic_meta_get_game_id`
(
    in_game_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `sort`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `data`
        , `uuid`
        , `points`
        , `store_count`
        , `game_id`
        , `active`
        , `date_created`
        , `type`
        , `order`
        , `description`
    FROM `game_statistic_meta`
    WHERE 1=1
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_statistic_meta_get_code_game_id`;

delimiter $$
CREATE PROCEDURE `usp_game_statistic_meta_get_code_game_id`
(
    in_code VARCHAR (255) 
    , in_game_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `sort`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `data`
        , `uuid`
        , `points`
        , `store_count`
        , `game_id`
        , `active`
        , `date_created`
        , `type`
        , `order`
        , `description`
    FROM `game_statistic_meta`
    WHERE 1=1
    AND lower(`code`) = lower(in_code)
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

-- -----------------------------------------------------------------------------
-- PROCS

-- ------------------------------------
-- COUNT

-- ------------------------------------
-- MODEL: GameProfileStatisticItem - game_profile_statistic_item

                       
DROP PROCEDURE IF EXISTS `usp_game_profile_statistic_item_count`;
delimiter $$
CREATE PROCEDURE `usp_game_profile_statistic_item_count`
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_profile_statistic_item`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_profile_statistic_item_count_uuid`;
delimiter $$
CREATE PROCEDURE `usp_game_profile_statistic_item_count_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_profile_statistic_item`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_profile_statistic_item_count_code`;
delimiter $$
CREATE PROCEDURE `usp_game_profile_statistic_item_count_code`
(
    in_code VARCHAR (500) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_profile_statistic_item`
    WHERE 1=1
    AND lower(`code`) = lower(in_code)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_profile_statistic_item_count_game_id`;
delimiter $$
CREATE PROCEDURE `usp_game_profile_statistic_item_count_game_id`
(
    in_game_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_profile_statistic_item`
    WHERE 1=1
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_profile_statistic_item_count_code_game_id`;
delimiter $$
CREATE PROCEDURE `usp_game_profile_statistic_item_count_code_game_id`
(
    in_code VARCHAR (500) 
    , in_game_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_profile_statistic_item`
    WHERE 1=1
    AND lower(`code`) = lower(in_code)
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_profile_statistic_item_count_profile_id_game_id`;
delimiter $$
CREATE PROCEDURE `usp_game_profile_statistic_item_count_profile_id_game_id`
(
    in_profile_id BINARY(16) 
    , in_game_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_profile_statistic_item`
    WHERE 1=1
    AND `profile_id` = in_profile_id
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_profile_statistic_item_count_code_profile_id_game_id`;
delimiter $$
CREATE PROCEDURE `usp_game_profile_statistic_item_count_code_profile_id_game_id`
(
    in_code VARCHAR (500) 
    , in_profile_id BINARY(16) 
    , in_game_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_profile_statistic_item`
    WHERE 1=1
    AND lower(`code`) = lower(in_code)
    AND `profile_id` = in_profile_id
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_profile_statistic_item_count_code_profile_id_game_id_t`;
delimiter $$
CREATE PROCEDURE `usp_game_profile_statistic_item_count_code_profile_id_game_id_t`
(
    in_code VARCHAR (500) 
    , in_profile_id BINARY(16) 
    , in_game_id BINARY(16) 
    , in_timestamp decimal 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_profile_statistic_item`
    WHERE 1=1
    AND lower(`code`) = lower(in_code)
    AND `profile_id` = in_profile_id
    AND `game_id` = in_game_id
    AND `timestamp` = in_timestamp
    ;
END$$
delimiter ;

-- ------------------------------------
-- BROWSE

-- ------------------------------------
-- MODEL: GameProfileStatisticItem - game_profile_statistic_item

                       
DROP PROCEDURE IF EXISTS `usp_game_profile_statistic_item_browse_filter`;

delimiter $$
CREATE PROCEDURE `usp_game_profile_statistic_item_browse_filter`
(
    in_page int,
    in_page_size int,
    in_sort VARCHAR(500),
    in_filter VARCHAR(4000)
    
)
BEGIN
    DECLARE total_rows int;
    SET total_rows = 0;
        
    IF (in_page = 0) THEN
        SET in_page = 1;
    END IF;    
    
    IF (in_page_size = 0) THEN
       SET in_page_size = 10;
    END IF;
    
    IF (in_sort = NULL || in_sort = '') THEN
       SET in_sort = ' date_modified ASC ';
    END IF;
    
    SET @sfields = CONCAT('', '`status`');
    SET @sfields = CONCAT(@sfields, ', `username`');
    SET @sfields = CONCAT(@sfields, ', `code`');
    SET @sfields = CONCAT(@sfields, ', `stat_value_formatted`');
    SET @sfields = CONCAT(@sfields, ', `profile_id`');
    SET @sfields = CONCAT(@sfields, ', `active`');
    SET @sfields = CONCAT(@sfields, ', `game_id`');
    SET @sfields = CONCAT(@sfields, ', `data`');
    SET @sfields = CONCAT(@sfields, ', `stat_value`');
    SET @sfields = CONCAT(@sfields, ', `uuid`');
    SET @sfields = CONCAT(@sfields, ', `date_modified`');
    SET @sfields = CONCAT(@sfields, ', `level`');
    SET @sfields = CONCAT(@sfields, ', `points`');
    SET @sfields = CONCAT(@sfields, ', `timestamp`');
    SET @sfields = CONCAT(@sfields, ', `date_created`');
    SET @sfields = CONCAT(@sfields, ', `type`');
    
    SET @stable = CONCAT('', ' FROM `game_profile_statistic_item` WHERE 1=1 ');
    
    SET @s = CONCAT(' ', @stable);
    SET @s = CONCAT(@s, ' ', in_filter);    
    
    SET @scount = CONCAT('SELECT COUNT(*) as `total_rows` ', @s, ' INTO @total_rows');
    
    PREPARE stmtcount FROM @scount;
    EXECUTE stmtcount;
    #SELECT @total_rows;
    SET total_rows = @total_rows;

    SET @sfields = CONCAT(total_rows, ' as `total_rows`, ', @sfields);
    SET @s = CONCAT('SELECT ', @sfields, @s);
    SET @s = CONCAT(@s, ' ORDER BY ', in_sort);
    SET @s = CONCAT(@s, ' LIMIT ', in_page);
    SET @s = CONCAT(@s, ',', in_page_size);    

    PREPARE stmt FROM @s;
    EXECUTE stmt;
    
END$$
delimiter ;
-- ------------------------------------
-- SET

-- ------------------------------------
-- MODEL: GameProfileStatisticItem - game_profile_statistic_item

                       
DROP PROCEDURE IF EXISTS `usp_game_profile_statistic_item_set_uuid`;
delimiter $$
CREATE PROCEDURE `usp_game_profile_statistic_item_set_uuid`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_username VARCHAR (500) 
    , in_code VARCHAR (500) 
    , in_stat_value_formatted VARCHAR (500) 
    , in_profile_id BINARY(16) 
    , in_active int 
    , in_game_id BINARY(16) 
    , in_data TEXT 
    , in_stat_value decimal 
    , in_uuid BINARY(16) 
    , in_date_modified TIMESTAMP 
    , in_level VARCHAR (500) 
    , in_points decimal 
    , in_timestamp decimal 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (500) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_profile_statistic_item`  
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_profile_statistic_item` 
                    SET
                        `status` = in_status
                        , `username` = in_username
                        , `code` = in_code
                        , `stat_value_formatted` = in_stat_value_formatted
                        , `profile_id` = in_profile_id
                        , `active` = in_active
                        , `game_id` = in_game_id
                        , `data` = in_data
                        , `stat_value` = in_stat_value
                        , `uuid` = in_uuid
                        , `date_modified` = in_date_modified
                        , `level` = in_level
                        , `points` = in_points
                        , `timestamp` = in_timestamp
                        , `date_created` = in_date_created
                        , `type` = in_type
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_profile_statistic_item`
                    (
                        `status`
                        , `username`
                        , `code`
                        , `stat_value_formatted`
                        , `profile_id`
                        , `active`
                        , `game_id`
                        , `data`
                        , `stat_value`
                        , `uuid`
                        , `date_modified`
                        , `level`
                        , `points`
                        , `timestamp`
                        , `date_created`
                        , `type`
                    )
                    VALUES
                    (
                        in_status
                        , in_username
                        , in_code
                        , in_stat_value_formatted
                        , in_profile_id
                        , in_active
                        , in_game_id
                        , in_data
                        , in_stat_value
                        , in_uuid
                        , in_date_modified
                        , in_level
                        , in_points
                        , in_timestamp
                        , in_date_created
                        , in_type
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_profile_statistic_item_set_uuid_profile_id_game_id_tim`;
delimiter $$
CREATE PROCEDURE `usp_game_profile_statistic_item_set_uuid_profile_id_game_id_tim`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_username VARCHAR (500) 
    , in_code VARCHAR (500) 
    , in_stat_value_formatted VARCHAR (500) 
    , in_profile_id BINARY(16) 
    , in_active int 
    , in_game_id BINARY(16) 
    , in_data TEXT 
    , in_stat_value decimal 
    , in_uuid BINARY(16) 
    , in_date_modified TIMESTAMP 
    , in_level VARCHAR (500) 
    , in_points decimal 
    , in_timestamp decimal 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (500) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_profile_statistic_item`  
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    AND `profile_id` = in_profile_id
                    AND `game_id` = in_game_id
                    AND `timestamp` = in_timestamp
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_profile_statistic_item` 
                    SET
                        `status` = in_status
                        , `username` = in_username
                        , `code` = in_code
                        , `stat_value_formatted` = in_stat_value_formatted
                        , `profile_id` = in_profile_id
                        , `active` = in_active
                        , `game_id` = in_game_id
                        , `data` = in_data
                        , `stat_value` = in_stat_value
                        , `uuid` = in_uuid
                        , `date_modified` = in_date_modified
                        , `level` = in_level
                        , `points` = in_points
                        , `timestamp` = in_timestamp
                        , `date_created` = in_date_created
                        , `type` = in_type
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    AND `profile_id` = in_profile_id
                    AND `game_id` = in_game_id
                    AND `timestamp` = in_timestamp
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_profile_statistic_item`
                    (
                        `status`
                        , `username`
                        , `code`
                        , `stat_value_formatted`
                        , `profile_id`
                        , `active`
                        , `game_id`
                        , `data`
                        , `stat_value`
                        , `uuid`
                        , `date_modified`
                        , `level`
                        , `points`
                        , `timestamp`
                        , `date_created`
                        , `type`
                    )
                    VALUES
                    (
                        in_status
                        , in_username
                        , in_code
                        , in_stat_value_formatted
                        , in_profile_id
                        , in_active
                        , in_game_id
                        , in_data
                        , in_stat_value
                        , in_uuid
                        , in_date_modified
                        , in_level
                        , in_points
                        , in_timestamp
                        , in_date_created
                        , in_type
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_profile_statistic_item_set_profile_id_code`;
delimiter $$
CREATE PROCEDURE `usp_game_profile_statistic_item_set_profile_id_code`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_username VARCHAR (500) 
    , in_code VARCHAR (500) 
    , in_stat_value_formatted VARCHAR (500) 
    , in_profile_id BINARY(16) 
    , in_active int 
    , in_game_id BINARY(16) 
    , in_data TEXT 
    , in_stat_value decimal 
    , in_uuid BINARY(16) 
    , in_date_modified TIMESTAMP 
    , in_level VARCHAR (500) 
    , in_points decimal 
    , in_timestamp decimal 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (500) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_profile_statistic_item`  
                    WHERE 1=1
                    AND `profile_id` = in_profile_id
                    AND lower(`code`) = lower(in_code)
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_profile_statistic_item` 
                    SET
                        `status` = in_status
                        , `username` = in_username
                        , `code` = in_code
                        , `stat_value_formatted` = in_stat_value_formatted
                        , `profile_id` = in_profile_id
                        , `active` = in_active
                        , `game_id` = in_game_id
                        , `data` = in_data
                        , `stat_value` = in_stat_value
                        , `uuid` = in_uuid
                        , `date_modified` = in_date_modified
                        , `level` = in_level
                        , `points` = in_points
                        , `timestamp` = in_timestamp
                        , `date_created` = in_date_created
                        , `type` = in_type
                    WHERE 1=1
                    AND `profile_id` = in_profile_id
                    AND lower(`code`) = lower(in_code)
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_profile_statistic_item`
                    (
                        `status`
                        , `username`
                        , `code`
                        , `stat_value_formatted`
                        , `profile_id`
                        , `active`
                        , `game_id`
                        , `data`
                        , `stat_value`
                        , `uuid`
                        , `date_modified`
                        , `level`
                        , `points`
                        , `timestamp`
                        , `date_created`
                        , `type`
                    )
                    VALUES
                    (
                        in_status
                        , in_username
                        , in_code
                        , in_stat_value_formatted
                        , in_profile_id
                        , in_active
                        , in_game_id
                        , in_data
                        , in_stat_value
                        , in_uuid
                        , in_date_modified
                        , in_level
                        , in_points
                        , in_timestamp
                        , in_date_created
                        , in_type
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_profile_statistic_item_set_profile_id_code_timestamp`;
delimiter $$
CREATE PROCEDURE `usp_game_profile_statistic_item_set_profile_id_code_timestamp`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_username VARCHAR (500) 
    , in_code VARCHAR (500) 
    , in_stat_value_formatted VARCHAR (500) 
    , in_profile_id BINARY(16) 
    , in_active int 
    , in_game_id BINARY(16) 
    , in_data TEXT 
    , in_stat_value decimal 
    , in_uuid BINARY(16) 
    , in_date_modified TIMESTAMP 
    , in_level VARCHAR (500) 
    , in_points decimal 
    , in_timestamp decimal 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (500) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_profile_statistic_item`  
                    WHERE 1=1
                    AND `profile_id` = in_profile_id
                    AND lower(`code`) = lower(in_code)
                    AND `timestamp` = in_timestamp
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_profile_statistic_item` 
                    SET
                        `status` = in_status
                        , `username` = in_username
                        , `code` = in_code
                        , `stat_value_formatted` = in_stat_value_formatted
                        , `profile_id` = in_profile_id
                        , `active` = in_active
                        , `game_id` = in_game_id
                        , `data` = in_data
                        , `stat_value` = in_stat_value
                        , `uuid` = in_uuid
                        , `date_modified` = in_date_modified
                        , `level` = in_level
                        , `points` = in_points
                        , `timestamp` = in_timestamp
                        , `date_created` = in_date_created
                        , `type` = in_type
                    WHERE 1=1
                    AND `profile_id` = in_profile_id
                    AND lower(`code`) = lower(in_code)
                    AND `timestamp` = in_timestamp
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_profile_statistic_item`
                    (
                        `status`
                        , `username`
                        , `code`
                        , `stat_value_formatted`
                        , `profile_id`
                        , `active`
                        , `game_id`
                        , `data`
                        , `stat_value`
                        , `uuid`
                        , `date_modified`
                        , `level`
                        , `points`
                        , `timestamp`
                        , `date_created`
                        , `type`
                    )
                    VALUES
                    (
                        in_status
                        , in_username
                        , in_code
                        , in_stat_value_formatted
                        , in_profile_id
                        , in_active
                        , in_game_id
                        , in_data
                        , in_stat_value
                        , in_uuid
                        , in_date_modified
                        , in_level
                        , in_points
                        , in_timestamp
                        , in_date_created
                        , in_type
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_profile_statistic_item_set_code_profile_id_game_id_tim`;
delimiter $$
CREATE PROCEDURE `usp_game_profile_statistic_item_set_code_profile_id_game_id_tim`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_username VARCHAR (500) 
    , in_code VARCHAR (500) 
    , in_stat_value_formatted VARCHAR (500) 
    , in_profile_id BINARY(16) 
    , in_active int 
    , in_game_id BINARY(16) 
    , in_data TEXT 
    , in_stat_value decimal 
    , in_uuid BINARY(16) 
    , in_date_modified TIMESTAMP 
    , in_level VARCHAR (500) 
    , in_points decimal 
    , in_timestamp decimal 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (500) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_profile_statistic_item`  
                    WHERE 1=1
                    AND lower(`code`) = lower(in_code)
                    AND `profile_id` = in_profile_id
                    AND `game_id` = in_game_id
                    AND `timestamp` = in_timestamp
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_profile_statistic_item` 
                    SET
                        `status` = in_status
                        , `username` = in_username
                        , `code` = in_code
                        , `stat_value_formatted` = in_stat_value_formatted
                        , `profile_id` = in_profile_id
                        , `active` = in_active
                        , `game_id` = in_game_id
                        , `data` = in_data
                        , `stat_value` = in_stat_value
                        , `uuid` = in_uuid
                        , `date_modified` = in_date_modified
                        , `level` = in_level
                        , `points` = in_points
                        , `timestamp` = in_timestamp
                        , `date_created` = in_date_created
                        , `type` = in_type
                    WHERE 1=1
                    AND lower(`code`) = lower(in_code)
                    AND `profile_id` = in_profile_id
                    AND `game_id` = in_game_id
                    AND `timestamp` = in_timestamp
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_profile_statistic_item`
                    (
                        `status`
                        , `username`
                        , `code`
                        , `stat_value_formatted`
                        , `profile_id`
                        , `active`
                        , `game_id`
                        , `data`
                        , `stat_value`
                        , `uuid`
                        , `date_modified`
                        , `level`
                        , `points`
                        , `timestamp`
                        , `date_created`
                        , `type`
                    )
                    VALUES
                    (
                        in_status
                        , in_username
                        , in_code
                        , in_stat_value_formatted
                        , in_profile_id
                        , in_active
                        , in_game_id
                        , in_data
                        , in_stat_value
                        , in_uuid
                        , in_date_modified
                        , in_level
                        , in_points
                        , in_timestamp
                        , in_date_created
                        , in_type
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_profile_statistic_item_set_code_profile_id_game_id`;
delimiter $$
CREATE PROCEDURE `usp_game_profile_statistic_item_set_code_profile_id_game_id`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_username VARCHAR (500) 
    , in_code VARCHAR (500) 
    , in_stat_value_formatted VARCHAR (500) 
    , in_profile_id BINARY(16) 
    , in_active int 
    , in_game_id BINARY(16) 
    , in_data TEXT 
    , in_stat_value decimal 
    , in_uuid BINARY(16) 
    , in_date_modified TIMESTAMP 
    , in_level VARCHAR (500) 
    , in_points decimal 
    , in_timestamp decimal 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (500) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_profile_statistic_item`  
                    WHERE 1=1
                    AND lower(`code`) = lower(in_code)
                    AND `profile_id` = in_profile_id
                    AND `game_id` = in_game_id
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_profile_statistic_item` 
                    SET
                        `status` = in_status
                        , `username` = in_username
                        , `code` = in_code
                        , `stat_value_formatted` = in_stat_value_formatted
                        , `profile_id` = in_profile_id
                        , `active` = in_active
                        , `game_id` = in_game_id
                        , `data` = in_data
                        , `stat_value` = in_stat_value
                        , `uuid` = in_uuid
                        , `date_modified` = in_date_modified
                        , `level` = in_level
                        , `points` = in_points
                        , `timestamp` = in_timestamp
                        , `date_created` = in_date_created
                        , `type` = in_type
                    WHERE 1=1
                    AND lower(`code`) = lower(in_code)
                    AND `profile_id` = in_profile_id
                    AND `game_id` = in_game_id
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_profile_statistic_item`
                    (
                        `status`
                        , `username`
                        , `code`
                        , `stat_value_formatted`
                        , `profile_id`
                        , `active`
                        , `game_id`
                        , `data`
                        , `stat_value`
                        , `uuid`
                        , `date_modified`
                        , `level`
                        , `points`
                        , `timestamp`
                        , `date_created`
                        , `type`
                    )
                    VALUES
                    (
                        in_status
                        , in_username
                        , in_code
                        , in_stat_value_formatted
                        , in_profile_id
                        , in_active
                        , in_game_id
                        , in_data
                        , in_stat_value
                        , in_uuid
                        , in_date_modified
                        , in_level
                        , in_points
                        , in_timestamp
                        , in_date_created
                        , in_type
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

-- ------------------------------------
-- DEL

-- ------------------------------------
-- MODEL: GameProfileStatisticItem - game_profile_statistic_item

                       
DROP PROCEDURE IF EXISTS `usp_game_profile_statistic_item_del_uuid`;

delimiter $$
CREATE PROCEDURE `usp_game_profile_statistic_item_del_uuid`
(
    in_uuid BINARY(16) 
)

BEGIN
    DELETE 
    FROM `game_profile_statistic_item`
    WHERE 1=1                        
    AND "uuid" = in_uuid
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_game_profile_statistic_item_del_code_game_id`;

delimiter $$
CREATE PROCEDURE `usp_game_profile_statistic_item_del_code_game_id`
(
    in_code VARCHAR (500) 
    , in_game_id BINARY(16) 
)

BEGIN
    DELETE 
    FROM `game_profile_statistic_item`
    WHERE 1=1                        
    AND lower("code") = lower(in_code)
    AND "game_id" = in_game_id
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_game_profile_statistic_item_del_profile_id_game_id`;

delimiter $$
CREATE PROCEDURE `usp_game_profile_statistic_item_del_profile_id_game_id`
(
    in_profile_id BINARY(16) 
    , in_game_id BINARY(16) 
)

BEGIN
    DELETE 
    FROM `game_profile_statistic_item`
    WHERE 1=1                        
    AND "profile_id" = in_profile_id
    AND "game_id" = in_game_id
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_game_profile_statistic_item_del_code_profile_id_game_id`;

delimiter $$
CREATE PROCEDURE `usp_game_profile_statistic_item_del_code_profile_id_game_id`
(
    in_code VARCHAR (500) 
    , in_profile_id BINARY(16) 
    , in_game_id BINARY(16) 
)

BEGIN
    DELETE 
    FROM `game_profile_statistic_item`
    WHERE 1=1                        
    AND lower("code") = lower(in_code)
    AND "profile_id" = in_profile_id
    AND "game_id" = in_game_id
    ;
END$$
delimiter ;
-- ------------------------------------
-- GET

-- ------------------------------------
-- MODEL: GameProfileStatisticItem - game_profile_statistic_item

                       
DROP PROCEDURE IF EXISTS `usp_game_profile_statistic_item_get_uuid`;

delimiter $$
CREATE PROCEDURE `usp_game_profile_statistic_item_get_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `username`
        , `code`
        , `stat_value_formatted`
        , `profile_id`
        , `active`
        , `game_id`
        , `data`
        , `stat_value`
        , `uuid`
        , `date_modified`
        , `level`
        , `points`
        , `timestamp`
        , `date_created`
        , `type`
    FROM `game_profile_statistic_item`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_profile_statistic_item_get_code`;

delimiter $$
CREATE PROCEDURE `usp_game_profile_statistic_item_get_code`
(
    in_code VARCHAR (500) 
)
BEGIN
    SELECT
        `status`
        , `username`
        , `code`
        , `stat_value_formatted`
        , `profile_id`
        , `active`
        , `game_id`
        , `data`
        , `stat_value`
        , `uuid`
        , `date_modified`
        , `level`
        , `points`
        , `timestamp`
        , `date_created`
        , `type`
    FROM `game_profile_statistic_item`
    WHERE 1=1
    AND lower(`code`) = lower(in_code)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_profile_statistic_item_get_game_id`;

delimiter $$
CREATE PROCEDURE `usp_game_profile_statistic_item_get_game_id`
(
    in_game_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `username`
        , `code`
        , `stat_value_formatted`
        , `profile_id`
        , `active`
        , `game_id`
        , `data`
        , `stat_value`
        , `uuid`
        , `date_modified`
        , `level`
        , `points`
        , `timestamp`
        , `date_created`
        , `type`
    FROM `game_profile_statistic_item`
    WHERE 1=1
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_profile_statistic_item_get_code_game_id`;

delimiter $$
CREATE PROCEDURE `usp_game_profile_statistic_item_get_code_game_id`
(
    in_code VARCHAR (500) 
    , in_game_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `username`
        , `code`
        , `stat_value_formatted`
        , `profile_id`
        , `active`
        , `game_id`
        , `data`
        , `stat_value`
        , `uuid`
        , `date_modified`
        , `level`
        , `points`
        , `timestamp`
        , `date_created`
        , `type`
    FROM `game_profile_statistic_item`
    WHERE 1=1
    AND lower(`code`) = lower(in_code)
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_profile_statistic_item_get_profile_id_game_id`;

delimiter $$
CREATE PROCEDURE `usp_game_profile_statistic_item_get_profile_id_game_id`
(
    in_profile_id BINARY(16) 
    , in_game_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `username`
        , `code`
        , `stat_value_formatted`
        , `profile_id`
        , `active`
        , `game_id`
        , `data`
        , `stat_value`
        , `uuid`
        , `date_modified`
        , `level`
        , `points`
        , `timestamp`
        , `date_created`
        , `type`
    FROM `game_profile_statistic_item`
    WHERE 1=1
    AND `profile_id` = in_profile_id
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_profile_statistic_item_get_profile_id_game_id_timestam`;

delimiter $$
CREATE PROCEDURE `usp_game_profile_statistic_item_get_profile_id_game_id_timestam`
(
    in_profile_id BINARY(16) 
    , in_game_id BINARY(16) 
    , in_timestamp decimal 
)
BEGIN
    SELECT
        `status`
        , `username`
        , `code`
        , `stat_value_formatted`
        , `profile_id`
        , `active`
        , `game_id`
        , `data`
        , `stat_value`
        , `uuid`
        , `date_modified`
        , `level`
        , `points`
        , `timestamp`
        , `date_created`
        , `type`
    FROM `game_profile_statistic_item`
    WHERE 1=1
    AND `profile_id` = in_profile_id
    AND `game_id` = in_game_id
    AND `timestamp` = in_timestamp
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_profile_statistic_item_get_code_profile_id_game_id`;

delimiter $$
CREATE PROCEDURE `usp_game_profile_statistic_item_get_code_profile_id_game_id`
(
    in_code VARCHAR (500) 
    , in_profile_id BINARY(16) 
    , in_game_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `username`
        , `code`
        , `stat_value_formatted`
        , `profile_id`
        , `active`
        , `game_id`
        , `data`
        , `stat_value`
        , `uuid`
        , `date_modified`
        , `level`
        , `points`
        , `timestamp`
        , `date_created`
        , `type`
    FROM `game_profile_statistic_item`
    WHERE 1=1
    AND lower(`code`) = lower(in_code)
    AND `profile_id` = in_profile_id
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_profile_statistic_item_get_code_profile_id_game_id_tim`;

delimiter $$
CREATE PROCEDURE `usp_game_profile_statistic_item_get_code_profile_id_game_id_tim`
(
    in_code VARCHAR (500) 
    , in_profile_id BINARY(16) 
    , in_game_id BINARY(16) 
    , in_timestamp decimal 
)
BEGIN
    SELECT
        `status`
        , `username`
        , `code`
        , `stat_value_formatted`
        , `profile_id`
        , `active`
        , `game_id`
        , `data`
        , `stat_value`
        , `uuid`
        , `date_modified`
        , `level`
        , `points`
        , `timestamp`
        , `date_created`
        , `type`
    FROM `game_profile_statistic_item`
    WHERE 1=1
    AND lower(`code`) = lower(in_code)
    AND `profile_id` = in_profile_id
    AND `game_id` = in_game_id
    AND `timestamp` = in_timestamp
    ;
END$$
delimiter ;

-- -----------------------------------------------------------------------------
-- PROCS

-- ------------------------------------
-- COUNT

-- ------------------------------------
-- MODEL: GameKeyMeta - game_key_meta

                       
DROP PROCEDURE IF EXISTS `usp_game_key_meta_count`;
delimiter $$
CREATE PROCEDURE `usp_game_key_meta_count`
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_key_meta`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_key_meta_count_uuid`;
delimiter $$
CREATE PROCEDURE `usp_game_key_meta_count_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_key_meta`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_key_meta_count_code`;
delimiter $$
CREATE PROCEDURE `usp_game_key_meta_count_code`
(
    in_code VARCHAR (255) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_key_meta`
    WHERE 1=1
    AND lower(`code`) = lower(in_code)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_key_meta_count_code_game_id`;
delimiter $$
CREATE PROCEDURE `usp_game_key_meta_count_code_game_id`
(
    in_code VARCHAR (255) 
    , in_game_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_key_meta`
    WHERE 1=1
    AND lower(`code`) = lower(in_code)
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_key_meta_count_name`;
delimiter $$
CREATE PROCEDURE `usp_game_key_meta_count_name`
(
    in_name VARCHAR (255) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_key_meta`
    WHERE 1=1
    AND lower(`name`) = lower(in_name)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_key_meta_count_key`;
delimiter $$
CREATE PROCEDURE `usp_game_key_meta_count_key`
(
    in_key VARCHAR (50) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_key_meta`
    WHERE 1=1
    AND lower(`key`) = lower(in_key)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_key_meta_count_game_id`;
delimiter $$
CREATE PROCEDURE `usp_game_key_meta_count_game_id`
(
    in_game_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_key_meta`
    WHERE 1=1
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_key_meta_count_key_game_id`;
delimiter $$
CREATE PROCEDURE `usp_game_key_meta_count_key_game_id`
(
    in_key VARCHAR (50) 
    , in_game_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_key_meta`
    WHERE 1=1
    AND lower(`key`) = lower(in_key)
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

-- ------------------------------------
-- BROWSE

-- ------------------------------------
-- MODEL: GameKeyMeta - game_key_meta

                       
DROP PROCEDURE IF EXISTS `usp_game_key_meta_browse_filter`;

delimiter $$
CREATE PROCEDURE `usp_game_key_meta_browse_filter`
(
    in_page int,
    in_page_size int,
    in_sort VARCHAR(500),
    in_filter VARCHAR(4000)
    
)
BEGIN
    DECLARE total_rows int;
    SET total_rows = 0;
        
    IF (in_page = 0) THEN
        SET in_page = 1;
    END IF;    
    
    IF (in_page_size = 0) THEN
       SET in_page_size = 10;
    END IF;
    
    IF (in_sort = NULL || in_sort = '') THEN
       SET in_sort = ' date_modified ASC ';
    END IF;
    
    SET @sfields = CONCAT('', '`status`');
    SET @sfields = CONCAT(@sfields, ', `sort`');
    SET @sfields = CONCAT(@sfields, ', `code`');
    SET @sfields = CONCAT(@sfields, ', `display_name`');
    SET @sfields = CONCAT(@sfields, ', `name`');
    SET @sfields = CONCAT(@sfields, ', `date_modified`');
    SET @sfields = CONCAT(@sfields, ', `data`');
    SET @sfields = CONCAT(@sfields, ', `level`');
    SET @sfields = CONCAT(@sfields, ', `uuid`');
    SET @sfields = CONCAT(@sfields, ', `key_level`');
    SET @sfields = CONCAT(@sfields, ', `store_count`');
    SET @sfields = CONCAT(@sfields, ', `key`');
    SET @sfields = CONCAT(@sfields, ', `game_id`');
    SET @sfields = CONCAT(@sfields, ', `active`');
    SET @sfields = CONCAT(@sfields, ', `date_created`');
    SET @sfields = CONCAT(@sfields, ', `type`');
    SET @sfields = CONCAT(@sfields, ', `order`');
    SET @sfields = CONCAT(@sfields, ', `key_stat`');
    SET @sfields = CONCAT(@sfields, ', `description`');
    
    SET @stable = CONCAT('', ' FROM `game_key_meta` WHERE 1=1 ');
    
    SET @s = CONCAT(' ', @stable);
    SET @s = CONCAT(@s, ' ', in_filter);    
    
    SET @scount = CONCAT('SELECT COUNT(*) as `total_rows` ', @s, ' INTO @total_rows');
    
    PREPARE stmtcount FROM @scount;
    EXECUTE stmtcount;
    #SELECT @total_rows;
    SET total_rows = @total_rows;

    SET @sfields = CONCAT(total_rows, ' as `total_rows`, ', @sfields);
    SET @s = CONCAT('SELECT ', @sfields, @s);
    SET @s = CONCAT(@s, ' ORDER BY ', in_sort);
    SET @s = CONCAT(@s, ' LIMIT ', in_page);
    SET @s = CONCAT(@s, ',', in_page_size);    

    PREPARE stmt FROM @s;
    EXECUTE stmt;
    
END$$
delimiter ;
-- ------------------------------------
-- SET

-- ------------------------------------
-- MODEL: GameKeyMeta - game_key_meta

                       
DROP PROCEDURE IF EXISTS `usp_game_key_meta_set_uuid`;
delimiter $$
CREATE PROCEDURE `usp_game_key_meta_set_uuid`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_sort INTEGER 
    , in_code VARCHAR (255) 
    , in_display_name VARCHAR (255) 
    , in_name VARCHAR (255) 
    , in_date_modified TIMESTAMP 
    , in_data TEXT 
    , in_level VARCHAR (500) 
    , in_uuid BINARY(16) 
    , in_key_level VARCHAR (50) 
    , in_store_count INTEGER 
    , in_key VARCHAR (50) 
    , in_game_id BINARY(16) 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (40) 
    , in_order VARCHAR (40) 
    , in_key_stat VARCHAR (50) 
    , in_description VARCHAR (255) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_key_meta`  
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_key_meta` 
                    SET
                        `status` = in_status
                        , `sort` = in_sort
                        , `code` = in_code
                        , `display_name` = in_display_name
                        , `name` = in_name
                        , `date_modified` = in_date_modified
                        , `data` = in_data
                        , `level` = in_level
                        , `uuid` = in_uuid
                        , `key_level` = in_key_level
                        , `store_count` = in_store_count
                        , `key` = in_key
                        , `game_id` = in_game_id
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `type` = in_type
                        , `order` = in_order
                        , `key_stat` = in_key_stat
                        , `description` = in_description
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_key_meta`
                    (
                        `status`
                        , `sort`
                        , `code`
                        , `display_name`
                        , `name`
                        , `date_modified`
                        , `data`
                        , `level`
                        , `uuid`
                        , `key_level`
                        , `store_count`
                        , `key`
                        , `game_id`
                        , `active`
                        , `date_created`
                        , `type`
                        , `order`
                        , `key_stat`
                        , `description`
                    )
                    VALUES
                    (
                        in_status
                        , in_sort
                        , in_code
                        , in_display_name
                        , in_name
                        , in_date_modified
                        , in_data
                        , in_level
                        , in_uuid
                        , in_key_level
                        , in_store_count
                        , in_key
                        , in_game_id
                        , in_active
                        , in_date_created
                        , in_type
                        , in_order
                        , in_key_stat
                        , in_description
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_key_meta_set_code_game_id`;
delimiter $$
CREATE PROCEDURE `usp_game_key_meta_set_code_game_id`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_sort INTEGER 
    , in_code VARCHAR (255) 
    , in_display_name VARCHAR (255) 
    , in_name VARCHAR (255) 
    , in_date_modified TIMESTAMP 
    , in_data TEXT 
    , in_level VARCHAR (500) 
    , in_uuid BINARY(16) 
    , in_key_level VARCHAR (50) 
    , in_store_count INTEGER 
    , in_key VARCHAR (50) 
    , in_game_id BINARY(16) 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (40) 
    , in_order VARCHAR (40) 
    , in_key_stat VARCHAR (50) 
    , in_description VARCHAR (255) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_key_meta`  
                    WHERE 1=1
                    AND lower(`code`) = lower(in_code)
                    AND `game_id` = in_game_id
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_key_meta` 
                    SET
                        `status` = in_status
                        , `sort` = in_sort
                        , `code` = in_code
                        , `display_name` = in_display_name
                        , `name` = in_name
                        , `date_modified` = in_date_modified
                        , `data` = in_data
                        , `level` = in_level
                        , `uuid` = in_uuid
                        , `key_level` = in_key_level
                        , `store_count` = in_store_count
                        , `key` = in_key
                        , `game_id` = in_game_id
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `type` = in_type
                        , `order` = in_order
                        , `key_stat` = in_key_stat
                        , `description` = in_description
                    WHERE 1=1
                    AND lower(`code`) = lower(in_code)
                    AND `game_id` = in_game_id
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_key_meta`
                    (
                        `status`
                        , `sort`
                        , `code`
                        , `display_name`
                        , `name`
                        , `date_modified`
                        , `data`
                        , `level`
                        , `uuid`
                        , `key_level`
                        , `store_count`
                        , `key`
                        , `game_id`
                        , `active`
                        , `date_created`
                        , `type`
                        , `order`
                        , `key_stat`
                        , `description`
                    )
                    VALUES
                    (
                        in_status
                        , in_sort
                        , in_code
                        , in_display_name
                        , in_name
                        , in_date_modified
                        , in_data
                        , in_level
                        , in_uuid
                        , in_key_level
                        , in_store_count
                        , in_key
                        , in_game_id
                        , in_active
                        , in_date_created
                        , in_type
                        , in_order
                        , in_key_stat
                        , in_description
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_key_meta_set_key_game_id`;
delimiter $$
CREATE PROCEDURE `usp_game_key_meta_set_key_game_id`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_sort INTEGER 
    , in_code VARCHAR (255) 
    , in_display_name VARCHAR (255) 
    , in_name VARCHAR (255) 
    , in_date_modified TIMESTAMP 
    , in_data TEXT 
    , in_level VARCHAR (500) 
    , in_uuid BINARY(16) 
    , in_key_level VARCHAR (50) 
    , in_store_count INTEGER 
    , in_key VARCHAR (50) 
    , in_game_id BINARY(16) 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (40) 
    , in_order VARCHAR (40) 
    , in_key_stat VARCHAR (50) 
    , in_description VARCHAR (255) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_key_meta`  
                    WHERE 1=1
                    AND lower(`key`) = lower(in_key)
                    AND `game_id` = in_game_id
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_key_meta` 
                    SET
                        `status` = in_status
                        , `sort` = in_sort
                        , `code` = in_code
                        , `display_name` = in_display_name
                        , `name` = in_name
                        , `date_modified` = in_date_modified
                        , `data` = in_data
                        , `level` = in_level
                        , `uuid` = in_uuid
                        , `key_level` = in_key_level
                        , `store_count` = in_store_count
                        , `key` = in_key
                        , `game_id` = in_game_id
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `type` = in_type
                        , `order` = in_order
                        , `key_stat` = in_key_stat
                        , `description` = in_description
                    WHERE 1=1
                    AND lower(`key`) = lower(in_key)
                    AND `game_id` = in_game_id
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_key_meta`
                    (
                        `status`
                        , `sort`
                        , `code`
                        , `display_name`
                        , `name`
                        , `date_modified`
                        , `data`
                        , `level`
                        , `uuid`
                        , `key_level`
                        , `store_count`
                        , `key`
                        , `game_id`
                        , `active`
                        , `date_created`
                        , `type`
                        , `order`
                        , `key_stat`
                        , `description`
                    )
                    VALUES
                    (
                        in_status
                        , in_sort
                        , in_code
                        , in_display_name
                        , in_name
                        , in_date_modified
                        , in_data
                        , in_level
                        , in_uuid
                        , in_key_level
                        , in_store_count
                        , in_key
                        , in_game_id
                        , in_active
                        , in_date_created
                        , in_type
                        , in_order
                        , in_key_stat
                        , in_description
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_key_meta_set_key_game_id_level`;
delimiter $$
CREATE PROCEDURE `usp_game_key_meta_set_key_game_id_level`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_sort INTEGER 
    , in_code VARCHAR (255) 
    , in_display_name VARCHAR (255) 
    , in_name VARCHAR (255) 
    , in_date_modified TIMESTAMP 
    , in_data TEXT 
    , in_level VARCHAR (500) 
    , in_uuid BINARY(16) 
    , in_key_level VARCHAR (50) 
    , in_store_count INTEGER 
    , in_key VARCHAR (50) 
    , in_game_id BINARY(16) 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (40) 
    , in_order VARCHAR (40) 
    , in_key_stat VARCHAR (50) 
    , in_description VARCHAR (255) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_key_meta`  
                    WHERE 1=1
                    AND lower(`key`) = lower(in_key)
                    AND `game_id` = in_game_id
                    AND lower(`level`) = lower(in_level)
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_key_meta` 
                    SET
                        `status` = in_status
                        , `sort` = in_sort
                        , `code` = in_code
                        , `display_name` = in_display_name
                        , `name` = in_name
                        , `date_modified` = in_date_modified
                        , `data` = in_data
                        , `level` = in_level
                        , `uuid` = in_uuid
                        , `key_level` = in_key_level
                        , `store_count` = in_store_count
                        , `key` = in_key
                        , `game_id` = in_game_id
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `type` = in_type
                        , `order` = in_order
                        , `key_stat` = in_key_stat
                        , `description` = in_description
                    WHERE 1=1
                    AND lower(`key`) = lower(in_key)
                    AND `game_id` = in_game_id
                    AND lower(`level`) = lower(in_level)
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_key_meta`
                    (
                        `status`
                        , `sort`
                        , `code`
                        , `display_name`
                        , `name`
                        , `date_modified`
                        , `data`
                        , `level`
                        , `uuid`
                        , `key_level`
                        , `store_count`
                        , `key`
                        , `game_id`
                        , `active`
                        , `date_created`
                        , `type`
                        , `order`
                        , `key_stat`
                        , `description`
                    )
                    VALUES
                    (
                        in_status
                        , in_sort
                        , in_code
                        , in_display_name
                        , in_name
                        , in_date_modified
                        , in_data
                        , in_level
                        , in_uuid
                        , in_key_level
                        , in_store_count
                        , in_key
                        , in_game_id
                        , in_active
                        , in_date_created
                        , in_type
                        , in_order
                        , in_key_stat
                        , in_description
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

-- ------------------------------------
-- DEL

-- ------------------------------------
-- MODEL: GameKeyMeta - game_key_meta

                       
DROP PROCEDURE IF EXISTS `usp_game_key_meta_del_uuid`;

delimiter $$
CREATE PROCEDURE `usp_game_key_meta_del_uuid`
(
    in_uuid BINARY(16) 
)

BEGIN
    DELETE 
    FROM `game_key_meta`
    WHERE 1=1                        
    AND "uuid" = in_uuid
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_game_key_meta_del_code_game_id`;

delimiter $$
CREATE PROCEDURE `usp_game_key_meta_del_code_game_id`
(
    in_code VARCHAR (255) 
    , in_game_id BINARY(16) 
)

BEGIN
    DELETE 
    FROM `game_key_meta`
    WHERE 1=1                        
    AND lower("code") = lower(in_code)
    AND "game_id" = in_game_id
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_game_key_meta_del_key_game_id`;

delimiter $$
CREATE PROCEDURE `usp_game_key_meta_del_key_game_id`
(
    in_key VARCHAR (50) 
    , in_game_id BINARY(16) 
)

BEGIN
    DELETE 
    FROM `game_key_meta`
    WHERE 1=1                        
    AND lower("key") = lower(in_key)
    AND "game_id" = in_game_id
    ;
END$$
delimiter ;
-- ------------------------------------
-- GET

-- ------------------------------------
-- MODEL: GameKeyMeta - game_key_meta

                       
DROP PROCEDURE IF EXISTS `usp_game_key_meta_get_uuid`;

delimiter $$
CREATE PROCEDURE `usp_game_key_meta_get_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `sort`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `data`
        , `level`
        , `uuid`
        , `key_level`
        , `store_count`
        , `key`
        , `game_id`
        , `active`
        , `date_created`
        , `type`
        , `order`
        , `key_stat`
        , `description`
    FROM `game_key_meta`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_key_meta_get_code`;

delimiter $$
CREATE PROCEDURE `usp_game_key_meta_get_code`
(
    in_code VARCHAR (255) 
)
BEGIN
    SELECT
        `status`
        , `sort`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `data`
        , `level`
        , `uuid`
        , `key_level`
        , `store_count`
        , `key`
        , `game_id`
        , `active`
        , `date_created`
        , `type`
        , `order`
        , `key_stat`
        , `description`
    FROM `game_key_meta`
    WHERE 1=1
    AND lower(`code`) = lower(in_code)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_key_meta_get_code_game_id`;

delimiter $$
CREATE PROCEDURE `usp_game_key_meta_get_code_game_id`
(
    in_code VARCHAR (255) 
    , in_game_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `sort`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `data`
        , `level`
        , `uuid`
        , `key_level`
        , `store_count`
        , `key`
        , `game_id`
        , `active`
        , `date_created`
        , `type`
        , `order`
        , `key_stat`
        , `description`
    FROM `game_key_meta`
    WHERE 1=1
    AND lower(`code`) = lower(in_code)
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_key_meta_get_name`;

delimiter $$
CREATE PROCEDURE `usp_game_key_meta_get_name`
(
    in_name VARCHAR (255) 
)
BEGIN
    SELECT
        `status`
        , `sort`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `data`
        , `level`
        , `uuid`
        , `key_level`
        , `store_count`
        , `key`
        , `game_id`
        , `active`
        , `date_created`
        , `type`
        , `order`
        , `key_stat`
        , `description`
    FROM `game_key_meta`
    WHERE 1=1
    AND lower(`name`) = lower(in_name)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_key_meta_get_key`;

delimiter $$
CREATE PROCEDURE `usp_game_key_meta_get_key`
(
    in_key VARCHAR (50) 
)
BEGIN
    SELECT
        `status`
        , `sort`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `data`
        , `level`
        , `uuid`
        , `key_level`
        , `store_count`
        , `key`
        , `game_id`
        , `active`
        , `date_created`
        , `type`
        , `order`
        , `key_stat`
        , `description`
    FROM `game_key_meta`
    WHERE 1=1
    AND lower(`key`) = lower(in_key)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_key_meta_get_game_id`;

delimiter $$
CREATE PROCEDURE `usp_game_key_meta_get_game_id`
(
    in_game_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `sort`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `data`
        , `level`
        , `uuid`
        , `key_level`
        , `store_count`
        , `key`
        , `game_id`
        , `active`
        , `date_created`
        , `type`
        , `order`
        , `key_stat`
        , `description`
    FROM `game_key_meta`
    WHERE 1=1
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_key_meta_get_key_game_id`;

delimiter $$
CREATE PROCEDURE `usp_game_key_meta_get_key_game_id`
(
    in_key VARCHAR (50) 
    , in_game_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `sort`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `data`
        , `level`
        , `uuid`
        , `key_level`
        , `store_count`
        , `key`
        , `game_id`
        , `active`
        , `date_created`
        , `type`
        , `order`
        , `key_stat`
        , `description`
    FROM `game_key_meta`
    WHERE 1=1
    AND lower(`key`) = lower(in_key)
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_key_meta_get_code_level`;

delimiter $$
CREATE PROCEDURE `usp_game_key_meta_get_code_level`
(
    in_code VARCHAR (255) 
    , in_level VARCHAR (500) 
)
BEGIN
    SELECT
        `status`
        , `sort`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `data`
        , `level`
        , `uuid`
        , `key_level`
        , `store_count`
        , `key`
        , `game_id`
        , `active`
        , `date_created`
        , `type`
        , `order`
        , `key_stat`
        , `description`
    FROM `game_key_meta`
    WHERE 1=1
    AND lower(`code`) = lower(in_code)
    AND lower(`level`) = lower(in_level)
    ;
END$$
delimiter ;

-- -----------------------------------------------------------------------------
-- PROCS

-- ------------------------------------
-- COUNT

-- ------------------------------------
-- MODEL: GameLevel - game_level

                       
DROP PROCEDURE IF EXISTS `usp_game_level_count`;
delimiter $$
CREATE PROCEDURE `usp_game_level_count`
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_level`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_level_count_uuid`;
delimiter $$
CREATE PROCEDURE `usp_game_level_count_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_level`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_level_count_code`;
delimiter $$
CREATE PROCEDURE `usp_game_level_count_code`
(
    in_code VARCHAR (500) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_level`
    WHERE 1=1
    AND lower(`code`) = lower(in_code)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_level_count_code_game_id`;
delimiter $$
CREATE PROCEDURE `usp_game_level_count_code_game_id`
(
    in_code VARCHAR (500) 
    , in_game_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_level`
    WHERE 1=1
    AND lower(`code`) = lower(in_code)
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_level_count_name`;
delimiter $$
CREATE PROCEDURE `usp_game_level_count_name`
(
    in_name VARCHAR (255) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_level`
    WHERE 1=1
    AND lower(`name`) = lower(in_name)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_level_count_game_id`;
delimiter $$
CREATE PROCEDURE `usp_game_level_count_game_id`
(
    in_game_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_level`
    WHERE 1=1
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

-- ------------------------------------
-- BROWSE

-- ------------------------------------
-- MODEL: GameLevel - game_level

                       
DROP PROCEDURE IF EXISTS `usp_game_level_browse_filter`;

delimiter $$
CREATE PROCEDURE `usp_game_level_browse_filter`
(
    in_page int,
    in_page_size int,
    in_sort VARCHAR(500),
    in_filter VARCHAR(4000)
    
)
BEGIN
    DECLARE total_rows int;
    SET total_rows = 0;
        
    IF (in_page = 0) THEN
        SET in_page = 1;
    END IF;    
    
    IF (in_page_size = 0) THEN
       SET in_page_size = 10;
    END IF;
    
    IF (in_sort = NULL || in_sort = '') THEN
       SET in_sort = ' date_modified ASC ';
    END IF;
    
    SET @sfields = CONCAT('', '`status`');
    SET @sfields = CONCAT(@sfields, ', `sort`');
    SET @sfields = CONCAT(@sfields, ', `code`');
    SET @sfields = CONCAT(@sfields, ', `display_name`');
    SET @sfields = CONCAT(@sfields, ', `name`');
    SET @sfields = CONCAT(@sfields, ', `date_modified`');
    SET @sfields = CONCAT(@sfields, ', `data`');
    SET @sfields = CONCAT(@sfields, ', `uuid`');
    SET @sfields = CONCAT(@sfields, ', `game_id`');
    SET @sfields = CONCAT(@sfields, ', `active`');
    SET @sfields = CONCAT(@sfields, ', `date_created`');
    SET @sfields = CONCAT(@sfields, ', `type`');
    SET @sfields = CONCAT(@sfields, ', `order`');
    SET @sfields = CONCAT(@sfields, ', `description`');
    
    SET @stable = CONCAT('', ' FROM `game_level` WHERE 1=1 ');
    
    SET @s = CONCAT(' ', @stable);
    SET @s = CONCAT(@s, ' ', in_filter);    
    
    SET @scount = CONCAT('SELECT COUNT(*) as `total_rows` ', @s, ' INTO @total_rows');
    
    PREPARE stmtcount FROM @scount;
    EXECUTE stmtcount;
    #SELECT @total_rows;
    SET total_rows = @total_rows;

    SET @sfields = CONCAT(total_rows, ' as `total_rows`, ', @sfields);
    SET @s = CONCAT('SELECT ', @sfields, @s);
    SET @s = CONCAT(@s, ' ORDER BY ', in_sort);
    SET @s = CONCAT(@s, ' LIMIT ', in_page);
    SET @s = CONCAT(@s, ',', in_page_size);    

    PREPARE stmt FROM @s;
    EXECUTE stmt;
    
END$$
delimiter ;
-- ------------------------------------
-- SET

-- ------------------------------------
-- MODEL: GameLevel - game_level

                       
DROP PROCEDURE IF EXISTS `usp_game_level_set_uuid`;
delimiter $$
CREATE PROCEDURE `usp_game_level_set_uuid`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_sort INTEGER 
    , in_code VARCHAR (500) 
    , in_display_name VARCHAR (255) 
    , in_name VARCHAR (255) 
    , in_date_modified TIMESTAMP 
    , in_data TEXT 
    , in_uuid BINARY(16) 
    , in_game_id BINARY(16) 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (40) 
    , in_order VARCHAR (40) 
    , in_description VARCHAR (255) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_level`  
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_level` 
                    SET
                        `status` = in_status
                        , `sort` = in_sort
                        , `code` = in_code
                        , `display_name` = in_display_name
                        , `name` = in_name
                        , `date_modified` = in_date_modified
                        , `data` = in_data
                        , `uuid` = in_uuid
                        , `game_id` = in_game_id
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `type` = in_type
                        , `order` = in_order
                        , `description` = in_description
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_level`
                    (
                        `status`
                        , `sort`
                        , `code`
                        , `display_name`
                        , `name`
                        , `date_modified`
                        , `data`
                        , `uuid`
                        , `game_id`
                        , `active`
                        , `date_created`
                        , `type`
                        , `order`
                        , `description`
                    )
                    VALUES
                    (
                        in_status
                        , in_sort
                        , in_code
                        , in_display_name
                        , in_name
                        , in_date_modified
                        , in_data
                        , in_uuid
                        , in_game_id
                        , in_active
                        , in_date_created
                        , in_type
                        , in_order
                        , in_description
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_level_set_code_game_id`;
delimiter $$
CREATE PROCEDURE `usp_game_level_set_code_game_id`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_sort INTEGER 
    , in_code VARCHAR (500) 
    , in_display_name VARCHAR (255) 
    , in_name VARCHAR (255) 
    , in_date_modified TIMESTAMP 
    , in_data TEXT 
    , in_uuid BINARY(16) 
    , in_game_id BINARY(16) 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (40) 
    , in_order VARCHAR (40) 
    , in_description VARCHAR (255) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_level`  
                    WHERE 1=1
                    AND lower(`code`) = lower(in_code)
                    AND `game_id` = in_game_id
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_level` 
                    SET
                        `status` = in_status
                        , `sort` = in_sort
                        , `code` = in_code
                        , `display_name` = in_display_name
                        , `name` = in_name
                        , `date_modified` = in_date_modified
                        , `data` = in_data
                        , `uuid` = in_uuid
                        , `game_id` = in_game_id
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `type` = in_type
                        , `order` = in_order
                        , `description` = in_description
                    WHERE 1=1
                    AND lower(`code`) = lower(in_code)
                    AND `game_id` = in_game_id
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_level`
                    (
                        `status`
                        , `sort`
                        , `code`
                        , `display_name`
                        , `name`
                        , `date_modified`
                        , `data`
                        , `uuid`
                        , `game_id`
                        , `active`
                        , `date_created`
                        , `type`
                        , `order`
                        , `description`
                    )
                    VALUES
                    (
                        in_status
                        , in_sort
                        , in_code
                        , in_display_name
                        , in_name
                        , in_date_modified
                        , in_data
                        , in_uuid
                        , in_game_id
                        , in_active
                        , in_date_created
                        , in_type
                        , in_order
                        , in_description
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

-- ------------------------------------
-- DEL

-- ------------------------------------
-- MODEL: GameLevel - game_level

                       
DROP PROCEDURE IF EXISTS `usp_game_level_del_uuid`;

delimiter $$
CREATE PROCEDURE `usp_game_level_del_uuid`
(
    in_uuid BINARY(16) 
)

BEGIN
    DELETE 
    FROM `game_level`
    WHERE 1=1                        
    AND "uuid" = in_uuid
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_game_level_del_code_game_id`;

delimiter $$
CREATE PROCEDURE `usp_game_level_del_code_game_id`
(
    in_code VARCHAR (500) 
    , in_game_id BINARY(16) 
)

BEGIN
    DELETE 
    FROM `game_level`
    WHERE 1=1                        
    AND lower("code") = lower(in_code)
    AND "game_id" = in_game_id
    ;
END$$
delimiter ;
-- ------------------------------------
-- GET

-- ------------------------------------
-- MODEL: GameLevel - game_level

                       
DROP PROCEDURE IF EXISTS `usp_game_level_get_uuid`;

delimiter $$
CREATE PROCEDURE `usp_game_level_get_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `sort`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `data`
        , `uuid`
        , `game_id`
        , `active`
        , `date_created`
        , `type`
        , `order`
        , `description`
    FROM `game_level`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_level_get_code`;

delimiter $$
CREATE PROCEDURE `usp_game_level_get_code`
(
    in_code VARCHAR (500) 
)
BEGIN
    SELECT
        `status`
        , `sort`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `data`
        , `uuid`
        , `game_id`
        , `active`
        , `date_created`
        , `type`
        , `order`
        , `description`
    FROM `game_level`
    WHERE 1=1
    AND lower(`code`) = lower(in_code)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_level_get_code_game_id`;

delimiter $$
CREATE PROCEDURE `usp_game_level_get_code_game_id`
(
    in_code VARCHAR (500) 
    , in_game_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `sort`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `data`
        , `uuid`
        , `game_id`
        , `active`
        , `date_created`
        , `type`
        , `order`
        , `description`
    FROM `game_level`
    WHERE 1=1
    AND lower(`code`) = lower(in_code)
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_level_get_name`;

delimiter $$
CREATE PROCEDURE `usp_game_level_get_name`
(
    in_name VARCHAR (255) 
)
BEGIN
    SELECT
        `status`
        , `sort`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `data`
        , `uuid`
        , `game_id`
        , `active`
        , `date_created`
        , `type`
        , `order`
        , `description`
    FROM `game_level`
    WHERE 1=1
    AND lower(`name`) = lower(in_name)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_level_get_game_id`;

delimiter $$
CREATE PROCEDURE `usp_game_level_get_game_id`
(
    in_game_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `sort`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `data`
        , `uuid`
        , `game_id`
        , `active`
        , `date_created`
        , `type`
        , `order`
        , `description`
    FROM `game_level`
    WHERE 1=1
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

-- -----------------------------------------------------------------------------
-- PROCS

-- ------------------------------------
-- COUNT

-- ------------------------------------
-- MODEL: GameProfileAchievement - game_profile_achievement

                       
DROP PROCEDURE IF EXISTS `usp_game_profile_achievement_count`;
delimiter $$
CREATE PROCEDURE `usp_game_profile_achievement_count`
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_profile_achievement`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_profile_achievement_count_uuid`;
delimiter $$
CREATE PROCEDURE `usp_game_profile_achievement_count_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_profile_achievement`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_profile_achievement_count_profile_id_code`;
delimiter $$
CREATE PROCEDURE `usp_game_profile_achievement_count_profile_id_code`
(
    in_profile_id BINARY(16) 
    , in_code VARCHAR (500) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_profile_achievement`
    WHERE 1=1
    AND `profile_id` = in_profile_id
    AND lower(`code`) = lower(in_code)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_profile_achievement_count_username`;
delimiter $$
CREATE PROCEDURE `usp_game_profile_achievement_count_username`
(
    in_username VARCHAR (500) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_profile_achievement`
    WHERE 1=1
    AND lower(`username`) = lower(in_username)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_profile_achievement_count_code_profile_id_game_id`;
delimiter $$
CREATE PROCEDURE `usp_game_profile_achievement_count_code_profile_id_game_id`
(
    in_code VARCHAR (500) 
    , in_profile_id BINARY(16) 
    , in_game_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_profile_achievement`
    WHERE 1=1
    AND lower(`code`) = lower(in_code)
    AND `profile_id` = in_profile_id
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_profile_achievement_count_code_profile_id_game_id_time`;
delimiter $$
CREATE PROCEDURE `usp_game_profile_achievement_count_code_profile_id_game_id_time`
(
    in_code VARCHAR (500) 
    , in_profile_id BINARY(16) 
    , in_game_id BINARY(16) 
    , in_timestamp decimal 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_profile_achievement`
    WHERE 1=1
    AND lower(`code`) = lower(in_code)
    AND `profile_id` = in_profile_id
    AND `game_id` = in_game_id
    AND `timestamp` = in_timestamp
    ;
END$$
delimiter ;

-- ------------------------------------
-- BROWSE

-- ------------------------------------
-- MODEL: GameProfileAchievement - game_profile_achievement

                       
DROP PROCEDURE IF EXISTS `usp_game_profile_achievement_browse_filter`;

delimiter $$
CREATE PROCEDURE `usp_game_profile_achievement_browse_filter`
(
    in_page int,
    in_page_size int,
    in_sort VARCHAR(500),
    in_filter VARCHAR(4000)
    
)
BEGIN
    DECLARE total_rows int;
    SET total_rows = 0;
        
    IF (in_page = 0) THEN
        SET in_page = 1;
    END IF;    
    
    IF (in_page_size = 0) THEN
       SET in_page_size = 10;
    END IF;
    
    IF (in_sort = NULL || in_sort = '') THEN
       SET in_sort = ' date_modified ASC ';
    END IF;
    
    SET @sfields = CONCAT('', '`status`');
    SET @sfields = CONCAT(@sfields, ', `username`');
    SET @sfields = CONCAT(@sfields, ', `code`');
    SET @sfields = CONCAT(@sfields, ', `timestamp`');
    SET @sfields = CONCAT(@sfields, ', `completed`');
    SET @sfields = CONCAT(@sfields, ', `profile_id`');
    SET @sfields = CONCAT(@sfields, ', `active`');
    SET @sfields = CONCAT(@sfields, ', `game_id`');
    SET @sfields = CONCAT(@sfields, ', `achievement_value`');
    SET @sfields = CONCAT(@sfields, ', `data`');
    SET @sfields = CONCAT(@sfields, ', `uuid`');
    SET @sfields = CONCAT(@sfields, ', `date_modified`');
    SET @sfields = CONCAT(@sfields, ', `level`');
    SET @sfields = CONCAT(@sfields, ', `date_created`');
    SET @sfields = CONCAT(@sfields, ', `type`');
    
    SET @stable = CONCAT('', ' FROM `game_profile_achievement` WHERE 1=1 ');
    
    SET @s = CONCAT(' ', @stable);
    SET @s = CONCAT(@s, ' ', in_filter);    
    
    SET @scount = CONCAT('SELECT COUNT(*) as `total_rows` ', @s, ' INTO @total_rows');
    
    PREPARE stmtcount FROM @scount;
    EXECUTE stmtcount;
    #SELECT @total_rows;
    SET total_rows = @total_rows;

    SET @sfields = CONCAT(total_rows, ' as `total_rows`, ', @sfields);
    SET @s = CONCAT('SELECT ', @sfields, @s);
    SET @s = CONCAT(@s, ' ORDER BY ', in_sort);
    SET @s = CONCAT(@s, ' LIMIT ', in_page);
    SET @s = CONCAT(@s, ',', in_page_size);    

    PREPARE stmt FROM @s;
    EXECUTE stmt;
    
END$$
delimiter ;
-- ------------------------------------
-- SET

-- ------------------------------------
-- MODEL: GameProfileAchievement - game_profile_achievement

                       
DROP PROCEDURE IF EXISTS `usp_game_profile_achievement_set_uuid`;
delimiter $$
CREATE PROCEDURE `usp_game_profile_achievement_set_uuid`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_username VARCHAR (500) 
    , in_code VARCHAR (500) 
    , in_timestamp decimal 
    , in_completed int 
    , in_profile_id BINARY(16) 
    , in_active int 
    , in_game_id BINARY(16) 
    , in_achievement_value decimal 
    , in_data TEXT 
    , in_uuid BINARY(16) 
    , in_date_modified TIMESTAMP 
    , in_level VARCHAR (500) 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (500) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_profile_achievement`  
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_profile_achievement` 
                    SET
                        `status` = in_status
                        , `username` = in_username
                        , `code` = in_code
                        , `timestamp` = in_timestamp
                        , `completed` = in_completed
                        , `profile_id` = in_profile_id
                        , `active` = in_active
                        , `game_id` = in_game_id
                        , `achievement_value` = in_achievement_value
                        , `data` = in_data
                        , `uuid` = in_uuid
                        , `date_modified` = in_date_modified
                        , `level` = in_level
                        , `date_created` = in_date_created
                        , `type` = in_type
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_profile_achievement`
                    (
                        `status`
                        , `username`
                        , `code`
                        , `timestamp`
                        , `completed`
                        , `profile_id`
                        , `active`
                        , `game_id`
                        , `achievement_value`
                        , `data`
                        , `uuid`
                        , `date_modified`
                        , `level`
                        , `date_created`
                        , `type`
                    )
                    VALUES
                    (
                        in_status
                        , in_username
                        , in_code
                        , in_timestamp
                        , in_completed
                        , in_profile_id
                        , in_active
                        , in_game_id
                        , in_achievement_value
                        , in_data
                        , in_uuid
                        , in_date_modified
                        , in_level
                        , in_date_created
                        , in_type
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_profile_achievement_set_uuid_code`;
delimiter $$
CREATE PROCEDURE `usp_game_profile_achievement_set_uuid_code`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_username VARCHAR (500) 
    , in_code VARCHAR (500) 
    , in_timestamp decimal 
    , in_completed int 
    , in_profile_id BINARY(16) 
    , in_active int 
    , in_game_id BINARY(16) 
    , in_achievement_value decimal 
    , in_data TEXT 
    , in_uuid BINARY(16) 
    , in_date_modified TIMESTAMP 
    , in_level VARCHAR (500) 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (500) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_profile_achievement`  
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    AND lower(`code`) = lower(in_code)
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_profile_achievement` 
                    SET
                        `status` = in_status
                        , `username` = in_username
                        , `code` = in_code
                        , `timestamp` = in_timestamp
                        , `completed` = in_completed
                        , `profile_id` = in_profile_id
                        , `active` = in_active
                        , `game_id` = in_game_id
                        , `achievement_value` = in_achievement_value
                        , `data` = in_data
                        , `uuid` = in_uuid
                        , `date_modified` = in_date_modified
                        , `level` = in_level
                        , `date_created` = in_date_created
                        , `type` = in_type
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    AND lower(`code`) = lower(in_code)
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_profile_achievement`
                    (
                        `status`
                        , `username`
                        , `code`
                        , `timestamp`
                        , `completed`
                        , `profile_id`
                        , `active`
                        , `game_id`
                        , `achievement_value`
                        , `data`
                        , `uuid`
                        , `date_modified`
                        , `level`
                        , `date_created`
                        , `type`
                    )
                    VALUES
                    (
                        in_status
                        , in_username
                        , in_code
                        , in_timestamp
                        , in_completed
                        , in_profile_id
                        , in_active
                        , in_game_id
                        , in_achievement_value
                        , in_data
                        , in_uuid
                        , in_date_modified
                        , in_level
                        , in_date_created
                        , in_type
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_profile_achievement_set_profile_id_code`;
delimiter $$
CREATE PROCEDURE `usp_game_profile_achievement_set_profile_id_code`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_username VARCHAR (500) 
    , in_code VARCHAR (500) 
    , in_timestamp decimal 
    , in_completed int 
    , in_profile_id BINARY(16) 
    , in_active int 
    , in_game_id BINARY(16) 
    , in_achievement_value decimal 
    , in_data TEXT 
    , in_uuid BINARY(16) 
    , in_date_modified TIMESTAMP 
    , in_level VARCHAR (500) 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (500) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_profile_achievement`  
                    WHERE 1=1
                    AND `profile_id` = in_profile_id
                    AND lower(`code`) = lower(in_code)
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_profile_achievement` 
                    SET
                        `status` = in_status
                        , `username` = in_username
                        , `code` = in_code
                        , `timestamp` = in_timestamp
                        , `completed` = in_completed
                        , `profile_id` = in_profile_id
                        , `active` = in_active
                        , `game_id` = in_game_id
                        , `achievement_value` = in_achievement_value
                        , `data` = in_data
                        , `uuid` = in_uuid
                        , `date_modified` = in_date_modified
                        , `level` = in_level
                        , `date_created` = in_date_created
                        , `type` = in_type
                    WHERE 1=1
                    AND `profile_id` = in_profile_id
                    AND lower(`code`) = lower(in_code)
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_profile_achievement`
                    (
                        `status`
                        , `username`
                        , `code`
                        , `timestamp`
                        , `completed`
                        , `profile_id`
                        , `active`
                        , `game_id`
                        , `achievement_value`
                        , `data`
                        , `uuid`
                        , `date_modified`
                        , `level`
                        , `date_created`
                        , `type`
                    )
                    VALUES
                    (
                        in_status
                        , in_username
                        , in_code
                        , in_timestamp
                        , in_completed
                        , in_profile_id
                        , in_active
                        , in_game_id
                        , in_achievement_value
                        , in_data
                        , in_uuid
                        , in_date_modified
                        , in_level
                        , in_date_created
                        , in_type
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_profile_achievement_set_code_profile_id_game_id`;
delimiter $$
CREATE PROCEDURE `usp_game_profile_achievement_set_code_profile_id_game_id`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_username VARCHAR (500) 
    , in_code VARCHAR (500) 
    , in_timestamp decimal 
    , in_completed int 
    , in_profile_id BINARY(16) 
    , in_active int 
    , in_game_id BINARY(16) 
    , in_achievement_value decimal 
    , in_data TEXT 
    , in_uuid BINARY(16) 
    , in_date_modified TIMESTAMP 
    , in_level VARCHAR (500) 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (500) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_profile_achievement`  
                    WHERE 1=1
                    AND lower(`code`) = lower(in_code)
                    AND `profile_id` = in_profile_id
                    AND `game_id` = in_game_id
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_profile_achievement` 
                    SET
                        `status` = in_status
                        , `username` = in_username
                        , `code` = in_code
                        , `timestamp` = in_timestamp
                        , `completed` = in_completed
                        , `profile_id` = in_profile_id
                        , `active` = in_active
                        , `game_id` = in_game_id
                        , `achievement_value` = in_achievement_value
                        , `data` = in_data
                        , `uuid` = in_uuid
                        , `date_modified` = in_date_modified
                        , `level` = in_level
                        , `date_created` = in_date_created
                        , `type` = in_type
                    WHERE 1=1
                    AND lower(`code`) = lower(in_code)
                    AND `profile_id` = in_profile_id
                    AND `game_id` = in_game_id
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_profile_achievement`
                    (
                        `status`
                        , `username`
                        , `code`
                        , `timestamp`
                        , `completed`
                        , `profile_id`
                        , `active`
                        , `game_id`
                        , `achievement_value`
                        , `data`
                        , `uuid`
                        , `date_modified`
                        , `level`
                        , `date_created`
                        , `type`
                    )
                    VALUES
                    (
                        in_status
                        , in_username
                        , in_code
                        , in_timestamp
                        , in_completed
                        , in_profile_id
                        , in_active
                        , in_game_id
                        , in_achievement_value
                        , in_data
                        , in_uuid
                        , in_date_modified
                        , in_level
                        , in_date_created
                        , in_type
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_profile_achievement_set_code_profile_id_game_id_timest`;
delimiter $$
CREATE PROCEDURE `usp_game_profile_achievement_set_code_profile_id_game_id_timest`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_username VARCHAR (500) 
    , in_code VARCHAR (500) 
    , in_timestamp decimal 
    , in_completed int 
    , in_profile_id BINARY(16) 
    , in_active int 
    , in_game_id BINARY(16) 
    , in_achievement_value decimal 
    , in_data TEXT 
    , in_uuid BINARY(16) 
    , in_date_modified TIMESTAMP 
    , in_level VARCHAR (500) 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (500) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_profile_achievement`  
                    WHERE 1=1
                    AND lower(`code`) = lower(in_code)
                    AND `profile_id` = in_profile_id
                    AND `game_id` = in_game_id
                    AND `timestamp` = in_timestamp
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_profile_achievement` 
                    SET
                        `status` = in_status
                        , `username` = in_username
                        , `code` = in_code
                        , `timestamp` = in_timestamp
                        , `completed` = in_completed
                        , `profile_id` = in_profile_id
                        , `active` = in_active
                        , `game_id` = in_game_id
                        , `achievement_value` = in_achievement_value
                        , `data` = in_data
                        , `uuid` = in_uuid
                        , `date_modified` = in_date_modified
                        , `level` = in_level
                        , `date_created` = in_date_created
                        , `type` = in_type
                    WHERE 1=1
                    AND lower(`code`) = lower(in_code)
                    AND `profile_id` = in_profile_id
                    AND `game_id` = in_game_id
                    AND `timestamp` = in_timestamp
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_profile_achievement`
                    (
                        `status`
                        , `username`
                        , `code`
                        , `timestamp`
                        , `completed`
                        , `profile_id`
                        , `active`
                        , `game_id`
                        , `achievement_value`
                        , `data`
                        , `uuid`
                        , `date_modified`
                        , `level`
                        , `date_created`
                        , `type`
                    )
                    VALUES
                    (
                        in_status
                        , in_username
                        , in_code
                        , in_timestamp
                        , in_completed
                        , in_profile_id
                        , in_active
                        , in_game_id
                        , in_achievement_value
                        , in_data
                        , in_uuid
                        , in_date_modified
                        , in_level
                        , in_date_created
                        , in_type
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

-- ------------------------------------
-- DEL

-- ------------------------------------
-- MODEL: GameProfileAchievement - game_profile_achievement

                       
DROP PROCEDURE IF EXISTS `usp_game_profile_achievement_del_uuid`;

delimiter $$
CREATE PROCEDURE `usp_game_profile_achievement_del_uuid`
(
    in_uuid BINARY(16) 
)

BEGIN
    DELETE 
    FROM `game_profile_achievement`
    WHERE 1=1                        
    AND "uuid" = in_uuid
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_game_profile_achievement_del_profile_id_code`;

delimiter $$
CREATE PROCEDURE `usp_game_profile_achievement_del_profile_id_code`
(
    in_profile_id BINARY(16) 
    , in_code VARCHAR (500) 
)

BEGIN
    DELETE 
    FROM `game_profile_achievement`
    WHERE 1=1                        
    AND "profile_id" = in_profile_id
    AND lower("code") = lower(in_code)
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_game_profile_achievement_del_uuid_code`;

delimiter $$
CREATE PROCEDURE `usp_game_profile_achievement_del_uuid_code`
(
    in_uuid BINARY(16) 
    , in_code VARCHAR (500) 
)

BEGIN
    DELETE 
    FROM `game_profile_achievement`
    WHERE 1=1                        
    AND "uuid" = in_uuid
    AND lower("code") = lower(in_code)
    ;
END$$
delimiter ;
-- ------------------------------------
-- GET

-- ------------------------------------
-- MODEL: GameProfileAchievement - game_profile_achievement

                       
DROP PROCEDURE IF EXISTS `usp_game_profile_achievement_get_uuid`;

delimiter $$
CREATE PROCEDURE `usp_game_profile_achievement_get_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `username`
        , `code`
        , `timestamp`
        , `completed`
        , `profile_id`
        , `active`
        , `game_id`
        , `achievement_value`
        , `data`
        , `uuid`
        , `date_modified`
        , `level`
        , `date_created`
        , `type`
    FROM `game_profile_achievement`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_profile_achievement_get_profile_id_code`;

delimiter $$
CREATE PROCEDURE `usp_game_profile_achievement_get_profile_id_code`
(
    in_profile_id BINARY(16) 
    , in_code VARCHAR (500) 
)
BEGIN
    SELECT
        `status`
        , `username`
        , `code`
        , `timestamp`
        , `completed`
        , `profile_id`
        , `active`
        , `game_id`
        , `achievement_value`
        , `data`
        , `uuid`
        , `date_modified`
        , `level`
        , `date_created`
        , `type`
    FROM `game_profile_achievement`
    WHERE 1=1
    AND `profile_id` = in_profile_id
    AND lower(`code`) = lower(in_code)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_profile_achievement_get_username`;

delimiter $$
CREATE PROCEDURE `usp_game_profile_achievement_get_username`
(
    in_username VARCHAR (500) 
)
BEGIN
    SELECT
        `status`
        , `username`
        , `code`
        , `timestamp`
        , `completed`
        , `profile_id`
        , `active`
        , `game_id`
        , `achievement_value`
        , `data`
        , `uuid`
        , `date_modified`
        , `level`
        , `date_created`
        , `type`
    FROM `game_profile_achievement`
    WHERE 1=1
    AND lower(`username`) = lower(in_username)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_profile_achievement_get_code`;

delimiter $$
CREATE PROCEDURE `usp_game_profile_achievement_get_code`
(
    in_code VARCHAR (500) 
)
BEGIN
    SELECT
        `status`
        , `username`
        , `code`
        , `timestamp`
        , `completed`
        , `profile_id`
        , `active`
        , `game_id`
        , `achievement_value`
        , `data`
        , `uuid`
        , `date_modified`
        , `level`
        , `date_created`
        , `type`
    FROM `game_profile_achievement`
    WHERE 1=1
    AND lower(`code`) = lower(in_code)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_profile_achievement_get_game_id`;

delimiter $$
CREATE PROCEDURE `usp_game_profile_achievement_get_game_id`
(
    in_game_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `username`
        , `code`
        , `timestamp`
        , `completed`
        , `profile_id`
        , `active`
        , `game_id`
        , `achievement_value`
        , `data`
        , `uuid`
        , `date_modified`
        , `level`
        , `date_created`
        , `type`
    FROM `game_profile_achievement`
    WHERE 1=1
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_profile_achievement_get_code_game_id`;

delimiter $$
CREATE PROCEDURE `usp_game_profile_achievement_get_code_game_id`
(
    in_code VARCHAR (500) 
    , in_game_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `username`
        , `code`
        , `timestamp`
        , `completed`
        , `profile_id`
        , `active`
        , `game_id`
        , `achievement_value`
        , `data`
        , `uuid`
        , `date_modified`
        , `level`
        , `date_created`
        , `type`
    FROM `game_profile_achievement`
    WHERE 1=1
    AND lower(`code`) = lower(in_code)
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_profile_achievement_get_profile_id_game_id`;

delimiter $$
CREATE PROCEDURE `usp_game_profile_achievement_get_profile_id_game_id`
(
    in_profile_id BINARY(16) 
    , in_game_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `username`
        , `code`
        , `timestamp`
        , `completed`
        , `profile_id`
        , `active`
        , `game_id`
        , `achievement_value`
        , `data`
        , `uuid`
        , `date_modified`
        , `level`
        , `date_created`
        , `type`
    FROM `game_profile_achievement`
    WHERE 1=1
    AND `profile_id` = in_profile_id
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_profile_achievement_get_profile_id_game_id_timestamp`;

delimiter $$
CREATE PROCEDURE `usp_game_profile_achievement_get_profile_id_game_id_timestamp`
(
    in_profile_id BINARY(16) 
    , in_game_id BINARY(16) 
    , in_timestamp decimal 
)
BEGIN
    SELECT
        `status`
        , `username`
        , `code`
        , `timestamp`
        , `completed`
        , `profile_id`
        , `active`
        , `game_id`
        , `achievement_value`
        , `data`
        , `uuid`
        , `date_modified`
        , `level`
        , `date_created`
        , `type`
    FROM `game_profile_achievement`
    WHERE 1=1
    AND `profile_id` = in_profile_id
    AND `game_id` = in_game_id
    AND `timestamp` = in_timestamp
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_profile_achievement_get_code_profile_id_game_id`;

delimiter $$
CREATE PROCEDURE `usp_game_profile_achievement_get_code_profile_id_game_id`
(
    in_code VARCHAR (500) 
    , in_profile_id BINARY(16) 
    , in_game_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `username`
        , `code`
        , `timestamp`
        , `completed`
        , `profile_id`
        , `active`
        , `game_id`
        , `achievement_value`
        , `data`
        , `uuid`
        , `date_modified`
        , `level`
        , `date_created`
        , `type`
    FROM `game_profile_achievement`
    WHERE 1=1
    AND lower(`code`) = lower(in_code)
    AND `profile_id` = in_profile_id
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_profile_achievement_get_code_profile_id_game_id_timest`;

delimiter $$
CREATE PROCEDURE `usp_game_profile_achievement_get_code_profile_id_game_id_timest`
(
    in_code VARCHAR (500) 
    , in_profile_id BINARY(16) 
    , in_game_id BINARY(16) 
    , in_timestamp decimal 
)
BEGIN
    SELECT
        `status`
        , `username`
        , `code`
        , `timestamp`
        , `completed`
        , `profile_id`
        , `active`
        , `game_id`
        , `achievement_value`
        , `data`
        , `uuid`
        , `date_modified`
        , `level`
        , `date_created`
        , `type`
    FROM `game_profile_achievement`
    WHERE 1=1
    AND lower(`code`) = lower(in_code)
    AND `profile_id` = in_profile_id
    AND `game_id` = in_game_id
    AND `timestamp` = in_timestamp
    ;
END$$
delimiter ;

-- -----------------------------------------------------------------------------
-- PROCS

-- ------------------------------------
-- COUNT

-- ------------------------------------
-- MODEL: GameAchievementMeta - game_achievement_meta

                       
DROP PROCEDURE IF EXISTS `usp_game_achievement_meta_count`;
delimiter $$
CREATE PROCEDURE `usp_game_achievement_meta_count`
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_achievement_meta`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_achievement_meta_count_uuid`;
delimiter $$
CREATE PROCEDURE `usp_game_achievement_meta_count_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_achievement_meta`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_achievement_meta_count_code`;
delimiter $$
CREATE PROCEDURE `usp_game_achievement_meta_count_code`
(
    in_code VARCHAR (500) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_achievement_meta`
    WHERE 1=1
    AND lower(`code`) = lower(in_code)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_achievement_meta_count_code_game_id`;
delimiter $$
CREATE PROCEDURE `usp_game_achievement_meta_count_code_game_id`
(
    in_code VARCHAR (500) 
    , in_game_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_achievement_meta`
    WHERE 1=1
    AND lower(`code`) = lower(in_code)
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_achievement_meta_count_name`;
delimiter $$
CREATE PROCEDURE `usp_game_achievement_meta_count_name`
(
    in_name VARCHAR (255) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_achievement_meta`
    WHERE 1=1
    AND lower(`name`) = lower(in_name)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_achievement_meta_count_game_id`;
delimiter $$
CREATE PROCEDURE `usp_game_achievement_meta_count_game_id`
(
    in_game_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_achievement_meta`
    WHERE 1=1
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

-- ------------------------------------
-- BROWSE

-- ------------------------------------
-- MODEL: GameAchievementMeta - game_achievement_meta

                       
DROP PROCEDURE IF EXISTS `usp_game_achievement_meta_browse_filter`;

delimiter $$
CREATE PROCEDURE `usp_game_achievement_meta_browse_filter`
(
    in_page int,
    in_page_size int,
    in_sort VARCHAR(500),
    in_filter VARCHAR(4000)
    
)
BEGIN
    DECLARE total_rows int;
    SET total_rows = 0;
        
    IF (in_page = 0) THEN
        SET in_page = 1;
    END IF;    
    
    IF (in_page_size = 0) THEN
       SET in_page_size = 10;
    END IF;
    
    IF (in_sort = NULL || in_sort = '') THEN
       SET in_sort = ' date_modified ASC ';
    END IF;
    
    SET @sfields = CONCAT('', '`status`');
    SET @sfields = CONCAT(@sfields, ', `sort`');
    SET @sfields = CONCAT(@sfields, ', `code`');
    SET @sfields = CONCAT(@sfields, ', `display_name`');
    SET @sfields = CONCAT(@sfields, ', `name`');
    SET @sfields = CONCAT(@sfields, ', `game_stat`');
    SET @sfields = CONCAT(@sfields, ', `date_modified`');
    SET @sfields = CONCAT(@sfields, ', `data`');
    SET @sfields = CONCAT(@sfields, ', `level`');
    SET @sfields = CONCAT(@sfields, ', `uuid`');
    SET @sfields = CONCAT(@sfields, ', `points`');
    SET @sfields = CONCAT(@sfields, ', `game_id`');
    SET @sfields = CONCAT(@sfields, ', `active`');
    SET @sfields = CONCAT(@sfields, ', `date_created`');
    SET @sfields = CONCAT(@sfields, ', `modifier`');
    SET @sfields = CONCAT(@sfields, ', `type`');
    SET @sfields = CONCAT(@sfields, ', `leaderboard`');
    SET @sfields = CONCAT(@sfields, ', `description`');
    
    SET @stable = CONCAT('', ' FROM `game_achievement_meta` WHERE 1=1 ');
    
    SET @s = CONCAT(' ', @stable);
    SET @s = CONCAT(@s, ' ', in_filter);    
    
    SET @scount = CONCAT('SELECT COUNT(*) as `total_rows` ', @s, ' INTO @total_rows');
    
    PREPARE stmtcount FROM @scount;
    EXECUTE stmtcount;
    #SELECT @total_rows;
    SET total_rows = @total_rows;

    SET @sfields = CONCAT(total_rows, ' as `total_rows`, ', @sfields);
    SET @s = CONCAT('SELECT ', @sfields, @s);
    SET @s = CONCAT(@s, ' ORDER BY ', in_sort);
    SET @s = CONCAT(@s, ' LIMIT ', in_page);
    SET @s = CONCAT(@s, ',', in_page_size);    

    PREPARE stmt FROM @s;
    EXECUTE stmt;
    
END$$
delimiter ;
-- ------------------------------------
-- SET

-- ------------------------------------
-- MODEL: GameAchievementMeta - game_achievement_meta

                       
DROP PROCEDURE IF EXISTS `usp_game_achievement_meta_set_uuid`;
delimiter $$
CREATE PROCEDURE `usp_game_achievement_meta_set_uuid`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_sort INTEGER 
    , in_code VARCHAR (500) 
    , in_display_name VARCHAR (255) 
    , in_name VARCHAR (255) 
    , in_game_stat int 
    , in_date_modified TIMESTAMP 
    , in_data TEXT 
    , in_level VARCHAR (500) 
    , in_uuid BINARY(16) 
    , in_points INTEGER 
    , in_game_id BINARY(16) 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_modifier decimal 
    , in_type VARCHAR (40) 
    , in_leaderboard int 
    , in_description VARCHAR (255) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_achievement_meta`  
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_achievement_meta` 
                    SET
                        `status` = in_status
                        , `sort` = in_sort
                        , `code` = in_code
                        , `display_name` = in_display_name
                        , `name` = in_name
                        , `game_stat` = in_game_stat
                        , `date_modified` = in_date_modified
                        , `data` = in_data
                        , `level` = in_level
                        , `uuid` = in_uuid
                        , `points` = in_points
                        , `game_id` = in_game_id
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `modifier` = in_modifier
                        , `type` = in_type
                        , `leaderboard` = in_leaderboard
                        , `description` = in_description
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_achievement_meta`
                    (
                        `status`
                        , `sort`
                        , `code`
                        , `display_name`
                        , `name`
                        , `game_stat`
                        , `date_modified`
                        , `data`
                        , `level`
                        , `uuid`
                        , `points`
                        , `game_id`
                        , `active`
                        , `date_created`
                        , `modifier`
                        , `type`
                        , `leaderboard`
                        , `description`
                    )
                    VALUES
                    (
                        in_status
                        , in_sort
                        , in_code
                        , in_display_name
                        , in_name
                        , in_game_stat
                        , in_date_modified
                        , in_data
                        , in_level
                        , in_uuid
                        , in_points
                        , in_game_id
                        , in_active
                        , in_date_created
                        , in_modifier
                        , in_type
                        , in_leaderboard
                        , in_description
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_achievement_meta_set_code_game_id`;
delimiter $$
CREATE PROCEDURE `usp_game_achievement_meta_set_code_game_id`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_sort INTEGER 
    , in_code VARCHAR (500) 
    , in_display_name VARCHAR (255) 
    , in_name VARCHAR (255) 
    , in_game_stat int 
    , in_date_modified TIMESTAMP 
    , in_data TEXT 
    , in_level VARCHAR (500) 
    , in_uuid BINARY(16) 
    , in_points INTEGER 
    , in_game_id BINARY(16) 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_modifier decimal 
    , in_type VARCHAR (40) 
    , in_leaderboard int 
    , in_description VARCHAR (255) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_achievement_meta`  
                    WHERE 1=1
                    AND lower(`code`) = lower(in_code)
                    AND `game_id` = in_game_id
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_achievement_meta` 
                    SET
                        `status` = in_status
                        , `sort` = in_sort
                        , `code` = in_code
                        , `display_name` = in_display_name
                        , `name` = in_name
                        , `game_stat` = in_game_stat
                        , `date_modified` = in_date_modified
                        , `data` = in_data
                        , `level` = in_level
                        , `uuid` = in_uuid
                        , `points` = in_points
                        , `game_id` = in_game_id
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `modifier` = in_modifier
                        , `type` = in_type
                        , `leaderboard` = in_leaderboard
                        , `description` = in_description
                    WHERE 1=1
                    AND lower(`code`) = lower(in_code)
                    AND `game_id` = in_game_id
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_achievement_meta`
                    (
                        `status`
                        , `sort`
                        , `code`
                        , `display_name`
                        , `name`
                        , `game_stat`
                        , `date_modified`
                        , `data`
                        , `level`
                        , `uuid`
                        , `points`
                        , `game_id`
                        , `active`
                        , `date_created`
                        , `modifier`
                        , `type`
                        , `leaderboard`
                        , `description`
                    )
                    VALUES
                    (
                        in_status
                        , in_sort
                        , in_code
                        , in_display_name
                        , in_name
                        , in_game_stat
                        , in_date_modified
                        , in_data
                        , in_level
                        , in_uuid
                        , in_points
                        , in_game_id
                        , in_active
                        , in_date_created
                        , in_modifier
                        , in_type
                        , in_leaderboard
                        , in_description
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

-- ------------------------------------
-- DEL

-- ------------------------------------
-- MODEL: GameAchievementMeta - game_achievement_meta

                       
DROP PROCEDURE IF EXISTS `usp_game_achievement_meta_del_uuid`;

delimiter $$
CREATE PROCEDURE `usp_game_achievement_meta_del_uuid`
(
    in_uuid BINARY(16) 
)

BEGIN
    DELETE 
    FROM `game_achievement_meta`
    WHERE 1=1                        
    AND "uuid" = in_uuid
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_game_achievement_meta_del_code_game_id`;

delimiter $$
CREATE PROCEDURE `usp_game_achievement_meta_del_code_game_id`
(
    in_code VARCHAR (500) 
    , in_game_id BINARY(16) 
)

BEGIN
    DELETE 
    FROM `game_achievement_meta`
    WHERE 1=1                        
    AND lower("code") = lower(in_code)
    AND "game_id" = in_game_id
    ;
END$$
delimiter ;
-- ------------------------------------
-- GET

-- ------------------------------------
-- MODEL: GameAchievementMeta - game_achievement_meta

                       
DROP PROCEDURE IF EXISTS `usp_game_achievement_meta_get_uuid`;

delimiter $$
CREATE PROCEDURE `usp_game_achievement_meta_get_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `sort`
        , `code`
        , `display_name`
        , `name`
        , `game_stat`
        , `date_modified`
        , `data`
        , `level`
        , `uuid`
        , `points`
        , `game_id`
        , `active`
        , `date_created`
        , `modifier`
        , `type`
        , `leaderboard`
        , `description`
    FROM `game_achievement_meta`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_achievement_meta_get_code`;

delimiter $$
CREATE PROCEDURE `usp_game_achievement_meta_get_code`
(
    in_code VARCHAR (500) 
)
BEGIN
    SELECT
        `status`
        , `sort`
        , `code`
        , `display_name`
        , `name`
        , `game_stat`
        , `date_modified`
        , `data`
        , `level`
        , `uuid`
        , `points`
        , `game_id`
        , `active`
        , `date_created`
        , `modifier`
        , `type`
        , `leaderboard`
        , `description`
    FROM `game_achievement_meta`
    WHERE 1=1
    AND lower(`code`) = lower(in_code)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_achievement_meta_get_code_game_id`;

delimiter $$
CREATE PROCEDURE `usp_game_achievement_meta_get_code_game_id`
(
    in_code VARCHAR (500) 
    , in_game_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `sort`
        , `code`
        , `display_name`
        , `name`
        , `game_stat`
        , `date_modified`
        , `data`
        , `level`
        , `uuid`
        , `points`
        , `game_id`
        , `active`
        , `date_created`
        , `modifier`
        , `type`
        , `leaderboard`
        , `description`
    FROM `game_achievement_meta`
    WHERE 1=1
    AND lower(`code`) = lower(in_code)
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_achievement_meta_get_name`;

delimiter $$
CREATE PROCEDURE `usp_game_achievement_meta_get_name`
(
    in_name VARCHAR (255) 
)
BEGIN
    SELECT
        `status`
        , `sort`
        , `code`
        , `display_name`
        , `name`
        , `game_stat`
        , `date_modified`
        , `data`
        , `level`
        , `uuid`
        , `points`
        , `game_id`
        , `active`
        , `date_created`
        , `modifier`
        , `type`
        , `leaderboard`
        , `description`
    FROM `game_achievement_meta`
    WHERE 1=1
    AND lower(`name`) = lower(in_name)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_achievement_meta_get_game_id`;

delimiter $$
CREATE PROCEDURE `usp_game_achievement_meta_get_game_id`
(
    in_game_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `sort`
        , `code`
        , `display_name`
        , `name`
        , `game_stat`
        , `date_modified`
        , `data`
        , `level`
        , `uuid`
        , `points`
        , `game_id`
        , `active`
        , `date_created`
        , `modifier`
        , `type`
        , `leaderboard`
        , `description`
    FROM `game_achievement_meta`
    WHERE 1=1
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

-- -----------------------------------------------------------------------------
-- PROCS

-- ------------------------------------
-- COUNT

-- ------------------------------------
-- MODEL: ProfileReward - profile_reward

                       
DROP PROCEDURE IF EXISTS `usp_profile_reward_count`;
delimiter $$
CREATE PROCEDURE `usp_profile_reward_count`
BEGIN
    SELECT
        COUNT(*) as count
    FROM `profile_reward`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_reward_count_uuid`;
delimiter $$
CREATE PROCEDURE `usp_profile_reward_count_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `profile_reward`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_reward_count_profile_id`;
delimiter $$
CREATE PROCEDURE `usp_profile_reward_count_profile_id`
(
    in_profile_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `profile_reward`
    WHERE 1=1
    AND `profile_id` = in_profile_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_reward_count_reward_id`;
delimiter $$
CREATE PROCEDURE `usp_profile_reward_count_reward_id`
(
    in_reward_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `profile_reward`
    WHERE 1=1
    AND `reward_id` = in_reward_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_reward_count_profile_id_reward_id`;
delimiter $$
CREATE PROCEDURE `usp_profile_reward_count_profile_id_reward_id`
(
    in_profile_id BINARY(16) 
    , in_reward_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `profile_reward`
    WHERE 1=1
    AND `profile_id` = in_profile_id
    AND `reward_id` = in_reward_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_reward_count_profile_id_channel_id`;
delimiter $$
CREATE PROCEDURE `usp_profile_reward_count_profile_id_channel_id`
(
    in_profile_id BINARY(16) 
    , in_channel_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `profile_reward`
    WHERE 1=1
    AND `profile_id` = in_profile_id
    AND `channel_id` = in_channel_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_reward_count_profile_id_channel_id_reward_id`;
delimiter $$
CREATE PROCEDURE `usp_profile_reward_count_profile_id_channel_id_reward_id`
(
    in_profile_id BINARY(16) 
    , in_channel_id BINARY(16) 
    , in_reward_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `profile_reward`
    WHERE 1=1
    AND `profile_id` = in_profile_id
    AND `channel_id` = in_channel_id
    AND `reward_id` = in_reward_id
    ;
END$$
delimiter ;

-- ------------------------------------
-- BROWSE

-- ------------------------------------
-- MODEL: ProfileReward - profile_reward

                       
DROP PROCEDURE IF EXISTS `usp_profile_reward_browse_filter`;

delimiter $$
CREATE PROCEDURE `usp_profile_reward_browse_filter`
(
    in_page int,
    in_page_size int,
    in_sort VARCHAR(500),
    in_filter VARCHAR(4000)
    
)
BEGIN
    DECLARE total_rows int;
    SET total_rows = 0;
        
    IF (in_page = 0) THEN
        SET in_page = 1;
    END IF;    
    
    IF (in_page_size = 0) THEN
       SET in_page_size = 10;
    END IF;
    
    IF (in_sort = NULL || in_sort = '') THEN
       SET in_sort = ' date_modified ASC ';
    END IF;
    
    SET @sfields = CONCAT('', '`status`');
    SET @sfields = CONCAT(@sfields, ', `code`');
    SET @sfields = CONCAT(@sfields, ', `display_name`');
    SET @sfields = CONCAT(@sfields, ', `name`');
    SET @sfields = CONCAT(@sfields, ', `viewed`');
    SET @sfields = CONCAT(@sfields, ', `date_modified`');
    SET @sfields = CONCAT(@sfields, ', `data`');
    SET @sfields = CONCAT(@sfields, ', `profile_id`');
    SET @sfields = CONCAT(@sfields, ', `uuid`');
    SET @sfields = CONCAT(@sfields, ', `downloaded`');
    SET @sfields = CONCAT(@sfields, ', `channel_id`');
    SET @sfields = CONCAT(@sfields, ', `reward_id`');
    SET @sfields = CONCAT(@sfields, ', `usage_count`');
    SET @sfields = CONCAT(@sfields, ', `active`');
    SET @sfields = CONCAT(@sfields, ', `date_created`');
    SET @sfields = CONCAT(@sfields, ', `type`');
    SET @sfields = CONCAT(@sfields, ', `blurb`');
    SET @sfields = CONCAT(@sfields, ', `description`');
    
    SET @stable = CONCAT('', ' FROM `profile_reward` WHERE 1=1 ');
    
    SET @s = CONCAT(' ', @stable);
    SET @s = CONCAT(@s, ' ', in_filter);    
    
    SET @scount = CONCAT('SELECT COUNT(*) as `total_rows` ', @s, ' INTO @total_rows');
    
    PREPARE stmtcount FROM @scount;
    EXECUTE stmtcount;
    #SELECT @total_rows;
    SET total_rows = @total_rows;

    SET @sfields = CONCAT(total_rows, ' as `total_rows`, ', @sfields);
    SET @s = CONCAT('SELECT ', @sfields, @s);
    SET @s = CONCAT(@s, ' ORDER BY ', in_sort);
    SET @s = CONCAT(@s, ' LIMIT ', in_page);
    SET @s = CONCAT(@s, ',', in_page_size);    

    PREPARE stmt FROM @s;
    EXECUTE stmt;
    
END$$
delimiter ;
-- ------------------------------------
-- SET

-- ------------------------------------
-- MODEL: ProfileReward - profile_reward

                       
DROP PROCEDURE IF EXISTS `usp_profile_reward_set_uuid`;
delimiter $$
CREATE PROCEDURE `usp_profile_reward_set_uuid`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_code VARCHAR (255) 
    , in_display_name VARCHAR (255) 
    , in_name VARCHAR (255) 
    , in_viewed int 
    , in_date_modified TIMESTAMP 
    , in_data TEXT 
    , in_profile_id BINARY(16) 
    , in_uuid BINARY(16) 
    , in_downloaded int 
    , in_channel_id BINARY(16) 
    , in_reward_id BINARY(16) 
    , in_usage_count INTEGER 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (500) 
    , in_blurb VARCHAR (2000) 
    , in_description VARCHAR (255) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `profile_reward`  
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `profile_reward` 
                    SET
                        `status` = in_status
                        , `code` = in_code
                        , `display_name` = in_display_name
                        , `name` = in_name
                        , `viewed` = in_viewed
                        , `date_modified` = in_date_modified
                        , `data` = in_data
                        , `profile_id` = in_profile_id
                        , `uuid` = in_uuid
                        , `downloaded` = in_downloaded
                        , `channel_id` = in_channel_id
                        , `reward_id` = in_reward_id
                        , `usage_count` = in_usage_count
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `type` = in_type
                        , `blurb` = in_blurb
                        , `description` = in_description
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `profile_reward`
                    (
                        `status`
                        , `code`
                        , `display_name`
                        , `name`
                        , `viewed`
                        , `date_modified`
                        , `data`
                        , `profile_id`
                        , `uuid`
                        , `downloaded`
                        , `channel_id`
                        , `reward_id`
                        , `usage_count`
                        , `active`
                        , `date_created`
                        , `type`
                        , `blurb`
                        , `description`
                    )
                    VALUES
                    (
                        in_status
                        , in_code
                        , in_display_name
                        , in_name
                        , in_viewed
                        , in_date_modified
                        , in_data
                        , in_profile_id
                        , in_uuid
                        , in_downloaded
                        , in_channel_id
                        , in_reward_id
                        , in_usage_count
                        , in_active
                        , in_date_created
                        , in_type
                        , in_blurb
                        , in_description
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_reward_set_profile_id_channel_id_reward_id`;
delimiter $$
CREATE PROCEDURE `usp_profile_reward_set_profile_id_channel_id_reward_id`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_code VARCHAR (255) 
    , in_display_name VARCHAR (255) 
    , in_name VARCHAR (255) 
    , in_viewed int 
    , in_date_modified TIMESTAMP 
    , in_data TEXT 
    , in_profile_id BINARY(16) 
    , in_uuid BINARY(16) 
    , in_downloaded int 
    , in_channel_id BINARY(16) 
    , in_reward_id BINARY(16) 
    , in_usage_count INTEGER 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (500) 
    , in_blurb VARCHAR (2000) 
    , in_description VARCHAR (255) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `profile_reward`  
                    WHERE 1=1
                    AND `profile_id` = in_profile_id
                    AND `channel_id` = in_channel_id
                    AND `reward_id` = in_reward_id
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `profile_reward` 
                    SET
                        `status` = in_status
                        , `code` = in_code
                        , `display_name` = in_display_name
                        , `name` = in_name
                        , `viewed` = in_viewed
                        , `date_modified` = in_date_modified
                        , `data` = in_data
                        , `profile_id` = in_profile_id
                        , `uuid` = in_uuid
                        , `downloaded` = in_downloaded
                        , `channel_id` = in_channel_id
                        , `reward_id` = in_reward_id
                        , `usage_count` = in_usage_count
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `type` = in_type
                        , `blurb` = in_blurb
                        , `description` = in_description
                    WHERE 1=1
                    AND `profile_id` = in_profile_id
                    AND `channel_id` = in_channel_id
                    AND `reward_id` = in_reward_id
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `profile_reward`
                    (
                        `status`
                        , `code`
                        , `display_name`
                        , `name`
                        , `viewed`
                        , `date_modified`
                        , `data`
                        , `profile_id`
                        , `uuid`
                        , `downloaded`
                        , `channel_id`
                        , `reward_id`
                        , `usage_count`
                        , `active`
                        , `date_created`
                        , `type`
                        , `blurb`
                        , `description`
                    )
                    VALUES
                    (
                        in_status
                        , in_code
                        , in_display_name
                        , in_name
                        , in_viewed
                        , in_date_modified
                        , in_data
                        , in_profile_id
                        , in_uuid
                        , in_downloaded
                        , in_channel_id
                        , in_reward_id
                        , in_usage_count
                        , in_active
                        , in_date_created
                        , in_type
                        , in_blurb
                        , in_description
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

-- ------------------------------------
-- DEL

-- ------------------------------------
-- MODEL: ProfileReward - profile_reward

                       
DROP PROCEDURE IF EXISTS `usp_profile_reward_del_uuid`;

delimiter $$
CREATE PROCEDURE `usp_profile_reward_del_uuid`
(
    in_uuid BINARY(16) 
)

BEGIN
    DELETE 
    FROM `profile_reward`
    WHERE 1=1                        
    AND "uuid" = in_uuid
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_profile_reward_del_profile_id_reward_id`;

delimiter $$
CREATE PROCEDURE `usp_profile_reward_del_profile_id_reward_id`
(
    in_profile_id BINARY(16) 
    , in_reward_id BINARY(16) 
)

BEGIN
    DELETE 
    FROM `profile_reward`
    WHERE 1=1                        
    AND "profile_id" = in_profile_id
    AND "reward_id" = in_reward_id
    ;
END$$
delimiter ;
-- ------------------------------------
-- GET

-- ------------------------------------
-- MODEL: ProfileReward - profile_reward

                       
DROP PROCEDURE IF EXISTS `usp_profile_reward_get_uuid`;

delimiter $$
CREATE PROCEDURE `usp_profile_reward_get_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `viewed`
        , `date_modified`
        , `data`
        , `profile_id`
        , `uuid`
        , `downloaded`
        , `channel_id`
        , `reward_id`
        , `usage_count`
        , `active`
        , `date_created`
        , `type`
        , `blurb`
        , `description`
    FROM `profile_reward`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_reward_get_profile_id`;

delimiter $$
CREATE PROCEDURE `usp_profile_reward_get_profile_id`
(
    in_profile_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `viewed`
        , `date_modified`
        , `data`
        , `profile_id`
        , `uuid`
        , `downloaded`
        , `channel_id`
        , `reward_id`
        , `usage_count`
        , `active`
        , `date_created`
        , `type`
        , `blurb`
        , `description`
    FROM `profile_reward`
    WHERE 1=1
    AND `profile_id` = in_profile_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_reward_get_reward_id`;

delimiter $$
CREATE PROCEDURE `usp_profile_reward_get_reward_id`
(
    in_reward_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `viewed`
        , `date_modified`
        , `data`
        , `profile_id`
        , `uuid`
        , `downloaded`
        , `channel_id`
        , `reward_id`
        , `usage_count`
        , `active`
        , `date_created`
        , `type`
        , `blurb`
        , `description`
    FROM `profile_reward`
    WHERE 1=1
    AND `reward_id` = in_reward_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_reward_get_profile_id_reward_id`;

delimiter $$
CREATE PROCEDURE `usp_profile_reward_get_profile_id_reward_id`
(
    in_profile_id BINARY(16) 
    , in_reward_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `viewed`
        , `date_modified`
        , `data`
        , `profile_id`
        , `uuid`
        , `downloaded`
        , `channel_id`
        , `reward_id`
        , `usage_count`
        , `active`
        , `date_created`
        , `type`
        , `blurb`
        , `description`
    FROM `profile_reward`
    WHERE 1=1
    AND `profile_id` = in_profile_id
    AND `reward_id` = in_reward_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_reward_get_profile_id_channel_id`;

delimiter $$
CREATE PROCEDURE `usp_profile_reward_get_profile_id_channel_id`
(
    in_profile_id BINARY(16) 
    , in_channel_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `viewed`
        , `date_modified`
        , `data`
        , `profile_id`
        , `uuid`
        , `downloaded`
        , `channel_id`
        , `reward_id`
        , `usage_count`
        , `active`
        , `date_created`
        , `type`
        , `blurb`
        , `description`
    FROM `profile_reward`
    WHERE 1=1
    AND `profile_id` = in_profile_id
    AND `channel_id` = in_channel_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_reward_get_profile_id_channel_id_reward_id`;

delimiter $$
CREATE PROCEDURE `usp_profile_reward_get_profile_id_channel_id_reward_id`
(
    in_profile_id BINARY(16) 
    , in_channel_id BINARY(16) 
    , in_reward_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `viewed`
        , `date_modified`
        , `data`
        , `profile_id`
        , `uuid`
        , `downloaded`
        , `channel_id`
        , `reward_id`
        , `usage_count`
        , `active`
        , `date_created`
        , `type`
        , `blurb`
        , `description`
    FROM `profile_reward`
    WHERE 1=1
    AND `profile_id` = in_profile_id
    AND `channel_id` = in_channel_id
    AND `reward_id` = in_reward_id
    ;
END$$
delimiter ;

-- -----------------------------------------------------------------------------
-- PROCS

-- ------------------------------------
-- COUNT

-- ------------------------------------
-- MODEL: Coupon - coupon

                       
DROP PROCEDURE IF EXISTS `usp_coupon_count`;
delimiter $$
CREATE PROCEDURE `usp_coupon_count`
BEGIN
    SELECT
        COUNT(*) as count
    FROM `coupon`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_coupon_count_uuid`;
delimiter $$
CREATE PROCEDURE `usp_coupon_count_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `coupon`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_coupon_count_code`;
delimiter $$
CREATE PROCEDURE `usp_coupon_count_code`
(
    in_code VARCHAR (255) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `coupon`
    WHERE 1=1
    AND lower(`code`) = lower(in_code)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_coupon_count_name`;
delimiter $$
CREATE PROCEDURE `usp_coupon_count_name`
(
    in_name VARCHAR (255) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `coupon`
    WHERE 1=1
    AND lower(`name`) = lower(in_name)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_coupon_count_org_id`;
delimiter $$
CREATE PROCEDURE `usp_coupon_count_org_id`
(
    in_org_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `coupon`
    WHERE 1=1
    AND `org_id` = in_org_id
    ;
END$$
delimiter ;

-- ------------------------------------
-- BROWSE

-- ------------------------------------
-- MODEL: Coupon - coupon

                       
DROP PROCEDURE IF EXISTS `usp_coupon_browse_filter`;

delimiter $$
CREATE PROCEDURE `usp_coupon_browse_filter`
(
    in_page int,
    in_page_size int,
    in_sort VARCHAR(500),
    in_filter VARCHAR(4000)
    
)
BEGIN
    DECLARE total_rows int;
    SET total_rows = 0;
        
    IF (in_page = 0) THEN
        SET in_page = 1;
    END IF;    
    
    IF (in_page_size = 0) THEN
       SET in_page_size = 10;
    END IF;
    
    IF (in_sort = NULL || in_sort = '') THEN
       SET in_sort = ' date_modified ASC ';
    END IF;
    
    SET @sfields = CONCAT('', '`status`');
    SET @sfields = CONCAT(@sfields, ', `code`');
    SET @sfields = CONCAT(@sfields, ', `display_name`');
    SET @sfields = CONCAT(@sfields, ', `name`');
    SET @sfields = CONCAT(@sfields, ', `date_modified`');
    SET @sfields = CONCAT(@sfields, ', `url`');
    SET @sfields = CONCAT(@sfields, ', `data`');
    SET @sfields = CONCAT(@sfields, ', `org_id`');
    SET @sfields = CONCAT(@sfields, ', `uuid`');
    SET @sfields = CONCAT(@sfields, ', `usage_count`');
    SET @sfields = CONCAT(@sfields, ', `active`');
    SET @sfields = CONCAT(@sfields, ', `date_created`');
    SET @sfields = CONCAT(@sfields, ', `type`');
    SET @sfields = CONCAT(@sfields, ', `description`');
    
    SET @stable = CONCAT('', ' FROM `coupon` WHERE 1=1 ');
    
    SET @s = CONCAT(' ', @stable);
    SET @s = CONCAT(@s, ' ', in_filter);    
    
    SET @scount = CONCAT('SELECT COUNT(*) as `total_rows` ', @s, ' INTO @total_rows');
    
    PREPARE stmtcount FROM @scount;
    EXECUTE stmtcount;
    #SELECT @total_rows;
    SET total_rows = @total_rows;

    SET @sfields = CONCAT(total_rows, ' as `total_rows`, ', @sfields);
    SET @s = CONCAT('SELECT ', @sfields, @s);
    SET @s = CONCAT(@s, ' ORDER BY ', in_sort);
    SET @s = CONCAT(@s, ' LIMIT ', in_page);
    SET @s = CONCAT(@s, ',', in_page_size);    

    PREPARE stmt FROM @s;
    EXECUTE stmt;
    
END$$
delimiter ;
-- ------------------------------------
-- SET

-- ------------------------------------
-- MODEL: Coupon - coupon

                       
DROP PROCEDURE IF EXISTS `usp_coupon_set_uuid`;
delimiter $$
CREATE PROCEDURE `usp_coupon_set_uuid`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_code VARCHAR (255) 
    , in_display_name VARCHAR (255) 
    , in_name VARCHAR (255) 
    , in_date_modified TIMESTAMP 
    , in_url VARCHAR (500) 
    , in_data TEXT 
    , in_org_id BINARY(16) 
    , in_uuid BINARY(16) 
    , in_usage_count INTEGER 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (500) 
    , in_description VARCHAR (255) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `coupon`  
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `coupon` 
                    SET
                        `status` = in_status
                        , `code` = in_code
                        , `display_name` = in_display_name
                        , `name` = in_name
                        , `date_modified` = in_date_modified
                        , `url` = in_url
                        , `data` = in_data
                        , `org_id` = in_org_id
                        , `uuid` = in_uuid
                        , `usage_count` = in_usage_count
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `type` = in_type
                        , `description` = in_description
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `coupon`
                    (
                        `status`
                        , `code`
                        , `display_name`
                        , `name`
                        , `date_modified`
                        , `url`
                        , `data`
                        , `org_id`
                        , `uuid`
                        , `usage_count`
                        , `active`
                        , `date_created`
                        , `type`
                        , `description`
                    )
                    VALUES
                    (
                        in_status
                        , in_code
                        , in_display_name
                        , in_name
                        , in_date_modified
                        , in_url
                        , in_data
                        , in_org_id
                        , in_uuid
                        , in_usage_count
                        , in_active
                        , in_date_created
                        , in_type
                        , in_description
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

-- ------------------------------------
-- DEL

-- ------------------------------------
-- MODEL: Coupon - coupon

                       
DROP PROCEDURE IF EXISTS `usp_coupon_del_uuid`;

delimiter $$
CREATE PROCEDURE `usp_coupon_del_uuid`
(
    in_uuid BINARY(16) 
)

BEGIN
    DELETE 
    FROM `coupon`
    WHERE 1=1                        
    AND "uuid" = in_uuid
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_coupon_del_org_id`;

delimiter $$
CREATE PROCEDURE `usp_coupon_del_org_id`
(
    in_org_id BINARY(16) 
)

BEGIN
    DELETE 
    FROM `coupon`
    WHERE 1=1                        
    AND "org_id" = in_org_id
    ;
END$$
delimiter ;
-- ------------------------------------
-- GET

-- ------------------------------------
-- MODEL: Coupon - coupon

                       
DROP PROCEDURE IF EXISTS `usp_coupon_get_uuid`;

delimiter $$
CREATE PROCEDURE `usp_coupon_get_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `url`
        , `data`
        , `org_id`
        , `uuid`
        , `usage_count`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `coupon`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_coupon_get_code`;

delimiter $$
CREATE PROCEDURE `usp_coupon_get_code`
(
    in_code VARCHAR (255) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `url`
        , `data`
        , `org_id`
        , `uuid`
        , `usage_count`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `coupon`
    WHERE 1=1
    AND lower(`code`) = lower(in_code)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_coupon_get_name`;

delimiter $$
CREATE PROCEDURE `usp_coupon_get_name`
(
    in_name VARCHAR (255) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `url`
        , `data`
        , `org_id`
        , `uuid`
        , `usage_count`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `coupon`
    WHERE 1=1
    AND lower(`name`) = lower(in_name)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_coupon_get_org_id`;

delimiter $$
CREATE PROCEDURE `usp_coupon_get_org_id`
(
    in_org_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `url`
        , `data`
        , `org_id`
        , `uuid`
        , `usage_count`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `coupon`
    WHERE 1=1
    AND `org_id` = in_org_id
    ;
END$$
delimiter ;

-- -----------------------------------------------------------------------------
-- PROCS

-- ------------------------------------
-- COUNT

-- ------------------------------------
-- MODEL: ProfileCoupon - profile_coupon

                       
DROP PROCEDURE IF EXISTS `usp_profile_coupon_count`;
delimiter $$
CREATE PROCEDURE `usp_profile_coupon_count`
BEGIN
    SELECT
        COUNT(*) as count
    FROM `profile_coupon`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_coupon_count_uuid`;
delimiter $$
CREATE PROCEDURE `usp_profile_coupon_count_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `profile_coupon`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_coupon_count_profile_id`;
delimiter $$
CREATE PROCEDURE `usp_profile_coupon_count_profile_id`
(
    in_profile_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `profile_coupon`
    WHERE 1=1
    AND `profile_id` = in_profile_id
    ;
END$$
delimiter ;

-- ------------------------------------
-- BROWSE

-- ------------------------------------
-- MODEL: ProfileCoupon - profile_coupon

                       
DROP PROCEDURE IF EXISTS `usp_profile_coupon_browse_filter`;

delimiter $$
CREATE PROCEDURE `usp_profile_coupon_browse_filter`
(
    in_page int,
    in_page_size int,
    in_sort VARCHAR(500),
    in_filter VARCHAR(4000)
    
)
BEGIN
    DECLARE total_rows int;
    SET total_rows = 0;
        
    IF (in_page = 0) THEN
        SET in_page = 1;
    END IF;    
    
    IF (in_page_size = 0) THEN
       SET in_page_size = 10;
    END IF;
    
    IF (in_sort = NULL || in_sort = '') THEN
       SET in_sort = ' date_modified ASC ';
    END IF;
    
    SET @sfields = CONCAT('', '`status`');
    SET @sfields = CONCAT(@sfields, ', `code`');
    SET @sfields = CONCAT(@sfields, ', `display_name`');
    SET @sfields = CONCAT(@sfields, ', `name`');
    SET @sfields = CONCAT(@sfields, ', `date_modified`');
    SET @sfields = CONCAT(@sfields, ', `url`');
    SET @sfields = CONCAT(@sfields, ', `data`');
    SET @sfields = CONCAT(@sfields, ', `profile_id`');
    SET @sfields = CONCAT(@sfields, ', `uuid`');
    SET @sfields = CONCAT(@sfields, ', `active`');
    SET @sfields = CONCAT(@sfields, ', `date_created`');
    SET @sfields = CONCAT(@sfields, ', `type`');
    SET @sfields = CONCAT(@sfields, ', `description`');
    
    SET @stable = CONCAT('', ' FROM `profile_coupon` WHERE 1=1 ');
    
    SET @s = CONCAT(' ', @stable);
    SET @s = CONCAT(@s, ' ', in_filter);    
    
    SET @scount = CONCAT('SELECT COUNT(*) as `total_rows` ', @s, ' INTO @total_rows');
    
    PREPARE stmtcount FROM @scount;
    EXECUTE stmtcount;
    #SELECT @total_rows;
    SET total_rows = @total_rows;

    SET @sfields = CONCAT(total_rows, ' as `total_rows`, ', @sfields);
    SET @s = CONCAT('SELECT ', @sfields, @s);
    SET @s = CONCAT(@s, ' ORDER BY ', in_sort);
    SET @s = CONCAT(@s, ' LIMIT ', in_page);
    SET @s = CONCAT(@s, ',', in_page_size);    

    PREPARE stmt FROM @s;
    EXECUTE stmt;
    
END$$
delimiter ;
-- ------------------------------------
-- SET

-- ------------------------------------
-- MODEL: ProfileCoupon - profile_coupon

                       
DROP PROCEDURE IF EXISTS `usp_profile_coupon_set_uuid`;
delimiter $$
CREATE PROCEDURE `usp_profile_coupon_set_uuid`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_code VARCHAR (255) 
    , in_display_name VARCHAR (255) 
    , in_name VARCHAR (255) 
    , in_date_modified TIMESTAMP 
    , in_url VARCHAR (50) 
    , in_data TEXT 
    , in_profile_id BINARY(16) 
    , in_uuid BINARY(16) 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (500) 
    , in_description VARCHAR (255) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `profile_coupon`  
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `profile_coupon` 
                    SET
                        `status` = in_status
                        , `code` = in_code
                        , `display_name` = in_display_name
                        , `name` = in_name
                        , `date_modified` = in_date_modified
                        , `url` = in_url
                        , `data` = in_data
                        , `profile_id` = in_profile_id
                        , `uuid` = in_uuid
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `type` = in_type
                        , `description` = in_description
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `profile_coupon`
                    (
                        `status`
                        , `code`
                        , `display_name`
                        , `name`
                        , `date_modified`
                        , `url`
                        , `data`
                        , `profile_id`
                        , `uuid`
                        , `active`
                        , `date_created`
                        , `type`
                        , `description`
                    )
                    VALUES
                    (
                        in_status
                        , in_code
                        , in_display_name
                        , in_name
                        , in_date_modified
                        , in_url
                        , in_data
                        , in_profile_id
                        , in_uuid
                        , in_active
                        , in_date_created
                        , in_type
                        , in_description
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

-- ------------------------------------
-- DEL

-- ------------------------------------
-- MODEL: ProfileCoupon - profile_coupon

                       
DROP PROCEDURE IF EXISTS `usp_profile_coupon_del_uuid`;

delimiter $$
CREATE PROCEDURE `usp_profile_coupon_del_uuid`
(
    in_uuid BINARY(16) 
)

BEGIN
    DELETE 
    FROM `profile_coupon`
    WHERE 1=1                        
    AND "uuid" = in_uuid
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_profile_coupon_del_profile_id`;

delimiter $$
CREATE PROCEDURE `usp_profile_coupon_del_profile_id`
(
    in_profile_id BINARY(16) 
)

BEGIN
    DELETE 
    FROM `profile_coupon`
    WHERE 1=1                        
    AND "profile_id" = in_profile_id
    ;
END$$
delimiter ;
-- ------------------------------------
-- GET

-- ------------------------------------
-- MODEL: ProfileCoupon - profile_coupon

                       
DROP PROCEDURE IF EXISTS `usp_profile_coupon_get_uuid`;

delimiter $$
CREATE PROCEDURE `usp_profile_coupon_get_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `url`
        , `data`
        , `profile_id`
        , `uuid`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `profile_coupon`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_coupon_get_profile_id`;

delimiter $$
CREATE PROCEDURE `usp_profile_coupon_get_profile_id`
(
    in_profile_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `url`
        , `data`
        , `profile_id`
        , `uuid`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `profile_coupon`
    WHERE 1=1
    AND `profile_id` = in_profile_id
    ;
END$$
delimiter ;

-- -----------------------------------------------------------------------------
-- PROCS

-- ------------------------------------
-- COUNT

-- ------------------------------------
-- MODEL: Org - org

                       
DROP PROCEDURE IF EXISTS `usp_org_count`;
delimiter $$
CREATE PROCEDURE `usp_org_count`
BEGIN
    SELECT
        COUNT(*) as count
    FROM `org`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_org_count_uuid`;
delimiter $$
CREATE PROCEDURE `usp_org_count_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `org`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_org_count_code`;
delimiter $$
CREATE PROCEDURE `usp_org_count_code`
(
    in_code VARCHAR (255) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `org`
    WHERE 1=1
    AND lower(`code`) = lower(in_code)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_org_count_name`;
delimiter $$
CREATE PROCEDURE `usp_org_count_name`
(
    in_name VARCHAR (255) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `org`
    WHERE 1=1
    AND lower(`name`) = lower(in_name)
    ;
END$$
delimiter ;

-- ------------------------------------
-- BROWSE

-- ------------------------------------
-- MODEL: Org - org

                       
DROP PROCEDURE IF EXISTS `usp_org_browse_filter`;

delimiter $$
CREATE PROCEDURE `usp_org_browse_filter`
(
    in_page int,
    in_page_size int,
    in_sort VARCHAR(500),
    in_filter VARCHAR(4000)
    
)
BEGIN
    DECLARE total_rows int;
    SET total_rows = 0;
        
    IF (in_page = 0) THEN
        SET in_page = 1;
    END IF;    
    
    IF (in_page_size = 0) THEN
       SET in_page_size = 10;
    END IF;
    
    IF (in_sort = NULL || in_sort = '') THEN
       SET in_sort = ' date_modified ASC ';
    END IF;
    
    SET @sfields = CONCAT('', '`status`');
    SET @sfields = CONCAT(@sfields, ', `code`');
    SET @sfields = CONCAT(@sfields, ', `display_name`');
    SET @sfields = CONCAT(@sfields, ', `name`');
    SET @sfields = CONCAT(@sfields, ', `date_modified`');
    SET @sfields = CONCAT(@sfields, ', `data`');
    SET @sfields = CONCAT(@sfields, ', `uuid`');
    SET @sfields = CONCAT(@sfields, ', `active`');
    SET @sfields = CONCAT(@sfields, ', `date_created`');
    SET @sfields = CONCAT(@sfields, ', `type`');
    SET @sfields = CONCAT(@sfields, ', `description`');
    
    SET @stable = CONCAT('', ' FROM `org` WHERE 1=1 ');
    
    SET @s = CONCAT(' ', @stable);
    SET @s = CONCAT(@s, ' ', in_filter);    
    
    SET @scount = CONCAT('SELECT COUNT(*) as `total_rows` ', @s, ' INTO @total_rows');
    
    PREPARE stmtcount FROM @scount;
    EXECUTE stmtcount;
    #SELECT @total_rows;
    SET total_rows = @total_rows;

    SET @sfields = CONCAT(total_rows, ' as `total_rows`, ', @sfields);
    SET @s = CONCAT('SELECT ', @sfields, @s);
    SET @s = CONCAT(@s, ' ORDER BY ', in_sort);
    SET @s = CONCAT(@s, ' LIMIT ', in_page);
    SET @s = CONCAT(@s, ',', in_page_size);    

    PREPARE stmt FROM @s;
    EXECUTE stmt;
    
END$$
delimiter ;
-- ------------------------------------
-- SET

-- ------------------------------------
-- MODEL: Org - org

                       
DROP PROCEDURE IF EXISTS `usp_org_set_uuid`;
delimiter $$
CREATE PROCEDURE `usp_org_set_uuid`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_code VARCHAR (255) 
    , in_display_name VARCHAR (255) 
    , in_name VARCHAR (255) 
    , in_date_modified TIMESTAMP 
    , in_data TEXT 
    , in_uuid BINARY(16) 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (500) 
    , in_description VARCHAR (255) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `org`  
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `org` 
                    SET
                        `status` = in_status
                        , `code` = in_code
                        , `display_name` = in_display_name
                        , `name` = in_name
                        , `date_modified` = in_date_modified
                        , `data` = in_data
                        , `uuid` = in_uuid
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `type` = in_type
                        , `description` = in_description
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `org`
                    (
                        `status`
                        , `code`
                        , `display_name`
                        , `name`
                        , `date_modified`
                        , `data`
                        , `uuid`
                        , `active`
                        , `date_created`
                        , `type`
                        , `description`
                    )
                    VALUES
                    (
                        in_status
                        , in_code
                        , in_display_name
                        , in_name
                        , in_date_modified
                        , in_data
                        , in_uuid
                        , in_active
                        , in_date_created
                        , in_type
                        , in_description
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

-- ------------------------------------
-- DEL

-- ------------------------------------
-- MODEL: Org - org

                       
DROP PROCEDURE IF EXISTS `usp_org_del_uuid`;

delimiter $$
CREATE PROCEDURE `usp_org_del_uuid`
(
    in_uuid BINARY(16) 
)

BEGIN
    DELETE 
    FROM `org`
    WHERE 1=1                        
    AND "uuid" = in_uuid
    ;
END$$
delimiter ;
-- ------------------------------------
-- GET

-- ------------------------------------
-- MODEL: Org - org

                       
DROP PROCEDURE IF EXISTS `usp_org_get_uuid`;

delimiter $$
CREATE PROCEDURE `usp_org_get_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `data`
        , `uuid`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `org`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_org_get_code`;

delimiter $$
CREATE PROCEDURE `usp_org_get_code`
(
    in_code VARCHAR (255) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `data`
        , `uuid`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `org`
    WHERE 1=1
    AND lower(`code`) = lower(in_code)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_org_get_name`;

delimiter $$
CREATE PROCEDURE `usp_org_get_name`
(
    in_name VARCHAR (255) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `data`
        , `uuid`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `org`
    WHERE 1=1
    AND lower(`name`) = lower(in_name)
    ;
END$$
delimiter ;

-- -----------------------------------------------------------------------------
-- PROCS

-- ------------------------------------
-- COUNT

-- ------------------------------------
-- MODEL: Channel - channel

                       
DROP PROCEDURE IF EXISTS `usp_channel_count`;
delimiter $$
CREATE PROCEDURE `usp_channel_count`
BEGIN
    SELECT
        COUNT(*) as count
    FROM `channel`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_channel_count_uuid`;
delimiter $$
CREATE PROCEDURE `usp_channel_count_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `channel`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_channel_count_code`;
delimiter $$
CREATE PROCEDURE `usp_channel_count_code`
(
    in_code VARCHAR (255) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `channel`
    WHERE 1=1
    AND lower(`code`) = lower(in_code)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_channel_count_name`;
delimiter $$
CREATE PROCEDURE `usp_channel_count_name`
(
    in_name VARCHAR (255) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `channel`
    WHERE 1=1
    AND lower(`name`) = lower(in_name)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_channel_count_org_id`;
delimiter $$
CREATE PROCEDURE `usp_channel_count_org_id`
(
    in_org_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `channel`
    WHERE 1=1
    AND `org_id` = in_org_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_channel_count_type_id`;
delimiter $$
CREATE PROCEDURE `usp_channel_count_type_id`
(
    in_type_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `channel`
    WHERE 1=1
    AND `type_id` = in_type_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_channel_count_org_id_type_id`;
delimiter $$
CREATE PROCEDURE `usp_channel_count_org_id_type_id`
(
    in_org_id BINARY(16) 
    , in_type_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `channel`
    WHERE 1=1
    AND `org_id` = in_org_id
    AND `type_id` = in_type_id
    ;
END$$
delimiter ;

-- ------------------------------------
-- BROWSE

-- ------------------------------------
-- MODEL: Channel - channel

                       
DROP PROCEDURE IF EXISTS `usp_channel_browse_filter`;

delimiter $$
CREATE PROCEDURE `usp_channel_browse_filter`
(
    in_page int,
    in_page_size int,
    in_sort VARCHAR(500),
    in_filter VARCHAR(4000)
    
)
BEGIN
    DECLARE total_rows int;
    SET total_rows = 0;
        
    IF (in_page = 0) THEN
        SET in_page = 1;
    END IF;    
    
    IF (in_page_size = 0) THEN
       SET in_page_size = 10;
    END IF;
    
    IF (in_sort = NULL || in_sort = '') THEN
       SET in_sort = ' date_modified ASC ';
    END IF;
    
    SET @sfields = CONCAT('', '`status`');
    SET @sfields = CONCAT(@sfields, ', `code`');
    SET @sfields = CONCAT(@sfields, ', `display_name`');
    SET @sfields = CONCAT(@sfields, ', `name`');
    SET @sfields = CONCAT(@sfields, ', `date_modified`');
    SET @sfields = CONCAT(@sfields, ', `data`');
    SET @sfields = CONCAT(@sfields, ', `type_id`');
    SET @sfields = CONCAT(@sfields, ', `org_id`');
    SET @sfields = CONCAT(@sfields, ', `uuid`');
    SET @sfields = CONCAT(@sfields, ', `active`');
    SET @sfields = CONCAT(@sfields, ', `date_created`');
    SET @sfields = CONCAT(@sfields, ', `type`');
    SET @sfields = CONCAT(@sfields, ', `description`');
    
    SET @stable = CONCAT('', ' FROM `channel` WHERE 1=1 ');
    
    SET @s = CONCAT(' ', @stable);
    SET @s = CONCAT(@s, ' ', in_filter);    
    
    SET @scount = CONCAT('SELECT COUNT(*) as `total_rows` ', @s, ' INTO @total_rows');
    
    PREPARE stmtcount FROM @scount;
    EXECUTE stmtcount;
    #SELECT @total_rows;
    SET total_rows = @total_rows;

    SET @sfields = CONCAT(total_rows, ' as `total_rows`, ', @sfields);
    SET @s = CONCAT('SELECT ', @sfields, @s);
    SET @s = CONCAT(@s, ' ORDER BY ', in_sort);
    SET @s = CONCAT(@s, ' LIMIT ', in_page);
    SET @s = CONCAT(@s, ',', in_page_size);    

    PREPARE stmt FROM @s;
    EXECUTE stmt;
    
END$$
delimiter ;
-- ------------------------------------
-- SET

-- ------------------------------------
-- MODEL: Channel - channel

                       
DROP PROCEDURE IF EXISTS `usp_channel_set_uuid`;
delimiter $$
CREATE PROCEDURE `usp_channel_set_uuid`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_code VARCHAR (255) 
    , in_display_name VARCHAR (255) 
    , in_name VARCHAR (255) 
    , in_date_modified TIMESTAMP 
    , in_data TEXT 
    , in_type_id BINARY(16) 
    , in_org_id BINARY(16) 
    , in_uuid BINARY(16) 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (500) 
    , in_description VARCHAR (255) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `channel`  
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `channel` 
                    SET
                        `status` = in_status
                        , `code` = in_code
                        , `display_name` = in_display_name
                        , `name` = in_name
                        , `date_modified` = in_date_modified
                        , `data` = in_data
                        , `type_id` = in_type_id
                        , `org_id` = in_org_id
                        , `uuid` = in_uuid
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `type` = in_type
                        , `description` = in_description
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `channel`
                    (
                        `status`
                        , `code`
                        , `display_name`
                        , `name`
                        , `date_modified`
                        , `data`
                        , `type_id`
                        , `org_id`
                        , `uuid`
                        , `active`
                        , `date_created`
                        , `type`
                        , `description`
                    )
                    VALUES
                    (
                        in_status
                        , in_code
                        , in_display_name
                        , in_name
                        , in_date_modified
                        , in_data
                        , in_type_id
                        , in_org_id
                        , in_uuid
                        , in_active
                        , in_date_created
                        , in_type
                        , in_description
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

-- ------------------------------------
-- DEL

-- ------------------------------------
-- MODEL: Channel - channel

                       
DROP PROCEDURE IF EXISTS `usp_channel_del_uuid`;

delimiter $$
CREATE PROCEDURE `usp_channel_del_uuid`
(
    in_uuid BINARY(16) 
)

BEGIN
    DELETE 
    FROM `channel`
    WHERE 1=1                        
    AND "uuid" = in_uuid
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_channel_del_code_org_id`;

delimiter $$
CREATE PROCEDURE `usp_channel_del_code_org_id`
(
    in_code VARCHAR (255) 
    , in_org_id BINARY(16) 
)

BEGIN
    DELETE 
    FROM `channel`
    WHERE 1=1                        
    AND lower("code") = lower(in_code)
    AND "org_id" = in_org_id
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_channel_del_code_org_id_type_id`;

delimiter $$
CREATE PROCEDURE `usp_channel_del_code_org_id_type_id`
(
    in_code VARCHAR (255) 
    , in_org_id BINARY(16) 
    , in_type_id BINARY(16) 
)

BEGIN
    DELETE 
    FROM `channel`
    WHERE 1=1                        
    AND lower("code") = lower(in_code)
    AND "org_id" = in_org_id
    AND "type_id" = in_type_id
    ;
END$$
delimiter ;
-- ------------------------------------
-- GET

-- ------------------------------------
-- MODEL: Channel - channel

                       
DROP PROCEDURE IF EXISTS `usp_channel_get_uuid`;

delimiter $$
CREATE PROCEDURE `usp_channel_get_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `data`
        , `type_id`
        , `org_id`
        , `uuid`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `channel`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_channel_get_code`;

delimiter $$
CREATE PROCEDURE `usp_channel_get_code`
(
    in_code VARCHAR (255) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `data`
        , `type_id`
        , `org_id`
        , `uuid`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `channel`
    WHERE 1=1
    AND lower(`code`) = lower(in_code)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_channel_get_name`;

delimiter $$
CREATE PROCEDURE `usp_channel_get_name`
(
    in_name VARCHAR (255) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `data`
        , `type_id`
        , `org_id`
        , `uuid`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `channel`
    WHERE 1=1
    AND lower(`name`) = lower(in_name)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_channel_get_org_id`;

delimiter $$
CREATE PROCEDURE `usp_channel_get_org_id`
(
    in_org_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `data`
        , `type_id`
        , `org_id`
        , `uuid`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `channel`
    WHERE 1=1
    AND `org_id` = in_org_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_channel_get_type_id`;

delimiter $$
CREATE PROCEDURE `usp_channel_get_type_id`
(
    in_type_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `data`
        , `type_id`
        , `org_id`
        , `uuid`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `channel`
    WHERE 1=1
    AND `type_id` = in_type_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_channel_get_org_id_type_id`;

delimiter $$
CREATE PROCEDURE `usp_channel_get_org_id_type_id`
(
    in_org_id BINARY(16) 
    , in_type_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `data`
        , `type_id`
        , `org_id`
        , `uuid`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `channel`
    WHERE 1=1
    AND `org_id` = in_org_id
    AND `type_id` = in_type_id
    ;
END$$
delimiter ;

-- -----------------------------------------------------------------------------
-- PROCS

-- ------------------------------------
-- COUNT

-- ------------------------------------
-- MODEL: ChannelType - channel_type

                       
DROP PROCEDURE IF EXISTS `usp_channel_type_count`;
delimiter $$
CREATE PROCEDURE `usp_channel_type_count`
BEGIN
    SELECT
        COUNT(*) as count
    FROM `channel_type`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_channel_type_count_uuid`;
delimiter $$
CREATE PROCEDURE `usp_channel_type_count_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `channel_type`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_channel_type_count_code`;
delimiter $$
CREATE PROCEDURE `usp_channel_type_count_code`
(
    in_code VARCHAR (255) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `channel_type`
    WHERE 1=1
    AND lower(`code`) = lower(in_code)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_channel_type_count_name`;
delimiter $$
CREATE PROCEDURE `usp_channel_type_count_name`
(
    in_name VARCHAR (255) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `channel_type`
    WHERE 1=1
    AND lower(`name`) = lower(in_name)
    ;
END$$
delimiter ;

-- ------------------------------------
-- BROWSE

-- ------------------------------------
-- MODEL: ChannelType - channel_type

                       
DROP PROCEDURE IF EXISTS `usp_channel_type_browse_filter`;

delimiter $$
CREATE PROCEDURE `usp_channel_type_browse_filter`
(
    in_page int,
    in_page_size int,
    in_sort VARCHAR(500),
    in_filter VARCHAR(4000)
    
)
BEGIN
    DECLARE total_rows int;
    SET total_rows = 0;
        
    IF (in_page = 0) THEN
        SET in_page = 1;
    END IF;    
    
    IF (in_page_size = 0) THEN
       SET in_page_size = 10;
    END IF;
    
    IF (in_sort = NULL || in_sort = '') THEN
       SET in_sort = ' date_modified ASC ';
    END IF;
    
    SET @sfields = CONCAT('', '`status`');
    SET @sfields = CONCAT(@sfields, ', `code`');
    SET @sfields = CONCAT(@sfields, ', `display_name`');
    SET @sfields = CONCAT(@sfields, ', `name`');
    SET @sfields = CONCAT(@sfields, ', `date_modified`');
    SET @sfields = CONCAT(@sfields, ', `data`');
    SET @sfields = CONCAT(@sfields, ', `uuid`');
    SET @sfields = CONCAT(@sfields, ', `active`');
    SET @sfields = CONCAT(@sfields, ', `date_created`');
    SET @sfields = CONCAT(@sfields, ', `type`');
    SET @sfields = CONCAT(@sfields, ', `description`');
    
    SET @stable = CONCAT('', ' FROM `channel_type` WHERE 1=1 ');
    
    SET @s = CONCAT(' ', @stable);
    SET @s = CONCAT(@s, ' ', in_filter);    
    
    SET @scount = CONCAT('SELECT COUNT(*) as `total_rows` ', @s, ' INTO @total_rows');
    
    PREPARE stmtcount FROM @scount;
    EXECUTE stmtcount;
    #SELECT @total_rows;
    SET total_rows = @total_rows;

    SET @sfields = CONCAT(total_rows, ' as `total_rows`, ', @sfields);
    SET @s = CONCAT('SELECT ', @sfields, @s);
    SET @s = CONCAT(@s, ' ORDER BY ', in_sort);
    SET @s = CONCAT(@s, ' LIMIT ', in_page);
    SET @s = CONCAT(@s, ',', in_page_size);    

    PREPARE stmt FROM @s;
    EXECUTE stmt;
    
END$$
delimiter ;
-- ------------------------------------
-- SET

-- ------------------------------------
-- MODEL: ChannelType - channel_type

                       
DROP PROCEDURE IF EXISTS `usp_channel_type_set_uuid`;
delimiter $$
CREATE PROCEDURE `usp_channel_type_set_uuid`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_code VARCHAR (255) 
    , in_display_name VARCHAR (255) 
    , in_name VARCHAR (255) 
    , in_date_modified TIMESTAMP 
    , in_data TEXT 
    , in_uuid BINARY(16) 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (50) 
    , in_description VARCHAR (255) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `channel_type`  
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `channel_type` 
                    SET
                        `status` = in_status
                        , `code` = in_code
                        , `display_name` = in_display_name
                        , `name` = in_name
                        , `date_modified` = in_date_modified
                        , `data` = in_data
                        , `uuid` = in_uuid
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `type` = in_type
                        , `description` = in_description
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `channel_type`
                    (
                        `status`
                        , `code`
                        , `display_name`
                        , `name`
                        , `date_modified`
                        , `data`
                        , `uuid`
                        , `active`
                        , `date_created`
                        , `type`
                        , `description`
                    )
                    VALUES
                    (
                        in_status
                        , in_code
                        , in_display_name
                        , in_name
                        , in_date_modified
                        , in_data
                        , in_uuid
                        , in_active
                        , in_date_created
                        , in_type
                        , in_description
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

-- ------------------------------------
-- DEL

-- ------------------------------------
-- MODEL: ChannelType - channel_type

                       
DROP PROCEDURE IF EXISTS `usp_channel_type_del_uuid`;

delimiter $$
CREATE PROCEDURE `usp_channel_type_del_uuid`
(
    in_uuid BINARY(16) 
)

BEGIN
    DELETE 
    FROM `channel_type`
    WHERE 1=1                        
    AND "uuid" = in_uuid
    ;
END$$
delimiter ;
-- ------------------------------------
-- GET

-- ------------------------------------
-- MODEL: ChannelType - channel_type

                       
DROP PROCEDURE IF EXISTS `usp_channel_type_get_uuid`;

delimiter $$
CREATE PROCEDURE `usp_channel_type_get_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `data`
        , `uuid`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `channel_type`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_channel_type_get_code`;

delimiter $$
CREATE PROCEDURE `usp_channel_type_get_code`
(
    in_code VARCHAR (255) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `data`
        , `uuid`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `channel_type`
    WHERE 1=1
    AND lower(`code`) = lower(in_code)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_channel_type_get_name`;

delimiter $$
CREATE PROCEDURE `usp_channel_type_get_name`
(
    in_name VARCHAR (255) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `data`
        , `uuid`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `channel_type`
    WHERE 1=1
    AND lower(`name`) = lower(in_name)
    ;
END$$
delimiter ;

-- -----------------------------------------------------------------------------
-- PROCS

-- ------------------------------------
-- COUNT

-- ------------------------------------
-- MODEL: Reward - reward

                       
DROP PROCEDURE IF EXISTS `usp_reward_count`;
delimiter $$
CREATE PROCEDURE `usp_reward_count`
BEGIN
    SELECT
        COUNT(*) as count
    FROM `reward`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_reward_count_uuid`;
delimiter $$
CREATE PROCEDURE `usp_reward_count_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `reward`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_reward_count_code`;
delimiter $$
CREATE PROCEDURE `usp_reward_count_code`
(
    in_code VARCHAR (255) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `reward`
    WHERE 1=1
    AND lower(`code`) = lower(in_code)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_reward_count_name`;
delimiter $$
CREATE PROCEDURE `usp_reward_count_name`
(
    in_name VARCHAR (255) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `reward`
    WHERE 1=1
    AND lower(`name`) = lower(in_name)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_reward_count_org_id`;
delimiter $$
CREATE PROCEDURE `usp_reward_count_org_id`
(
    in_org_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `reward`
    WHERE 1=1
    AND `org_id` = in_org_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_reward_count_channel_id`;
delimiter $$
CREATE PROCEDURE `usp_reward_count_channel_id`
(
    in_channel_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `reward`
    WHERE 1=1
    AND `channel_id` = in_channel_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_reward_count_org_id_channel_id`;
delimiter $$
CREATE PROCEDURE `usp_reward_count_org_id_channel_id`
(
    in_org_id BINARY(16) 
    , in_channel_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `reward`
    WHERE 1=1
    AND `org_id` = in_org_id
    AND `channel_id` = in_channel_id
    ;
END$$
delimiter ;

-- ------------------------------------
-- BROWSE

-- ------------------------------------
-- MODEL: Reward - reward

                       
DROP PROCEDURE IF EXISTS `usp_reward_browse_filter`;

delimiter $$
CREATE PROCEDURE `usp_reward_browse_filter`
(
    in_page int,
    in_page_size int,
    in_sort VARCHAR(500),
    in_filter VARCHAR(4000)
    
)
BEGIN
    DECLARE total_rows int;
    SET total_rows = 0;
        
    IF (in_page = 0) THEN
        SET in_page = 1;
    END IF;    
    
    IF (in_page_size = 0) THEN
       SET in_page_size = 10;
    END IF;
    
    IF (in_sort = NULL || in_sort = '') THEN
       SET in_sort = ' date_modified ASC ';
    END IF;
    
    SET @sfields = CONCAT('', '`status`');
    SET @sfields = CONCAT(@sfields, ', `type_url`');
    SET @sfields = CONCAT(@sfields, ', `code`');
    SET @sfields = CONCAT(@sfields, ', `display_name`');
    SET @sfields = CONCAT(@sfields, ', `name`');
    SET @sfields = CONCAT(@sfields, ', `date_modified`');
    SET @sfields = CONCAT(@sfields, ', `url`');
    SET @sfields = CONCAT(@sfields, ', `data`');
    SET @sfields = CONCAT(@sfields, ', `org_id`');
    SET @sfields = CONCAT(@sfields, ', `uuid`');
    SET @sfields = CONCAT(@sfields, ', `channel_id`');
    SET @sfields = CONCAT(@sfields, ', `usage_count`');
    SET @sfields = CONCAT(@sfields, ', `external_id`');
    SET @sfields = CONCAT(@sfields, ', `active`');
    SET @sfields = CONCAT(@sfields, ', `date_created`');
    SET @sfields = CONCAT(@sfields, ', `type`');
    SET @sfields = CONCAT(@sfields, ', `description`');
    
    SET @stable = CONCAT('', ' FROM `reward` WHERE 1=1 ');
    
    SET @s = CONCAT(' ', @stable);
    SET @s = CONCAT(@s, ' ', in_filter);    
    
    SET @scount = CONCAT('SELECT COUNT(*) as `total_rows` ', @s, ' INTO @total_rows');
    
    PREPARE stmtcount FROM @scount;
    EXECUTE stmtcount;
    #SELECT @total_rows;
    SET total_rows = @total_rows;

    SET @sfields = CONCAT(total_rows, ' as `total_rows`, ', @sfields);
    SET @s = CONCAT('SELECT ', @sfields, @s);
    SET @s = CONCAT(@s, ' ORDER BY ', in_sort);
    SET @s = CONCAT(@s, ' LIMIT ', in_page);
    SET @s = CONCAT(@s, ',', in_page_size);    

    PREPARE stmt FROM @s;
    EXECUTE stmt;
    
END$$
delimiter ;
-- ------------------------------------
-- SET

-- ------------------------------------
-- MODEL: Reward - reward

                       
DROP PROCEDURE IF EXISTS `usp_reward_set_uuid`;
delimiter $$
CREATE PROCEDURE `usp_reward_set_uuid`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_type_url VARCHAR (50) 
    , in_code VARCHAR (255) 
    , in_display_name VARCHAR (255) 
    , in_name VARCHAR (255) 
    , in_date_modified TIMESTAMP 
    , in_url VARCHAR (500) 
    , in_data TEXT 
    , in_org_id BINARY(16) 
    , in_uuid BINARY(16) 
    , in_channel_id BINARY(16) 
    , in_usage_count INTEGER 
    , in_external_id VARCHAR (50) 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (50) 
    , in_description VARCHAR (255) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `reward`  
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `reward` 
                    SET
                        `status` = in_status
                        , `type_url` = in_type_url
                        , `code` = in_code
                        , `display_name` = in_display_name
                        , `name` = in_name
                        , `date_modified` = in_date_modified
                        , `url` = in_url
                        , `data` = in_data
                        , `org_id` = in_org_id
                        , `uuid` = in_uuid
                        , `channel_id` = in_channel_id
                        , `usage_count` = in_usage_count
                        , `external_id` = in_external_id
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `type` = in_type
                        , `description` = in_description
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `reward`
                    (
                        `status`
                        , `type_url`
                        , `code`
                        , `display_name`
                        , `name`
                        , `date_modified`
                        , `url`
                        , `data`
                        , `org_id`
                        , `uuid`
                        , `channel_id`
                        , `usage_count`
                        , `external_id`
                        , `active`
                        , `date_created`
                        , `type`
                        , `description`
                    )
                    VALUES
                    (
                        in_status
                        , in_type_url
                        , in_code
                        , in_display_name
                        , in_name
                        , in_date_modified
                        , in_url
                        , in_data
                        , in_org_id
                        , in_uuid
                        , in_channel_id
                        , in_usage_count
                        , in_external_id
                        , in_active
                        , in_date_created
                        , in_type
                        , in_description
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

-- ------------------------------------
-- DEL

-- ------------------------------------
-- MODEL: Reward - reward

                       
DROP PROCEDURE IF EXISTS `usp_reward_del_uuid`;

delimiter $$
CREATE PROCEDURE `usp_reward_del_uuid`
(
    in_uuid BINARY(16) 
)

BEGIN
    DELETE 
    FROM `reward`
    WHERE 1=1                        
    AND "uuid" = in_uuid
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_reward_del_org_id_channel_id`;

delimiter $$
CREATE PROCEDURE `usp_reward_del_org_id_channel_id`
(
    in_org_id BINARY(16) 
    , in_channel_id BINARY(16) 
)

BEGIN
    DELETE 
    FROM `reward`
    WHERE 1=1                        
    AND "org_id" = in_org_id
    AND "channel_id" = in_channel_id
    ;
END$$
delimiter ;
-- ------------------------------------
-- GET

-- ------------------------------------
-- MODEL: Reward - reward

                       
DROP PROCEDURE IF EXISTS `usp_reward_get_uuid`;

delimiter $$
CREATE PROCEDURE `usp_reward_get_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `type_url`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `url`
        , `data`
        , `org_id`
        , `uuid`
        , `channel_id`
        , `usage_count`
        , `external_id`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `reward`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_reward_get_code`;

delimiter $$
CREATE PROCEDURE `usp_reward_get_code`
(
    in_code VARCHAR (255) 
)
BEGIN
    SELECT
        `status`
        , `type_url`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `url`
        , `data`
        , `org_id`
        , `uuid`
        , `channel_id`
        , `usage_count`
        , `external_id`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `reward`
    WHERE 1=1
    AND lower(`code`) = lower(in_code)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_reward_get_name`;

delimiter $$
CREATE PROCEDURE `usp_reward_get_name`
(
    in_name VARCHAR (255) 
)
BEGIN
    SELECT
        `status`
        , `type_url`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `url`
        , `data`
        , `org_id`
        , `uuid`
        , `channel_id`
        , `usage_count`
        , `external_id`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `reward`
    WHERE 1=1
    AND lower(`name`) = lower(in_name)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_reward_get_org_id`;

delimiter $$
CREATE PROCEDURE `usp_reward_get_org_id`
(
    in_org_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `type_url`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `url`
        , `data`
        , `org_id`
        , `uuid`
        , `channel_id`
        , `usage_count`
        , `external_id`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `reward`
    WHERE 1=1
    AND `org_id` = in_org_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_reward_get_channel_id`;

delimiter $$
CREATE PROCEDURE `usp_reward_get_channel_id`
(
    in_channel_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `type_url`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `url`
        , `data`
        , `org_id`
        , `uuid`
        , `channel_id`
        , `usage_count`
        , `external_id`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `reward`
    WHERE 1=1
    AND `channel_id` = in_channel_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_reward_get_org_id_channel_id`;

delimiter $$
CREATE PROCEDURE `usp_reward_get_org_id_channel_id`
(
    in_org_id BINARY(16) 
    , in_channel_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `type_url`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `url`
        , `data`
        , `org_id`
        , `uuid`
        , `channel_id`
        , `usage_count`
        , `external_id`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `reward`
    WHERE 1=1
    AND `org_id` = in_org_id
    AND `channel_id` = in_channel_id
    ;
END$$
delimiter ;

-- -----------------------------------------------------------------------------
-- PROCS

-- ------------------------------------
-- COUNT

-- ------------------------------------
-- MODEL: RewardType - reward_type

                       
DROP PROCEDURE IF EXISTS `usp_reward_type_count`;
delimiter $$
CREATE PROCEDURE `usp_reward_type_count`
BEGIN
    SELECT
        COUNT(*) as count
    FROM `reward_type`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_reward_type_count_uuid`;
delimiter $$
CREATE PROCEDURE `usp_reward_type_count_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `reward_type`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_reward_type_count_code`;
delimiter $$
CREATE PROCEDURE `usp_reward_type_count_code`
(
    in_code VARCHAR (255) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `reward_type`
    WHERE 1=1
    AND lower(`code`) = lower(in_code)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_reward_type_count_name`;
delimiter $$
CREATE PROCEDURE `usp_reward_type_count_name`
(
    in_name VARCHAR (255) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `reward_type`
    WHERE 1=1
    AND lower(`name`) = lower(in_name)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_reward_type_count_type`;
delimiter $$
CREATE PROCEDURE `usp_reward_type_count_type`
(
    in_type VARCHAR (50) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `reward_type`
    WHERE 1=1
    AND lower(`type`) = lower(in_type)
    ;
END$$
delimiter ;

-- ------------------------------------
-- BROWSE

-- ------------------------------------
-- MODEL: RewardType - reward_type

                       
DROP PROCEDURE IF EXISTS `usp_reward_type_browse_filter`;

delimiter $$
CREATE PROCEDURE `usp_reward_type_browse_filter`
(
    in_page int,
    in_page_size int,
    in_sort VARCHAR(500),
    in_filter VARCHAR(4000)
    
)
BEGIN
    DECLARE total_rows int;
    SET total_rows = 0;
        
    IF (in_page = 0) THEN
        SET in_page = 1;
    END IF;    
    
    IF (in_page_size = 0) THEN
       SET in_page_size = 10;
    END IF;
    
    IF (in_sort = NULL || in_sort = '') THEN
       SET in_sort = ' date_modified ASC ';
    END IF;
    
    SET @sfields = CONCAT('', '`status`');
    SET @sfields = CONCAT(@sfields, ', `type_url`');
    SET @sfields = CONCAT(@sfields, ', `code`');
    SET @sfields = CONCAT(@sfields, ', `display_name`');
    SET @sfields = CONCAT(@sfields, ', `name`');
    SET @sfields = CONCAT(@sfields, ', `date_modified`');
    SET @sfields = CONCAT(@sfields, ', `data`');
    SET @sfields = CONCAT(@sfields, ', `uuid`');
    SET @sfields = CONCAT(@sfields, ', `active`');
    SET @sfields = CONCAT(@sfields, ', `date_created`');
    SET @sfields = CONCAT(@sfields, ', `type`');
    SET @sfields = CONCAT(@sfields, ', `description`');
    
    SET @stable = CONCAT('', ' FROM `reward_type` WHERE 1=1 ');
    
    SET @s = CONCAT(' ', @stable);
    SET @s = CONCAT(@s, ' ', in_filter);    
    
    SET @scount = CONCAT('SELECT COUNT(*) as `total_rows` ', @s, ' INTO @total_rows');
    
    PREPARE stmtcount FROM @scount;
    EXECUTE stmtcount;
    #SELECT @total_rows;
    SET total_rows = @total_rows;

    SET @sfields = CONCAT(total_rows, ' as `total_rows`, ', @sfields);
    SET @s = CONCAT('SELECT ', @sfields, @s);
    SET @s = CONCAT(@s, ' ORDER BY ', in_sort);
    SET @s = CONCAT(@s, ' LIMIT ', in_page);
    SET @s = CONCAT(@s, ',', in_page_size);    

    PREPARE stmt FROM @s;
    EXECUTE stmt;
    
END$$
delimiter ;
-- ------------------------------------
-- SET

-- ------------------------------------
-- MODEL: RewardType - reward_type

                       
DROP PROCEDURE IF EXISTS `usp_reward_type_set_uuid`;
delimiter $$
CREATE PROCEDURE `usp_reward_type_set_uuid`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_type_url VARCHAR (50) 
    , in_code VARCHAR (255) 
    , in_display_name VARCHAR (255) 
    , in_name VARCHAR (255) 
    , in_date_modified TIMESTAMP 
    , in_data TEXT 
    , in_uuid BINARY(16) 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (50) 
    , in_description VARCHAR (255) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `reward_type`  
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `reward_type` 
                    SET
                        `status` = in_status
                        , `type_url` = in_type_url
                        , `code` = in_code
                        , `display_name` = in_display_name
                        , `name` = in_name
                        , `date_modified` = in_date_modified
                        , `data` = in_data
                        , `uuid` = in_uuid
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `type` = in_type
                        , `description` = in_description
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `reward_type`
                    (
                        `status`
                        , `type_url`
                        , `code`
                        , `display_name`
                        , `name`
                        , `date_modified`
                        , `data`
                        , `uuid`
                        , `active`
                        , `date_created`
                        , `type`
                        , `description`
                    )
                    VALUES
                    (
                        in_status
                        , in_type_url
                        , in_code
                        , in_display_name
                        , in_name
                        , in_date_modified
                        , in_data
                        , in_uuid
                        , in_active
                        , in_date_created
                        , in_type
                        , in_description
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

-- ------------------------------------
-- DEL

-- ------------------------------------
-- MODEL: RewardType - reward_type

                       
DROP PROCEDURE IF EXISTS `usp_reward_type_del_uuid`;

delimiter $$
CREATE PROCEDURE `usp_reward_type_del_uuid`
(
    in_uuid BINARY(16) 
)

BEGIN
    DELETE 
    FROM `reward_type`
    WHERE 1=1                        
    AND "uuid" = in_uuid
    ;
END$$
delimiter ;
-- ------------------------------------
-- GET

-- ------------------------------------
-- MODEL: RewardType - reward_type

                       
DROP PROCEDURE IF EXISTS `usp_reward_type_get_uuid`;

delimiter $$
CREATE PROCEDURE `usp_reward_type_get_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `type_url`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `data`
        , `uuid`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `reward_type`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_reward_type_get_code`;

delimiter $$
CREATE PROCEDURE `usp_reward_type_get_code`
(
    in_code VARCHAR (255) 
)
BEGIN
    SELECT
        `status`
        , `type_url`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `data`
        , `uuid`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `reward_type`
    WHERE 1=1
    AND lower(`code`) = lower(in_code)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_reward_type_get_name`;

delimiter $$
CREATE PROCEDURE `usp_reward_type_get_name`
(
    in_name VARCHAR (255) 
)
BEGIN
    SELECT
        `status`
        , `type_url`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `data`
        , `uuid`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `reward_type`
    WHERE 1=1
    AND lower(`name`) = lower(in_name)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_reward_type_get_type`;

delimiter $$
CREATE PROCEDURE `usp_reward_type_get_type`
(
    in_type VARCHAR (50) 
)
BEGIN
    SELECT
        `status`
        , `type_url`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `data`
        , `uuid`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `reward_type`
    WHERE 1=1
    AND lower(`type`) = lower(in_type)
    ;
END$$
delimiter ;

-- -----------------------------------------------------------------------------
-- PROCS

-- ------------------------------------
-- COUNT

-- ------------------------------------
-- MODEL: RewardCondition - reward_condition

                       
DROP PROCEDURE IF EXISTS `usp_reward_condition_count`;
delimiter $$
CREATE PROCEDURE `usp_reward_condition_count`
BEGIN
    SELECT
        COUNT(*) as count
    FROM `reward_condition`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_reward_condition_count_uuid`;
delimiter $$
CREATE PROCEDURE `usp_reward_condition_count_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `reward_condition`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_reward_condition_count_code`;
delimiter $$
CREATE PROCEDURE `usp_reward_condition_count_code`
(
    in_code VARCHAR (255) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `reward_condition`
    WHERE 1=1
    AND lower(`code`) = lower(in_code)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_reward_condition_count_name`;
delimiter $$
CREATE PROCEDURE `usp_reward_condition_count_name`
(
    in_name VARCHAR (255) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `reward_condition`
    WHERE 1=1
    AND lower(`name`) = lower(in_name)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_reward_condition_count_org_id`;
delimiter $$
CREATE PROCEDURE `usp_reward_condition_count_org_id`
(
    in_org_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `reward_condition`
    WHERE 1=1
    AND `org_id` = in_org_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_reward_condition_count_channel_id`;
delimiter $$
CREATE PROCEDURE `usp_reward_condition_count_channel_id`
(
    in_channel_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `reward_condition`
    WHERE 1=1
    AND `channel_id` = in_channel_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_reward_condition_count_org_id_channel_id`;
delimiter $$
CREATE PROCEDURE `usp_reward_condition_count_org_id_channel_id`
(
    in_org_id BINARY(16) 
    , in_channel_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `reward_condition`
    WHERE 1=1
    AND `org_id` = in_org_id
    AND `channel_id` = in_channel_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_reward_condition_count_org_id_channel_id_reward_id`;
delimiter $$
CREATE PROCEDURE `usp_reward_condition_count_org_id_channel_id_reward_id`
(
    in_org_id BINARY(16) 
    , in_channel_id BINARY(16) 
    , in_reward_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `reward_condition`
    WHERE 1=1
    AND `org_id` = in_org_id
    AND `channel_id` = in_channel_id
    AND `reward_id` = in_reward_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_reward_condition_count_reward_id`;
delimiter $$
CREATE PROCEDURE `usp_reward_condition_count_reward_id`
(
    in_reward_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `reward_condition`
    WHERE 1=1
    AND `reward_id` = in_reward_id
    ;
END$$
delimiter ;

-- ------------------------------------
-- BROWSE

-- ------------------------------------
-- MODEL: RewardCondition - reward_condition

                       
DROP PROCEDURE IF EXISTS `usp_reward_condition_browse_filter`;

delimiter $$
CREATE PROCEDURE `usp_reward_condition_browse_filter`
(
    in_page int,
    in_page_size int,
    in_sort VARCHAR(500),
    in_filter VARCHAR(4000)
    
)
BEGIN
    DECLARE total_rows int;
    SET total_rows = 0;
        
    IF (in_page = 0) THEN
        SET in_page = 1;
    END IF;    
    
    IF (in_page_size = 0) THEN
       SET in_page_size = 10;
    END IF;
    
    IF (in_sort = NULL || in_sort = '') THEN
       SET in_sort = ' date_modified ASC ';
    END IF;
    
    SET @sfields = CONCAT('', '`status`');
    SET @sfields = CONCAT(@sfields, ', `code`');
    SET @sfields = CONCAT(@sfields, ', `display_name`');
    SET @sfields = CONCAT(@sfields, ', `name`');
    SET @sfields = CONCAT(@sfields, ', `end_date`');
    SET @sfields = CONCAT(@sfields, ', `date_modified`');
    SET @sfields = CONCAT(@sfields, ', `data`');
    SET @sfields = CONCAT(@sfields, ', `org_id`');
    SET @sfields = CONCAT(@sfields, ', `uuid`');
    SET @sfields = CONCAT(@sfields, ', `channel_id`');
    SET @sfields = CONCAT(@sfields, ', `amount`');
    SET @sfields = CONCAT(@sfields, ', `global_reward`');
    SET @sfields = CONCAT(@sfields, ', `condition`');
    SET @sfields = CONCAT(@sfields, ', `active`');
    SET @sfields = CONCAT(@sfields, ', `date_created`');
    SET @sfields = CONCAT(@sfields, ', `type`');
    SET @sfields = CONCAT(@sfields, ', `start_date`');
    SET @sfields = CONCAT(@sfields, ', `reward_id`');
    SET @sfields = CONCAT(@sfields, ', `description`');
    
    SET @stable = CONCAT('', ' FROM `reward_condition` WHERE 1=1 ');
    
    SET @s = CONCAT(' ', @stable);
    SET @s = CONCAT(@s, ' ', in_filter);    
    
    SET @scount = CONCAT('SELECT COUNT(*) as `total_rows` ', @s, ' INTO @total_rows');
    
    PREPARE stmtcount FROM @scount;
    EXECUTE stmtcount;
    #SELECT @total_rows;
    SET total_rows = @total_rows;

    SET @sfields = CONCAT(total_rows, ' as `total_rows`, ', @sfields);
    SET @s = CONCAT('SELECT ', @sfields, @s);
    SET @s = CONCAT(@s, ' ORDER BY ', in_sort);
    SET @s = CONCAT(@s, ' LIMIT ', in_page);
    SET @s = CONCAT(@s, ',', in_page_size);    

    PREPARE stmt FROM @s;
    EXECUTE stmt;
    
END$$
delimiter ;
-- ------------------------------------
-- SET

-- ------------------------------------
-- MODEL: RewardCondition - reward_condition

                       
DROP PROCEDURE IF EXISTS `usp_reward_condition_set_uuid`;
delimiter $$
CREATE PROCEDURE `usp_reward_condition_set_uuid`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_code VARCHAR (255) 
    , in_display_name VARCHAR (255) 
    , in_name VARCHAR (255) 
    , in_end_date TIMESTAMP 
    , in_date_modified TIMESTAMP 
    , in_data TEXT 
    , in_org_id BINARY(16) 
    , in_uuid BINARY(16) 
    , in_channel_id BINARY(16) 
    , in_amount INTEGER 
    , in_global_reward int 
    , in_condition VARCHAR (50) 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (50) 
    , in_start_date TIMESTAMP 
    , in_reward_id BINARY(16) 
    , in_description VARCHAR (255) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `reward_condition`  
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `reward_condition` 
                    SET
                        `status` = in_status
                        , `code` = in_code
                        , `display_name` = in_display_name
                        , `name` = in_name
                        , `end_date` = in_end_date
                        , `date_modified` = in_date_modified
                        , `data` = in_data
                        , `org_id` = in_org_id
                        , `uuid` = in_uuid
                        , `channel_id` = in_channel_id
                        , `amount` = in_amount
                        , `global_reward` = in_global_reward
                        , `condition` = in_condition
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `type` = in_type
                        , `start_date` = in_start_date
                        , `reward_id` = in_reward_id
                        , `description` = in_description
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `reward_condition`
                    (
                        `status`
                        , `code`
                        , `display_name`
                        , `name`
                        , `end_date`
                        , `date_modified`
                        , `data`
                        , `org_id`
                        , `uuid`
                        , `channel_id`
                        , `amount`
                        , `global_reward`
                        , `condition`
                        , `active`
                        , `date_created`
                        , `type`
                        , `start_date`
                        , `reward_id`
                        , `description`
                    )
                    VALUES
                    (
                        in_status
                        , in_code
                        , in_display_name
                        , in_name
                        , in_end_date
                        , in_date_modified
                        , in_data
                        , in_org_id
                        , in_uuid
                        , in_channel_id
                        , in_amount
                        , in_global_reward
                        , in_condition
                        , in_active
                        , in_date_created
                        , in_type
                        , in_start_date
                        , in_reward_id
                        , in_description
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

-- ------------------------------------
-- DEL

-- ------------------------------------
-- MODEL: RewardCondition - reward_condition

                       
DROP PROCEDURE IF EXISTS `usp_reward_condition_del_uuid`;

delimiter $$
CREATE PROCEDURE `usp_reward_condition_del_uuid`
(
    in_uuid BINARY(16) 
)

BEGIN
    DELETE 
    FROM `reward_condition`
    WHERE 1=1                        
    AND "uuid" = in_uuid
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_reward_condition_del_org_id_channel_id_reward_id`;

delimiter $$
CREATE PROCEDURE `usp_reward_condition_del_org_id_channel_id_reward_id`
(
    in_org_id BINARY(16) 
    , in_channel_id BINARY(16) 
    , in_reward_id BINARY(16) 
)

BEGIN
    DELETE 
    FROM `reward_condition`
    WHERE 1=1                        
    AND "org_id" = in_org_id
    AND "channel_id" = in_channel_id
    AND "reward_id" = in_reward_id
    ;
END$$
delimiter ;
-- ------------------------------------
-- GET

-- ------------------------------------
-- MODEL: RewardCondition - reward_condition

                       
DROP PROCEDURE IF EXISTS `usp_reward_condition_get_uuid`;

delimiter $$
CREATE PROCEDURE `usp_reward_condition_get_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `end_date`
        , `date_modified`
        , `data`
        , `org_id`
        , `uuid`
        , `channel_id`
        , `amount`
        , `global_reward`
        , `condition`
        , `active`
        , `date_created`
        , `type`
        , `start_date`
        , `reward_id`
        , `description`
    FROM `reward_condition`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_reward_condition_get_code`;

delimiter $$
CREATE PROCEDURE `usp_reward_condition_get_code`
(
    in_code VARCHAR (255) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `end_date`
        , `date_modified`
        , `data`
        , `org_id`
        , `uuid`
        , `channel_id`
        , `amount`
        , `global_reward`
        , `condition`
        , `active`
        , `date_created`
        , `type`
        , `start_date`
        , `reward_id`
        , `description`
    FROM `reward_condition`
    WHERE 1=1
    AND lower(`code`) = lower(in_code)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_reward_condition_get_name`;

delimiter $$
CREATE PROCEDURE `usp_reward_condition_get_name`
(
    in_name VARCHAR (255) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `end_date`
        , `date_modified`
        , `data`
        , `org_id`
        , `uuid`
        , `channel_id`
        , `amount`
        , `global_reward`
        , `condition`
        , `active`
        , `date_created`
        , `type`
        , `start_date`
        , `reward_id`
        , `description`
    FROM `reward_condition`
    WHERE 1=1
    AND lower(`name`) = lower(in_name)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_reward_condition_get_org_id`;

delimiter $$
CREATE PROCEDURE `usp_reward_condition_get_org_id`
(
    in_org_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `end_date`
        , `date_modified`
        , `data`
        , `org_id`
        , `uuid`
        , `channel_id`
        , `amount`
        , `global_reward`
        , `condition`
        , `active`
        , `date_created`
        , `type`
        , `start_date`
        , `reward_id`
        , `description`
    FROM `reward_condition`
    WHERE 1=1
    AND `org_id` = in_org_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_reward_condition_get_channel_id`;

delimiter $$
CREATE PROCEDURE `usp_reward_condition_get_channel_id`
(
    in_channel_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `end_date`
        , `date_modified`
        , `data`
        , `org_id`
        , `uuid`
        , `channel_id`
        , `amount`
        , `global_reward`
        , `condition`
        , `active`
        , `date_created`
        , `type`
        , `start_date`
        , `reward_id`
        , `description`
    FROM `reward_condition`
    WHERE 1=1
    AND `channel_id` = in_channel_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_reward_condition_get_org_id_channel_id`;

delimiter $$
CREATE PROCEDURE `usp_reward_condition_get_org_id_channel_id`
(
    in_org_id BINARY(16) 
    , in_channel_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `end_date`
        , `date_modified`
        , `data`
        , `org_id`
        , `uuid`
        , `channel_id`
        , `amount`
        , `global_reward`
        , `condition`
        , `active`
        , `date_created`
        , `type`
        , `start_date`
        , `reward_id`
        , `description`
    FROM `reward_condition`
    WHERE 1=1
    AND `org_id` = in_org_id
    AND `channel_id` = in_channel_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_reward_condition_get_org_id_channel_id_reward_id`;

delimiter $$
CREATE PROCEDURE `usp_reward_condition_get_org_id_channel_id_reward_id`
(
    in_org_id BINARY(16) 
    , in_channel_id BINARY(16) 
    , in_reward_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `end_date`
        , `date_modified`
        , `data`
        , `org_id`
        , `uuid`
        , `channel_id`
        , `amount`
        , `global_reward`
        , `condition`
        , `active`
        , `date_created`
        , `type`
        , `start_date`
        , `reward_id`
        , `description`
    FROM `reward_condition`
    WHERE 1=1
    AND `org_id` = in_org_id
    AND `channel_id` = in_channel_id
    AND `reward_id` = in_reward_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_reward_condition_get_reward_id`;

delimiter $$
CREATE PROCEDURE `usp_reward_condition_get_reward_id`
(
    in_reward_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `end_date`
        , `date_modified`
        , `data`
        , `org_id`
        , `uuid`
        , `channel_id`
        , `amount`
        , `global_reward`
        , `condition`
        , `active`
        , `date_created`
        , `type`
        , `start_date`
        , `reward_id`
        , `description`
    FROM `reward_condition`
    WHERE 1=1
    AND `reward_id` = in_reward_id
    ;
END$$
delimiter ;

-- -----------------------------------------------------------------------------
-- PROCS

-- ------------------------------------
-- COUNT

-- ------------------------------------
-- MODEL: RewardConditionType - reward_condition_type

                       
DROP PROCEDURE IF EXISTS `usp_reward_condition_type_count`;
delimiter $$
CREATE PROCEDURE `usp_reward_condition_type_count`
BEGIN
    SELECT
        COUNT(*) as count
    FROM `reward_condition_type`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_reward_condition_type_count_uuid`;
delimiter $$
CREATE PROCEDURE `usp_reward_condition_type_count_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `reward_condition_type`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_reward_condition_type_count_code`;
delimiter $$
CREATE PROCEDURE `usp_reward_condition_type_count_code`
(
    in_code VARCHAR (255) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `reward_condition_type`
    WHERE 1=1
    AND lower(`code`) = lower(in_code)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_reward_condition_type_count_name`;
delimiter $$
CREATE PROCEDURE `usp_reward_condition_type_count_name`
(
    in_name VARCHAR (255) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `reward_condition_type`
    WHERE 1=1
    AND lower(`name`) = lower(in_name)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_reward_condition_type_count_type`;
delimiter $$
CREATE PROCEDURE `usp_reward_condition_type_count_type`
(
    in_type VARCHAR (50) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `reward_condition_type`
    WHERE 1=1
    AND lower(`type`) = lower(in_type)
    ;
END$$
delimiter ;

-- ------------------------------------
-- BROWSE

-- ------------------------------------
-- MODEL: RewardConditionType - reward_condition_type

                       
DROP PROCEDURE IF EXISTS `usp_reward_condition_type_browse_filter`;

delimiter $$
CREATE PROCEDURE `usp_reward_condition_type_browse_filter`
(
    in_page int,
    in_page_size int,
    in_sort VARCHAR(500),
    in_filter VARCHAR(4000)
    
)
BEGIN
    DECLARE total_rows int;
    SET total_rows = 0;
        
    IF (in_page = 0) THEN
        SET in_page = 1;
    END IF;    
    
    IF (in_page_size = 0) THEN
       SET in_page_size = 10;
    END IF;
    
    IF (in_sort = NULL || in_sort = '') THEN
       SET in_sort = ' date_modified ASC ';
    END IF;
    
    SET @sfields = CONCAT('', '`status`');
    SET @sfields = CONCAT(@sfields, ', `code`');
    SET @sfields = CONCAT(@sfields, ', `display_name`');
    SET @sfields = CONCAT(@sfields, ', `name`');
    SET @sfields = CONCAT(@sfields, ', `date_modified`');
    SET @sfields = CONCAT(@sfields, ', `data`');
    SET @sfields = CONCAT(@sfields, ', `uuid`');
    SET @sfields = CONCAT(@sfields, ', `active`');
    SET @sfields = CONCAT(@sfields, ', `date_created`');
    SET @sfields = CONCAT(@sfields, ', `type`');
    SET @sfields = CONCAT(@sfields, ', `description`');
    
    SET @stable = CONCAT('', ' FROM `reward_condition_type` WHERE 1=1 ');
    
    SET @s = CONCAT(' ', @stable);
    SET @s = CONCAT(@s, ' ', in_filter);    
    
    SET @scount = CONCAT('SELECT COUNT(*) as `total_rows` ', @s, ' INTO @total_rows');
    
    PREPARE stmtcount FROM @scount;
    EXECUTE stmtcount;
    #SELECT @total_rows;
    SET total_rows = @total_rows;

    SET @sfields = CONCAT(total_rows, ' as `total_rows`, ', @sfields);
    SET @s = CONCAT('SELECT ', @sfields, @s);
    SET @s = CONCAT(@s, ' ORDER BY ', in_sort);
    SET @s = CONCAT(@s, ' LIMIT ', in_page);
    SET @s = CONCAT(@s, ',', in_page_size);    

    PREPARE stmt FROM @s;
    EXECUTE stmt;
    
END$$
delimiter ;
-- ------------------------------------
-- SET

-- ------------------------------------
-- MODEL: RewardConditionType - reward_condition_type

                       
DROP PROCEDURE IF EXISTS `usp_reward_condition_type_set_uuid`;
delimiter $$
CREATE PROCEDURE `usp_reward_condition_type_set_uuid`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_code VARCHAR (255) 
    , in_display_name VARCHAR (255) 
    , in_name VARCHAR (255) 
    , in_date_modified TIMESTAMP 
    , in_data TEXT 
    , in_uuid BINARY(16) 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (50) 
    , in_description VARCHAR (255) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `reward_condition_type`  
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `reward_condition_type` 
                    SET
                        `status` = in_status
                        , `code` = in_code
                        , `display_name` = in_display_name
                        , `name` = in_name
                        , `date_modified` = in_date_modified
                        , `data` = in_data
                        , `uuid` = in_uuid
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `type` = in_type
                        , `description` = in_description
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `reward_condition_type`
                    (
                        `status`
                        , `code`
                        , `display_name`
                        , `name`
                        , `date_modified`
                        , `data`
                        , `uuid`
                        , `active`
                        , `date_created`
                        , `type`
                        , `description`
                    )
                    VALUES
                    (
                        in_status
                        , in_code
                        , in_display_name
                        , in_name
                        , in_date_modified
                        , in_data
                        , in_uuid
                        , in_active
                        , in_date_created
                        , in_type
                        , in_description
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

-- ------------------------------------
-- DEL

-- ------------------------------------
-- MODEL: RewardConditionType - reward_condition_type

                       
DROP PROCEDURE IF EXISTS `usp_reward_condition_type_del_uuid`;

delimiter $$
CREATE PROCEDURE `usp_reward_condition_type_del_uuid`
(
    in_uuid BINARY(16) 
)

BEGIN
    DELETE 
    FROM `reward_condition_type`
    WHERE 1=1                        
    AND "uuid" = in_uuid
    ;
END$$
delimiter ;
-- ------------------------------------
-- GET

-- ------------------------------------
-- MODEL: RewardConditionType - reward_condition_type

                       
DROP PROCEDURE IF EXISTS `usp_reward_condition_type_get_uuid`;

delimiter $$
CREATE PROCEDURE `usp_reward_condition_type_get_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `data`
        , `uuid`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `reward_condition_type`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_reward_condition_type_get_code`;

delimiter $$
CREATE PROCEDURE `usp_reward_condition_type_get_code`
(
    in_code VARCHAR (255) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `data`
        , `uuid`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `reward_condition_type`
    WHERE 1=1
    AND lower(`code`) = lower(in_code)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_reward_condition_type_get_name`;

delimiter $$
CREATE PROCEDURE `usp_reward_condition_type_get_name`
(
    in_name VARCHAR (255) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `data`
        , `uuid`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `reward_condition_type`
    WHERE 1=1
    AND lower(`name`) = lower(in_name)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_reward_condition_type_get_type`;

delimiter $$
CREATE PROCEDURE `usp_reward_condition_type_get_type`
(
    in_type VARCHAR (50) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `data`
        , `uuid`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `reward_condition_type`
    WHERE 1=1
    AND lower(`type`) = lower(in_type)
    ;
END$$
delimiter ;

-- -----------------------------------------------------------------------------
-- PROCS

-- ------------------------------------
-- COUNT

-- ------------------------------------
-- MODEL: Question - question

                       
DROP PROCEDURE IF EXISTS `usp_question_count`;
delimiter $$
CREATE PROCEDURE `usp_question_count`
BEGIN
    SELECT
        COUNT(*) as count
    FROM `question`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_question_count_uuid`;
delimiter $$
CREATE PROCEDURE `usp_question_count_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `question`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_question_count_code`;
delimiter $$
CREATE PROCEDURE `usp_question_count_code`
(
    in_code VARCHAR (255) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `question`
    WHERE 1=1
    AND lower(`code`) = lower(in_code)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_question_count_name`;
delimiter $$
CREATE PROCEDURE `usp_question_count_name`
(
    in_name VARCHAR (255) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `question`
    WHERE 1=1
    AND lower(`name`) = lower(in_name)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_question_count_channel_id`;
delimiter $$
CREATE PROCEDURE `usp_question_count_channel_id`
(
    in_channel_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `question`
    WHERE 1=1
    AND `channel_id` = in_channel_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_question_count_org_id`;
delimiter $$
CREATE PROCEDURE `usp_question_count_org_id`
(
    in_org_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `question`
    WHERE 1=1
    AND `org_id` = in_org_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_question_count_channel_id_org_id`;
delimiter $$
CREATE PROCEDURE `usp_question_count_channel_id_org_id`
(
    in_channel_id BINARY(16) 
    , in_org_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `question`
    WHERE 1=1
    AND `channel_id` = in_channel_id
    AND `org_id` = in_org_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_question_count_channel_id_code`;
delimiter $$
CREATE PROCEDURE `usp_question_count_channel_id_code`
(
    in_channel_id BINARY(16) 
    , in_code VARCHAR (255) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `question`
    WHERE 1=1
    AND `channel_id` = in_channel_id
    AND lower(`code`) = lower(in_code)
    ;
END$$
delimiter ;

-- ------------------------------------
-- BROWSE

-- ------------------------------------
-- MODEL: Question - question

                       
DROP PROCEDURE IF EXISTS `usp_question_browse_filter`;

delimiter $$
CREATE PROCEDURE `usp_question_browse_filter`
(
    in_page int,
    in_page_size int,
    in_sort VARCHAR(500),
    in_filter VARCHAR(4000)
    
)
BEGIN
    DECLARE total_rows int;
    SET total_rows = 0;
        
    IF (in_page = 0) THEN
        SET in_page = 1;
    END IF;    
    
    IF (in_page_size = 0) THEN
       SET in_page_size = 10;
    END IF;
    
    IF (in_sort = NULL || in_sort = '') THEN
       SET in_sort = ' date_modified ASC ';
    END IF;
    
    SET @sfields = CONCAT('', '`status`');
    SET @sfields = CONCAT(@sfields, ', `code`');
    SET @sfields = CONCAT(@sfields, ', `display_name`');
    SET @sfields = CONCAT(@sfields, ', `name`');
    SET @sfields = CONCAT(@sfields, ', `date_modified`');
    SET @sfields = CONCAT(@sfields, ', `data`');
    SET @sfields = CONCAT(@sfields, ', `org_id`');
    SET @sfields = CONCAT(@sfields, ', `uuid`');
    SET @sfields = CONCAT(@sfields, ', `choices`');
    SET @sfields = CONCAT(@sfields, ', `channel_id`');
    SET @sfields = CONCAT(@sfields, ', `active`');
    SET @sfields = CONCAT(@sfields, ', `date_created`');
    SET @sfields = CONCAT(@sfields, ', `type`');
    SET @sfields = CONCAT(@sfields, ', `description`');
    
    SET @stable = CONCAT('', ' FROM `question` WHERE 1=1 ');
    
    SET @s = CONCAT(' ', @stable);
    SET @s = CONCAT(@s, ' ', in_filter);    
    
    SET @scount = CONCAT('SELECT COUNT(*) as `total_rows` ', @s, ' INTO @total_rows');
    
    PREPARE stmtcount FROM @scount;
    EXECUTE stmtcount;
    #SELECT @total_rows;
    SET total_rows = @total_rows;

    SET @sfields = CONCAT(total_rows, ' as `total_rows`, ', @sfields);
    SET @s = CONCAT('SELECT ', @sfields, @s);
    SET @s = CONCAT(@s, ' ORDER BY ', in_sort);
    SET @s = CONCAT(@s, ' LIMIT ', in_page);
    SET @s = CONCAT(@s, ',', in_page_size);    

    PREPARE stmt FROM @s;
    EXECUTE stmt;
    
END$$
delimiter ;
-- ------------------------------------
-- SET

-- ------------------------------------
-- MODEL: Question - question

                       
DROP PROCEDURE IF EXISTS `usp_question_set_uuid`;
delimiter $$
CREATE PROCEDURE `usp_question_set_uuid`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_code VARCHAR (255) 
    , in_display_name VARCHAR (255) 
    , in_name VARCHAR (255) 
    , in_date_modified TIMESTAMP 
    , in_data TEXT 
    , in_org_id BINARY(16) 
    , in_uuid BINARY(16) 
    , in_choices TEXT 
    , in_channel_id BINARY(16) 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (50) 
    , in_description VARCHAR (255) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `question`  
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `question` 
                    SET
                        `status` = in_status
                        , `code` = in_code
                        , `display_name` = in_display_name
                        , `name` = in_name
                        , `date_modified` = in_date_modified
                        , `data` = in_data
                        , `org_id` = in_org_id
                        , `uuid` = in_uuid
                        , `choices` = in_choices
                        , `channel_id` = in_channel_id
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `type` = in_type
                        , `description` = in_description
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `question`
                    (
                        `status`
                        , `code`
                        , `display_name`
                        , `name`
                        , `date_modified`
                        , `data`
                        , `org_id`
                        , `uuid`
                        , `choices`
                        , `channel_id`
                        , `active`
                        , `date_created`
                        , `type`
                        , `description`
                    )
                    VALUES
                    (
                        in_status
                        , in_code
                        , in_display_name
                        , in_name
                        , in_date_modified
                        , in_data
                        , in_org_id
                        , in_uuid
                        , in_choices
                        , in_channel_id
                        , in_active
                        , in_date_created
                        , in_type
                        , in_description
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_question_set_channel_id_code`;
delimiter $$
CREATE PROCEDURE `usp_question_set_channel_id_code`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_code VARCHAR (255) 
    , in_display_name VARCHAR (255) 
    , in_name VARCHAR (255) 
    , in_date_modified TIMESTAMP 
    , in_data TEXT 
    , in_org_id BINARY(16) 
    , in_uuid BINARY(16) 
    , in_choices TEXT 
    , in_channel_id BINARY(16) 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (50) 
    , in_description VARCHAR (255) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `question`  
                    WHERE 1=1
                    AND `channel_id` = in_channel_id
                    AND lower(`code`) = lower(in_code)
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `question` 
                    SET
                        `status` = in_status
                        , `code` = in_code
                        , `display_name` = in_display_name
                        , `name` = in_name
                        , `date_modified` = in_date_modified
                        , `data` = in_data
                        , `org_id` = in_org_id
                        , `uuid` = in_uuid
                        , `choices` = in_choices
                        , `channel_id` = in_channel_id
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `type` = in_type
                        , `description` = in_description
                    WHERE 1=1
                    AND `channel_id` = in_channel_id
                    AND lower(`code`) = lower(in_code)
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `question`
                    (
                        `status`
                        , `code`
                        , `display_name`
                        , `name`
                        , `date_modified`
                        , `data`
                        , `org_id`
                        , `uuid`
                        , `choices`
                        , `channel_id`
                        , `active`
                        , `date_created`
                        , `type`
                        , `description`
                    )
                    VALUES
                    (
                        in_status
                        , in_code
                        , in_display_name
                        , in_name
                        , in_date_modified
                        , in_data
                        , in_org_id
                        , in_uuid
                        , in_choices
                        , in_channel_id
                        , in_active
                        , in_date_created
                        , in_type
                        , in_description
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

-- ------------------------------------
-- DEL

-- ------------------------------------
-- MODEL: Question - question

                       
DROP PROCEDURE IF EXISTS `usp_question_del_uuid`;

delimiter $$
CREATE PROCEDURE `usp_question_del_uuid`
(
    in_uuid BINARY(16) 
)

BEGIN
    DELETE 
    FROM `question`
    WHERE 1=1                        
    AND "uuid" = in_uuid
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_question_del_channel_id_org_id`;

delimiter $$
CREATE PROCEDURE `usp_question_del_channel_id_org_id`
(
    in_channel_id BINARY(16) 
    , in_org_id BINARY(16) 
)

BEGIN
    DELETE 
    FROM `question`
    WHERE 1=1                        
    AND "channel_id" = in_channel_id
    AND "org_id" = in_org_id
    ;
END$$
delimiter ;
-- ------------------------------------
-- GET

-- ------------------------------------
-- MODEL: Question - question

                       
DROP PROCEDURE IF EXISTS `usp_question_get_uuid`;

delimiter $$
CREATE PROCEDURE `usp_question_get_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `data`
        , `org_id`
        , `uuid`
        , `choices`
        , `channel_id`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `question`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_question_get_code`;

delimiter $$
CREATE PROCEDURE `usp_question_get_code`
(
    in_code VARCHAR (255) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `data`
        , `org_id`
        , `uuid`
        , `choices`
        , `channel_id`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `question`
    WHERE 1=1
    AND lower(`code`) = lower(in_code)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_question_get_name`;

delimiter $$
CREATE PROCEDURE `usp_question_get_name`
(
    in_name VARCHAR (255) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `data`
        , `org_id`
        , `uuid`
        , `choices`
        , `channel_id`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `question`
    WHERE 1=1
    AND lower(`name`) = lower(in_name)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_question_get_type`;

delimiter $$
CREATE PROCEDURE `usp_question_get_type`
(
    in_type VARCHAR (50) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `data`
        , `org_id`
        , `uuid`
        , `choices`
        , `channel_id`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `question`
    WHERE 1=1
    AND lower(`type`) = lower(in_type)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_question_get_channel_id`;

delimiter $$
CREATE PROCEDURE `usp_question_get_channel_id`
(
    in_channel_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `data`
        , `org_id`
        , `uuid`
        , `choices`
        , `channel_id`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `question`
    WHERE 1=1
    AND `channel_id` = in_channel_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_question_get_org_id`;

delimiter $$
CREATE PROCEDURE `usp_question_get_org_id`
(
    in_org_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `data`
        , `org_id`
        , `uuid`
        , `choices`
        , `channel_id`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `question`
    WHERE 1=1
    AND `org_id` = in_org_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_question_get_channel_id_org_id`;

delimiter $$
CREATE PROCEDURE `usp_question_get_channel_id_org_id`
(
    in_channel_id BINARY(16) 
    , in_org_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `data`
        , `org_id`
        , `uuid`
        , `choices`
        , `channel_id`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `question`
    WHERE 1=1
    AND `channel_id` = in_channel_id
    AND `org_id` = in_org_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_question_get_channel_id_code`;

delimiter $$
CREATE PROCEDURE `usp_question_get_channel_id_code`
(
    in_channel_id BINARY(16) 
    , in_code VARCHAR (255) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `data`
        , `org_id`
        , `uuid`
        , `choices`
        , `channel_id`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `question`
    WHERE 1=1
    AND `channel_id` = in_channel_id
    AND lower(`code`) = lower(in_code)
    ;
END$$
delimiter ;

-- -----------------------------------------------------------------------------
-- PROCS

-- ------------------------------------
-- COUNT

-- ------------------------------------
-- MODEL: ProfileQuestion - profile_question

                       
DROP PROCEDURE IF EXISTS `usp_profile_question_count`;
delimiter $$
CREATE PROCEDURE `usp_profile_question_count`
BEGIN
    SELECT
        COUNT(*) as count
    FROM `profile_question`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_question_count_uuid`;
delimiter $$
CREATE PROCEDURE `usp_profile_question_count_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `profile_question`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_question_count_channel_id`;
delimiter $$
CREATE PROCEDURE `usp_profile_question_count_channel_id`
(
    in_channel_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `profile_question`
    WHERE 1=1
    AND `channel_id` = in_channel_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_question_count_org_id`;
delimiter $$
CREATE PROCEDURE `usp_profile_question_count_org_id`
(
    in_org_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `profile_question`
    WHERE 1=1
    AND `org_id` = in_org_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_question_count_profile_id`;
delimiter $$
CREATE PROCEDURE `usp_profile_question_count_profile_id`
(
    in_profile_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `profile_question`
    WHERE 1=1
    AND `profile_id` = in_profile_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_question_count_question_id`;
delimiter $$
CREATE PROCEDURE `usp_profile_question_count_question_id`
(
    in_question_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `profile_question`
    WHERE 1=1
    AND `question_id` = in_question_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_question_count_channel_id_org_id`;
delimiter $$
CREATE PROCEDURE `usp_profile_question_count_channel_id_org_id`
(
    in_channel_id BINARY(16) 
    , in_org_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `profile_question`
    WHERE 1=1
    AND `channel_id` = in_channel_id
    AND `org_id` = in_org_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_question_count_channel_id_profile_id`;
delimiter $$
CREATE PROCEDURE `usp_profile_question_count_channel_id_profile_id`
(
    in_channel_id BINARY(16) 
    , in_profile_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `profile_question`
    WHERE 1=1
    AND `channel_id` = in_channel_id
    AND `profile_id` = in_profile_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_question_count_question_id_profile_id`;
delimiter $$
CREATE PROCEDURE `usp_profile_question_count_question_id_profile_id`
(
    in_question_id BINARY(16) 
    , in_profile_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `profile_question`
    WHERE 1=1
    AND `question_id` = in_question_id
    AND `profile_id` = in_profile_id
    ;
END$$
delimiter ;

-- ------------------------------------
-- BROWSE

-- ------------------------------------
-- MODEL: ProfileQuestion - profile_question

                       
DROP PROCEDURE IF EXISTS `usp_profile_question_browse_filter`;

delimiter $$
CREATE PROCEDURE `usp_profile_question_browse_filter`
(
    in_page int,
    in_page_size int,
    in_sort VARCHAR(500),
    in_filter VARCHAR(4000)
    
)
BEGIN
    DECLARE total_rows int;
    SET total_rows = 0;
        
    IF (in_page = 0) THEN
        SET in_page = 1;
    END IF;    
    
    IF (in_page_size = 0) THEN
       SET in_page_size = 10;
    END IF;
    
    IF (in_sort = NULL || in_sort = '') THEN
       SET in_sort = ' date_modified ASC ';
    END IF;
    
    SET @sfields = CONCAT('', '`status`');
    SET @sfields = CONCAT(@sfields, ', `profile_id`');
    SET @sfields = CONCAT(@sfields, ', `active`');
    SET @sfields = CONCAT(@sfields, ', `data`');
    SET @sfields = CONCAT(@sfields, ', `uuid`');
    SET @sfields = CONCAT(@sfields, ', `date_modified`');
    SET @sfields = CONCAT(@sfields, ', `org_id`');
    SET @sfields = CONCAT(@sfields, ', `channel_id`');
    SET @sfields = CONCAT(@sfields, ', `answer`');
    SET @sfields = CONCAT(@sfields, ', `date_created`');
    SET @sfields = CONCAT(@sfields, ', `type`');
    SET @sfields = CONCAT(@sfields, ', `question_id`');
    
    SET @stable = CONCAT('', ' FROM `profile_question` WHERE 1=1 ');
    
    SET @s = CONCAT(' ', @stable);
    SET @s = CONCAT(@s, ' ', in_filter);    
    
    SET @scount = CONCAT('SELECT COUNT(*) as `total_rows` ', @s, ' INTO @total_rows');
    
    PREPARE stmtcount FROM @scount;
    EXECUTE stmtcount;
    #SELECT @total_rows;
    SET total_rows = @total_rows;

    SET @sfields = CONCAT(total_rows, ' as `total_rows`, ', @sfields);
    SET @s = CONCAT('SELECT ', @sfields, @s);
    SET @s = CONCAT(@s, ' ORDER BY ', in_sort);
    SET @s = CONCAT(@s, ' LIMIT ', in_page);
    SET @s = CONCAT(@s, ',', in_page_size);    

    PREPARE stmt FROM @s;
    EXECUTE stmt;
    
END$$
delimiter ;
-- ------------------------------------
-- SET

-- ------------------------------------
-- MODEL: ProfileQuestion - profile_question

                       
DROP PROCEDURE IF EXISTS `usp_profile_question_set_uuid`;
delimiter $$
CREATE PROCEDURE `usp_profile_question_set_uuid`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_profile_id BINARY(16) 
    , in_active int 
    , in_data TEXT 
    , in_uuid BINARY(16) 
    , in_date_modified TIMESTAMP 
    , in_org_id BINARY(16) 
    , in_channel_id BINARY(16) 
    , in_answer VARCHAR (1000) 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (500) 
    , in_question_id BINARY(16) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `profile_question`  
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `profile_question` 
                    SET
                        `status` = in_status
                        , `profile_id` = in_profile_id
                        , `active` = in_active
                        , `data` = in_data
                        , `uuid` = in_uuid
                        , `date_modified` = in_date_modified
                        , `org_id` = in_org_id
                        , `channel_id` = in_channel_id
                        , `answer` = in_answer
                        , `date_created` = in_date_created
                        , `type` = in_type
                        , `question_id` = in_question_id
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `profile_question`
                    (
                        `status`
                        , `profile_id`
                        , `active`
                        , `data`
                        , `uuid`
                        , `date_modified`
                        , `org_id`
                        , `channel_id`
                        , `answer`
                        , `date_created`
                        , `type`
                        , `question_id`
                    )
                    VALUES
                    (
                        in_status
                        , in_profile_id
                        , in_active
                        , in_data
                        , in_uuid
                        , in_date_modified
                        , in_org_id
                        , in_channel_id
                        , in_answer
                        , in_date_created
                        , in_type
                        , in_question_id
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_question_set_channel_id_profile_id`;
delimiter $$
CREATE PROCEDURE `usp_profile_question_set_channel_id_profile_id`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_profile_id BINARY(16) 
    , in_active int 
    , in_data TEXT 
    , in_uuid BINARY(16) 
    , in_date_modified TIMESTAMP 
    , in_org_id BINARY(16) 
    , in_channel_id BINARY(16) 
    , in_answer VARCHAR (1000) 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (500) 
    , in_question_id BINARY(16) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `profile_question`  
                    WHERE 1=1
                    AND `channel_id` = in_channel_id
                    AND `profile_id` = in_profile_id
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `profile_question` 
                    SET
                        `status` = in_status
                        , `profile_id` = in_profile_id
                        , `active` = in_active
                        , `data` = in_data
                        , `uuid` = in_uuid
                        , `date_modified` = in_date_modified
                        , `org_id` = in_org_id
                        , `channel_id` = in_channel_id
                        , `answer` = in_answer
                        , `date_created` = in_date_created
                        , `type` = in_type
                        , `question_id` = in_question_id
                    WHERE 1=1
                    AND `channel_id` = in_channel_id
                    AND `profile_id` = in_profile_id
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `profile_question`
                    (
                        `status`
                        , `profile_id`
                        , `active`
                        , `data`
                        , `uuid`
                        , `date_modified`
                        , `org_id`
                        , `channel_id`
                        , `answer`
                        , `date_created`
                        , `type`
                        , `question_id`
                    )
                    VALUES
                    (
                        in_status
                        , in_profile_id
                        , in_active
                        , in_data
                        , in_uuid
                        , in_date_modified
                        , in_org_id
                        , in_channel_id
                        , in_answer
                        , in_date_created
                        , in_type
                        , in_question_id
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_question_set_question_id_profile_id`;
delimiter $$
CREATE PROCEDURE `usp_profile_question_set_question_id_profile_id`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_profile_id BINARY(16) 
    , in_active int 
    , in_data TEXT 
    , in_uuid BINARY(16) 
    , in_date_modified TIMESTAMP 
    , in_org_id BINARY(16) 
    , in_channel_id BINARY(16) 
    , in_answer VARCHAR (1000) 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (500) 
    , in_question_id BINARY(16) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `profile_question`  
                    WHERE 1=1
                    AND `question_id` = in_question_id
                    AND `profile_id` = in_profile_id
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `profile_question` 
                    SET
                        `status` = in_status
                        , `profile_id` = in_profile_id
                        , `active` = in_active
                        , `data` = in_data
                        , `uuid` = in_uuid
                        , `date_modified` = in_date_modified
                        , `org_id` = in_org_id
                        , `channel_id` = in_channel_id
                        , `answer` = in_answer
                        , `date_created` = in_date_created
                        , `type` = in_type
                        , `question_id` = in_question_id
                    WHERE 1=1
                    AND `question_id` = in_question_id
                    AND `profile_id` = in_profile_id
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `profile_question`
                    (
                        `status`
                        , `profile_id`
                        , `active`
                        , `data`
                        , `uuid`
                        , `date_modified`
                        , `org_id`
                        , `channel_id`
                        , `answer`
                        , `date_created`
                        , `type`
                        , `question_id`
                    )
                    VALUES
                    (
                        in_status
                        , in_profile_id
                        , in_active
                        , in_data
                        , in_uuid
                        , in_date_modified
                        , in_org_id
                        , in_channel_id
                        , in_answer
                        , in_date_created
                        , in_type
                        , in_question_id
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_question_set_channel_id_question_id_profile_id`;
delimiter $$
CREATE PROCEDURE `usp_profile_question_set_channel_id_question_id_profile_id`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_profile_id BINARY(16) 
    , in_active int 
    , in_data TEXT 
    , in_uuid BINARY(16) 
    , in_date_modified TIMESTAMP 
    , in_org_id BINARY(16) 
    , in_channel_id BINARY(16) 
    , in_answer VARCHAR (1000) 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (500) 
    , in_question_id BINARY(16) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `profile_question`  
                    WHERE 1=1
                    AND `channel_id` = in_channel_id
                    AND `question_id` = in_question_id
                    AND `profile_id` = in_profile_id
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `profile_question` 
                    SET
                        `status` = in_status
                        , `profile_id` = in_profile_id
                        , `active` = in_active
                        , `data` = in_data
                        , `uuid` = in_uuid
                        , `date_modified` = in_date_modified
                        , `org_id` = in_org_id
                        , `channel_id` = in_channel_id
                        , `answer` = in_answer
                        , `date_created` = in_date_created
                        , `type` = in_type
                        , `question_id` = in_question_id
                    WHERE 1=1
                    AND `channel_id` = in_channel_id
                    AND `question_id` = in_question_id
                    AND `profile_id` = in_profile_id
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `profile_question`
                    (
                        `status`
                        , `profile_id`
                        , `active`
                        , `data`
                        , `uuid`
                        , `date_modified`
                        , `org_id`
                        , `channel_id`
                        , `answer`
                        , `date_created`
                        , `type`
                        , `question_id`
                    )
                    VALUES
                    (
                        in_status
                        , in_profile_id
                        , in_active
                        , in_data
                        , in_uuid
                        , in_date_modified
                        , in_org_id
                        , in_channel_id
                        , in_answer
                        , in_date_created
                        , in_type
                        , in_question_id
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

-- ------------------------------------
-- DEL

-- ------------------------------------
-- MODEL: ProfileQuestion - profile_question

                       
DROP PROCEDURE IF EXISTS `usp_profile_question_del_uuid`;

delimiter $$
CREATE PROCEDURE `usp_profile_question_del_uuid`
(
    in_uuid BINARY(16) 
)

BEGIN
    DELETE 
    FROM `profile_question`
    WHERE 1=1                        
    AND "uuid" = in_uuid
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_profile_question_del_channel_id_org_id`;

delimiter $$
CREATE PROCEDURE `usp_profile_question_del_channel_id_org_id`
(
    in_channel_id BINARY(16) 
    , in_org_id BINARY(16) 
)

BEGIN
    DELETE 
    FROM `profile_question`
    WHERE 1=1                        
    AND "channel_id" = in_channel_id
    AND "org_id" = in_org_id
    ;
END$$
delimiter ;
-- ------------------------------------
-- GET

-- ------------------------------------
-- MODEL: ProfileQuestion - profile_question

                       
DROP PROCEDURE IF EXISTS `usp_profile_question_get_uuid`;

delimiter $$
CREATE PROCEDURE `usp_profile_question_get_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `profile_id`
        , `active`
        , `data`
        , `uuid`
        , `date_modified`
        , `org_id`
        , `channel_id`
        , `answer`
        , `date_created`
        , `type`
        , `question_id`
    FROM `profile_question`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_question_get_channel_id`;

delimiter $$
CREATE PROCEDURE `usp_profile_question_get_channel_id`
(
    in_channel_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `profile_id`
        , `active`
        , `data`
        , `uuid`
        , `date_modified`
        , `org_id`
        , `channel_id`
        , `answer`
        , `date_created`
        , `type`
        , `question_id`
    FROM `profile_question`
    WHERE 1=1
    AND `channel_id` = in_channel_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_question_get_org_id`;

delimiter $$
CREATE PROCEDURE `usp_profile_question_get_org_id`
(
    in_org_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `profile_id`
        , `active`
        , `data`
        , `uuid`
        , `date_modified`
        , `org_id`
        , `channel_id`
        , `answer`
        , `date_created`
        , `type`
        , `question_id`
    FROM `profile_question`
    WHERE 1=1
    AND `org_id` = in_org_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_question_get_profile_id`;

delimiter $$
CREATE PROCEDURE `usp_profile_question_get_profile_id`
(
    in_profile_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `profile_id`
        , `active`
        , `data`
        , `uuid`
        , `date_modified`
        , `org_id`
        , `channel_id`
        , `answer`
        , `date_created`
        , `type`
        , `question_id`
    FROM `profile_question`
    WHERE 1=1
    AND `profile_id` = in_profile_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_question_get_question_id`;

delimiter $$
CREATE PROCEDURE `usp_profile_question_get_question_id`
(
    in_question_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `profile_id`
        , `active`
        , `data`
        , `uuid`
        , `date_modified`
        , `org_id`
        , `channel_id`
        , `answer`
        , `date_created`
        , `type`
        , `question_id`
    FROM `profile_question`
    WHERE 1=1
    AND `question_id` = in_question_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_question_get_channel_id_org_id`;

delimiter $$
CREATE PROCEDURE `usp_profile_question_get_channel_id_org_id`
(
    in_channel_id BINARY(16) 
    , in_org_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `profile_id`
        , `active`
        , `data`
        , `uuid`
        , `date_modified`
        , `org_id`
        , `channel_id`
        , `answer`
        , `date_created`
        , `type`
        , `question_id`
    FROM `profile_question`
    WHERE 1=1
    AND `channel_id` = in_channel_id
    AND `org_id` = in_org_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_question_get_channel_id_profile_id`;

delimiter $$
CREATE PROCEDURE `usp_profile_question_get_channel_id_profile_id`
(
    in_channel_id BINARY(16) 
    , in_profile_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `profile_id`
        , `active`
        , `data`
        , `uuid`
        , `date_modified`
        , `org_id`
        , `channel_id`
        , `answer`
        , `date_created`
        , `type`
        , `question_id`
    FROM `profile_question`
    WHERE 1=1
    AND `channel_id` = in_channel_id
    AND `profile_id` = in_profile_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_question_get_question_id_profile_id`;

delimiter $$
CREATE PROCEDURE `usp_profile_question_get_question_id_profile_id`
(
    in_question_id BINARY(16) 
    , in_profile_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `profile_id`
        , `active`
        , `data`
        , `uuid`
        , `date_modified`
        , `org_id`
        , `channel_id`
        , `answer`
        , `date_created`
        , `type`
        , `question_id`
    FROM `profile_question`
    WHERE 1=1
    AND `question_id` = in_question_id
    AND `profile_id` = in_profile_id
    ;
END$$
delimiter ;

-- -----------------------------------------------------------------------------
-- PROCS

-- ------------------------------------
-- COUNT

-- ------------------------------------
-- MODEL: ProfileChannel - profile_channel

                       
DROP PROCEDURE IF EXISTS `usp_profile_channel_count`;
delimiter $$
CREATE PROCEDURE `usp_profile_channel_count`
BEGIN
    SELECT
        COUNT(*) as count
    FROM `profile_channel`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_channel_count_uuid`;
delimiter $$
CREATE PROCEDURE `usp_profile_channel_count_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `profile_channel`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_channel_count_channel_id`;
delimiter $$
CREATE PROCEDURE `usp_profile_channel_count_channel_id`
(
    in_channel_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `profile_channel`
    WHERE 1=1
    AND `channel_id` = in_channel_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_channel_count_profile_id`;
delimiter $$
CREATE PROCEDURE `usp_profile_channel_count_profile_id`
(
    in_profile_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `profile_channel`
    WHERE 1=1
    AND `profile_id` = in_profile_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_channel_count_channel_id_profile_id`;
delimiter $$
CREATE PROCEDURE `usp_profile_channel_count_channel_id_profile_id`
(
    in_channel_id BINARY(16) 
    , in_profile_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `profile_channel`
    WHERE 1=1
    AND `channel_id` = in_channel_id
    AND `profile_id` = in_profile_id
    ;
END$$
delimiter ;

-- ------------------------------------
-- BROWSE

-- ------------------------------------
-- MODEL: ProfileChannel - profile_channel

                       
DROP PROCEDURE IF EXISTS `usp_profile_channel_browse_filter`;

delimiter $$
CREATE PROCEDURE `usp_profile_channel_browse_filter`
(
    in_page int,
    in_page_size int,
    in_sort VARCHAR(500),
    in_filter VARCHAR(4000)
    
)
BEGIN
    DECLARE total_rows int;
    SET total_rows = 0;
        
    IF (in_page = 0) THEN
        SET in_page = 1;
    END IF;    
    
    IF (in_page_size = 0) THEN
       SET in_page_size = 10;
    END IF;
    
    IF (in_sort = NULL || in_sort = '') THEN
       SET in_sort = ' date_modified ASC ';
    END IF;
    
    SET @sfields = CONCAT('', '`status`');
    SET @sfields = CONCAT(@sfields, ', `channel_id`');
    SET @sfields = CONCAT(@sfields, ', `uuid`');
    SET @sfields = CONCAT(@sfields, ', `date_modified`');
    SET @sfields = CONCAT(@sfields, ', `active`');
    SET @sfields = CONCAT(@sfields, ', `date_created`');
    SET @sfields = CONCAT(@sfields, ', `profile_id`');
    SET @sfields = CONCAT(@sfields, ', `type`');
    SET @sfields = CONCAT(@sfields, ', `data`');
    
    SET @stable = CONCAT('', ' FROM `profile_channel` WHERE 1=1 ');
    
    SET @s = CONCAT(' ', @stable);
    SET @s = CONCAT(@s, ' ', in_filter);    
    
    SET @scount = CONCAT('SELECT COUNT(*) as `total_rows` ', @s, ' INTO @total_rows');
    
    PREPARE stmtcount FROM @scount;
    EXECUTE stmtcount;
    #SELECT @total_rows;
    SET total_rows = @total_rows;

    SET @sfields = CONCAT(total_rows, ' as `total_rows`, ', @sfields);
    SET @s = CONCAT('SELECT ', @sfields, @s);
    SET @s = CONCAT(@s, ' ORDER BY ', in_sort);
    SET @s = CONCAT(@s, ' LIMIT ', in_page);
    SET @s = CONCAT(@s, ',', in_page_size);    

    PREPARE stmt FROM @s;
    EXECUTE stmt;
    
END$$
delimiter ;
-- ------------------------------------
-- SET

-- ------------------------------------
-- MODEL: ProfileChannel - profile_channel

                       
DROP PROCEDURE IF EXISTS `usp_profile_channel_set_uuid`;
delimiter $$
CREATE PROCEDURE `usp_profile_channel_set_uuid`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_channel_id BINARY(16) 
    , in_uuid BINARY(16) 
    , in_date_modified TIMESTAMP 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_profile_id BINARY(16) 
    , in_type VARCHAR (500) 
    , in_data TEXT 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `profile_channel`  
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `profile_channel` 
                    SET
                        `status` = in_status
                        , `channel_id` = in_channel_id
                        , `uuid` = in_uuid
                        , `date_modified` = in_date_modified
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `profile_id` = in_profile_id
                        , `type` = in_type
                        , `data` = in_data
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `profile_channel`
                    (
                        `status`
                        , `channel_id`
                        , `uuid`
                        , `date_modified`
                        , `active`
                        , `date_created`
                        , `profile_id`
                        , `type`
                        , `data`
                    )
                    VALUES
                    (
                        in_status
                        , in_channel_id
                        , in_uuid
                        , in_date_modified
                        , in_active
                        , in_date_created
                        , in_profile_id
                        , in_type
                        , in_data
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_channel_set_channel_id_profile_id`;
delimiter $$
CREATE PROCEDURE `usp_profile_channel_set_channel_id_profile_id`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_channel_id BINARY(16) 
    , in_uuid BINARY(16) 
    , in_date_modified TIMESTAMP 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_profile_id BINARY(16) 
    , in_type VARCHAR (500) 
    , in_data TEXT 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `profile_channel`  
                    WHERE 1=1
                    AND `channel_id` = in_channel_id
                    AND `profile_id` = in_profile_id
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `profile_channel` 
                    SET
                        `status` = in_status
                        , `channel_id` = in_channel_id
                        , `uuid` = in_uuid
                        , `date_modified` = in_date_modified
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `profile_id` = in_profile_id
                        , `type` = in_type
                        , `data` = in_data
                    WHERE 1=1
                    AND `channel_id` = in_channel_id
                    AND `profile_id` = in_profile_id
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `profile_channel`
                    (
                        `status`
                        , `channel_id`
                        , `uuid`
                        , `date_modified`
                        , `active`
                        , `date_created`
                        , `profile_id`
                        , `type`
                        , `data`
                    )
                    VALUES
                    (
                        in_status
                        , in_channel_id
                        , in_uuid
                        , in_date_modified
                        , in_active
                        , in_date_created
                        , in_profile_id
                        , in_type
                        , in_data
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

-- ------------------------------------
-- DEL

-- ------------------------------------
-- MODEL: ProfileChannel - profile_channel

                       
DROP PROCEDURE IF EXISTS `usp_profile_channel_del_uuid`;

delimiter $$
CREATE PROCEDURE `usp_profile_channel_del_uuid`
(
    in_uuid BINARY(16) 
)

BEGIN
    DELETE 
    FROM `profile_channel`
    WHERE 1=1                        
    AND "uuid" = in_uuid
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_profile_channel_del_channel_id_profile_id`;

delimiter $$
CREATE PROCEDURE `usp_profile_channel_del_channel_id_profile_id`
(
    in_channel_id BINARY(16) 
    , in_profile_id BINARY(16) 
)

BEGIN
    DELETE 
    FROM `profile_channel`
    WHERE 1=1                        
    AND "channel_id" = in_channel_id
    AND "profile_id" = in_profile_id
    ;
END$$
delimiter ;
-- ------------------------------------
-- GET

-- ------------------------------------
-- MODEL: ProfileChannel - profile_channel

                       
DROP PROCEDURE IF EXISTS `usp_profile_channel_get_uuid`;

delimiter $$
CREATE PROCEDURE `usp_profile_channel_get_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `channel_id`
        , `uuid`
        , `date_modified`
        , `active`
        , `date_created`
        , `profile_id`
        , `type`
        , `data`
    FROM `profile_channel`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_channel_get_channel_id`;

delimiter $$
CREATE PROCEDURE `usp_profile_channel_get_channel_id`
(
    in_channel_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `channel_id`
        , `uuid`
        , `date_modified`
        , `active`
        , `date_created`
        , `profile_id`
        , `type`
        , `data`
    FROM `profile_channel`
    WHERE 1=1
    AND `channel_id` = in_channel_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_channel_get_profile_id`;

delimiter $$
CREATE PROCEDURE `usp_profile_channel_get_profile_id`
(
    in_profile_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `channel_id`
        , `uuid`
        , `date_modified`
        , `active`
        , `date_created`
        , `profile_id`
        , `type`
        , `data`
    FROM `profile_channel`
    WHERE 1=1
    AND `profile_id` = in_profile_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_channel_get_channel_id_profile_id`;

delimiter $$
CREATE PROCEDURE `usp_profile_channel_get_channel_id_profile_id`
(
    in_channel_id BINARY(16) 
    , in_profile_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `channel_id`
        , `uuid`
        , `date_modified`
        , `active`
        , `date_created`
        , `profile_id`
        , `type`
        , `data`
    FROM `profile_channel`
    WHERE 1=1
    AND `channel_id` = in_channel_id
    AND `profile_id` = in_profile_id
    ;
END$$
delimiter ;

-- -----------------------------------------------------------------------------
-- PROCS

-- ------------------------------------
-- COUNT

-- ------------------------------------
-- MODEL: ProfileRewardPoints - profile_reward_points

                       
DROP PROCEDURE IF EXISTS `usp_profile_reward_points_count`;
delimiter $$
CREATE PROCEDURE `usp_profile_reward_points_count`
BEGIN
    SELECT
        COUNT(*) as count
    FROM `profile_reward_points`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_reward_points_count_uuid`;
delimiter $$
CREATE PROCEDURE `usp_profile_reward_points_count_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `profile_reward_points`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_reward_points_count_channel_id`;
delimiter $$
CREATE PROCEDURE `usp_profile_reward_points_count_channel_id`
(
    in_channel_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `profile_reward_points`
    WHERE 1=1
    AND `channel_id` = in_channel_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_reward_points_count_org_id`;
delimiter $$
CREATE PROCEDURE `usp_profile_reward_points_count_org_id`
(
    in_org_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `profile_reward_points`
    WHERE 1=1
    AND `org_id` = in_org_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_reward_points_count_profile_id`;
delimiter $$
CREATE PROCEDURE `usp_profile_reward_points_count_profile_id`
(
    in_profile_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `profile_reward_points`
    WHERE 1=1
    AND `profile_id` = in_profile_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_reward_points_count_channel_id_org_id`;
delimiter $$
CREATE PROCEDURE `usp_profile_reward_points_count_channel_id_org_id`
(
    in_channel_id BINARY(16) 
    , in_org_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `profile_reward_points`
    WHERE 1=1
    AND `channel_id` = in_channel_id
    AND `org_id` = in_org_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_reward_points_count_channel_id_profile_id`;
delimiter $$
CREATE PROCEDURE `usp_profile_reward_points_count_channel_id_profile_id`
(
    in_channel_id BINARY(16) 
    , in_profile_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `profile_reward_points`
    WHERE 1=1
    AND `channel_id` = in_channel_id
    AND `profile_id` = in_profile_id
    ;
END$$
delimiter ;

-- ------------------------------------
-- BROWSE

-- ------------------------------------
-- MODEL: ProfileRewardPoints - profile_reward_points

                       
DROP PROCEDURE IF EXISTS `usp_profile_reward_points_browse_filter`;

delimiter $$
CREATE PROCEDURE `usp_profile_reward_points_browse_filter`
(
    in_page int,
    in_page_size int,
    in_sort VARCHAR(500),
    in_filter VARCHAR(4000)
    
)
BEGIN
    DECLARE total_rows int;
    SET total_rows = 0;
        
    IF (in_page = 0) THEN
        SET in_page = 1;
    END IF;    
    
    IF (in_page_size = 0) THEN
       SET in_page_size = 10;
    END IF;
    
    IF (in_sort = NULL || in_sort = '') THEN
       SET in_sort = ' date_modified ASC ';
    END IF;
    
    SET @sfields = CONCAT('', '`status`');
    SET @sfields = CONCAT(@sfields, ', `profile_id`');
    SET @sfields = CONCAT(@sfields, ', `active`');
    SET @sfields = CONCAT(@sfields, ', `data`');
    SET @sfields = CONCAT(@sfields, ', `uuid`');
    SET @sfields = CONCAT(@sfields, ', `date_modified`');
    SET @sfields = CONCAT(@sfields, ', `org_id`');
    SET @sfields = CONCAT(@sfields, ', `channel_id`');
    SET @sfields = CONCAT(@sfields, ', `points`');
    SET @sfields = CONCAT(@sfields, ', `date_created`');
    SET @sfields = CONCAT(@sfields, ', `type`');
    
    SET @stable = CONCAT('', ' FROM `profile_reward_points` WHERE 1=1 ');
    
    SET @s = CONCAT(' ', @stable);
    SET @s = CONCAT(@s, ' ', in_filter);    
    
    SET @scount = CONCAT('SELECT COUNT(*) as `total_rows` ', @s, ' INTO @total_rows');
    
    PREPARE stmtcount FROM @scount;
    EXECUTE stmtcount;
    #SELECT @total_rows;
    SET total_rows = @total_rows;

    SET @sfields = CONCAT(total_rows, ' as `total_rows`, ', @sfields);
    SET @s = CONCAT('SELECT ', @sfields, @s);
    SET @s = CONCAT(@s, ' ORDER BY ', in_sort);
    SET @s = CONCAT(@s, ' LIMIT ', in_page);
    SET @s = CONCAT(@s, ',', in_page_size);    

    PREPARE stmt FROM @s;
    EXECUTE stmt;
    
END$$
delimiter ;
-- ------------------------------------
-- SET

-- ------------------------------------
-- MODEL: ProfileRewardPoints - profile_reward_points

                       
DROP PROCEDURE IF EXISTS `usp_profile_reward_points_set_uuid`;
delimiter $$
CREATE PROCEDURE `usp_profile_reward_points_set_uuid`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_profile_id BINARY(16) 
    , in_active int 
    , in_data TEXT 
    , in_uuid BINARY(16) 
    , in_date_modified TIMESTAMP 
    , in_org_id BINARY(16) 
    , in_channel_id BINARY(16) 
    , in_points INTEGER 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (500) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `profile_reward_points`  
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `profile_reward_points` 
                    SET
                        `status` = in_status
                        , `profile_id` = in_profile_id
                        , `active` = in_active
                        , `data` = in_data
                        , `uuid` = in_uuid
                        , `date_modified` = in_date_modified
                        , `org_id` = in_org_id
                        , `channel_id` = in_channel_id
                        , `points` = in_points
                        , `date_created` = in_date_created
                        , `type` = in_type
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `profile_reward_points`
                    (
                        `status`
                        , `profile_id`
                        , `active`
                        , `data`
                        , `uuid`
                        , `date_modified`
                        , `org_id`
                        , `channel_id`
                        , `points`
                        , `date_created`
                        , `type`
                    )
                    VALUES
                    (
                        in_status
                        , in_profile_id
                        , in_active
                        , in_data
                        , in_uuid
                        , in_date_modified
                        , in_org_id
                        , in_channel_id
                        , in_points
                        , in_date_created
                        , in_type
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

-- ------------------------------------
-- DEL

-- ------------------------------------
-- MODEL: ProfileRewardPoints - profile_reward_points

                       
DROP PROCEDURE IF EXISTS `usp_profile_reward_points_del_uuid`;

delimiter $$
CREATE PROCEDURE `usp_profile_reward_points_del_uuid`
(
    in_uuid BINARY(16) 
)

BEGIN
    DELETE 
    FROM `profile_reward_points`
    WHERE 1=1                        
    AND "uuid" = in_uuid
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_profile_reward_points_del_channel_id_org_id`;

delimiter $$
CREATE PROCEDURE `usp_profile_reward_points_del_channel_id_org_id`
(
    in_channel_id BINARY(16) 
    , in_org_id BINARY(16) 
)

BEGIN
    DELETE 
    FROM `profile_reward_points`
    WHERE 1=1                        
    AND "channel_id" = in_channel_id
    AND "org_id" = in_org_id
    ;
END$$
delimiter ;
-- ------------------------------------
-- GET

-- ------------------------------------
-- MODEL: ProfileRewardPoints - profile_reward_points

                       
DROP PROCEDURE IF EXISTS `usp_profile_reward_points_get_uuid`;

delimiter $$
CREATE PROCEDURE `usp_profile_reward_points_get_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `profile_id`
        , `active`
        , `data`
        , `uuid`
        , `date_modified`
        , `org_id`
        , `channel_id`
        , `points`
        , `date_created`
        , `type`
    FROM `profile_reward_points`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_reward_points_get_channel_id`;

delimiter $$
CREATE PROCEDURE `usp_profile_reward_points_get_channel_id`
(
    in_channel_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `profile_id`
        , `active`
        , `data`
        , `uuid`
        , `date_modified`
        , `org_id`
        , `channel_id`
        , `points`
        , `date_created`
        , `type`
    FROM `profile_reward_points`
    WHERE 1=1
    AND `channel_id` = in_channel_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_reward_points_get_org_id`;

delimiter $$
CREATE PROCEDURE `usp_profile_reward_points_get_org_id`
(
    in_org_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `profile_id`
        , `active`
        , `data`
        , `uuid`
        , `date_modified`
        , `org_id`
        , `channel_id`
        , `points`
        , `date_created`
        , `type`
    FROM `profile_reward_points`
    WHERE 1=1
    AND `org_id` = in_org_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_reward_points_get_profile_id`;

delimiter $$
CREATE PROCEDURE `usp_profile_reward_points_get_profile_id`
(
    in_profile_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `profile_id`
        , `active`
        , `data`
        , `uuid`
        , `date_modified`
        , `org_id`
        , `channel_id`
        , `points`
        , `date_created`
        , `type`
    FROM `profile_reward_points`
    WHERE 1=1
    AND `profile_id` = in_profile_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_reward_points_get_channel_id_org_id`;

delimiter $$
CREATE PROCEDURE `usp_profile_reward_points_get_channel_id_org_id`
(
    in_channel_id BINARY(16) 
    , in_org_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `profile_id`
        , `active`
        , `data`
        , `uuid`
        , `date_modified`
        , `org_id`
        , `channel_id`
        , `points`
        , `date_created`
        , `type`
    FROM `profile_reward_points`
    WHERE 1=1
    AND `channel_id` = in_channel_id
    AND `org_id` = in_org_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_reward_points_get_channel_id_profile_id`;

delimiter $$
CREATE PROCEDURE `usp_profile_reward_points_get_channel_id_profile_id`
(
    in_channel_id BINARY(16) 
    , in_profile_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `profile_id`
        , `active`
        , `data`
        , `uuid`
        , `date_modified`
        , `org_id`
        , `channel_id`
        , `points`
        , `date_created`
        , `type`
    FROM `profile_reward_points`
    WHERE 1=1
    AND `channel_id` = in_channel_id
    AND `profile_id` = in_profile_id
    ;
END$$
delimiter ;

-- -----------------------------------------------------------------------------
-- PROCS

-- ------------------------------------
-- COUNT

-- ------------------------------------
-- MODEL: RewardCompetition - reward_competition

                       
DROP PROCEDURE IF EXISTS `usp_reward_competition_count_uuid`;
delimiter $$
CREATE PROCEDURE `usp_reward_competition_count_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `reward_competition`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_reward_competition_count_code`;
delimiter $$
CREATE PROCEDURE `usp_reward_competition_count_code`
(
    in_code VARCHAR (255) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `reward_competition`
    WHERE 1=1
    AND lower(`code`) = lower(in_code)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_reward_competition_count_name`;
delimiter $$
CREATE PROCEDURE `usp_reward_competition_count_name`
(
    in_name VARCHAR (255) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `reward_competition`
    WHERE 1=1
    AND lower(`name`) = lower(in_name)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_reward_competition_count_path`;
delimiter $$
CREATE PROCEDURE `usp_reward_competition_count_path`
(
    in_path VARCHAR (500) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `reward_competition`
    WHERE 1=1
    AND lower(`path`) = lower(in_path)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_reward_competition_count_channel_id`;
delimiter $$
CREATE PROCEDURE `usp_reward_competition_count_channel_id`
(
    in_channel_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `reward_competition`
    WHERE 1=1
    AND `channel_id` = in_channel_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_reward_competition_count_channel_id_completed`;
delimiter $$
CREATE PROCEDURE `usp_reward_competition_count_channel_id_completed`
(
    in_channel_id BINARY(16) 
    , in_completed int 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `reward_competition`
    WHERE 1=1
    AND `channel_id` = in_channel_id
    AND `completed` = in_completed
    ;
END$$
delimiter ;

-- ------------------------------------
-- BROWSE

-- ------------------------------------
-- MODEL: RewardCompetition - reward_competition

                       
DROP PROCEDURE IF EXISTS `usp_reward_competition_browse_filter`;

delimiter $$
CREATE PROCEDURE `usp_reward_competition_browse_filter`
(
    in_page int,
    in_page_size int,
    in_sort VARCHAR(500),
    in_filter VARCHAR(4000)
    
)
BEGIN
    DECLARE total_rows int;
    SET total_rows = 0;
        
    IF (in_page = 0) THEN
        SET in_page = 1;
    END IF;    
    
    IF (in_page_size = 0) THEN
       SET in_page_size = 10;
    END IF;
    
    IF (in_sort = NULL || in_sort = '') THEN
       SET in_sort = ' date_modified ASC ';
    END IF;
    
    SET @sfields = CONCAT('', '`sort`');
    SET @sfields = CONCAT(@sfields, ', `code`');
    SET @sfields = CONCAT(@sfields, ', `date_end`');
    SET @sfields = CONCAT(@sfields, ', `results`');
    SET @sfields = CONCAT(@sfields, ', `visible`');
    SET @sfields = CONCAT(@sfields, ', `display_name`');
    SET @sfields = CONCAT(@sfields, ', `uuid`');
    SET @sfields = CONCAT(@sfields, ', `date_start`');
    SET @sfields = CONCAT(@sfields, ', `winners`');
    SET @sfields = CONCAT(@sfields, ', `template`');
    SET @sfields = CONCAT(@sfields, ', `type`');
    SET @sfields = CONCAT(@sfields, ', `trigger_data`');
    SET @sfields = CONCAT(@sfields, ', `status`');
    SET @sfields = CONCAT(@sfields, ', `description`');
    SET @sfields = CONCAT(@sfields, ', `completed`');
    SET @sfields = CONCAT(@sfields, ', `template_url`');
    SET @sfields = CONCAT(@sfields, ', `active`');
    SET @sfields = CONCAT(@sfields, ', `path`');
    SET @sfields = CONCAT(@sfields, ', `data`');
    SET @sfields = CONCAT(@sfields, ', `name`');
    SET @sfields = CONCAT(@sfields, ', `date_modified`');
    SET @sfields = CONCAT(@sfields, ', `fulfilled`');
    SET @sfields = CONCAT(@sfields, ', `channel_id`');
    SET @sfields = CONCAT(@sfields, ', `date_created`');
    
    SET @stable = CONCAT('', ' FROM `reward_competition` WHERE 1=1 ');
    
    SET @s = CONCAT(' ', @stable);
    SET @s = CONCAT(@s, ' ', in_filter);    
    
    SET @scount = CONCAT('SELECT COUNT(*) as `total_rows` ', @s, ' INTO @total_rows');
    
    PREPARE stmtcount FROM @scount;
    EXECUTE stmtcount;
    #SELECT @total_rows;
    SET total_rows = @total_rows;

    SET @sfields = CONCAT(total_rows, ' as `total_rows`, ', @sfields);
    SET @s = CONCAT('SELECT ', @sfields, @s);
    SET @s = CONCAT(@s, ' ORDER BY ', in_sort);
    SET @s = CONCAT(@s, ' LIMIT ', in_page);
    SET @s = CONCAT(@s, ',', in_page_size);    

    PREPARE stmt FROM @s;
    EXECUTE stmt;
    
END$$
delimiter ;
-- ------------------------------------
-- SET

-- ------------------------------------
-- MODEL: RewardCompetition - reward_competition

                       
DROP PROCEDURE IF EXISTS `usp_reward_competition_set_uuid`;
delimiter $$
CREATE PROCEDURE `usp_reward_competition_set_uuid`
(
    in_set_type varchar(50)                      
    , in_sort INTEGER 
    , in_code VARCHAR (255) 
    , in_date_end TIMESTAMP 
    , in_results TEXT 
    , in_visible int 
    , in_display_name VARCHAR (255) 
    , in_uuid BINARY(16) 
    , in_date_start TIMESTAMP 
    , in_winners TEXT 
    , in_template TEXT 
    , in_type VARCHAR (500) 
    , in_trigger_data TEXT 
    , in_status VARCHAR (255) 
    , in_description VARCHAR (255) 
    , in_completed int 
    , in_template_url VARCHAR (500) 
    , in_active int 
    , in_path VARCHAR (500) 
    , in_data TEXT 
    , in_name VARCHAR (255) 
    , in_date_modified TIMESTAMP 
    , in_fulfilled int 
    , in_channel_id BINARY(16) 
    , in_date_created TIMESTAMP 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `reward_competition`  
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `reward_competition` 
                    SET
                        `sort` = in_sort
                        , `code` = in_code
                        , `date_end` = in_date_end
                        , `results` = in_results
                        , `visible` = in_visible
                        , `display_name` = in_display_name
                        , `uuid` = in_uuid
                        , `date_start` = in_date_start
                        , `winners` = in_winners
                        , `template` = in_template
                        , `type` = in_type
                        , `trigger_data` = in_trigger_data
                        , `status` = in_status
                        , `description` = in_description
                        , `completed` = in_completed
                        , `template_url` = in_template_url
                        , `active` = in_active
                        , `path` = in_path
                        , `data` = in_data
                        , `name` = in_name
                        , `date_modified` = in_date_modified
                        , `fulfilled` = in_fulfilled
                        , `channel_id` = in_channel_id
                        , `date_created` = in_date_created
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `reward_competition`
                    (
                        `sort`
                        , `code`
                        , `date_end`
                        , `results`
                        , `visible`
                        , `display_name`
                        , `uuid`
                        , `date_start`
                        , `winners`
                        , `template`
                        , `type`
                        , `trigger_data`
                        , `status`
                        , `description`
                        , `completed`
                        , `template_url`
                        , `active`
                        , `path`
                        , `data`
                        , `name`
                        , `date_modified`
                        , `fulfilled`
                        , `channel_id`
                        , `date_created`
                    )
                    VALUES
                    (
                        in_sort
                        , in_code
                        , in_date_end
                        , in_results
                        , in_visible
                        , in_display_name
                        , in_uuid
                        , in_date_start
                        , in_winners
                        , in_template
                        , in_type
                        , in_trigger_data
                        , in_status
                        , in_description
                        , in_completed
                        , in_template_url
                        , in_active
                        , in_path
                        , in_data
                        , in_name
                        , in_date_modified
                        , in_fulfilled
                        , in_channel_id
                        , in_date_created
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

-- ------------------------------------
-- DEL

-- ------------------------------------
-- MODEL: RewardCompetition - reward_competition

                       
DROP PROCEDURE IF EXISTS `usp_reward_competition_del_uuid`;

delimiter $$
CREATE PROCEDURE `usp_reward_competition_del_uuid`
(
    in_uuid BINARY(16) 
)

BEGIN
    DELETE 
    FROM `reward_competition`
    WHERE 1=1                        
    AND "uuid" = in_uuid
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_reward_competition_del_code`;

delimiter $$
CREATE PROCEDURE `usp_reward_competition_del_code`
(
    in_code VARCHAR (255) 
)

BEGIN
    DELETE 
    FROM `reward_competition`
    WHERE 1=1                        
    AND lower("code") = lower(in_code)
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_reward_competition_del_path_channel_id`;

delimiter $$
CREATE PROCEDURE `usp_reward_competition_del_path_channel_id`
(
    in_path VARCHAR (500) 
    , in_channel_id BINARY(16) 
)

BEGIN
    DELETE 
    FROM `reward_competition`
    WHERE 1=1                        
    AND lower("path") = lower(in_path)
    AND "channel_id" = in_channel_id
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_reward_competition_del_path`;

delimiter $$
CREATE PROCEDURE `usp_reward_competition_del_path`
(
    in_path VARCHAR (500) 
)

BEGIN
    DELETE 
    FROM `reward_competition`
    WHERE 1=1                        
    AND lower("path") = lower(in_path)
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_reward_competition_del_channel_id_path`;

delimiter $$
CREATE PROCEDURE `usp_reward_competition_del_channel_id_path`
(
    in_channel_id BINARY(16) 
    , in_path VARCHAR (500) 
)

BEGIN
    DELETE 
    FROM `reward_competition`
    WHERE 1=1                        
    AND "channel_id" = in_channel_id
    AND lower("path") = lower(in_path)
    ;
END$$
delimiter ;
-- ------------------------------------
-- GET

-- ------------------------------------
-- MODEL: RewardCompetition - reward_competition

                       
DROP PROCEDURE IF EXISTS `usp_reward_competition_get_uuid`;

delimiter $$
CREATE PROCEDURE `usp_reward_competition_get_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        `sort`
        , `code`
        , `date_end`
        , `results`
        , `visible`
        , `display_name`
        , `uuid`
        , `date_start`
        , `winners`
        , `template`
        , `type`
        , `trigger_data`
        , `status`
        , `description`
        , `completed`
        , `template_url`
        , `active`
        , `path`
        , `data`
        , `name`
        , `date_modified`
        , `fulfilled`
        , `channel_id`
        , `date_created`
    FROM `reward_competition`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_reward_competition_get_code`;

delimiter $$
CREATE PROCEDURE `usp_reward_competition_get_code`
(
    in_code VARCHAR (255) 
)
BEGIN
    SELECT
        `sort`
        , `code`
        , `date_end`
        , `results`
        , `visible`
        , `display_name`
        , `uuid`
        , `date_start`
        , `winners`
        , `template`
        , `type`
        , `trigger_data`
        , `status`
        , `description`
        , `completed`
        , `template_url`
        , `active`
        , `path`
        , `data`
        , `name`
        , `date_modified`
        , `fulfilled`
        , `channel_id`
        , `date_created`
    FROM `reward_competition`
    WHERE 1=1
    AND lower(`code`) = lower(in_code)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_reward_competition_get_name`;

delimiter $$
CREATE PROCEDURE `usp_reward_competition_get_name`
(
    in_name VARCHAR (255) 
)
BEGIN
    SELECT
        `sort`
        , `code`
        , `date_end`
        , `results`
        , `visible`
        , `display_name`
        , `uuid`
        , `date_start`
        , `winners`
        , `template`
        , `type`
        , `trigger_data`
        , `status`
        , `description`
        , `completed`
        , `template_url`
        , `active`
        , `path`
        , `data`
        , `name`
        , `date_modified`
        , `fulfilled`
        , `channel_id`
        , `date_created`
    FROM `reward_competition`
    WHERE 1=1
    AND lower(`name`) = lower(in_name)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_reward_competition_get_path`;

delimiter $$
CREATE PROCEDURE `usp_reward_competition_get_path`
(
    in_path VARCHAR (500) 
)
BEGIN
    SELECT
        `sort`
        , `code`
        , `date_end`
        , `results`
        , `visible`
        , `display_name`
        , `uuid`
        , `date_start`
        , `winners`
        , `template`
        , `type`
        , `trigger_data`
        , `status`
        , `description`
        , `completed`
        , `template_url`
        , `active`
        , `path`
        , `data`
        , `name`
        , `date_modified`
        , `fulfilled`
        , `channel_id`
        , `date_created`
    FROM `reward_competition`
    WHERE 1=1
    AND lower(`path`) = lower(in_path)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_reward_competition_get_channel_id`;

delimiter $$
CREATE PROCEDURE `usp_reward_competition_get_channel_id`
(
    in_channel_id BINARY(16) 
)
BEGIN
    SELECT
        `sort`
        , `code`
        , `date_end`
        , `results`
        , `visible`
        , `display_name`
        , `uuid`
        , `date_start`
        , `winners`
        , `template`
        , `type`
        , `trigger_data`
        , `status`
        , `description`
        , `completed`
        , `template_url`
        , `active`
        , `path`
        , `data`
        , `name`
        , `date_modified`
        , `fulfilled`
        , `channel_id`
        , `date_created`
    FROM `reward_competition`
    WHERE 1=1
    AND `channel_id` = in_channel_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_reward_competition_get_channel_id_completed`;

delimiter $$
CREATE PROCEDURE `usp_reward_competition_get_channel_id_completed`
(
    in_channel_id BINARY(16) 
    , in_completed int 
)
BEGIN
    SELECT
        `sort`
        , `code`
        , `date_end`
        , `results`
        , `visible`
        , `display_name`
        , `uuid`
        , `date_start`
        , `winners`
        , `template`
        , `type`
        , `trigger_data`
        , `status`
        , `description`
        , `completed`
        , `template_url`
        , `active`
        , `path`
        , `data`
        , `name`
        , `date_modified`
        , `fulfilled`
        , `channel_id`
        , `date_created`
    FROM `reward_competition`
    WHERE 1=1
    AND `channel_id` = in_channel_id
    AND `completed` = in_completed
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_reward_competition_get_channel_id_path`;

delimiter $$
CREATE PROCEDURE `usp_reward_competition_get_channel_id_path`
(
    in_channel_id BINARY(16) 
    , in_path VARCHAR (500) 
)
BEGIN
    SELECT
        `sort`
        , `code`
        , `date_end`
        , `results`
        , `visible`
        , `display_name`
        , `uuid`
        , `date_start`
        , `winners`
        , `template`
        , `type`
        , `trigger_data`
        , `status`
        , `description`
        , `completed`
        , `template_url`
        , `active`
        , `path`
        , `data`
        , `name`
        , `date_modified`
        , `fulfilled`
        , `channel_id`
        , `date_created`
    FROM `reward_competition`
    WHERE 1=1
    AND `channel_id` = in_channel_id
    AND lower(`path`) = lower(in_path)
    ;
END$$
delimiter ;


