-- -----------------------------------------------------------------------------
-- SQL SETUP 
-- -----------------------------------------------------------------------------

DELIMITER $$

DROP PROCEDURE IF EXISTS drop_index_if_exists $$
CREATE PROCEDURE drop_index_if_exists(in theTable varchar(128), in theIndexName varchar(128) )
BEGIN
 IF((SELECT COUNT(*) AS index_exists FROM information_schema.statistics WHERE TABLE_SCHEMA = DATABASE() and table_name =
theTable AND index_name = theIndexName) > 0) THEN
   SET @s = CONCAT('DROP INDEX `' , theIndexName , '` ON `' , theTable, '`');
   PREPARE stmt FROM @s;
   EXECUTE stmt;
 END IF;
END $$

DELIMITER ;

-- TABLES
/*
        
DROP TABLE IF EXISTS `app` CASCADE;
    
        
DROP TABLE IF EXISTS `app_type` CASCADE;
    
        
DROP TABLE IF EXISTS `site` CASCADE;
    
        
DROP TABLE IF EXISTS `site_type` CASCADE;
    
        
DROP TABLE IF EXISTS `org` CASCADE;
    
        
DROP TABLE IF EXISTS `org_type` CASCADE;
    
        
DROP TABLE IF EXISTS `content_item` CASCADE;
    
        
DROP TABLE IF EXISTS `content_item_type` CASCADE;
    
        
DROP TABLE IF EXISTS `content_page` CASCADE;
    
        
DROP TABLE IF EXISTS `message` CASCADE;
    
        
DROP TABLE IF EXISTS `game` CASCADE;
    
        
DROP TABLE IF EXISTS `game_category` CASCADE;
    
        
DROP TABLE IF EXISTS `game_category_tree` CASCADE;
    
        
DROP TABLE IF EXISTS `game_category_assoc` CASCADE;
    
        
DROP TABLE IF EXISTS `game_type` CASCADE;
    
        
DROP TABLE IF EXISTS `profile_game` CASCADE;
    
        
DROP TABLE IF EXISTS `profile_game_network` CASCADE;
    
        
DROP TABLE IF EXISTS `profile_game_data_attribute` CASCADE;
    
        
DROP TABLE IF EXISTS `game_session` CASCADE;
    
        
DROP TABLE IF EXISTS `game_session_data` CASCADE;
    
        
DROP TABLE IF EXISTS `game_content` CASCADE;
    
        
DROP TABLE IF EXISTS `game_profile_content` CASCADE;
    
        
DROP TABLE IF EXISTS `game_app` CASCADE;
    
        
DROP TABLE IF EXISTS `offer` CASCADE;
    
        
DROP TABLE IF EXISTS `offer_type` CASCADE;
    
        
DROP TABLE IF EXISTS `offer_location` CASCADE;
    
        
DROP TABLE IF EXISTS `offer_category` CASCADE;
    
        
DROP TABLE IF EXISTS `offer_category_tree` CASCADE;
    
        
DROP TABLE IF EXISTS `offer_category_assoc` CASCADE;
    
        
DROP TABLE IF EXISTS `offer_game_location` CASCADE;
    
        
DROP TABLE IF EXISTS `event_info` CASCADE;
    
        
DROP TABLE IF EXISTS `event_location` CASCADE;
    
        
DROP TABLE IF EXISTS `event_category` CASCADE;
    
        
DROP TABLE IF EXISTS `event_category_tree` CASCADE;
    
        
DROP TABLE IF EXISTS `event_category_assoc` CASCADE;
    
        
DROP TABLE IF EXISTS `channel` CASCADE;
    
        
DROP TABLE IF EXISTS `channel_type` CASCADE;
    
        
DROP TABLE IF EXISTS `question` CASCADE;
    
        
DROP TABLE IF EXISTS `profile_offer` CASCADE;
    
        
DROP TABLE IF EXISTS `profile_app` CASCADE;
    
        
DROP TABLE IF EXISTS `profile_org` CASCADE;
    
        
DROP TABLE IF EXISTS `profile_game_location` CASCADE;
    
        
DROP TABLE IF EXISTS `profile_question` CASCADE;
    
        
DROP TABLE IF EXISTS `profile_channel` CASCADE;
    
        
DROP TABLE IF EXISTS `org_site` CASCADE;
    
        
DROP TABLE IF EXISTS `site_app` CASCADE;
    
        
DROP TABLE IF EXISTS `photo` CASCADE;
    
        
DROP TABLE IF EXISTS `video` CASCADE;
    
        
DROP TABLE IF EXISTS `game_rpg_item_weapon` CASCADE;
    
        
DROP TABLE IF EXISTS `game_rpg_item_skill` CASCADE;
    
        
DROP TABLE IF EXISTS `game_product` CASCADE;
    
        
DROP TABLE IF EXISTS `game_statistic_leaderboard` CASCADE;
    
        
DROP TABLE IF EXISTS `game_live_queue` CASCADE;
    
        
DROP TABLE IF EXISTS `game_live_recent_queue` CASCADE;
    
        
DROP TABLE IF EXISTS `game_statistic` CASCADE;
    
        
DROP TABLE IF EXISTS `game_statistic_meta` CASCADE;
    
        
DROP TABLE IF EXISTS `game_statistic_timestamp` CASCADE;
    
        
DROP TABLE IF EXISTS `game_key_meta` CASCADE;
    
        
DROP TABLE IF EXISTS `game_level` CASCADE;
    
        
DROP TABLE IF EXISTS `game_achievement` CASCADE;
    
        
DROP TABLE IF EXISTS `game_achievement_meta` CASCADE;
    
*/

        
CREATE TABLE `app` 
(
    `status` VARCHAR (255)
    , `code` VARCHAR (255)
    , `display_name` VARCHAR (255)
    , `name` VARCHAR (255)
    , `date_modified` TIMESTAMP
                    DEFAULT NOW()
    , `type_id` BINARY(16)
    , `uuid` BINARY(16) 
    , `platform` VARCHAR (255)
    , `active` int
                DEFAULT 1
    , `date_created` TIMESTAMP
                    DEFAULT '0000-00-00 00:00:00'
    , `type` VARCHAR (500)
    , `description` VARCHAR (255)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

ALTER TABLE `app` ADD PRIMARY KEY (`uuid`);
    
        
CREATE TABLE `app_type` 
(
    `status` VARCHAR (255)
    , `code` VARCHAR (255)
    , `display_name` VARCHAR (255)
    , `name` VARCHAR (255)
    , `date_modified` TIMESTAMP
                    DEFAULT NOW()
    , `uuid` BINARY(16) 
    , `active` int
                DEFAULT 1
    , `date_created` TIMESTAMP
                    DEFAULT '0000-00-00 00:00:00'
    , `type` VARCHAR (500)
    , `description` VARCHAR (255)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

ALTER TABLE `app_type` ADD PRIMARY KEY (`uuid`);
    
        
CREATE TABLE `site` 
(
    `status` VARCHAR (255)
    , `domain` VARCHAR (255)
    , `code` VARCHAR (255)
    , `display_name` VARCHAR (255)
    , `name` VARCHAR (255)
    , `date_modified` TIMESTAMP
                    DEFAULT NOW()
    , `type_id` BINARY(16)
    , `uuid` BINARY(16) 
    , `active` int
                DEFAULT 1
    , `date_created` TIMESTAMP
                    DEFAULT '0000-00-00 00:00:00'
    , `type` VARCHAR (500)
    , `description` VARCHAR (255)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

ALTER TABLE `site` ADD PRIMARY KEY (`uuid`);
    
        
CREATE TABLE `site_type` 
(
    `status` VARCHAR (255)
    , `code` VARCHAR (255)
    , `display_name` VARCHAR (255)
    , `name` VARCHAR (255)
    , `date_modified` TIMESTAMP
                    DEFAULT NOW()
    , `uuid` BINARY(16) 
    , `active` int
                DEFAULT 1
    , `date_created` TIMESTAMP
                    DEFAULT '0000-00-00 00:00:00'
    , `type` VARCHAR (500)
    , `description` VARCHAR (255)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

ALTER TABLE `site_type` ADD PRIMARY KEY (`uuid`);
    
        
CREATE TABLE `org` 
(
    `status` VARCHAR (255)
    , `code` VARCHAR (255)
    , `display_name` VARCHAR (255)
    , `name` VARCHAR (255)
    , `date_modified` TIMESTAMP
                    DEFAULT NOW()
    , `type_id` BINARY(16)
    , `uuid` BINARY(16) 
    , `active` int
                DEFAULT 1
    , `date_created` TIMESTAMP
                    DEFAULT '0000-00-00 00:00:00'
    , `type` VARCHAR (500)
    , `description` VARCHAR (255)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

ALTER TABLE `org` ADD PRIMARY KEY (`uuid`);
    
        
CREATE TABLE `org_type` 
(
    `status` VARCHAR (255)
    , `code` VARCHAR (255)
    , `display_name` VARCHAR (255)
    , `name` VARCHAR (255)
    , `date_modified` TIMESTAMP
                    DEFAULT NOW()
    , `uuid` BINARY(16) 
    , `active` int
                DEFAULT 1
    , `date_created` TIMESTAMP
                    DEFAULT '0000-00-00 00:00:00'
    , `type` VARCHAR (500)
    , `description` VARCHAR (255)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

ALTER TABLE `org_type` ADD PRIMARY KEY (`uuid`);
    
        
CREATE TABLE `content_item` 
(
    `status` VARCHAR (255)
    , `type_id` BINARY(16)
    , `code` VARCHAR (255)
    , `display_name` VARCHAR (255)
    , `name` VARCHAR (255)
    , `date_modified` TIMESTAMP
                    DEFAULT NOW()
    , `data` TEXT
    , `date_end` TIMESTAMP
                    DEFAULT '0000-00-00 00:00:00'
    , `date_start` TIMESTAMP
                    DEFAULT '0000-00-00 00:00:00'
    , `uuid` BINARY(16) 
    , `path` VARCHAR (500)
    , `active` int
                DEFAULT 1
    , `date_created` TIMESTAMP
                    DEFAULT '0000-00-00 00:00:00'
    , `type` VARCHAR (500)
    , `description` VARCHAR (255)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

ALTER TABLE `content_item` ADD PRIMARY KEY (`uuid`);
    
        
CREATE TABLE `content_item_type` 
(
    `status` VARCHAR (255)
    , `code` VARCHAR (255)
    , `display_name` VARCHAR (255)
    , `name` VARCHAR (255)
    , `date_modified` TIMESTAMP
                    DEFAULT NOW()
    , `uuid` BINARY(16) 
    , `active` int
                DEFAULT 1
    , `date_created` TIMESTAMP
                    DEFAULT '0000-00-00 00:00:00'
    , `type` VARCHAR (500)
    , `description` VARCHAR (255)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

ALTER TABLE `content_item_type` ADD PRIMARY KEY (`uuid`);
    
        
CREATE TABLE `content_page` 
(
    `status` VARCHAR (255)
    , `code` VARCHAR (255)
    , `display_name` VARCHAR (255)
    , `name` VARCHAR (255)
    , `date_modified` TIMESTAMP
                    DEFAULT NOW()
    , `date_end` TIMESTAMP
                    DEFAULT '0000-00-00 00:00:00'
    , `date_start` TIMESTAMP
                    DEFAULT '0000-00-00 00:00:00'
    , `site_id` BINARY(16)
    , `uuid` BINARY(16) 
    , `template` TEXT
    , `path` VARCHAR (500)
    , `active` int
                DEFAULT 1
    , `date_created` TIMESTAMP
                    DEFAULT '0000-00-00 00:00:00'
    , `type` VARCHAR (500)
    , `description` VARCHAR (255)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

ALTER TABLE `content_page` ADD PRIMARY KEY (`uuid`);
    
        
CREATE TABLE `message` 
(
    `status` VARCHAR (255)
    , `profile_from_name` VARCHAR (500)
    , `read` int
                DEFAULT 1
    , `profile_from_id` BINARY(16)
    , `profile_to_token` VARCHAR (500)
    , `app_id` BINARY(16)
    , `active` int
                DEFAULT 1
    , `subject` VARCHAR (500)
    , `uuid` BINARY(16) 
    , `date_modified` TIMESTAMP
                    DEFAULT NOW()
    , `profile_to_id` BINARY(16)
    , `date_created` TIMESTAMP
                    DEFAULT '0000-00-00 00:00:00'
    , `profile_to_name` VARCHAR (500)
    , `type` VARCHAR (500)
    , `sent` int
                DEFAULT 1
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

ALTER TABLE `message` ADD PRIMARY KEY (`uuid`);
    
        
CREATE TABLE `game` 
(
    `status` VARCHAR (255)
    , `code` VARCHAR (255)
    , `display_name` VARCHAR (255)
    , `name` VARCHAR (255)
    , `date_modified` TIMESTAMP
                    DEFAULT NOW()
    , `org_id` BINARY(16)
    , `uuid` BINARY(16) 
    , `app_id` BINARY(16)
    , `active` int
                DEFAULT 1
    , `date_created` TIMESTAMP
                    DEFAULT '0000-00-00 00:00:00'
    , `type` VARCHAR (500)
    , `description` VARCHAR (255)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

ALTER TABLE `game` ADD PRIMARY KEY (`uuid`);
    
        
CREATE TABLE `game_category` 
(
    `status` VARCHAR (255)
    , `code` VARCHAR (255)
    , `display_name` VARCHAR (255)
    , `name` VARCHAR (255)
    , `date_modified` TIMESTAMP
                    DEFAULT NOW()
    , `type_id` BINARY(16) 
    , `org_id` BINARY(16) 
    , `uuid` BINARY(16) 
    , `active` int
                DEFAULT 1
    , `date_created` TIMESTAMP
                    DEFAULT '0000-00-00 00:00:00'
    , `type` VARCHAR (500)
    , `description` VARCHAR (255)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

ALTER TABLE `game_category` ADD PRIMARY KEY (`uuid`);
    
        
CREATE TABLE `game_category_tree` 
(
    `status` VARCHAR (255)
    , `parent_id` BINARY(16) 
    , `uuid` BINARY(16) 
    , `date_modified` TIMESTAMP
                    DEFAULT NOW()
    , `active` int
                DEFAULT 1
    , `date_created` TIMESTAMP
                    DEFAULT '0000-00-00 00:00:00'
    , `category_id` BINARY(16) 
    , `type` VARCHAR (500)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

ALTER TABLE `game_category_tree` ADD PRIMARY KEY (`uuid`);
    
        
CREATE TABLE `game_category_assoc` 
(
    `status` VARCHAR (255)
    , `uuid` BINARY(16) 
    , `date_modified` TIMESTAMP
                    DEFAULT NOW()
    , `active` int
                DEFAULT 1
    , `date_created` TIMESTAMP
                    DEFAULT '0000-00-00 00:00:00'
    , `game_id` BINARY(16) 
    , `category_id` BINARY(16) 
    , `type` VARCHAR (500)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

ALTER TABLE `game_category_assoc` ADD PRIMARY KEY (`uuid`);
    
        
CREATE TABLE `game_type` 
(
    `status` VARCHAR (255)
    , `code` VARCHAR (255)
    , `display_name` VARCHAR (255)
    , `name` VARCHAR (255)
    , `date_modified` TIMESTAMP
                    DEFAULT NOW()
    , `uuid` BINARY(16) 
    , `active` int
                DEFAULT 1
    , `date_created` TIMESTAMP
                    DEFAULT '0000-00-00 00:00:00'
    , `type` VARCHAR (50) 
    , `description` VARCHAR (255)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

ALTER TABLE `game_type` ADD PRIMARY KEY (`uuid`);
    
        
CREATE TABLE `profile_game` 
(
    `status` VARCHAR (255)
    , `type_id` BINARY(16)
    , `profile_id` BINARY(16)
    , `game_profile` TEXT
    , `active` int
                DEFAULT 1
    , `game_id` BINARY(16)
    , `uuid` BINARY(16) 
    , `date_modified` TIMESTAMP
                    DEFAULT NOW()
    , `profile_version` VARCHAR (50)
    , `date_created` TIMESTAMP
                    DEFAULT '0000-00-00 00:00:00'
    , `type` VARCHAR (500)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

ALTER TABLE `profile_game` ADD PRIMARY KEY (`uuid`);
    
        
CREATE TABLE `profile_game_network` 
(
    `status` VARCHAR (255)
    , `hash` VARCHAR (500)
    , `profile_id` BINARY(16)
    , `game_network_id` BINARY(16)
    , `network_username` VARCHAR (500)
    , `active` int
                DEFAULT 1
    , `game_id` BINARY(16)
    , `uuid` BINARY(16) 
    , `date_modified` TIMESTAMP
                    DEFAULT NOW()
    , `secret` VARCHAR (500)
    , `token` VARCHAR (500)
    , `date_created` TIMESTAMP
                    DEFAULT '0000-00-00 00:00:00'
    , `type` VARCHAR (500)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

ALTER TABLE `profile_game_network` ADD PRIMARY KEY (`uuid`);
    
        
CREATE TABLE `profile_game_data_attribute` 
(
    `code` VARCHAR (500)
    , `uuid` BINARY(16)
    , `val` TEXT
    , `profile_id` BINARY(16)
    , `otype` VARCHAR (500)
    , `game_id` BINARY(16)
    , `type` VARCHAR (500)
    , `name` VARCHAR (500)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

ALTER TABLE `profile_game_data_attribute` ADD PRIMARY KEY (`uuid`);
    
        
CREATE TABLE `game_session` 
(
    `code` VARCHAR (255)
    , `network_uuid` VARCHAR (40)
    , `profile_id` BINARY(16)
    , `game_area` VARCHAR (255)
    , `profile_network` VARCHAR (255)
    , `profile_device` VARCHAR (50)
    , `display_name` VARCHAR (255)
    , `uuid` BINARY(16) 
    , `network_external_port` INTEGER
    , `game_players_connected` INTEGER
    , `type` VARCHAR (500)
    , `status` VARCHAR (255)
    , `game_state` VARCHAR (50)
    , `hash` VARCHAR (255)
    , `description` VARCHAR (255)
    , `network_external_ip` VARCHAR (40)
    , `game_level` VARCHAR (255)
    , `profile_username` VARCHAR (500)
    , `active` int
                DEFAULT 1
    , `game_id` BINARY(16)
    , `game_code` VARCHAR (255)
    , `game_player_z` decimal
    , `game_player_x` decimal
    , `network_port` INTEGER
    , `game_players_allowed` INTEGER
    , `name` VARCHAR (255)
    , `date_modified` TIMESTAMP
                    DEFAULT NOW()
    , `game_type` VARCHAR (255)
    , `date_created` TIMESTAMP
                    DEFAULT '0000-00-00 00:00:00'
    , `network_ip` VARCHAR (40)
    , `network_use_nat` int
                DEFAULT 1
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

ALTER TABLE `game_session` ADD PRIMARY KEY (`uuid`);
    
        
CREATE TABLE `game_session_data` 
(
    `status` VARCHAR (255)
    , `code` VARCHAR (255)
    , `display_name` VARCHAR (255)
    , `name` VARCHAR (255)
    , `date_modified` TIMESTAMP
                    DEFAULT NOW()
    , `data_results` TEXT
    , `data` TEXT
    , `uuid` BINARY(16) 
    , `data_layer_projectile` TEXT
    , `data_layer_actors` TEXT
    , `active` int
                DEFAULT 1
    , `date_created` TIMESTAMP
                    DEFAULT '0000-00-00 00:00:00'
    , `data_layer_enemy` TEXT
    , `type` VARCHAR (500)
    , `description` VARCHAR (255)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

ALTER TABLE `game_session_data` ADD PRIMARY KEY (`uuid`);
    
        
CREATE TABLE `game_content` 
(
    `status` VARCHAR (255)
    , `code` VARCHAR (255)
    , `display_name` VARCHAR (255)
    , `name` VARCHAR (255)
    , `extension` VARCHAR (50)
    , `date_modified` TIMESTAMP
                    DEFAULT NOW()
    , `data` TEXT
    , `game_id` BINARY(16) 
    , `uuid` BINARY(16) 
    , `filename` VARCHAR (500)
    , `source` VARCHAR (255)
    , `version` VARCHAR (255)
    , `platform` VARCHAR (255)
    , `content_type` VARCHAR (255)
    , `path` VARCHAR (500)
    , `active` int
                DEFAULT 1
    , `date_created` TIMESTAMP
                    DEFAULT '0000-00-00 00:00:00'
    , `increment` INTEGER
    , `type` VARCHAR (500)
    , `hash` VARCHAR (255)
    , `description` VARCHAR (255)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

ALTER TABLE `game_content` ADD PRIMARY KEY (`uuid`);
    
        
CREATE TABLE `game_profile_content` 
(
    `username` VARCHAR (500)
    , `code` VARCHAR (255)
    , `profile_id` BINARY(16) 
    , `increment` INTEGER
    , `path` VARCHAR (500)
    , `display_name` VARCHAR (255)
    , `uuid` BINARY(16) 
    , `platform` VARCHAR (255)
    , `filename` VARCHAR (500)
    , `source` VARCHAR (255)
    , `version` VARCHAR (255)
    , `game_network` VARCHAR (500)
    , `type` VARCHAR (500)
    , `status` VARCHAR (255)
    , `hash` VARCHAR (255)
    , `description` VARCHAR (255)
    , `content_type` VARCHAR (255)
    , `active` int
                DEFAULT 1
    , `game_id` BINARY(16) 
    , `data` TEXT
    , `name` VARCHAR (255)
    , `extension` VARCHAR (50)
    , `date_modified` TIMESTAMP
                    DEFAULT NOW()
    , `date_created` TIMESTAMP
                    DEFAULT '0000-00-00 00:00:00'
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

ALTER TABLE `game_profile_content` ADD PRIMARY KEY (`uuid`);
    
        
CREATE TABLE `game_app` 
(
    `status` VARCHAR (255)
    , `uuid` BINARY(16) 
    , `date_modified` TIMESTAMP
                    DEFAULT NOW()
    , `active` int
                DEFAULT 1
    , `date_created` TIMESTAMP
                    DEFAULT '0000-00-00 00:00:00'
    , `game_id` BINARY(16) 
    , `type` VARCHAR (500)
    , `app_id` BINARY(16) 
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

ALTER TABLE `game_app` ADD PRIMARY KEY (`uuid`);
    
        
CREATE TABLE `offer` 
(
    `status` VARCHAR (255)
    , `code` VARCHAR (255)
    , `display_name` VARCHAR (255)
    , `name` VARCHAR (255)
    , `date_modified` TIMESTAMP
                    DEFAULT NOW()
    , `url` VARCHAR (500)
    , `type_id` BINARY(16) 
    , `org_id` BINARY(16) 
    , `uuid` BINARY(16) 
    , `usage_count` INTEGER
    , `active` int
                DEFAULT 1
    , `date_created` TIMESTAMP
                    DEFAULT '0000-00-00 00:00:00'
    , `type` VARCHAR (500)
    , `description` VARCHAR (255)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

ALTER TABLE `offer` ADD PRIMARY KEY (`uuid`);
    
        
CREATE TABLE `offer_type` 
(
    `status` VARCHAR (255)
    , `code` VARCHAR (255)
    , `display_name` VARCHAR (255)
    , `name` VARCHAR (255)
    , `date_modified` TIMESTAMP
                    DEFAULT NOW()
    , `uuid` BINARY(16) 
    , `active` int
                DEFAULT 1
    , `date_created` TIMESTAMP
                    DEFAULT '0000-00-00 00:00:00'
    , `type` VARCHAR (500)
    , `description` VARCHAR (255)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

ALTER TABLE `offer_type` ADD PRIMARY KEY (`uuid`);
    
        
CREATE TABLE `offer_location` 
(
    `status` VARCHAR (255)
    , `fax` VARCHAR (30)
    , `code` VARCHAR (255)
    , `description` VARCHAR (255)
    , `address1` VARCHAR (1000)
    , `twitter` VARCHAR (50)
    , `phone` VARCHAR (30)
    , `postal_code` VARCHAR (30)
    , `offer_id` BINARY(16)
    , `country_code` VARCHAR (255)
    , `date_created` TIMESTAMP
                    DEFAULT '0000-00-00 00:00:00'
    , `active` int
                DEFAULT 1
    , `uuid` BINARY(16) 
    , `state_province` VARCHAR (255)
    , `city` VARCHAR (255)
    , `display_name` VARCHAR (255)
    , `name` VARCHAR (255)
    , `date_modified` TIMESTAMP
                    DEFAULT NOW()
    , `dob` TIMESTAMP
                    DEFAULT '0000-00-00 00:00:00'
    , `date_start` TIMESTAMP
                    DEFAULT '0000-00-00 00:00:00'
    , `longitude` double
    , `email` VARCHAR (255)
    , `date_end` TIMESTAMP
                    DEFAULT '0000-00-00 00:00:00'
    , `latitude` double
    , `facebook` VARCHAR (255)
    , `type` VARCHAR (500)
    , `address2` VARCHAR (500)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

ALTER TABLE `offer_location` ADD PRIMARY KEY (`uuid`);
    
        
CREATE TABLE `offer_category` 
(
    `status` VARCHAR (255)
    , `code` VARCHAR (255)
    , `display_name` VARCHAR (255)
    , `name` VARCHAR (255)
    , `date_modified` TIMESTAMP
                    DEFAULT NOW()
    , `type_id` BINARY(16) 
    , `org_id` BINARY(16) 
    , `uuid` BINARY(16) 
    , `active` int
                DEFAULT 1
    , `date_created` TIMESTAMP
                    DEFAULT '0000-00-00 00:00:00'
    , `type` VARCHAR (500)
    , `description` VARCHAR (255)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

ALTER TABLE `offer_category` ADD PRIMARY KEY (`uuid`);
    
        
CREATE TABLE `offer_category_tree` 
(
    `status` VARCHAR (255)
    , `parent_id` BINARY(16) 
    , `uuid` BINARY(16) 
    , `date_modified` TIMESTAMP
                    DEFAULT NOW()
    , `active` int
                DEFAULT 1
    , `date_created` TIMESTAMP
                    DEFAULT '0000-00-00 00:00:00'
    , `category_id` BINARY(16) 
    , `type` VARCHAR (500)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

ALTER TABLE `offer_category_tree` ADD PRIMARY KEY (`uuid`);
    
        
CREATE TABLE `offer_category_assoc` 
(
    `status` VARCHAR (255)
    , `uuid` BINARY(16) 
    , `date_modified` TIMESTAMP
                    DEFAULT NOW()
    , `active` int
                DEFAULT 1
    , `date_created` TIMESTAMP
                    DEFAULT '0000-00-00 00:00:00'
    , `offer_id` BINARY(16) 
    , `category_id` BINARY(16) 
    , `type` VARCHAR (500)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

ALTER TABLE `offer_category_assoc` ADD PRIMARY KEY (`uuid`);
    
        
CREATE TABLE `offer_game_location` 
(
    `status` VARCHAR (255)
    , `game_location_id` BINARY(16)
    , `uuid` BINARY(16) 
    , `date_modified` TIMESTAMP
                    DEFAULT NOW()
    , `active` int
                DEFAULT 1
    , `date_created` TIMESTAMP
                    DEFAULT '0000-00-00 00:00:00'
    , `offer_id` BINARY(16)
    , `type_id` BINARY(16)
    , `type` VARCHAR (500)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

ALTER TABLE `offer_game_location` ADD PRIMARY KEY (`uuid`);
    
        
CREATE TABLE `event_info` 
(
    `status` VARCHAR (255)
    , `code` VARCHAR (255)
    , `display_name` VARCHAR (255)
    , `name` VARCHAR (255)
    , `date_modified` TIMESTAMP
                    DEFAULT NOW()
    , `url` VARCHAR (500)
    , `org_id` BINARY(16) 
    , `uuid` BINARY(16) 
    , `usage_count` INTEGER
    , `active` int
                DEFAULT 1
    , `date_created` TIMESTAMP
                    DEFAULT '0000-00-00 00:00:00'
    , `type` VARCHAR (500)
    , `description` VARCHAR (255)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

ALTER TABLE `event_info` ADD PRIMARY KEY (`uuid`);
    
        
CREATE TABLE `event_location` 
(
    `status` VARCHAR (255)
    , `fax` VARCHAR (30)
    , `code` VARCHAR (255)
    , `description` VARCHAR (255)
    , `address1` VARCHAR (1000)
    , `twitter` VARCHAR (50)
    , `phone` VARCHAR (30)
    , `postal_code` VARCHAR (30)
    , `country_code` VARCHAR (255)
    , `date_created` TIMESTAMP
                    DEFAULT '0000-00-00 00:00:00'
    , `active` int
                DEFAULT 1
    , `uuid` BINARY(16) 
    , `state_province` VARCHAR (255)
    , `city` VARCHAR (255)
    , `display_name` VARCHAR (255)
    , `name` VARCHAR (255)
    , `date_modified` TIMESTAMP
                    DEFAULT NOW()
    , `dob` TIMESTAMP
                    DEFAULT '0000-00-00 00:00:00'
    , `date_start` TIMESTAMP
                    DEFAULT '0000-00-00 00:00:00'
    , `longitude` double
    , `email` VARCHAR (255)
    , `event_id` BINARY(16)
    , `date_end` TIMESTAMP
                    DEFAULT '0000-00-00 00:00:00'
    , `latitude` double
    , `facebook` VARCHAR (255)
    , `type` VARCHAR (500)
    , `address2` VARCHAR (500)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

ALTER TABLE `event_location` ADD PRIMARY KEY (`uuid`);
    
        
CREATE TABLE `event_category` 
(
    `status` VARCHAR (255)
    , `code` VARCHAR (255)
    , `display_name` VARCHAR (255)
    , `name` VARCHAR (255)
    , `date_modified` TIMESTAMP
                    DEFAULT NOW()
    , `type_id` BINARY(16) 
    , `org_id` BINARY(16) 
    , `uuid` BINARY(16) 
    , `active` int
                DEFAULT 1
    , `date_created` TIMESTAMP
                    DEFAULT '0000-00-00 00:00:00'
    , `type` VARCHAR (500)
    , `description` VARCHAR (255)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

ALTER TABLE `event_category` ADD PRIMARY KEY (`uuid`);
    
        
CREATE TABLE `event_category_tree` 
(
    `status` VARCHAR (255)
    , `parent_id` BINARY(16) 
    , `uuid` BINARY(16) 
    , `date_modified` TIMESTAMP
                    DEFAULT NOW()
    , `active` int
                DEFAULT 1
    , `date_created` TIMESTAMP
                    DEFAULT '0000-00-00 00:00:00'
    , `category_id` BINARY(16) 
    , `type` VARCHAR (500)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

ALTER TABLE `event_category_tree` ADD PRIMARY KEY (`uuid`);
    
        
CREATE TABLE `event_category_assoc` 
(
    `status` VARCHAR (255)
    , `event_id` BINARY(16) 
    , `uuid` BINARY(16) 
    , `date_modified` TIMESTAMP
                    DEFAULT NOW()
    , `active` int
                DEFAULT 1
    , `date_created` TIMESTAMP
                    DEFAULT '0000-00-00 00:00:00'
    , `category_id` BINARY(16) 
    , `type` VARCHAR (500)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

ALTER TABLE `event_category_assoc` ADD PRIMARY KEY (`uuid`);
    
        
CREATE TABLE `channel` 
(
    `status` VARCHAR (255)
    , `code` VARCHAR (255)
    , `display_name` VARCHAR (255)
    , `name` VARCHAR (255)
    , `date_modified` TIMESTAMP
                    DEFAULT NOW()
    , `type_id` BINARY(16) 
    , `org_id` BINARY(16) 
    , `uuid` BINARY(16) 
    , `active` int
                DEFAULT 1
    , `date_created` TIMESTAMP
                    DEFAULT '0000-00-00 00:00:00'
    , `type` VARCHAR (500)
    , `description` VARCHAR (255)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

ALTER TABLE `channel` ADD PRIMARY KEY (`uuid`);
    
        
CREATE TABLE `channel_type` 
(
    `status` VARCHAR (255)
    , `code` VARCHAR (255)
    , `display_name` VARCHAR (255)
    , `name` VARCHAR (255)
    , `date_modified` TIMESTAMP
                    DEFAULT NOW()
    , `uuid` BINARY(16) 
    , `active` int
                DEFAULT 1
    , `date_created` TIMESTAMP
                    DEFAULT '0000-00-00 00:00:00'
    , `type` VARCHAR (50) 
    , `description` VARCHAR (255)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

ALTER TABLE `channel_type` ADD PRIMARY KEY (`uuid`);
    
        
CREATE TABLE `question` 
(
    `status` VARCHAR (255)
    , `code` VARCHAR (255)
    , `display_name` VARCHAR (255)
    , `name` VARCHAR (255)
    , `date_modified` TIMESTAMP
                    DEFAULT NOW()
    , `org_id` BINARY(16) 
    , `uuid` BINARY(16) 
    , `choices` TEXT
    , `channel_id` BINARY(16) 
    , `active` int
                DEFAULT 1
    , `date_created` TIMESTAMP
                    DEFAULT '0000-00-00 00:00:00'
    , `type` VARCHAR (50) 
    , `description` VARCHAR (255)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

ALTER TABLE `question` ADD PRIMARY KEY (`uuid`);
    
        
CREATE TABLE `profile_offer` 
(
    `status` VARCHAR (255)
    , `redeem_code` VARCHAR (128) 
    , `offer_id` BINARY(16) 
    , `profile_id` BINARY(16) 
    , `active` int
                DEFAULT 1
    , `uuid` BINARY(16) 
    , `redeemed` VARCHAR (50) 
    , `url` VARCHAR (50)
    , `date_modified` TIMESTAMP
                    DEFAULT NOW()
    , `date_created` TIMESTAMP
                    DEFAULT '0000-00-00 00:00:00'
    , `type` VARCHAR (500)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

ALTER TABLE `profile_offer` ADD PRIMARY KEY (`uuid`);
    
        
CREATE TABLE `profile_app` 
(
    `status` VARCHAR (255)
    , `uuid` BINARY(16) 
    , `date_modified` TIMESTAMP
                    DEFAULT NOW()
    , `active` int
                DEFAULT 1
    , `date_created` TIMESTAMP
                    DEFAULT '0000-00-00 00:00:00'
    , `profile_id` BINARY(16)
    , `type` VARCHAR (500)
    , `app_id` BINARY(16)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

ALTER TABLE `profile_app` ADD PRIMARY KEY (`uuid`);
    
        
CREATE TABLE `profile_org` 
(
    `status` VARCHAR (255)
    , `type_id` BINARY(16)
    , `uuid` BINARY(16) 
    , `date_modified` TIMESTAMP
                    DEFAULT NOW()
    , `active` int
                DEFAULT 1
    , `date_created` TIMESTAMP
                    DEFAULT '0000-00-00 00:00:00'
    , `profile_id` BINARY(16)
    , `type` VARCHAR (500)
    , `org_id` BINARY(16)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

ALTER TABLE `profile_org` ADD PRIMARY KEY (`uuid`);
    
        
CREATE TABLE `profile_game_location` 
(
    `status` VARCHAR (255)
    , `game_location_id` BINARY(16)
    , `type_id` BINARY(16)
    , `uuid` BINARY(16) 
    , `date_modified` TIMESTAMP
                    DEFAULT NOW()
    , `active` int
                DEFAULT 1
    , `date_created` TIMESTAMP
                    DEFAULT '0000-00-00 00:00:00'
    , `profile_id` BINARY(16)
    , `type` VARCHAR (500)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

ALTER TABLE `profile_game_location` ADD PRIMARY KEY (`uuid`);
    
        
CREATE TABLE `profile_question` 
(
    `status` VARCHAR (255)
    , `profile_id` BINARY(16) 
    , `active` int
                DEFAULT 1
    , `data` TEXT 
    , `uuid` BINARY(16) 
    , `date_modified` TIMESTAMP
                    DEFAULT NOW()
    , `org_id` BINARY(16) 
    , `channel_id` BINARY(16) 
    , `answer` VARCHAR (1000) 
    , `date_created` TIMESTAMP
                    DEFAULT '0000-00-00 00:00:00'
    , `type` VARCHAR (500)
    , `question_id` BINARY(16) 
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

ALTER TABLE `profile_question` ADD PRIMARY KEY (`uuid`);
    
        
CREATE TABLE `profile_channel` 
(
    `status` VARCHAR (255)
    , `channel_id` BINARY(16) 
    , `uuid` BINARY(16) 
    , `date_modified` TIMESTAMP
                    DEFAULT NOW()
    , `active` int
                DEFAULT 1
    , `date_created` TIMESTAMP
                    DEFAULT '0000-00-00 00:00:00'
    , `profile_id` BINARY(16) 
    , `type` VARCHAR (500)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

ALTER TABLE `profile_channel` ADD PRIMARY KEY (`uuid`);
    
        
CREATE TABLE `org_site` 
(
    `status` VARCHAR (255)
    , `uuid` BINARY(16) 
    , `date_modified` TIMESTAMP
                    DEFAULT NOW()
    , `active` int
                DEFAULT 1
    , `date_created` TIMESTAMP
                    DEFAULT '0000-00-00 00:00:00'
    , `site_id` BINARY(16) 
    , `type` VARCHAR (500)
    , `org_id` BINARY(16) 
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

ALTER TABLE `org_site` ADD PRIMARY KEY (`uuid`);
    
        
CREATE TABLE `site_app` 
(
    `status` VARCHAR (255)
    , `uuid` BINARY(16) 
    , `date_modified` TIMESTAMP
                    DEFAULT NOW()
    , `active` int
                DEFAULT 1
    , `date_created` TIMESTAMP
                    DEFAULT '0000-00-00 00:00:00'
    , `site_id` BINARY(16) 
    , `type` VARCHAR (500)
    , `app_id` BINARY(16) 
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

ALTER TABLE `site_app` ADD PRIMARY KEY (`uuid`);
    
        
CREATE TABLE `photo` 
(
    `status` VARCHAR (255)
    , `third_party_oembed` VARCHAR (500)
    , `code` VARCHAR (255)
    , `display_name` VARCHAR (255)
    , `name` VARCHAR (255)
    , `date_modified` TIMESTAMP
                    DEFAULT NOW()
    , `url` VARCHAR (500)
    , `third_party_data` VARCHAR (500)
    , `uuid` BINARY(16) 
    , `third_party_url` VARCHAR (500)
    , `third_party_id` VARCHAR (500)
    , `content_type` VARCHAR (100)
    , `external_id` BINARY(16)
    , `active` int
                DEFAULT 1
    , `date_created` TIMESTAMP
                    DEFAULT '0000-00-00 00:00:00'
    , `type` VARCHAR (500)
    , `description` VARCHAR (255)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

ALTER TABLE `photo` ADD PRIMARY KEY (`uuid`);
    
        
CREATE TABLE `video` 
(
    `status` VARCHAR (255)
    , `third_party_oembed` VARCHAR (500)
    , `code` VARCHAR (255)
    , `display_name` VARCHAR (255)
    , `name` VARCHAR (255)
    , `date_modified` TIMESTAMP
                    DEFAULT NOW()
    , `url` VARCHAR (500)
    , `third_party_data` VARCHAR (500)
    , `uuid` BINARY(16) 
    , `third_party_url` VARCHAR (500)
    , `third_party_id` VARCHAR (500)
    , `content_type` VARCHAR (100)
    , `external_id` BINARY(16)
    , `active` int
                DEFAULT 1
    , `date_created` TIMESTAMP
                    DEFAULT '0000-00-00 00:00:00'
    , `type` VARCHAR (500)
    , `description` VARCHAR (255)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

ALTER TABLE `video` ADD PRIMARY KEY (`uuid`);
    
        
CREATE TABLE `game_rpg_item_weapon` 
(
    `status` VARCHAR (255)
    , `third_party_oembed` VARCHAR (500)
    , `code` VARCHAR (255)
    , `description` VARCHAR (255)
    , `game_defense` decimal
    , `third_party_url` VARCHAR (500)
    , `third_party_id` VARCHAR (500)
    , `content_type` VARCHAR (100)
    , `type` VARCHAR (500)
    , `active` int
                DEFAULT 1
    , `game_id` BINARY(16)
    , `game_attack` decimal
    , `uuid` BINARY(16) 
    , `display_name` VARCHAR (255)
    , `name` VARCHAR (255)
    , `date_modified` TIMESTAMP
                    DEFAULT NOW()
    , `url` VARCHAR (500)
    , `third_party_data` VARCHAR (500)
    , `game_price` decimal
    , `game_type` decimal
    , `game_skill` decimal
    , `game_health` decimal
    , `date_created` TIMESTAMP
                    DEFAULT '0000-00-00 00:00:00'
    , `game_energy` decimal
    , `game_data` TEXT
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

ALTER TABLE `game_rpg_item_weapon` ADD PRIMARY KEY (`uuid`);
    
        
CREATE TABLE `game_rpg_item_skill` 
(
    `status` VARCHAR (255)
    , `third_party_oembed` VARCHAR (500)
    , `code` VARCHAR (255)
    , `description` VARCHAR (255)
    , `game_defense` decimal
    , `third_party_url` VARCHAR (500)
    , `third_party_id` VARCHAR (500)
    , `content_type` VARCHAR (100)
    , `type` VARCHAR (500)
    , `active` int
                DEFAULT 1
    , `game_id` BINARY(16)
    , `game_attack` decimal
    , `uuid` BINARY(16) 
    , `display_name` VARCHAR (255)
    , `name` VARCHAR (255)
    , `date_modified` TIMESTAMP
                    DEFAULT NOW()
    , `url` VARCHAR (500)
    , `third_party_data` VARCHAR (500)
    , `game_price` decimal
    , `game_type` decimal
    , `game_skill` decimal
    , `game_health` decimal
    , `date_created` TIMESTAMP
                    DEFAULT '0000-00-00 00:00:00'
    , `game_energy` decimal
    , `game_data` TEXT
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

ALTER TABLE `game_rpg_item_skill` ADD PRIMARY KEY (`uuid`);
    
        
CREATE TABLE `game_product` 
(
    `status` VARCHAR (255)
    , `code` VARCHAR (255)
    , `display_name` VARCHAR (255)
    , `name` VARCHAR (255)
    , `date_modified` TIMESTAMP
                    DEFAULT NOW()
    , `url` VARCHAR (255)
    , `uuid` BINARY(16) 
    , `game_id` VARCHAR (100)
    , `active` int
                DEFAULT 1
    , `date_created` TIMESTAMP
                    DEFAULT '0000-00-00 00:00:00'
    , `type` VARCHAR (500)
    , `description` VARCHAR (255)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

ALTER TABLE `game_product` ADD PRIMARY KEY (`uuid`);
    
        
CREATE TABLE `game_statistic_leaderboard` 
(
    `status` VARCHAR (255)
    , `username` VARCHAR (500)
    , `key` BINARY(16)
    , `stat_value_formatted` VARCHAR (500)
    , `profile_id` BINARY(16)
    , `rank` INTEGER
    , `rank_change` INTEGER
    , `game_id` BINARY(16)
    , `active` int
                DEFAULT 1
    , `rank_total_count` INTEGER
    , `data` TEXT
    , `stat_value` decimal
    , `uuid` BINARY(16) 
    , `date_modified` TIMESTAMP
                    DEFAULT NOW()
    , `level` VARCHAR (500)
    , `timestamp` decimal
    , `date_created` TIMESTAMP
                    DEFAULT '0000-00-00 00:00:00'
    , `type` VARCHAR (500)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

ALTER TABLE `game_statistic_leaderboard` ADD PRIMARY KEY (`uuid`);
    
        
CREATE TABLE `game_live_queue` 
(
    `status` VARCHAR (255)
    , `data_stat` TEXT
    , `uuid` BINARY(16) 
    , `date_modified` TIMESTAMP
                    DEFAULT NOW()
    , `active` int
                DEFAULT 1
    , `date_created` TIMESTAMP
                    DEFAULT '0000-00-00 00:00:00'
    , `game_id` BINARY(16)
    , `profile_id` BINARY(16)
    , `type` VARCHAR (500)
    , `data_ad` TEXT
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

ALTER TABLE `game_live_queue` ADD PRIMARY KEY (`uuid`);
    
        
CREATE TABLE `game_live_recent_queue` 
(
    `status` VARCHAR (255)
    , `username` VARCHAR (500)
    , `code` VARCHAR (255)
    , `display_name` VARCHAR (255)
    , `name` VARCHAR (255)
    , `date_modified` TIMESTAMP
                    DEFAULT NOW()
    , `data` TEXT
    , `profile_id` BINARY(16)
    , `uuid` BINARY(16) 
    , `game` VARCHAR (500)
    , `game_id` BINARY(16)
    , `active` int
                DEFAULT 1
    , `date_created` TIMESTAMP
                    DEFAULT '0000-00-00 00:00:00'
    , `type` VARCHAR (500)
    , `description` VARCHAR (255)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

ALTER TABLE `game_live_recent_queue` ADD PRIMARY KEY (`uuid`);
    
        
CREATE TABLE `game_statistic` 
(
    `status` VARCHAR (255)
    , `username` VARCHAR (500)
    , `timestamp` decimal
    , `profile_id` BINARY(16)
    , `key` VARCHAR (50)
    , `active` int
                DEFAULT 1
    , `game_id` BINARY(16)
    , `data` TEXT
    , `stat_value` decimal
    , `uuid` BINARY(16) 
    , `date_modified` TIMESTAMP
                    DEFAULT NOW()
    , `level` VARCHAR (500)
    , `date_created` TIMESTAMP
                    DEFAULT '0000-00-00 00:00:00'
    , `type` VARCHAR (500)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

ALTER TABLE `game_statistic` ADD PRIMARY KEY (`uuid`);
    
        
CREATE TABLE `game_statistic_meta` 
(
    `status` VARCHAR (255)
    , `sort` INTEGER
    , `code` VARCHAR (255)
    , `display_name` VARCHAR (255)
    , `name` VARCHAR (255)
    , `date_modified` TIMESTAMP
                    DEFAULT NOW()
    , `data` TEXT
    , `uuid` BINARY(16) 
    , `store_count` INTEGER
    , `key` VARCHAR (50)
    , `game_id` BINARY(16)
    , `active` int
                DEFAULT 1
    , `date_created` TIMESTAMP
                    DEFAULT '0000-00-00 00:00:00'
    , `type` VARCHAR (40)
    , `order` VARCHAR (40)
    , `description` VARCHAR (255)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

ALTER TABLE `game_statistic_meta` ADD PRIMARY KEY (`uuid`);
    
        
CREATE TABLE `game_statistic_timestamp` 
(
    `status` VARCHAR (255)
    , `timestamp` TIMESTAMP
                    DEFAULT '0000-00-00 00:00:00'
    , `uuid` BINARY(16) 
    , `key` VARCHAR (50)
    , `date_modified` TIMESTAMP
                    DEFAULT NOW()
    , `active` int
                DEFAULT 1
    , `date_created` TIMESTAMP
                    DEFAULT '0000-00-00 00:00:00'
    , `game_id` BINARY(16)
    , `profile_id` BINARY(16)
    , `type` VARCHAR (500)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

ALTER TABLE `game_statistic_timestamp` ADD PRIMARY KEY (`uuid`);
    
        
CREATE TABLE `game_key_meta` 
(
    `status` VARCHAR (255)
    , `sort` INTEGER
    , `code` VARCHAR (255)
    , `display_name` VARCHAR (255)
    , `name` VARCHAR (255)
    , `date_modified` TIMESTAMP
                    DEFAULT NOW()
    , `data` TEXT
    , `level` VARCHAR (500)
    , `uuid` BINARY(16) 
    , `key_level` VARCHAR (50)
    , `store_count` INTEGER
    , `key` VARCHAR (50)
    , `game_id` BINARY(16)
    , `active` int
                DEFAULT 1
    , `date_created` TIMESTAMP
                    DEFAULT '0000-00-00 00:00:00'
    , `type` VARCHAR (40)
    , `order` VARCHAR (40)
    , `key_stat` VARCHAR (50)
    , `description` VARCHAR (255)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

ALTER TABLE `game_key_meta` ADD PRIMARY KEY (`uuid`);
    
        
CREATE TABLE `game_level` 
(
    `status` VARCHAR (255)
    , `sort` INTEGER
    , `code` VARCHAR (255)
    , `display_name` VARCHAR (255)
    , `name` VARCHAR (255)
    , `date_modified` TIMESTAMP
                    DEFAULT NOW()
    , `data` TEXT
    , `uuid` BINARY(16) 
    , `key` VARCHAR (50)
    , `game_id` BINARY(16)
    , `active` int
                DEFAULT 1
    , `date_created` TIMESTAMP
                    DEFAULT '0000-00-00 00:00:00'
    , `type` VARCHAR (40)
    , `order` VARCHAR (40)
    , `description` VARCHAR (255)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

ALTER TABLE `game_level` ADD PRIMARY KEY (`uuid`);
    
        
CREATE TABLE `game_achievement` 
(
    `status` VARCHAR (255)
    , `username` VARCHAR (500)
    , `timestamp` decimal
    , `completed` int
                DEFAULT 1
    , `profile_id` BINARY(16)
    , `key` VARCHAR (50)
    , `active` int
                DEFAULT 1
    , `game_id` BINARY(16)
    , `achievement_value` decimal
    , `data` TEXT
    , `uuid` BINARY(16) 
    , `date_modified` TIMESTAMP
                    DEFAULT NOW()
    , `level` VARCHAR (500)
    , `date_created` TIMESTAMP
                    DEFAULT '0000-00-00 00:00:00'
    , `type` VARCHAR (500)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

ALTER TABLE `game_achievement` ADD PRIMARY KEY (`uuid`);
    
        
CREATE TABLE `game_achievement_meta` 
(
    `status` VARCHAR (255)
    , `sort` INTEGER
    , `code` VARCHAR (255)
    , `display_name` VARCHAR (255)
    , `name` VARCHAR (255)
    , `game_stat` int
                DEFAULT 1
    , `date_modified` TIMESTAMP
                    DEFAULT NOW()
    , `data` TEXT
    , `level` VARCHAR (500)
    , `uuid` BINARY(16) 
    , `points` INTEGER
    , `key` VARCHAR (50)
    , `game_id` BINARY(16)
    , `active` int
                DEFAULT 1
    , `date_created` TIMESTAMP
                    DEFAULT '0000-00-00 00:00:00'
    , `type` VARCHAR (40)
    , `leaderboard` int
                DEFAULT 1
    , `description` VARCHAR (255)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

ALTER TABLE `game_achievement_meta` ADD PRIMARY KEY (`uuid`);
    

        
-- INDEX CREATES

        
-- INDEX CREATES

        
-- INDEX CREATES

        
-- INDEX CREATES

        
        
-- INDEX CREATES

        
        
-- INDEX CREATES

        
-- INDEX CREATES

                
CALL drop_index_if_exists('IX_content_page_path','content_page');
                
CREATE INDEX `IX_content_page_path` ON `content_page` 
(
                    
    `path` ASC
);
                
CALL drop_index_if_exists('IX_content_page_path_site_id','content_page');
                
CREATE INDEX `IX_content_page_path_site_id` ON `content_page` 
(
                    
    `path` ASC
                    
    , `site_id` ASC
);
        
-- INDEX CREATES

        
-- INDEX CREATES

        
        
        
        
        
-- INDEX CREATES

        
-- INDEX CREATES

        
-- INDEX CREATES

                
CALL drop_index_if_exists('IX_profile_game_data_attribute_uuid','profile_game_data_attribute');
                
CREATE INDEX `IX_profile_game_data_attribute_uuid` ON `profile_game_data_attribute` 
(
                    
    `uuid` ASC
);
                
CALL drop_index_if_exists('IX_profile_game_data_attribute_profile_id','profile_game_data_attribute');
                
CREATE INDEX `IX_profile_game_data_attribute_profile_id` ON `profile_game_data_attribute` 
(
                    
    `profile_id` ASC
);
                
CALL drop_index_if_exists('IX_profile_game_data_attribute_profile_id_game_id','profile_game_data_attribute');
                
CREATE INDEX `IX_profile_game_data_attribute_profile_id_game_id` ON `profile_game_data_attribute` 
(
                    
    `game_id` ASC
                    
    , `profile_id` ASC
);
                
CALL drop_index_if_exists('IX_profile_game_data_attribute_profile_id_game_id_code','profile_game_data_attribute');
                
CREATE INDEX `IX_profile_game_data_attribute_profile_id_game_id_code` ON `profile_game_data_attribute` 
(
                    
    `code` ASC
                    
    , `game_id` ASC
                    
    , `profile_id` ASC
);
        
-- INDEX CREATES

        
-- INDEX CREATES

        
-- INDEX CREATES

        
-- INDEX CREATES

        
        
        
        
-- INDEX CREATES

        
        
        
        
-- INDEX CREATES

        
        
-- INDEX CREATES

        
        
        
        
        
        
        
        
-- INDEX CREATES

        
-- INDEX CREATES

        
-- INDEX CREATES

        
        
        
        
        
        
        
        
        
        
-- INDEX CREATES

                
CALL drop_index_if_exists('IX_game_statistic_leaderboard_key','game_statistic_leaderboard');
                
CREATE INDEX `IX_game_statistic_leaderboard_key` ON `game_statistic_leaderboard` 
(
                    
    `key` ASC
);
                
CALL drop_index_if_exists('IX_game_statistic_leaderboard_profile_id','game_statistic_leaderboard');
                
CREATE INDEX `IX_game_statistic_leaderboard_profile_id` ON `game_statistic_leaderboard` 
(
                    
    `profile_id` ASC
);
                
CALL drop_index_if_exists('IX_game_statistic_leaderboard_username','game_statistic_leaderboard');
                
CREATE INDEX `IX_game_statistic_leaderboard_username` ON `game_statistic_leaderboard` 
(
                    
    `username` ASC
);
                
CALL drop_index_if_exists('IX_game_statistic_leaderboard_game_id','game_statistic_leaderboard');
                
CREATE INDEX `IX_game_statistic_leaderboard_game_id` ON `game_statistic_leaderboard` 
(
                    
    `game_id` ASC
);
                
CALL drop_index_if_exists('IX_game_statistic_leaderboard_key_game_id_level','game_statistic_leaderboard');
                
CREATE INDEX `IX_game_statistic_leaderboard_key_game_id_level` ON `game_statistic_leaderboard` 
(
                    
    `game_id` ASC
                    
    , `key` ASC
                    
    , `level` ASC
);
                
CALL drop_index_if_exists('IX_game_statistic_leaderboard_profile_id_game_id','game_statistic_leaderboard');
                
CREATE INDEX `IX_game_statistic_leaderboard_profile_id_game_id` ON `game_statistic_leaderboard` 
(
                    
    `game_id` ASC
                    
    , `profile_id` ASC
);
                
CALL drop_index_if_exists('IX_game_statistic_leaderboard_username_game_id','game_statistic_leaderboard');
                
CREATE INDEX `IX_game_statistic_leaderboard_username_game_id` ON `game_statistic_leaderboard` 
(
                    
    `username` ASC
                    
    , `game_id` ASC
);
                
CALL drop_index_if_exists('IX_game_statistic_leaderboard_key_username','game_statistic_leaderboard');
                
CREATE INDEX `IX_game_statistic_leaderboard_key_username` ON `game_statistic_leaderboard` 
(
                    
    `username` ASC
                    
    , `key` ASC
);
                
CALL drop_index_if_exists('IX_game_statistic_leaderboard_key_username_game_id','game_statistic_leaderboard');
                
CREATE INDEX `IX_game_statistic_leaderboard_key_username_game_id` ON `game_statistic_leaderboard` 
(
                    
    `username` ASC
                    
    , `game_id` ASC
                    
    , `key` ASC
);
                
CALL drop_index_if_exists('IX_game_statistic_leaderboard_key_username_game_id_type','game_statistic_leaderboard');
                
CREATE INDEX `IX_game_statistic_leaderboard_key_username_game_id_type` ON `game_statistic_leaderboard` 
(
                    
    `username` ASC
                    
    , `game_id` ASC
                    
    , `type` ASC
                    
    , `key` ASC
);
                
CALL drop_index_if_exists('IX_game_statistic_leaderboard_key_profile_id','game_statistic_leaderboard');
                
CREATE INDEX `IX_game_statistic_leaderboard_key_profile_id` ON `game_statistic_leaderboard` 
(
                    
    `profile_id` ASC
                    
    , `key` ASC
);
                
CALL drop_index_if_exists('IX_game_statistic_leaderboard_key_profile_id_game_id','game_statistic_leaderboard');
                
CREATE INDEX `IX_game_statistic_leaderboard_key_profile_id_game_id` ON `game_statistic_leaderboard` 
(
                    
    `game_id` ASC
                    
    , `profile_id` ASC
                    
    , `key` ASC
);
                
CALL drop_index_if_exists('IX_game_statistic_leaderboard_key_profile_id_game_id_type','game_statistic_leaderboard');
                
CREATE INDEX `IX_game_statistic_leaderboard_key_profile_id_game_id_type` ON `game_statistic_leaderboard` 
(
                    
    `game_id` ASC
                    
    , `profile_id` ASC
                    
    , `type` ASC
                    
    , `key` ASC
);
                
CALL drop_index_if_exists('IX_game_statistic_leaderboard_key_game_id','game_statistic_leaderboard');
                
CREATE INDEX `IX_game_statistic_leaderboard_key_game_id` ON `game_statistic_leaderboard` 
(
                    
    `game_id` ASC
                    
    , `key` ASC
);
                
CALL drop_index_if_exists('IX_game_statistic_leaderboard_key_game_id_profile_id','game_statistic_leaderboard');
                
CREATE INDEX `IX_game_statistic_leaderboard_key_game_id_profile_id` ON `game_statistic_leaderboard` 
(
                    
    `game_id` ASC
                    
    , `profile_id` ASC
                    
    , `key` ASC
);
                
CALL drop_index_if_exists('IX_game_statistic_leaderboard_key_game_id_type','game_statistic_leaderboard');
                
CREATE INDEX `IX_game_statistic_leaderboard_key_game_id_type` ON `game_statistic_leaderboard` 
(
                    
    `game_id` ASC
                    
    , `type` ASC
                    
    , `key` ASC
);
        
-- INDEX CREATES

                
CALL drop_index_if_exists('IX_game_live_queue_profile_id','game_live_queue');
                
CREATE INDEX `IX_game_live_queue_profile_id` ON `game_live_queue` 
(
                    
    `profile_id` ASC
);
                
CALL drop_index_if_exists('IX_game_live_queue_game_id','game_live_queue');
                
CREATE INDEX `IX_game_live_queue_game_id` ON `game_live_queue` 
(
                    
    `game_id` ASC
);
                
CALL drop_index_if_exists('IX_game_live_queue_profile_id_game_id','game_live_queue');
                
CREATE INDEX `IX_game_live_queue_profile_id_game_id` ON `game_live_queue` 
(
                    
    `game_id` ASC
                    
    , `profile_id` ASC
);
        
-- INDEX CREATES

                
CALL drop_index_if_exists('IX_game_live_recent_queue_profile_id','game_live_recent_queue');
                
CREATE INDEX `IX_game_live_recent_queue_profile_id` ON `game_live_recent_queue` 
(
                    
    `profile_id` ASC
);
                
CALL drop_index_if_exists('IX_game_live_recent_queue_game_id','game_live_recent_queue');
                
CREATE INDEX `IX_game_live_recent_queue_game_id` ON `game_live_recent_queue` 
(
                    
    `game_id` ASC
);
                
CALL drop_index_if_exists('IX_game_live_recent_queue_profile_id_game_id','game_live_recent_queue');
                
CREATE INDEX `IX_game_live_recent_queue_profile_id_game_id` ON `game_live_recent_queue` 
(
                    
    `game_id` ASC
                    
    , `profile_id` ASC
);
        
-- INDEX CREATES

                
CALL drop_index_if_exists('IX_game_statistic_key','game_statistic');
                
CREATE INDEX `IX_game_statistic_key` ON `game_statistic` 
(
                    
    `key` ASC
);
                
CALL drop_index_if_exists('IX_game_statistic_profile_id','game_statistic');
                
CREATE INDEX `IX_game_statistic_profile_id` ON `game_statistic` 
(
                    
    `profile_id` ASC
);
                
CALL drop_index_if_exists('IX_game_statistic_username','game_statistic');
                
CREATE INDEX `IX_game_statistic_username` ON `game_statistic` 
(
                    
    `username` ASC
);
                
CALL drop_index_if_exists('IX_game_statistic_game_id','game_statistic');
                
CREATE INDEX `IX_game_statistic_game_id` ON `game_statistic` 
(
                    
    `game_id` ASC
);
                
CALL drop_index_if_exists('IX_game_statistic_key_game_id','game_statistic');
                
CREATE INDEX `IX_game_statistic_key_game_id` ON `game_statistic` 
(
                    
    `game_id` ASC
                    
    , `key` ASC
);
                
CALL drop_index_if_exists('IX_game_statistic_key_game_id_level','game_statistic');
                
CREATE INDEX `IX_game_statistic_key_game_id_level` ON `game_statistic` 
(
                    
    `game_id` ASC
                    
    , `key` ASC
                    
    , `level` ASC
);
                
CALL drop_index_if_exists('IX_game_statistic_profile_id_game_id','game_statistic');
                
CREATE INDEX `IX_game_statistic_profile_id_game_id` ON `game_statistic` 
(
                    
    `game_id` ASC
                    
    , `profile_id` ASC
);
                
CALL drop_index_if_exists('IX_game_statistic_username_game_id','game_statistic');
                
CREATE INDEX `IX_game_statistic_username_game_id` ON `game_statistic` 
(
                    
    `username` ASC
                    
    , `game_id` ASC
);
                
CALL drop_index_if_exists('IX_game_statistic_key_username','game_statistic');
                
CREATE INDEX `IX_game_statistic_key_username` ON `game_statistic` 
(
                    
    `username` ASC
                    
    , `key` ASC
);
                
CALL drop_index_if_exists('IX_game_statistic_key_username_game_id','game_statistic');
                
CREATE INDEX `IX_game_statistic_key_username_game_id` ON `game_statistic` 
(
                    
    `username` ASC
                    
    , `game_id` ASC
                    
    , `key` ASC
);
                
CALL drop_index_if_exists('IX_game_statistic_key_username_game_id_type','game_statistic');
                
CREATE INDEX `IX_game_statistic_key_username_game_id_type` ON `game_statistic` 
(
                    
    `username` ASC
                    
    , `game_id` ASC
                    
    , `type` ASC
                    
    , `key` ASC
);
                
CALL drop_index_if_exists('IX_game_statistic_key_profile_id','game_statistic');
                
CREATE INDEX `IX_game_statistic_key_profile_id` ON `game_statistic` 
(
                    
    `profile_id` ASC
                    
    , `key` ASC
);
                
CALL drop_index_if_exists('IX_game_statistic_key_profile_id_game_id','game_statistic');
                
CREATE INDEX `IX_game_statistic_key_profile_id_game_id` ON `game_statistic` 
(
                    
    `game_id` ASC
                    
    , `profile_id` ASC
                    
    , `key` ASC
);
                
CALL drop_index_if_exists('IX_game_statistic_key_profile_id_game_id_type','game_statistic');
                
CREATE INDEX `IX_game_statistic_key_profile_id_game_id_type` ON `game_statistic` 
(
                    
    `game_id` ASC
                    
    , `profile_id` ASC
                    
    , `type` ASC
                    
    , `key` ASC
);
                
CALL drop_index_if_exists('IX_game_statistic_key_game_id_profile_id','game_statistic');
                
CREATE INDEX `IX_game_statistic_key_game_id_profile_id` ON `game_statistic` 
(
                    
    `game_id` ASC
                    
    , `profile_id` ASC
                    
    , `key` ASC
);
                
CALL drop_index_if_exists('IX_game_statistic_key_game_id_type','game_statistic');
                
CREATE INDEX `IX_game_statistic_key_game_id_type` ON `game_statistic` 
(
                    
    `game_id` ASC
                    
    , `type` ASC
                    
    , `key` ASC
);
        
-- INDEX CREATES

                
CALL drop_index_if_exists('IX_game_statistic_meta_key','game_statistic_meta');
                
CREATE INDEX `IX_game_statistic_meta_key` ON `game_statistic_meta` 
(
                    
    `key` ASC
);
                
CALL drop_index_if_exists('IX_game_statistic_meta_game_id','game_statistic_meta');
                
CREATE INDEX `IX_game_statistic_meta_game_id` ON `game_statistic_meta` 
(
                    
    `game_id` ASC
);
                
CALL drop_index_if_exists('IX_game_statistic_meta_key_game_id','game_statistic_meta');
                
CREATE INDEX `IX_game_statistic_meta_key_game_id` ON `game_statistic_meta` 
(
                    
    `game_id` ASC
                    
    , `key` ASC
);
                
CALL drop_index_if_exists('IX_game_statistic_meta_key_type','game_statistic_meta');
                
CREATE INDEX `IX_game_statistic_meta_key_type` ON `game_statistic_meta` 
(
                    
    `type` ASC
                    
    , `key` ASC
);
                
CALL drop_index_if_exists('IX_game_statistic_meta_game_id_type','game_statistic_meta');
                
CREATE INDEX `IX_game_statistic_meta_game_id_type` ON `game_statistic_meta` 
(
                    
    `game_id` ASC
                    
    , `type` ASC
);
                
CALL drop_index_if_exists('IX_game_statistic_meta_key_game_id_type','game_statistic_meta');
                
CREATE INDEX `IX_game_statistic_meta_key_game_id_type` ON `game_statistic_meta` 
(
                    
    `game_id` ASC
                    
    , `type` ASC
                    
    , `key` ASC
);
        
-- INDEX CREATES

                
CALL drop_index_if_exists('IX_game_statistic_timestamp_key_profile_id_game_id_timestamp','game_statistic_timestamp');
                
CREATE INDEX `IX_game_statistic_timestamp_key_profile_id_game_id_timestamp` ON `game_statistic_timestamp` 
(
                    
    `game_id` ASC
                    
    , `profile_id` ASC
                    
    , `key` ASC
                    
    , `timestamp` ASC
);
        
-- INDEX CREATES

                
CALL drop_index_if_exists('IX_game_key_meta_key','game_key_meta');
                
CREATE INDEX `IX_game_key_meta_key` ON `game_key_meta` 
(
                    
    `key` ASC
);
                
CALL drop_index_if_exists('IX_game_key_meta_game_id','game_key_meta');
                
CREATE INDEX `IX_game_key_meta_game_id` ON `game_key_meta` 
(
                    
    `game_id` ASC
);
                
CALL drop_index_if_exists('IX_game_key_meta_key_stat_key_level_game_id','game_key_meta');
                
CREATE INDEX `IX_game_key_meta_key_stat_key_level_game_id` ON `game_key_meta` 
(
                    
    `game_id` ASC
                    
    , `key_level` ASC
                    
    , `key_stat` ASC
);
                
CALL drop_index_if_exists('IX_game_key_meta_key_stat_key_level_game_id_level','game_key_meta');
                
CREATE INDEX `IX_game_key_meta_key_stat_key_level_game_id_level` ON `game_key_meta` 
(
                    
    `game_id` ASC
                    
    , `key_level` ASC
                    
    , `key_stat` ASC
                    
    , `level` ASC
);
                
CALL drop_index_if_exists('IX_game_key_meta_key_stat_key_level_type','game_key_meta');
                
CREATE INDEX `IX_game_key_meta_key_stat_key_level_type` ON `game_key_meta` 
(
                    
    `key_level` ASC
                    
    , `type` ASC
                    
    , `key_stat` ASC
);
                
CALL drop_index_if_exists('IX_game_key_meta_key_game_id','game_key_meta');
                
CREATE INDEX `IX_game_key_meta_key_game_id` ON `game_key_meta` 
(
                    
    `game_id` ASC
                    
    , `key` ASC
);
                
CALL drop_index_if_exists('IX_game_key_meta_key_game_id_level','game_key_meta');
                
CREATE INDEX `IX_game_key_meta_key_game_id_level` ON `game_key_meta` 
(
                    
    `game_id` ASC
                    
    , `key` ASC
                    
    , `level` ASC
);
                
CALL drop_index_if_exists('IX_game_key_meta_key_type','game_key_meta');
                
CREATE INDEX `IX_game_key_meta_key_type` ON `game_key_meta` 
(
                    
    `type` ASC
                    
    , `key` ASC
);
                
CALL drop_index_if_exists('IX_game_key_meta_game_id_type','game_key_meta');
                
CREATE INDEX `IX_game_key_meta_game_id_type` ON `game_key_meta` 
(
                    
    `game_id` ASC
                    
    , `type` ASC
);
                
CALL drop_index_if_exists('IX_game_key_meta_key_game_id_type','game_key_meta');
                
CREATE INDEX `IX_game_key_meta_key_game_id_type` ON `game_key_meta` 
(
                    
    `game_id` ASC
                    
    , `type` ASC
                    
    , `key` ASC
);
        
-- INDEX CREATES

                
CALL drop_index_if_exists('IX_game_level_key','game_level');
                
CREATE INDEX `IX_game_level_key` ON `game_level` 
(
                    
    `key` ASC
);
                
CALL drop_index_if_exists('IX_game_level_key_game_id','game_level');
                
CREATE INDEX `IX_game_level_key_game_id` ON `game_level` 
(
                    
    `game_id` ASC
                    
    , `key` ASC
);
                
CALL drop_index_if_exists('IX_game_level_key_game_id_type','game_level');
                
CREATE INDEX `IX_game_level_key_game_id_type` ON `game_level` 
(
                    
    `game_id` ASC
                    
    , `type` ASC
                    
    , `key` ASC
);
        
-- INDEX CREATES

                
CALL drop_index_if_exists('IX_game_achievement_key','game_achievement');
                
CREATE INDEX `IX_game_achievement_key` ON `game_achievement` 
(
                    
    `key` ASC
);
                
CALL drop_index_if_exists('IX_game_achievement_profile_id','game_achievement');
                
CREATE INDEX `IX_game_achievement_profile_id` ON `game_achievement` 
(
                    
    `profile_id` ASC
);
                
CALL drop_index_if_exists('IX_game_achievement_username','game_achievement');
                
CREATE INDEX `IX_game_achievement_username` ON `game_achievement` 
(
                    
    `username` ASC
);
                
CALL drop_index_if_exists('IX_game_achievement_game_id','game_achievement');
                
CREATE INDEX `IX_game_achievement_game_id` ON `game_achievement` 
(
                    
    `game_id` ASC
);
                
CALL drop_index_if_exists('IX_game_achievement_key_game_id','game_achievement');
                
CREATE INDEX `IX_game_achievement_key_game_id` ON `game_achievement` 
(
                    
    `game_id` ASC
                    
    , `key` ASC
);
                
CALL drop_index_if_exists('IX_game_achievement_key_game_id_level','game_achievement');
                
CREATE INDEX `IX_game_achievement_key_game_id_level` ON `game_achievement` 
(
                    
    `game_id` ASC
                    
    , `key` ASC
                    
    , `level` ASC
);
                
CALL drop_index_if_exists('IX_game_achievement_profile_id_game_id','game_achievement');
                
CREATE INDEX `IX_game_achievement_profile_id_game_id` ON `game_achievement` 
(
                    
    `game_id` ASC
                    
    , `profile_id` ASC
);
                
CALL drop_index_if_exists('IX_game_achievement_username_game_id','game_achievement');
                
CREATE INDEX `IX_game_achievement_username_game_id` ON `game_achievement` 
(
                    
    `username` ASC
                    
    , `game_id` ASC
);
                
CALL drop_index_if_exists('IX_game_achievement_key_username','game_achievement');
                
CREATE INDEX `IX_game_achievement_key_username` ON `game_achievement` 
(
                    
    `username` ASC
                    
    , `key` ASC
);
                
CALL drop_index_if_exists('IX_game_achievement_key_username_game_id','game_achievement');
                
CREATE INDEX `IX_game_achievement_key_username_game_id` ON `game_achievement` 
(
                    
    `username` ASC
                    
    , `game_id` ASC
                    
    , `key` ASC
);
                
CALL drop_index_if_exists('IX_game_achievement_key_username_game_id_type','game_achievement');
                
CREATE INDEX `IX_game_achievement_key_username_game_id_type` ON `game_achievement` 
(
                    
    `username` ASC
                    
    , `game_id` ASC
                    
    , `type` ASC
                    
    , `key` ASC
);
                
CALL drop_index_if_exists('IX_game_achievement_key_profile_id','game_achievement');
                
CREATE INDEX `IX_game_achievement_key_profile_id` ON `game_achievement` 
(
                    
    `profile_id` ASC
                    
    , `key` ASC
);
                
CALL drop_index_if_exists('IX_game_achievement_key_profile_id_game_id','game_achievement');
                
CREATE INDEX `IX_game_achievement_key_profile_id_game_id` ON `game_achievement` 
(
                    
    `game_id` ASC
                    
    , `profile_id` ASC
                    
    , `key` ASC
);
                
CALL drop_index_if_exists('IX_game_achievement_key_profile_id_game_id_type','game_achievement');
                
CREATE INDEX `IX_game_achievement_key_profile_id_game_id_type` ON `game_achievement` 
(
                    
    `game_id` ASC
                    
    , `profile_id` ASC
                    
    , `type` ASC
                    
    , `key` ASC
);
                
CALL drop_index_if_exists('IX_game_achievement_key_game_id_profile_id','game_achievement');
                
CREATE INDEX `IX_game_achievement_key_game_id_profile_id` ON `game_achievement` 
(
                    
    `game_id` ASC
                    
    , `profile_id` ASC
                    
    , `key` ASC
);
                
CALL drop_index_if_exists('IX_game_achievement_key_game_id_type','game_achievement');
                
CREATE INDEX `IX_game_achievement_key_game_id_type` ON `game_achievement` 
(
                    
    `game_id` ASC
                    
    , `type` ASC
                    
    , `key` ASC
);
        
-- INDEX CREATES

                
CALL drop_index_if_exists('IX_game_achievement_meta_key','game_achievement_meta');
                
CREATE INDEX `IX_game_achievement_meta_key` ON `game_achievement_meta` 
(
                    
    `key` ASC
);
                
CALL drop_index_if_exists('IX_game_achievement_meta_game_id','game_achievement_meta');
                
CREATE INDEX `IX_game_achievement_meta_game_id` ON `game_achievement_meta` 
(
                    
    `game_id` ASC
);
                
CALL drop_index_if_exists('IX_game_achievement_meta_key_game_id','game_achievement_meta');
                
CREATE INDEX `IX_game_achievement_meta_key_game_id` ON `game_achievement_meta` 
(
                    
    `game_id` ASC
                    
    , `key` ASC
);
                
CALL drop_index_if_exists('IX_game_achievement_meta_key_game_id_level','game_achievement_meta');
                
CREATE INDEX `IX_game_achievement_meta_key_game_id_level` ON `game_achievement_meta` 
(
                    
    `game_id` ASC
                    
    , `key` ASC
                    
    , `level` ASC
);
                
CALL drop_index_if_exists('IX_game_achievement_meta_key_type','game_achievement_meta');
                
CREATE INDEX `IX_game_achievement_meta_key_type` ON `game_achievement_meta` 
(
                    
    `type` ASC
                    
    , `key` ASC
);
                
CALL drop_index_if_exists('IX_game_achievement_meta_game_id_type','game_achievement_meta');
                
CREATE INDEX `IX_game_achievement_meta_game_id_type` ON `game_achievement_meta` 
(
                    
    `game_id` ASC
                    
    , `type` ASC
);
                
CALL drop_index_if_exists('IX_game_achievement_meta_key_game_id_type','game_achievement_meta');
                
CREATE INDEX `IX_game_achievement_meta_key_game_id_type` ON `game_achievement_meta` 
(
                    
    `game_id` ASC
                    
    , `type` ASC
                    
    , `key` ASC
);

-- -----------------------------------------------------------------------------
-- PROCS

-- ------------------------------------
-- COUNT

-- ------------------------------------
-- MODEL: App - app

                       
DROP PROCEDURE IF EXISTS `usp_app_count`;
delimiter $$
CREATE PROCEDURE `usp_app_count`
BEGIN
    SELECT
        COUNT(*) as count
    FROM `app`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_app_count_uuid`;
delimiter $$
CREATE PROCEDURE `usp_app_count_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `app`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_app_count_code`;
delimiter $$
CREATE PROCEDURE `usp_app_count_code`
(
    in_code VARCHAR (255) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `app`
    WHERE 1=1
    AND lower(`code`) = lower(in_code)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_app_count_type_id`;
delimiter $$
CREATE PROCEDURE `usp_app_count_type_id`
(
    in_type_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `app`
    WHERE 1=1
    AND `type_id` = in_type_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_app_count_code_type_id`;
delimiter $$
CREATE PROCEDURE `usp_app_count_code_type_id`
(
    in_code VARCHAR (255) 
    , in_type_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `app`
    WHERE 1=1
    AND lower(`code`) = lower(in_code)
    AND `type_id` = in_type_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_app_count_platform_type_id`;
delimiter $$
CREATE PROCEDURE `usp_app_count_platform_type_id`
(
    in_platform VARCHAR (255) 
    , in_type_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `app`
    WHERE 1=1
    AND lower(`platform`) = lower(in_platform)
    AND `type_id` = in_type_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_app_count_platform`;
delimiter $$
CREATE PROCEDURE `usp_app_count_platform`
(
    in_platform VARCHAR (255) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `app`
    WHERE 1=1
    AND lower(`platform`) = lower(in_platform)
    ;
END$$
delimiter ;

-- ------------------------------------
-- BROWSE

-- ------------------------------------
-- MODEL: App - app

                       
DROP PROCEDURE IF EXISTS `usp_app_browse_filter`;

delimiter $$
CREATE PROCEDURE `usp_app_browse_filter`
(
    in_page int,
    in_page_size int,
    in_sort VARCHAR(500),
    in_filter VARCHAR(4000)
    
)
BEGIN
    DECLARE total_rows int;
    SET total_rows = 0;
        
    IF (in_page = 0) THEN
        SET in_page = 1;
    END IF;    
    
    IF (in_page_size = 0) THEN
       SET in_page_size = 10;
    END IF;
    
    IF (in_sort = NULL || in_sort = '') THEN
       SET in_sort = ' date_modified ASC ';
    END IF;
    
    SET @sfields = CONCAT('', '`status`');
    SET @sfields = CONCAT(@sfields, ', `code`');
    SET @sfields = CONCAT(@sfields, ', `display_name`');
    SET @sfields = CONCAT(@sfields, ', `name`');
    SET @sfields = CONCAT(@sfields, ', `date_modified`');
    SET @sfields = CONCAT(@sfields, ', `type_id`');
    SET @sfields = CONCAT(@sfields, ', `uuid`');
    SET @sfields = CONCAT(@sfields, ', `platform`');
    SET @sfields = CONCAT(@sfields, ', `active`');
    SET @sfields = CONCAT(@sfields, ', `date_created`');
    SET @sfields = CONCAT(@sfields, ', `type`');
    SET @sfields = CONCAT(@sfields, ', `description`');
    
    SET @stable = CONCAT('', ' FROM `app` WHERE 1=1 ');
    
    SET @s = CONCAT(' ', @stable);
    SET @s = CONCAT(@s, ' ', in_filter);    
    
    SET @scount = CONCAT('SELECT COUNT(*) as `total_rows` ', @s, ' INTO @total_rows');
    
    PREPARE stmtcount FROM @scount;
    EXECUTE stmtcount;
    #SELECT @total_rows;
    SET total_rows = @total_rows;

    SET @sfields = CONCAT(total_rows, ' as `total_rows`, ', @sfields);
    SET @s = CONCAT('SELECT ', @sfields, @s);
    SET @s = CONCAT(@s, ' ORDER BY ', in_sort);
    SET @s = CONCAT(@s, ' LIMIT ', in_page);
    SET @s = CONCAT(@s, ',', in_page_size);    

    PREPARE stmt FROM @s;
    EXECUTE stmt;
    
END$$
delimiter ;
-- ------------------------------------
-- SET

-- ------------------------------------
-- MODEL: App - app

                       
DROP PROCEDURE IF EXISTS `usp_app_set_uuid`;
delimiter $$
CREATE PROCEDURE `usp_app_set_uuid`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_code VARCHAR (255) 
    , in_display_name VARCHAR (255) 
    , in_name VARCHAR (255) 
    , in_date_modified TIMESTAMP 
    , in_type_id BINARY(16) 
    , in_uuid BINARY(16) 
    , in_platform VARCHAR (255) 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (500) 
    , in_description VARCHAR (255) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `app`  
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `app` 
                    SET
                        `status` = in_status
                        , `code` = in_code
                        , `display_name` = in_display_name
                        , `name` = in_name
                        , `date_modified` = in_date_modified
                        , `type_id` = in_type_id
                        , `uuid` = in_uuid
                        , `platform` = in_platform
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `type` = in_type
                        , `description` = in_description
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `app`
                    (
                        `status`
                        , `code`
                        , `display_name`
                        , `name`
                        , `date_modified`
                        , `type_id`
                        , `uuid`
                        , `platform`
                        , `active`
                        , `date_created`
                        , `type`
                        , `description`
                    )
                    VALUES
                    (
                        in_status
                        , in_code
                        , in_display_name
                        , in_name
                        , in_date_modified
                        , in_type_id
                        , in_uuid
                        , in_platform
                        , in_active
                        , in_date_created
                        , in_type
                        , in_description
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_app_set_code`;
delimiter $$
CREATE PROCEDURE `usp_app_set_code`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_code VARCHAR (255) 
    , in_display_name VARCHAR (255) 
    , in_name VARCHAR (255) 
    , in_date_modified TIMESTAMP 
    , in_type_id BINARY(16) 
    , in_uuid BINARY(16) 
    , in_platform VARCHAR (255) 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (500) 
    , in_description VARCHAR (255) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `app`  
                    WHERE 1=1
                    AND lower(`code`) = lower(in_code)
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `app` 
                    SET
                        `status` = in_status
                        , `code` = in_code
                        , `display_name` = in_display_name
                        , `name` = in_name
                        , `date_modified` = in_date_modified
                        , `type_id` = in_type_id
                        , `uuid` = in_uuid
                        , `platform` = in_platform
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `type` = in_type
                        , `description` = in_description
                    WHERE 1=1
                    AND lower(`code`) = lower(in_code)
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `app`
                    (
                        `status`
                        , `code`
                        , `display_name`
                        , `name`
                        , `date_modified`
                        , `type_id`
                        , `uuid`
                        , `platform`
                        , `active`
                        , `date_created`
                        , `type`
                        , `description`
                    )
                    VALUES
                    (
                        in_status
                        , in_code
                        , in_display_name
                        , in_name
                        , in_date_modified
                        , in_type_id
                        , in_uuid
                        , in_platform
                        , in_active
                        , in_date_created
                        , in_type
                        , in_description
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

-- ------------------------------------
-- DEL

-- ------------------------------------
-- MODEL: App - app

                       
DROP PROCEDURE IF EXISTS `usp_app_del_uuid`;

delimiter $$
CREATE PROCEDURE `usp_app_del_uuid`
(
    in_uuid BINARY(16) 
)

BEGIN
    DELETE 
    FROM `app`
    WHERE 1=1                        
    AND "uuid" = in_uuid
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_app_del_code`;

delimiter $$
CREATE PROCEDURE `usp_app_del_code`
(
    in_code VARCHAR (255) 
)

BEGIN
    DELETE 
    FROM `app`
    WHERE 1=1                        
    AND lower("code") = lower(in_code)
    ;
END$$
delimiter ;
-- ------------------------------------
-- GET

-- ------------------------------------
-- MODEL: App - app

                       
DROP PROCEDURE IF EXISTS `usp_app_get`;

delimiter $$
CREATE PROCEDURE `usp_app_get`
(
)                        
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `type_id`
        , `uuid`
        , `platform`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `app`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_app_get_uuid`;

delimiter $$
CREATE PROCEDURE `usp_app_get_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `type_id`
        , `uuid`
        , `platform`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `app`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_app_get_code`;

delimiter $$
CREATE PROCEDURE `usp_app_get_code`
(
    in_code VARCHAR (255) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `type_id`
        , `uuid`
        , `platform`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `app`
    WHERE 1=1
    AND lower(`code`) = lower(in_code)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_app_get_type_id`;

delimiter $$
CREATE PROCEDURE `usp_app_get_type_id`
(
    in_type_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `type_id`
        , `uuid`
        , `platform`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `app`
    WHERE 1=1
    AND `type_id` = in_type_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_app_get_code_type_id`;

delimiter $$
CREATE PROCEDURE `usp_app_get_code_type_id`
(
    in_code VARCHAR (255) 
    , in_type_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `type_id`
        , `uuid`
        , `platform`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `app`
    WHERE 1=1
    AND lower(`code`) = lower(in_code)
    AND `type_id` = in_type_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_app_get_platform_type_id`;

delimiter $$
CREATE PROCEDURE `usp_app_get_platform_type_id`
(
    in_platform VARCHAR (255) 
    , in_type_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `type_id`
        , `uuid`
        , `platform`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `app`
    WHERE 1=1
    AND lower(`platform`) = lower(in_platform)
    AND `type_id` = in_type_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_app_get_platform`;

delimiter $$
CREATE PROCEDURE `usp_app_get_platform`
(
    in_platform VARCHAR (255) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `type_id`
        , `uuid`
        , `platform`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `app`
    WHERE 1=1
    AND lower(`platform`) = lower(in_platform)
    ;
END$$
delimiter ;

-- -----------------------------------------------------------------------------
-- PROCS

-- ------------------------------------
-- COUNT

-- ------------------------------------
-- MODEL: AppType - app_type

                       
DROP PROCEDURE IF EXISTS `usp_app_type_count`;
delimiter $$
CREATE PROCEDURE `usp_app_type_count`
BEGIN
    SELECT
        COUNT(*) as count
    FROM `app_type`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_app_type_count_uuid`;
delimiter $$
CREATE PROCEDURE `usp_app_type_count_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `app_type`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_app_type_count_code`;
delimiter $$
CREATE PROCEDURE `usp_app_type_count_code`
(
    in_code VARCHAR (255) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `app_type`
    WHERE 1=1
    AND lower(`code`) = lower(in_code)
    ;
END$$
delimiter ;

-- ------------------------------------
-- BROWSE

-- ------------------------------------
-- MODEL: AppType - app_type

                       
DROP PROCEDURE IF EXISTS `usp_app_type_browse_filter`;

delimiter $$
CREATE PROCEDURE `usp_app_type_browse_filter`
(
    in_page int,
    in_page_size int,
    in_sort VARCHAR(500),
    in_filter VARCHAR(4000)
    
)
BEGIN
    DECLARE total_rows int;
    SET total_rows = 0;
        
    IF (in_page = 0) THEN
        SET in_page = 1;
    END IF;    
    
    IF (in_page_size = 0) THEN
       SET in_page_size = 10;
    END IF;
    
    IF (in_sort = NULL || in_sort = '') THEN
       SET in_sort = ' date_modified ASC ';
    END IF;
    
    SET @sfields = CONCAT('', '`status`');
    SET @sfields = CONCAT(@sfields, ', `code`');
    SET @sfields = CONCAT(@sfields, ', `display_name`');
    SET @sfields = CONCAT(@sfields, ', `name`');
    SET @sfields = CONCAT(@sfields, ', `date_modified`');
    SET @sfields = CONCAT(@sfields, ', `uuid`');
    SET @sfields = CONCAT(@sfields, ', `active`');
    SET @sfields = CONCAT(@sfields, ', `date_created`');
    SET @sfields = CONCAT(@sfields, ', `type`');
    SET @sfields = CONCAT(@sfields, ', `description`');
    
    SET @stable = CONCAT('', ' FROM `app_type` WHERE 1=1 ');
    
    SET @s = CONCAT(' ', @stable);
    SET @s = CONCAT(@s, ' ', in_filter);    
    
    SET @scount = CONCAT('SELECT COUNT(*) as `total_rows` ', @s, ' INTO @total_rows');
    
    PREPARE stmtcount FROM @scount;
    EXECUTE stmtcount;
    #SELECT @total_rows;
    SET total_rows = @total_rows;

    SET @sfields = CONCAT(total_rows, ' as `total_rows`, ', @sfields);
    SET @s = CONCAT('SELECT ', @sfields, @s);
    SET @s = CONCAT(@s, ' ORDER BY ', in_sort);
    SET @s = CONCAT(@s, ' LIMIT ', in_page);
    SET @s = CONCAT(@s, ',', in_page_size);    

    PREPARE stmt FROM @s;
    EXECUTE stmt;
    
END$$
delimiter ;
-- ------------------------------------
-- SET

-- ------------------------------------
-- MODEL: AppType - app_type

                       
DROP PROCEDURE IF EXISTS `usp_app_type_set_uuid`;
delimiter $$
CREATE PROCEDURE `usp_app_type_set_uuid`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_code VARCHAR (255) 
    , in_display_name VARCHAR (255) 
    , in_name VARCHAR (255) 
    , in_date_modified TIMESTAMP 
    , in_uuid BINARY(16) 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (500) 
    , in_description VARCHAR (255) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `app_type`  
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `app_type` 
                    SET
                        `status` = in_status
                        , `code` = in_code
                        , `display_name` = in_display_name
                        , `name` = in_name
                        , `date_modified` = in_date_modified
                        , `uuid` = in_uuid
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `type` = in_type
                        , `description` = in_description
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `app_type`
                    (
                        `status`
                        , `code`
                        , `display_name`
                        , `name`
                        , `date_modified`
                        , `uuid`
                        , `active`
                        , `date_created`
                        , `type`
                        , `description`
                    )
                    VALUES
                    (
                        in_status
                        , in_code
                        , in_display_name
                        , in_name
                        , in_date_modified
                        , in_uuid
                        , in_active
                        , in_date_created
                        , in_type
                        , in_description
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_app_type_set_code`;
delimiter $$
CREATE PROCEDURE `usp_app_type_set_code`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_code VARCHAR (255) 
    , in_display_name VARCHAR (255) 
    , in_name VARCHAR (255) 
    , in_date_modified TIMESTAMP 
    , in_uuid BINARY(16) 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (500) 
    , in_description VARCHAR (255) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `app_type`  
                    WHERE 1=1
                    AND lower(`code`) = lower(in_code)
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `app_type` 
                    SET
                        `status` = in_status
                        , `code` = in_code
                        , `display_name` = in_display_name
                        , `name` = in_name
                        , `date_modified` = in_date_modified
                        , `uuid` = in_uuid
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `type` = in_type
                        , `description` = in_description
                    WHERE 1=1
                    AND lower(`code`) = lower(in_code)
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `app_type`
                    (
                        `status`
                        , `code`
                        , `display_name`
                        , `name`
                        , `date_modified`
                        , `uuid`
                        , `active`
                        , `date_created`
                        , `type`
                        , `description`
                    )
                    VALUES
                    (
                        in_status
                        , in_code
                        , in_display_name
                        , in_name
                        , in_date_modified
                        , in_uuid
                        , in_active
                        , in_date_created
                        , in_type
                        , in_description
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

-- ------------------------------------
-- DEL

-- ------------------------------------
-- MODEL: AppType - app_type

                       
DROP PROCEDURE IF EXISTS `usp_app_type_del_uuid`;

delimiter $$
CREATE PROCEDURE `usp_app_type_del_uuid`
(
    in_uuid BINARY(16) 
)

BEGIN
    DELETE 
    FROM `app_type`
    WHERE 1=1                        
    AND "uuid" = in_uuid
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_app_type_del_code`;

delimiter $$
CREATE PROCEDURE `usp_app_type_del_code`
(
    in_code VARCHAR (255) 
)

BEGIN
    DELETE 
    FROM `app_type`
    WHERE 1=1                        
    AND lower("code") = lower(in_code)
    ;
END$$
delimiter ;
-- ------------------------------------
-- GET

-- ------------------------------------
-- MODEL: AppType - app_type

                       
DROP PROCEDURE IF EXISTS `usp_app_type_get`;

delimiter $$
CREATE PROCEDURE `usp_app_type_get`
(
)                        
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `uuid`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `app_type`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_app_type_get_uuid`;

delimiter $$
CREATE PROCEDURE `usp_app_type_get_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `uuid`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `app_type`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_app_type_get_code`;

delimiter $$
CREATE PROCEDURE `usp_app_type_get_code`
(
    in_code VARCHAR (255) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `uuid`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `app_type`
    WHERE 1=1
    AND lower(`code`) = lower(in_code)
    ;
END$$
delimiter ;

-- -----------------------------------------------------------------------------
-- PROCS

-- ------------------------------------
-- COUNT

-- ------------------------------------
-- MODEL: Site - site

                       
DROP PROCEDURE IF EXISTS `usp_site_count`;
delimiter $$
CREATE PROCEDURE `usp_site_count`
BEGIN
    SELECT
        COUNT(*) as count
    FROM `site`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_site_count_uuid`;
delimiter $$
CREATE PROCEDURE `usp_site_count_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `site`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_site_count_code`;
delimiter $$
CREATE PROCEDURE `usp_site_count_code`
(
    in_code VARCHAR (255) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `site`
    WHERE 1=1
    AND lower(`code`) = lower(in_code)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_site_count_type_id`;
delimiter $$
CREATE PROCEDURE `usp_site_count_type_id`
(
    in_type_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `site`
    WHERE 1=1
    AND `type_id` = in_type_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_site_count_code_type_id`;
delimiter $$
CREATE PROCEDURE `usp_site_count_code_type_id`
(
    in_code VARCHAR (255) 
    , in_type_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `site`
    WHERE 1=1
    AND lower(`code`) = lower(in_code)
    AND `type_id` = in_type_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_site_count_domain_type_id`;
delimiter $$
CREATE PROCEDURE `usp_site_count_domain_type_id`
(
    in_domain VARCHAR (255) 
    , in_type_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `site`
    WHERE 1=1
    AND lower(`domain`) = lower(in_domain)
    AND `type_id` = in_type_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_site_count_domain`;
delimiter $$
CREATE PROCEDURE `usp_site_count_domain`
(
    in_domain VARCHAR (255) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `site`
    WHERE 1=1
    AND lower(`domain`) = lower(in_domain)
    ;
END$$
delimiter ;

-- ------------------------------------
-- BROWSE

-- ------------------------------------
-- MODEL: Site - site

                       
DROP PROCEDURE IF EXISTS `usp_site_browse_filter`;

delimiter $$
CREATE PROCEDURE `usp_site_browse_filter`
(
    in_page int,
    in_page_size int,
    in_sort VARCHAR(500),
    in_filter VARCHAR(4000)
    
)
BEGIN
    DECLARE total_rows int;
    SET total_rows = 0;
        
    IF (in_page = 0) THEN
        SET in_page = 1;
    END IF;    
    
    IF (in_page_size = 0) THEN
       SET in_page_size = 10;
    END IF;
    
    IF (in_sort = NULL || in_sort = '') THEN
       SET in_sort = ' date_modified ASC ';
    END IF;
    
    SET @sfields = CONCAT('', '`status`');
    SET @sfields = CONCAT(@sfields, ', `domain`');
    SET @sfields = CONCAT(@sfields, ', `code`');
    SET @sfields = CONCAT(@sfields, ', `display_name`');
    SET @sfields = CONCAT(@sfields, ', `name`');
    SET @sfields = CONCAT(@sfields, ', `date_modified`');
    SET @sfields = CONCAT(@sfields, ', `type_id`');
    SET @sfields = CONCAT(@sfields, ', `uuid`');
    SET @sfields = CONCAT(@sfields, ', `active`');
    SET @sfields = CONCAT(@sfields, ', `date_created`');
    SET @sfields = CONCAT(@sfields, ', `type`');
    SET @sfields = CONCAT(@sfields, ', `description`');
    
    SET @stable = CONCAT('', ' FROM `site` WHERE 1=1 ');
    
    SET @s = CONCAT(' ', @stable);
    SET @s = CONCAT(@s, ' ', in_filter);    
    
    SET @scount = CONCAT('SELECT COUNT(*) as `total_rows` ', @s, ' INTO @total_rows');
    
    PREPARE stmtcount FROM @scount;
    EXECUTE stmtcount;
    #SELECT @total_rows;
    SET total_rows = @total_rows;

    SET @sfields = CONCAT(total_rows, ' as `total_rows`, ', @sfields);
    SET @s = CONCAT('SELECT ', @sfields, @s);
    SET @s = CONCAT(@s, ' ORDER BY ', in_sort);
    SET @s = CONCAT(@s, ' LIMIT ', in_page);
    SET @s = CONCAT(@s, ',', in_page_size);    

    PREPARE stmt FROM @s;
    EXECUTE stmt;
    
END$$
delimiter ;
-- ------------------------------------
-- SET

-- ------------------------------------
-- MODEL: Site - site

                       
DROP PROCEDURE IF EXISTS `usp_site_set_uuid`;
delimiter $$
CREATE PROCEDURE `usp_site_set_uuid`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_domain VARCHAR (255) 
    , in_code VARCHAR (255) 
    , in_display_name VARCHAR (255) 
    , in_name VARCHAR (255) 
    , in_date_modified TIMESTAMP 
    , in_type_id BINARY(16) 
    , in_uuid BINARY(16) 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (500) 
    , in_description VARCHAR (255) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `site`  
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `site` 
                    SET
                        `status` = in_status
                        , `domain` = in_domain
                        , `code` = in_code
                        , `display_name` = in_display_name
                        , `name` = in_name
                        , `date_modified` = in_date_modified
                        , `type_id` = in_type_id
                        , `uuid` = in_uuid
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `type` = in_type
                        , `description` = in_description
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `site`
                    (
                        `status`
                        , `domain`
                        , `code`
                        , `display_name`
                        , `name`
                        , `date_modified`
                        , `type_id`
                        , `uuid`
                        , `active`
                        , `date_created`
                        , `type`
                        , `description`
                    )
                    VALUES
                    (
                        in_status
                        , in_domain
                        , in_code
                        , in_display_name
                        , in_name
                        , in_date_modified
                        , in_type_id
                        , in_uuid
                        , in_active
                        , in_date_created
                        , in_type
                        , in_description
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_site_set_code`;
delimiter $$
CREATE PROCEDURE `usp_site_set_code`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_domain VARCHAR (255) 
    , in_code VARCHAR (255) 
    , in_display_name VARCHAR (255) 
    , in_name VARCHAR (255) 
    , in_date_modified TIMESTAMP 
    , in_type_id BINARY(16) 
    , in_uuid BINARY(16) 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (500) 
    , in_description VARCHAR (255) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `site`  
                    WHERE 1=1
                    AND lower(`code`) = lower(in_code)
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `site` 
                    SET
                        `status` = in_status
                        , `domain` = in_domain
                        , `code` = in_code
                        , `display_name` = in_display_name
                        , `name` = in_name
                        , `date_modified` = in_date_modified
                        , `type_id` = in_type_id
                        , `uuid` = in_uuid
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `type` = in_type
                        , `description` = in_description
                    WHERE 1=1
                    AND lower(`code`) = lower(in_code)
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `site`
                    (
                        `status`
                        , `domain`
                        , `code`
                        , `display_name`
                        , `name`
                        , `date_modified`
                        , `type_id`
                        , `uuid`
                        , `active`
                        , `date_created`
                        , `type`
                        , `description`
                    )
                    VALUES
                    (
                        in_status
                        , in_domain
                        , in_code
                        , in_display_name
                        , in_name
                        , in_date_modified
                        , in_type_id
                        , in_uuid
                        , in_active
                        , in_date_created
                        , in_type
                        , in_description
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

-- ------------------------------------
-- DEL

-- ------------------------------------
-- MODEL: Site - site

                       
DROP PROCEDURE IF EXISTS `usp_site_del_uuid`;

delimiter $$
CREATE PROCEDURE `usp_site_del_uuid`
(
    in_uuid BINARY(16) 
)

BEGIN
    DELETE 
    FROM `site`
    WHERE 1=1                        
    AND "uuid" = in_uuid
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_site_del_code`;

delimiter $$
CREATE PROCEDURE `usp_site_del_code`
(
    in_code VARCHAR (255) 
)

BEGIN
    DELETE 
    FROM `site`
    WHERE 1=1                        
    AND lower("code") = lower(in_code)
    ;
END$$
delimiter ;
-- ------------------------------------
-- GET

-- ------------------------------------
-- MODEL: Site - site

                       
DROP PROCEDURE IF EXISTS `usp_site_get`;

delimiter $$
CREATE PROCEDURE `usp_site_get`
(
)                        
BEGIN
    SELECT
        `status`
        , `domain`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `type_id`
        , `uuid`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `site`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_site_get_uuid`;

delimiter $$
CREATE PROCEDURE `usp_site_get_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `domain`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `type_id`
        , `uuid`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `site`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_site_get_code`;

delimiter $$
CREATE PROCEDURE `usp_site_get_code`
(
    in_code VARCHAR (255) 
)
BEGIN
    SELECT
        `status`
        , `domain`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `type_id`
        , `uuid`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `site`
    WHERE 1=1
    AND lower(`code`) = lower(in_code)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_site_get_type_id`;

delimiter $$
CREATE PROCEDURE `usp_site_get_type_id`
(
    in_type_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `domain`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `type_id`
        , `uuid`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `site`
    WHERE 1=1
    AND `type_id` = in_type_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_site_get_code_type_id`;

delimiter $$
CREATE PROCEDURE `usp_site_get_code_type_id`
(
    in_code VARCHAR (255) 
    , in_type_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `domain`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `type_id`
        , `uuid`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `site`
    WHERE 1=1
    AND lower(`code`) = lower(in_code)
    AND `type_id` = in_type_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_site_get_domain_type_id`;

delimiter $$
CREATE PROCEDURE `usp_site_get_domain_type_id`
(
    in_domain VARCHAR (255) 
    , in_type_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `domain`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `type_id`
        , `uuid`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `site`
    WHERE 1=1
    AND lower(`domain`) = lower(in_domain)
    AND `type_id` = in_type_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_site_get_domain`;

delimiter $$
CREATE PROCEDURE `usp_site_get_domain`
(
    in_domain VARCHAR (255) 
)
BEGIN
    SELECT
        `status`
        , `domain`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `type_id`
        , `uuid`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `site`
    WHERE 1=1
    AND lower(`domain`) = lower(in_domain)
    ;
END$$
delimiter ;

-- -----------------------------------------------------------------------------
-- PROCS

-- ------------------------------------
-- COUNT

-- ------------------------------------
-- MODEL: SiteType - site_type

                       
DROP PROCEDURE IF EXISTS `usp_site_type_count`;
delimiter $$
CREATE PROCEDURE `usp_site_type_count`
BEGIN
    SELECT
        COUNT(*) as count
    FROM `site_type`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_site_type_count_uuid`;
delimiter $$
CREATE PROCEDURE `usp_site_type_count_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `site_type`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_site_type_count_code`;
delimiter $$
CREATE PROCEDURE `usp_site_type_count_code`
(
    in_code VARCHAR (255) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `site_type`
    WHERE 1=1
    AND lower(`code`) = lower(in_code)
    ;
END$$
delimiter ;

-- ------------------------------------
-- BROWSE

-- ------------------------------------
-- MODEL: SiteType - site_type

                       
DROP PROCEDURE IF EXISTS `usp_site_type_browse_filter`;

delimiter $$
CREATE PROCEDURE `usp_site_type_browse_filter`
(
    in_page int,
    in_page_size int,
    in_sort VARCHAR(500),
    in_filter VARCHAR(4000)
    
)
BEGIN
    DECLARE total_rows int;
    SET total_rows = 0;
        
    IF (in_page = 0) THEN
        SET in_page = 1;
    END IF;    
    
    IF (in_page_size = 0) THEN
       SET in_page_size = 10;
    END IF;
    
    IF (in_sort = NULL || in_sort = '') THEN
       SET in_sort = ' date_modified ASC ';
    END IF;
    
    SET @sfields = CONCAT('', '`status`');
    SET @sfields = CONCAT(@sfields, ', `code`');
    SET @sfields = CONCAT(@sfields, ', `display_name`');
    SET @sfields = CONCAT(@sfields, ', `name`');
    SET @sfields = CONCAT(@sfields, ', `date_modified`');
    SET @sfields = CONCAT(@sfields, ', `uuid`');
    SET @sfields = CONCAT(@sfields, ', `active`');
    SET @sfields = CONCAT(@sfields, ', `date_created`');
    SET @sfields = CONCAT(@sfields, ', `type`');
    SET @sfields = CONCAT(@sfields, ', `description`');
    
    SET @stable = CONCAT('', ' FROM `site_type` WHERE 1=1 ');
    
    SET @s = CONCAT(' ', @stable);
    SET @s = CONCAT(@s, ' ', in_filter);    
    
    SET @scount = CONCAT('SELECT COUNT(*) as `total_rows` ', @s, ' INTO @total_rows');
    
    PREPARE stmtcount FROM @scount;
    EXECUTE stmtcount;
    #SELECT @total_rows;
    SET total_rows = @total_rows;

    SET @sfields = CONCAT(total_rows, ' as `total_rows`, ', @sfields);
    SET @s = CONCAT('SELECT ', @sfields, @s);
    SET @s = CONCAT(@s, ' ORDER BY ', in_sort);
    SET @s = CONCAT(@s, ' LIMIT ', in_page);
    SET @s = CONCAT(@s, ',', in_page_size);    

    PREPARE stmt FROM @s;
    EXECUTE stmt;
    
END$$
delimiter ;
-- ------------------------------------
-- SET

-- ------------------------------------
-- MODEL: SiteType - site_type

                       
DROP PROCEDURE IF EXISTS `usp_site_type_set_uuid`;
delimiter $$
CREATE PROCEDURE `usp_site_type_set_uuid`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_code VARCHAR (255) 
    , in_display_name VARCHAR (255) 
    , in_name VARCHAR (255) 
    , in_date_modified TIMESTAMP 
    , in_uuid BINARY(16) 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (500) 
    , in_description VARCHAR (255) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `site_type`  
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `site_type` 
                    SET
                        `status` = in_status
                        , `code` = in_code
                        , `display_name` = in_display_name
                        , `name` = in_name
                        , `date_modified` = in_date_modified
                        , `uuid` = in_uuid
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `type` = in_type
                        , `description` = in_description
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `site_type`
                    (
                        `status`
                        , `code`
                        , `display_name`
                        , `name`
                        , `date_modified`
                        , `uuid`
                        , `active`
                        , `date_created`
                        , `type`
                        , `description`
                    )
                    VALUES
                    (
                        in_status
                        , in_code
                        , in_display_name
                        , in_name
                        , in_date_modified
                        , in_uuid
                        , in_active
                        , in_date_created
                        , in_type
                        , in_description
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_site_type_set_code`;
delimiter $$
CREATE PROCEDURE `usp_site_type_set_code`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_code VARCHAR (255) 
    , in_display_name VARCHAR (255) 
    , in_name VARCHAR (255) 
    , in_date_modified TIMESTAMP 
    , in_uuid BINARY(16) 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (500) 
    , in_description VARCHAR (255) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `site_type`  
                    WHERE 1=1
                    AND lower(`code`) = lower(in_code)
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `site_type` 
                    SET
                        `status` = in_status
                        , `code` = in_code
                        , `display_name` = in_display_name
                        , `name` = in_name
                        , `date_modified` = in_date_modified
                        , `uuid` = in_uuid
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `type` = in_type
                        , `description` = in_description
                    WHERE 1=1
                    AND lower(`code`) = lower(in_code)
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `site_type`
                    (
                        `status`
                        , `code`
                        , `display_name`
                        , `name`
                        , `date_modified`
                        , `uuid`
                        , `active`
                        , `date_created`
                        , `type`
                        , `description`
                    )
                    VALUES
                    (
                        in_status
                        , in_code
                        , in_display_name
                        , in_name
                        , in_date_modified
                        , in_uuid
                        , in_active
                        , in_date_created
                        , in_type
                        , in_description
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

-- ------------------------------------
-- DEL

-- ------------------------------------
-- MODEL: SiteType - site_type

                       
DROP PROCEDURE IF EXISTS `usp_site_type_del_uuid`;

delimiter $$
CREATE PROCEDURE `usp_site_type_del_uuid`
(
    in_uuid BINARY(16) 
)

BEGIN
    DELETE 
    FROM `site_type`
    WHERE 1=1                        
    AND "uuid" = in_uuid
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_site_type_del_code`;

delimiter $$
CREATE PROCEDURE `usp_site_type_del_code`
(
    in_code VARCHAR (255) 
)

BEGIN
    DELETE 
    FROM `site_type`
    WHERE 1=1                        
    AND lower("code") = lower(in_code)
    ;
END$$
delimiter ;
-- ------------------------------------
-- GET

-- ------------------------------------
-- MODEL: SiteType - site_type

                       
DROP PROCEDURE IF EXISTS `usp_site_type_get`;

delimiter $$
CREATE PROCEDURE `usp_site_type_get`
(
)                        
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `uuid`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `site_type`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_site_type_get_uuid`;

delimiter $$
CREATE PROCEDURE `usp_site_type_get_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `uuid`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `site_type`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_site_type_get_code`;

delimiter $$
CREATE PROCEDURE `usp_site_type_get_code`
(
    in_code VARCHAR (255) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `uuid`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `site_type`
    WHERE 1=1
    AND lower(`code`) = lower(in_code)
    ;
END$$
delimiter ;

-- -----------------------------------------------------------------------------
-- PROCS

-- ------------------------------------
-- COUNT

-- ------------------------------------
-- MODEL: Org - org

                       
DROP PROCEDURE IF EXISTS `usp_org_count`;
delimiter $$
CREATE PROCEDURE `usp_org_count`
BEGIN
    SELECT
        COUNT(*) as count
    FROM `org`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_org_count_uuid`;
delimiter $$
CREATE PROCEDURE `usp_org_count_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `org`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_org_count_code`;
delimiter $$
CREATE PROCEDURE `usp_org_count_code`
(
    in_code VARCHAR (255) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `org`
    WHERE 1=1
    AND lower(`code`) = lower(in_code)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_org_count_name`;
delimiter $$
CREATE PROCEDURE `usp_org_count_name`
(
    in_name VARCHAR (255) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `org`
    WHERE 1=1
    AND lower(`name`) = lower(in_name)
    ;
END$$
delimiter ;

-- ------------------------------------
-- BROWSE

-- ------------------------------------
-- MODEL: Org - org

                       
DROP PROCEDURE IF EXISTS `usp_org_browse_filter`;

delimiter $$
CREATE PROCEDURE `usp_org_browse_filter`
(
    in_page int,
    in_page_size int,
    in_sort VARCHAR(500),
    in_filter VARCHAR(4000)
    
)
BEGIN
    DECLARE total_rows int;
    SET total_rows = 0;
        
    IF (in_page = 0) THEN
        SET in_page = 1;
    END IF;    
    
    IF (in_page_size = 0) THEN
       SET in_page_size = 10;
    END IF;
    
    IF (in_sort = NULL || in_sort = '') THEN
       SET in_sort = ' date_modified ASC ';
    END IF;
    
    SET @sfields = CONCAT('', '`status`');
    SET @sfields = CONCAT(@sfields, ', `code`');
    SET @sfields = CONCAT(@sfields, ', `display_name`');
    SET @sfields = CONCAT(@sfields, ', `name`');
    SET @sfields = CONCAT(@sfields, ', `date_modified`');
    SET @sfields = CONCAT(@sfields, ', `type_id`');
    SET @sfields = CONCAT(@sfields, ', `uuid`');
    SET @sfields = CONCAT(@sfields, ', `active`');
    SET @sfields = CONCAT(@sfields, ', `date_created`');
    SET @sfields = CONCAT(@sfields, ', `type`');
    SET @sfields = CONCAT(@sfields, ', `description`');
    
    SET @stable = CONCAT('', ' FROM `org` WHERE 1=1 ');
    
    SET @s = CONCAT(' ', @stable);
    SET @s = CONCAT(@s, ' ', in_filter);    
    
    SET @scount = CONCAT('SELECT COUNT(*) as `total_rows` ', @s, ' INTO @total_rows');
    
    PREPARE stmtcount FROM @scount;
    EXECUTE stmtcount;
    #SELECT @total_rows;
    SET total_rows = @total_rows;

    SET @sfields = CONCAT(total_rows, ' as `total_rows`, ', @sfields);
    SET @s = CONCAT('SELECT ', @sfields, @s);
    SET @s = CONCAT(@s, ' ORDER BY ', in_sort);
    SET @s = CONCAT(@s, ' LIMIT ', in_page);
    SET @s = CONCAT(@s, ',', in_page_size);    

    PREPARE stmt FROM @s;
    EXECUTE stmt;
    
END$$
delimiter ;
-- ------------------------------------
-- SET

-- ------------------------------------
-- MODEL: Org - org

                       
DROP PROCEDURE IF EXISTS `usp_org_set_uuid`;
delimiter $$
CREATE PROCEDURE `usp_org_set_uuid`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_code VARCHAR (255) 
    , in_display_name VARCHAR (255) 
    , in_name VARCHAR (255) 
    , in_date_modified TIMESTAMP 
    , in_type_id BINARY(16) 
    , in_uuid BINARY(16) 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (500) 
    , in_description VARCHAR (255) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `org`  
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `org` 
                    SET
                        `status` = in_status
                        , `code` = in_code
                        , `display_name` = in_display_name
                        , `name` = in_name
                        , `date_modified` = in_date_modified
                        , `type_id` = in_type_id
                        , `uuid` = in_uuid
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `type` = in_type
                        , `description` = in_description
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `org`
                    (
                        `status`
                        , `code`
                        , `display_name`
                        , `name`
                        , `date_modified`
                        , `type_id`
                        , `uuid`
                        , `active`
                        , `date_created`
                        , `type`
                        , `description`
                    )
                    VALUES
                    (
                        in_status
                        , in_code
                        , in_display_name
                        , in_name
                        , in_date_modified
                        , in_type_id
                        , in_uuid
                        , in_active
                        , in_date_created
                        , in_type
                        , in_description
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

-- ------------------------------------
-- DEL

-- ------------------------------------
-- MODEL: Org - org

                       
DROP PROCEDURE IF EXISTS `usp_org_del_uuid`;

delimiter $$
CREATE PROCEDURE `usp_org_del_uuid`
(
    in_uuid BINARY(16) 
)

BEGIN
    DELETE 
    FROM `org`
    WHERE 1=1                        
    AND "uuid" = in_uuid
    ;
END$$
delimiter ;
-- ------------------------------------
-- GET

-- ------------------------------------
-- MODEL: Org - org

                       
DROP PROCEDURE IF EXISTS `usp_org_get`;

delimiter $$
CREATE PROCEDURE `usp_org_get`
(
)                        
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `type_id`
        , `uuid`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `org`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_org_get_uuid`;

delimiter $$
CREATE PROCEDURE `usp_org_get_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `type_id`
        , `uuid`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `org`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_org_get_code`;

delimiter $$
CREATE PROCEDURE `usp_org_get_code`
(
    in_code VARCHAR (255) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `type_id`
        , `uuid`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `org`
    WHERE 1=1
    AND lower(`code`) = lower(in_code)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_org_get_name`;

delimiter $$
CREATE PROCEDURE `usp_org_get_name`
(
    in_name VARCHAR (255) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `type_id`
        , `uuid`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `org`
    WHERE 1=1
    AND lower(`name`) = lower(in_name)
    ;
END$$
delimiter ;

-- -----------------------------------------------------------------------------
-- PROCS

-- ------------------------------------
-- COUNT

-- ------------------------------------
-- MODEL: OrgType - org_type

                       
DROP PROCEDURE IF EXISTS `usp_org_type_count`;
delimiter $$
CREATE PROCEDURE `usp_org_type_count`
BEGIN
    SELECT
        COUNT(*) as count
    FROM `org_type`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_org_type_count_uuid`;
delimiter $$
CREATE PROCEDURE `usp_org_type_count_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `org_type`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_org_type_count_code`;
delimiter $$
CREATE PROCEDURE `usp_org_type_count_code`
(
    in_code VARCHAR (255) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `org_type`
    WHERE 1=1
    AND lower(`code`) = lower(in_code)
    ;
END$$
delimiter ;

-- ------------------------------------
-- BROWSE

-- ------------------------------------
-- MODEL: OrgType - org_type

                       
DROP PROCEDURE IF EXISTS `usp_org_type_browse_filter`;

delimiter $$
CREATE PROCEDURE `usp_org_type_browse_filter`
(
    in_page int,
    in_page_size int,
    in_sort VARCHAR(500),
    in_filter VARCHAR(4000)
    
)
BEGIN
    DECLARE total_rows int;
    SET total_rows = 0;
        
    IF (in_page = 0) THEN
        SET in_page = 1;
    END IF;    
    
    IF (in_page_size = 0) THEN
       SET in_page_size = 10;
    END IF;
    
    IF (in_sort = NULL || in_sort = '') THEN
       SET in_sort = ' date_modified ASC ';
    END IF;
    
    SET @sfields = CONCAT('', '`status`');
    SET @sfields = CONCAT(@sfields, ', `code`');
    SET @sfields = CONCAT(@sfields, ', `display_name`');
    SET @sfields = CONCAT(@sfields, ', `name`');
    SET @sfields = CONCAT(@sfields, ', `date_modified`');
    SET @sfields = CONCAT(@sfields, ', `uuid`');
    SET @sfields = CONCAT(@sfields, ', `active`');
    SET @sfields = CONCAT(@sfields, ', `date_created`');
    SET @sfields = CONCAT(@sfields, ', `type`');
    SET @sfields = CONCAT(@sfields, ', `description`');
    
    SET @stable = CONCAT('', ' FROM `org_type` WHERE 1=1 ');
    
    SET @s = CONCAT(' ', @stable);
    SET @s = CONCAT(@s, ' ', in_filter);    
    
    SET @scount = CONCAT('SELECT COUNT(*) as `total_rows` ', @s, ' INTO @total_rows');
    
    PREPARE stmtcount FROM @scount;
    EXECUTE stmtcount;
    #SELECT @total_rows;
    SET total_rows = @total_rows;

    SET @sfields = CONCAT(total_rows, ' as `total_rows`, ', @sfields);
    SET @s = CONCAT('SELECT ', @sfields, @s);
    SET @s = CONCAT(@s, ' ORDER BY ', in_sort);
    SET @s = CONCAT(@s, ' LIMIT ', in_page);
    SET @s = CONCAT(@s, ',', in_page_size);    

    PREPARE stmt FROM @s;
    EXECUTE stmt;
    
END$$
delimiter ;
-- ------------------------------------
-- SET

-- ------------------------------------
-- MODEL: OrgType - org_type

                       
DROP PROCEDURE IF EXISTS `usp_org_type_set_uuid`;
delimiter $$
CREATE PROCEDURE `usp_org_type_set_uuid`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_code VARCHAR (255) 
    , in_display_name VARCHAR (255) 
    , in_name VARCHAR (255) 
    , in_date_modified TIMESTAMP 
    , in_uuid BINARY(16) 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (500) 
    , in_description VARCHAR (255) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `org_type`  
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `org_type` 
                    SET
                        `status` = in_status
                        , `code` = in_code
                        , `display_name` = in_display_name
                        , `name` = in_name
                        , `date_modified` = in_date_modified
                        , `uuid` = in_uuid
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `type` = in_type
                        , `description` = in_description
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `org_type`
                    (
                        `status`
                        , `code`
                        , `display_name`
                        , `name`
                        , `date_modified`
                        , `uuid`
                        , `active`
                        , `date_created`
                        , `type`
                        , `description`
                    )
                    VALUES
                    (
                        in_status
                        , in_code
                        , in_display_name
                        , in_name
                        , in_date_modified
                        , in_uuid
                        , in_active
                        , in_date_created
                        , in_type
                        , in_description
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_org_type_set_code`;
delimiter $$
CREATE PROCEDURE `usp_org_type_set_code`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_code VARCHAR (255) 
    , in_display_name VARCHAR (255) 
    , in_name VARCHAR (255) 
    , in_date_modified TIMESTAMP 
    , in_uuid BINARY(16) 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (500) 
    , in_description VARCHAR (255) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `org_type`  
                    WHERE 1=1
                    AND lower(`code`) = lower(in_code)
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `org_type` 
                    SET
                        `status` = in_status
                        , `code` = in_code
                        , `display_name` = in_display_name
                        , `name` = in_name
                        , `date_modified` = in_date_modified
                        , `uuid` = in_uuid
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `type` = in_type
                        , `description` = in_description
                    WHERE 1=1
                    AND lower(`code`) = lower(in_code)
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `org_type`
                    (
                        `status`
                        , `code`
                        , `display_name`
                        , `name`
                        , `date_modified`
                        , `uuid`
                        , `active`
                        , `date_created`
                        , `type`
                        , `description`
                    )
                    VALUES
                    (
                        in_status
                        , in_code
                        , in_display_name
                        , in_name
                        , in_date_modified
                        , in_uuid
                        , in_active
                        , in_date_created
                        , in_type
                        , in_description
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

-- ------------------------------------
-- DEL

-- ------------------------------------
-- MODEL: OrgType - org_type

                       
DROP PROCEDURE IF EXISTS `usp_org_type_del_uuid`;

delimiter $$
CREATE PROCEDURE `usp_org_type_del_uuid`
(
    in_uuid BINARY(16) 
)

BEGIN
    DELETE 
    FROM `org_type`
    WHERE 1=1                        
    AND "uuid" = in_uuid
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_org_type_del_code`;

delimiter $$
CREATE PROCEDURE `usp_org_type_del_code`
(
    in_code VARCHAR (255) 
)

BEGIN
    DELETE 
    FROM `org_type`
    WHERE 1=1                        
    AND lower("code") = lower(in_code)
    ;
END$$
delimiter ;
-- ------------------------------------
-- GET

-- ------------------------------------
-- MODEL: OrgType - org_type

                       
DROP PROCEDURE IF EXISTS `usp_org_type_get`;

delimiter $$
CREATE PROCEDURE `usp_org_type_get`
(
)                        
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `uuid`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `org_type`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_org_type_get_uuid`;

delimiter $$
CREATE PROCEDURE `usp_org_type_get_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `uuid`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `org_type`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_org_type_get_code`;

delimiter $$
CREATE PROCEDURE `usp_org_type_get_code`
(
    in_code VARCHAR (255) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `uuid`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `org_type`
    WHERE 1=1
    AND lower(`code`) = lower(in_code)
    ;
END$$
delimiter ;

-- -----------------------------------------------------------------------------
-- PROCS

-- ------------------------------------
-- COUNT

-- ------------------------------------
-- MODEL: ContentItem - content_item

                       
DROP PROCEDURE IF EXISTS `usp_content_item_count`;
delimiter $$
CREATE PROCEDURE `usp_content_item_count`
BEGIN
    SELECT
        COUNT(*) as count
    FROM `content_item`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_content_item_count_uuid`;
delimiter $$
CREATE PROCEDURE `usp_content_item_count_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `content_item`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_content_item_count_code`;
delimiter $$
CREATE PROCEDURE `usp_content_item_count_code`
(
    in_code VARCHAR (255) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `content_item`
    WHERE 1=1
    AND lower(`code`) = lower(in_code)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_content_item_count_name`;
delimiter $$
CREATE PROCEDURE `usp_content_item_count_name`
(
    in_name VARCHAR (255) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `content_item`
    WHERE 1=1
    AND lower(`name`) = lower(in_name)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_content_item_count_path`;
delimiter $$
CREATE PROCEDURE `usp_content_item_count_path`
(
    in_path VARCHAR (500) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `content_item`
    WHERE 1=1
    AND lower(`path`) = lower(in_path)
    ;
END$$
delimiter ;

-- ------------------------------------
-- BROWSE

-- ------------------------------------
-- MODEL: ContentItem - content_item

                       
DROP PROCEDURE IF EXISTS `usp_content_item_browse_filter`;

delimiter $$
CREATE PROCEDURE `usp_content_item_browse_filter`
(
    in_page int,
    in_page_size int,
    in_sort VARCHAR(500),
    in_filter VARCHAR(4000)
    
)
BEGIN
    DECLARE total_rows int;
    SET total_rows = 0;
        
    IF (in_page = 0) THEN
        SET in_page = 1;
    END IF;    
    
    IF (in_page_size = 0) THEN
       SET in_page_size = 10;
    END IF;
    
    IF (in_sort = NULL || in_sort = '') THEN
       SET in_sort = ' date_modified ASC ';
    END IF;
    
    SET @sfields = CONCAT('', '`status`');
    SET @sfields = CONCAT(@sfields, ', `type_id`');
    SET @sfields = CONCAT(@sfields, ', `code`');
    SET @sfields = CONCAT(@sfields, ', `display_name`');
    SET @sfields = CONCAT(@sfields, ', `name`');
    SET @sfields = CONCAT(@sfields, ', `date_modified`');
    SET @sfields = CONCAT(@sfields, ', `data`');
    SET @sfields = CONCAT(@sfields, ', `date_end`');
    SET @sfields = CONCAT(@sfields, ', `date_start`');
    SET @sfields = CONCAT(@sfields, ', `uuid`');
    SET @sfields = CONCAT(@sfields, ', `path`');
    SET @sfields = CONCAT(@sfields, ', `active`');
    SET @sfields = CONCAT(@sfields, ', `date_created`');
    SET @sfields = CONCAT(@sfields, ', `type`');
    SET @sfields = CONCAT(@sfields, ', `description`');
    
    SET @stable = CONCAT('', ' FROM `content_item` WHERE 1=1 ');
    
    SET @s = CONCAT(' ', @stable);
    SET @s = CONCAT(@s, ' ', in_filter);    
    
    SET @scount = CONCAT('SELECT COUNT(*) as `total_rows` ', @s, ' INTO @total_rows');
    
    PREPARE stmtcount FROM @scount;
    EXECUTE stmtcount;
    #SELECT @total_rows;
    SET total_rows = @total_rows;

    SET @sfields = CONCAT(total_rows, ' as `total_rows`, ', @sfields);
    SET @s = CONCAT('SELECT ', @sfields, @s);
    SET @s = CONCAT(@s, ' ORDER BY ', in_sort);
    SET @s = CONCAT(@s, ' LIMIT ', in_page);
    SET @s = CONCAT(@s, ',', in_page_size);    

    PREPARE stmt FROM @s;
    EXECUTE stmt;
    
END$$
delimiter ;
-- ------------------------------------
-- SET

-- ------------------------------------
-- MODEL: ContentItem - content_item

                       
DROP PROCEDURE IF EXISTS `usp_content_item_set_uuid`;
delimiter $$
CREATE PROCEDURE `usp_content_item_set_uuid`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_type_id BINARY(16) 
    , in_code VARCHAR (255) 
    , in_display_name VARCHAR (255) 
    , in_name VARCHAR (255) 
    , in_date_modified TIMESTAMP 
    , in_data TEXT 
    , in_date_end TIMESTAMP 
    , in_date_start TIMESTAMP 
    , in_uuid BINARY(16) 
    , in_path VARCHAR (500) 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (500) 
    , in_description VARCHAR (255) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `content_item`  
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `content_item` 
                    SET
                        `status` = in_status
                        , `type_id` = in_type_id
                        , `code` = in_code
                        , `display_name` = in_display_name
                        , `name` = in_name
                        , `date_modified` = in_date_modified
                        , `data` = in_data
                        , `date_end` = in_date_end
                        , `date_start` = in_date_start
                        , `uuid` = in_uuid
                        , `path` = in_path
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `type` = in_type
                        , `description` = in_description
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `content_item`
                    (
                        `status`
                        , `type_id`
                        , `code`
                        , `display_name`
                        , `name`
                        , `date_modified`
                        , `data`
                        , `date_end`
                        , `date_start`
                        , `uuid`
                        , `path`
                        , `active`
                        , `date_created`
                        , `type`
                        , `description`
                    )
                    VALUES
                    (
                        in_status
                        , in_type_id
                        , in_code
                        , in_display_name
                        , in_name
                        , in_date_modified
                        , in_data
                        , in_date_end
                        , in_date_start
                        , in_uuid
                        , in_path
                        , in_active
                        , in_date_created
                        , in_type
                        , in_description
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

-- ------------------------------------
-- DEL

-- ------------------------------------
-- MODEL: ContentItem - content_item

                       
DROP PROCEDURE IF EXISTS `usp_content_item_del_uuid`;

delimiter $$
CREATE PROCEDURE `usp_content_item_del_uuid`
(
    in_uuid BINARY(16) 
)

BEGIN
    DELETE 
    FROM `content_item`
    WHERE 1=1                        
    AND "uuid" = in_uuid
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_content_item_del_path`;

delimiter $$
CREATE PROCEDURE `usp_content_item_del_path`
(
    in_path VARCHAR (500) 
)

BEGIN
    DELETE 
    FROM `content_item`
    WHERE 1=1                        
    AND lower("path") = lower(in_path)
    ;
END$$
delimiter ;
-- ------------------------------------
-- GET

-- ------------------------------------
-- MODEL: ContentItem - content_item

                       
DROP PROCEDURE IF EXISTS `usp_content_item_get`;

delimiter $$
CREATE PROCEDURE `usp_content_item_get`
(
)                        
BEGIN
    SELECT
        `status`
        , `type_id`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `data`
        , `date_end`
        , `date_start`
        , `uuid`
        , `path`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `content_item`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_content_item_get_uuid`;

delimiter $$
CREATE PROCEDURE `usp_content_item_get_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `type_id`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `data`
        , `date_end`
        , `date_start`
        , `uuid`
        , `path`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `content_item`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_content_item_get_code`;

delimiter $$
CREATE PROCEDURE `usp_content_item_get_code`
(
    in_code VARCHAR (255) 
)
BEGIN
    SELECT
        `status`
        , `type_id`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `data`
        , `date_end`
        , `date_start`
        , `uuid`
        , `path`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `content_item`
    WHERE 1=1
    AND lower(`code`) = lower(in_code)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_content_item_get_name`;

delimiter $$
CREATE PROCEDURE `usp_content_item_get_name`
(
    in_name VARCHAR (255) 
)
BEGIN
    SELECT
        `status`
        , `type_id`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `data`
        , `date_end`
        , `date_start`
        , `uuid`
        , `path`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `content_item`
    WHERE 1=1
    AND lower(`name`) = lower(in_name)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_content_item_get_path`;

delimiter $$
CREATE PROCEDURE `usp_content_item_get_path`
(
    in_path VARCHAR (500) 
)
BEGIN
    SELECT
        `status`
        , `type_id`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `data`
        , `date_end`
        , `date_start`
        , `uuid`
        , `path`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `content_item`
    WHERE 1=1
    AND lower(`path`) = lower(in_path)
    ;
END$$
delimiter ;

-- -----------------------------------------------------------------------------
-- PROCS

-- ------------------------------------
-- COUNT

-- ------------------------------------
-- MODEL: ContentItemType - content_item_type

                       
DROP PROCEDURE IF EXISTS `usp_content_item_type_count`;
delimiter $$
CREATE PROCEDURE `usp_content_item_type_count`
BEGIN
    SELECT
        COUNT(*) as count
    FROM `content_item_type`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_content_item_type_count_uuid`;
delimiter $$
CREATE PROCEDURE `usp_content_item_type_count_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `content_item_type`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_content_item_type_count_code`;
delimiter $$
CREATE PROCEDURE `usp_content_item_type_count_code`
(
    in_code VARCHAR (255) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `content_item_type`
    WHERE 1=1
    AND lower(`code`) = lower(in_code)
    ;
END$$
delimiter ;

-- ------------------------------------
-- BROWSE

-- ------------------------------------
-- MODEL: ContentItemType - content_item_type

                       
DROP PROCEDURE IF EXISTS `usp_content_item_type_browse_filter`;

delimiter $$
CREATE PROCEDURE `usp_content_item_type_browse_filter`
(
    in_page int,
    in_page_size int,
    in_sort VARCHAR(500),
    in_filter VARCHAR(4000)
    
)
BEGIN
    DECLARE total_rows int;
    SET total_rows = 0;
        
    IF (in_page = 0) THEN
        SET in_page = 1;
    END IF;    
    
    IF (in_page_size = 0) THEN
       SET in_page_size = 10;
    END IF;
    
    IF (in_sort = NULL || in_sort = '') THEN
       SET in_sort = ' date_modified ASC ';
    END IF;
    
    SET @sfields = CONCAT('', '`status`');
    SET @sfields = CONCAT(@sfields, ', `code`');
    SET @sfields = CONCAT(@sfields, ', `display_name`');
    SET @sfields = CONCAT(@sfields, ', `name`');
    SET @sfields = CONCAT(@sfields, ', `date_modified`');
    SET @sfields = CONCAT(@sfields, ', `uuid`');
    SET @sfields = CONCAT(@sfields, ', `active`');
    SET @sfields = CONCAT(@sfields, ', `date_created`');
    SET @sfields = CONCAT(@sfields, ', `type`');
    SET @sfields = CONCAT(@sfields, ', `description`');
    
    SET @stable = CONCAT('', ' FROM `content_item_type` WHERE 1=1 ');
    
    SET @s = CONCAT(' ', @stable);
    SET @s = CONCAT(@s, ' ', in_filter);    
    
    SET @scount = CONCAT('SELECT COUNT(*) as `total_rows` ', @s, ' INTO @total_rows');
    
    PREPARE stmtcount FROM @scount;
    EXECUTE stmtcount;
    #SELECT @total_rows;
    SET total_rows = @total_rows;

    SET @sfields = CONCAT(total_rows, ' as `total_rows`, ', @sfields);
    SET @s = CONCAT('SELECT ', @sfields, @s);
    SET @s = CONCAT(@s, ' ORDER BY ', in_sort);
    SET @s = CONCAT(@s, ' LIMIT ', in_page);
    SET @s = CONCAT(@s, ',', in_page_size);    

    PREPARE stmt FROM @s;
    EXECUTE stmt;
    
END$$
delimiter ;
-- ------------------------------------
-- SET

-- ------------------------------------
-- MODEL: ContentItemType - content_item_type

                       
DROP PROCEDURE IF EXISTS `usp_content_item_type_set_uuid`;
delimiter $$
CREATE PROCEDURE `usp_content_item_type_set_uuid`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_code VARCHAR (255) 
    , in_display_name VARCHAR (255) 
    , in_name VARCHAR (255) 
    , in_date_modified TIMESTAMP 
    , in_uuid BINARY(16) 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (500) 
    , in_description VARCHAR (255) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `content_item_type`  
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `content_item_type` 
                    SET
                        `status` = in_status
                        , `code` = in_code
                        , `display_name` = in_display_name
                        , `name` = in_name
                        , `date_modified` = in_date_modified
                        , `uuid` = in_uuid
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `type` = in_type
                        , `description` = in_description
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `content_item_type`
                    (
                        `status`
                        , `code`
                        , `display_name`
                        , `name`
                        , `date_modified`
                        , `uuid`
                        , `active`
                        , `date_created`
                        , `type`
                        , `description`
                    )
                    VALUES
                    (
                        in_status
                        , in_code
                        , in_display_name
                        , in_name
                        , in_date_modified
                        , in_uuid
                        , in_active
                        , in_date_created
                        , in_type
                        , in_description
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_content_item_type_set_code`;
delimiter $$
CREATE PROCEDURE `usp_content_item_type_set_code`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_code VARCHAR (255) 
    , in_display_name VARCHAR (255) 
    , in_name VARCHAR (255) 
    , in_date_modified TIMESTAMP 
    , in_uuid BINARY(16) 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (500) 
    , in_description VARCHAR (255) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `content_item_type`  
                    WHERE 1=1
                    AND lower(`code`) = lower(in_code)
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `content_item_type` 
                    SET
                        `status` = in_status
                        , `code` = in_code
                        , `display_name` = in_display_name
                        , `name` = in_name
                        , `date_modified` = in_date_modified
                        , `uuid` = in_uuid
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `type` = in_type
                        , `description` = in_description
                    WHERE 1=1
                    AND lower(`code`) = lower(in_code)
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `content_item_type`
                    (
                        `status`
                        , `code`
                        , `display_name`
                        , `name`
                        , `date_modified`
                        , `uuid`
                        , `active`
                        , `date_created`
                        , `type`
                        , `description`
                    )
                    VALUES
                    (
                        in_status
                        , in_code
                        , in_display_name
                        , in_name
                        , in_date_modified
                        , in_uuid
                        , in_active
                        , in_date_created
                        , in_type
                        , in_description
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

-- ------------------------------------
-- DEL

-- ------------------------------------
-- MODEL: ContentItemType - content_item_type

                       
DROP PROCEDURE IF EXISTS `usp_content_item_type_del_uuid`;

delimiter $$
CREATE PROCEDURE `usp_content_item_type_del_uuid`
(
    in_uuid BINARY(16) 
)

BEGIN
    DELETE 
    FROM `content_item_type`
    WHERE 1=1                        
    AND "uuid" = in_uuid
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_content_item_type_del_code`;

delimiter $$
CREATE PROCEDURE `usp_content_item_type_del_code`
(
    in_code VARCHAR (255) 
)

BEGIN
    DELETE 
    FROM `content_item_type`
    WHERE 1=1                        
    AND lower("code") = lower(in_code)
    ;
END$$
delimiter ;
-- ------------------------------------
-- GET

-- ------------------------------------
-- MODEL: ContentItemType - content_item_type

                       
DROP PROCEDURE IF EXISTS `usp_content_item_type_get`;

delimiter $$
CREATE PROCEDURE `usp_content_item_type_get`
(
)                        
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `uuid`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `content_item_type`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_content_item_type_get_uuid`;

delimiter $$
CREATE PROCEDURE `usp_content_item_type_get_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `uuid`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `content_item_type`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_content_item_type_get_code`;

delimiter $$
CREATE PROCEDURE `usp_content_item_type_get_code`
(
    in_code VARCHAR (255) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `uuid`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `content_item_type`
    WHERE 1=1
    AND lower(`code`) = lower(in_code)
    ;
END$$
delimiter ;

-- -----------------------------------------------------------------------------
-- PROCS

-- ------------------------------------
-- COUNT

-- ------------------------------------
-- MODEL: ContentPage - content_page

                       
DROP PROCEDURE IF EXISTS `usp_content_page_count`;
delimiter $$
CREATE PROCEDURE `usp_content_page_count`
BEGIN
    SELECT
        COUNT(*) as count
    FROM `content_page`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_content_page_count_uuid`;
delimiter $$
CREATE PROCEDURE `usp_content_page_count_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `content_page`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_content_page_count_code`;
delimiter $$
CREATE PROCEDURE `usp_content_page_count_code`
(
    in_code VARCHAR (255) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `content_page`
    WHERE 1=1
    AND lower(`code`) = lower(in_code)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_content_page_count_name`;
delimiter $$
CREATE PROCEDURE `usp_content_page_count_name`
(
    in_name VARCHAR (255) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `content_page`
    WHERE 1=1
    AND lower(`name`) = lower(in_name)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_content_page_count_path`;
delimiter $$
CREATE PROCEDURE `usp_content_page_count_path`
(
    in_path VARCHAR (500) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `content_page`
    WHERE 1=1
    AND lower(`path`) = lower(in_path)
    ;
END$$
delimiter ;

-- ------------------------------------
-- BROWSE

-- ------------------------------------
-- MODEL: ContentPage - content_page

                       
DROP PROCEDURE IF EXISTS `usp_content_page_browse_filter`;

delimiter $$
CREATE PROCEDURE `usp_content_page_browse_filter`
(
    in_page int,
    in_page_size int,
    in_sort VARCHAR(500),
    in_filter VARCHAR(4000)
    
)
BEGIN
    DECLARE total_rows int;
    SET total_rows = 0;
        
    IF (in_page = 0) THEN
        SET in_page = 1;
    END IF;    
    
    IF (in_page_size = 0) THEN
       SET in_page_size = 10;
    END IF;
    
    IF (in_sort = NULL || in_sort = '') THEN
       SET in_sort = ' date_modified ASC ';
    END IF;
    
    SET @sfields = CONCAT('', '`status`');
    SET @sfields = CONCAT(@sfields, ', `code`');
    SET @sfields = CONCAT(@sfields, ', `display_name`');
    SET @sfields = CONCAT(@sfields, ', `name`');
    SET @sfields = CONCAT(@sfields, ', `date_modified`');
    SET @sfields = CONCAT(@sfields, ', `date_end`');
    SET @sfields = CONCAT(@sfields, ', `date_start`');
    SET @sfields = CONCAT(@sfields, ', `site_id`');
    SET @sfields = CONCAT(@sfields, ', `uuid`');
    SET @sfields = CONCAT(@sfields, ', `template`');
    SET @sfields = CONCAT(@sfields, ', `path`');
    SET @sfields = CONCAT(@sfields, ', `active`');
    SET @sfields = CONCAT(@sfields, ', `date_created`');
    SET @sfields = CONCAT(@sfields, ', `type`');
    SET @sfields = CONCAT(@sfields, ', `description`');
    
    SET @stable = CONCAT('', ' FROM `content_page` WHERE 1=1 ');
    
    SET @s = CONCAT(' ', @stable);
    SET @s = CONCAT(@s, ' ', in_filter);    
    
    SET @scount = CONCAT('SELECT COUNT(*) as `total_rows` ', @s, ' INTO @total_rows');
    
    PREPARE stmtcount FROM @scount;
    EXECUTE stmtcount;
    #SELECT @total_rows;
    SET total_rows = @total_rows;

    SET @sfields = CONCAT(total_rows, ' as `total_rows`, ', @sfields);
    SET @s = CONCAT('SELECT ', @sfields, @s);
    SET @s = CONCAT(@s, ' ORDER BY ', in_sort);
    SET @s = CONCAT(@s, ' LIMIT ', in_page);
    SET @s = CONCAT(@s, ',', in_page_size);    

    PREPARE stmt FROM @s;
    EXECUTE stmt;
    
END$$
delimiter ;
-- ------------------------------------
-- SET

-- ------------------------------------
-- MODEL: ContentPage - content_page

                       
DROP PROCEDURE IF EXISTS `usp_content_page_set_uuid`;
delimiter $$
CREATE PROCEDURE `usp_content_page_set_uuid`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_code VARCHAR (255) 
    , in_display_name VARCHAR (255) 
    , in_name VARCHAR (255) 
    , in_date_modified TIMESTAMP 
    , in_date_end TIMESTAMP 
    , in_date_start TIMESTAMP 
    , in_site_id BINARY(16) 
    , in_uuid BINARY(16) 
    , in_template TEXT 
    , in_path VARCHAR (500) 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (500) 
    , in_description VARCHAR (255) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `content_page`  
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `content_page` 
                    SET
                        `status` = in_status
                        , `code` = in_code
                        , `display_name` = in_display_name
                        , `name` = in_name
                        , `date_modified` = in_date_modified
                        , `date_end` = in_date_end
                        , `date_start` = in_date_start
                        , `site_id` = in_site_id
                        , `uuid` = in_uuid
                        , `template` = in_template
                        , `path` = in_path
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `type` = in_type
                        , `description` = in_description
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `content_page`
                    (
                        `status`
                        , `code`
                        , `display_name`
                        , `name`
                        , `date_modified`
                        , `date_end`
                        , `date_start`
                        , `site_id`
                        , `uuid`
                        , `template`
                        , `path`
                        , `active`
                        , `date_created`
                        , `type`
                        , `description`
                    )
                    VALUES
                    (
                        in_status
                        , in_code
                        , in_display_name
                        , in_name
                        , in_date_modified
                        , in_date_end
                        , in_date_start
                        , in_site_id
                        , in_uuid
                        , in_template
                        , in_path
                        , in_active
                        , in_date_created
                        , in_type
                        , in_description
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

-- ------------------------------------
-- DEL

-- ------------------------------------
-- MODEL: ContentPage - content_page

                       
DROP PROCEDURE IF EXISTS `usp_content_page_del_uuid`;

delimiter $$
CREATE PROCEDURE `usp_content_page_del_uuid`
(
    in_uuid BINARY(16) 
)

BEGIN
    DELETE 
    FROM `content_page`
    WHERE 1=1                        
    AND "uuid" = in_uuid
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_content_page_del_path_site_id`;

delimiter $$
CREATE PROCEDURE `usp_content_page_del_path_site_id`
(
    in_path VARCHAR (500) 
    , in_site_id BINARY(16) 
)

BEGIN
    DELETE 
    FROM `content_page`
    WHERE 1=1                        
    AND lower("path") = lower(in_path)
    AND "site_id" = in_site_id
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_content_page_del_path`;

delimiter $$
CREATE PROCEDURE `usp_content_page_del_path`
(
    in_path VARCHAR (500) 
)

BEGIN
    DELETE 
    FROM `content_page`
    WHERE 1=1                        
    AND lower("path") = lower(in_path)
    ;
END$$
delimiter ;
-- ------------------------------------
-- GET

-- ------------------------------------
-- MODEL: ContentPage - content_page

                       
DROP PROCEDURE IF EXISTS `usp_content_page_get`;

delimiter $$
CREATE PROCEDURE `usp_content_page_get`
(
)                        
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `date_end`
        , `date_start`
        , `site_id`
        , `uuid`
        , `template`
        , `path`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `content_page`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_content_page_get_uuid`;

delimiter $$
CREATE PROCEDURE `usp_content_page_get_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `date_end`
        , `date_start`
        , `site_id`
        , `uuid`
        , `template`
        , `path`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `content_page`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_content_page_get_code`;

delimiter $$
CREATE PROCEDURE `usp_content_page_get_code`
(
    in_code VARCHAR (255) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `date_end`
        , `date_start`
        , `site_id`
        , `uuid`
        , `template`
        , `path`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `content_page`
    WHERE 1=1
    AND lower(`code`) = lower(in_code)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_content_page_get_name`;

delimiter $$
CREATE PROCEDURE `usp_content_page_get_name`
(
    in_name VARCHAR (255) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `date_end`
        , `date_start`
        , `site_id`
        , `uuid`
        , `template`
        , `path`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `content_page`
    WHERE 1=1
    AND lower(`name`) = lower(in_name)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_content_page_get_path`;

delimiter $$
CREATE PROCEDURE `usp_content_page_get_path`
(
    in_path VARCHAR (500) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `date_end`
        , `date_start`
        , `site_id`
        , `uuid`
        , `template`
        , `path`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `content_page`
    WHERE 1=1
    AND lower(`path`) = lower(in_path)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_content_page_get_site_id`;

delimiter $$
CREATE PROCEDURE `usp_content_page_get_site_id`
(
    in_site_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `date_end`
        , `date_start`
        , `site_id`
        , `uuid`
        , `template`
        , `path`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `content_page`
    WHERE 1=1
    AND `site_id` = in_site_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_content_page_get_site_id_path`;

delimiter $$
CREATE PROCEDURE `usp_content_page_get_site_id_path`
(
    in_site_id BINARY(16) 
    , in_path VARCHAR (500) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `date_end`
        , `date_start`
        , `site_id`
        , `uuid`
        , `template`
        , `path`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `content_page`
    WHERE 1=1
    AND `site_id` = in_site_id
    AND lower(`path`) = lower(in_path)
    ;
END$$
delimiter ;

-- -----------------------------------------------------------------------------
-- PROCS

-- ------------------------------------
-- COUNT

-- ------------------------------------
-- MODEL: Message - message

                       
DROP PROCEDURE IF EXISTS `usp_message_count`;
delimiter $$
CREATE PROCEDURE `usp_message_count`
BEGIN
    SELECT
        COUNT(*) as count
    FROM `message`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_message_count_uuid`;
delimiter $$
CREATE PROCEDURE `usp_message_count_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `message`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

-- ------------------------------------
-- BROWSE

-- ------------------------------------
-- MODEL: Message - message

                       
DROP PROCEDURE IF EXISTS `usp_message_browse_filter`;

delimiter $$
CREATE PROCEDURE `usp_message_browse_filter`
(
    in_page int,
    in_page_size int,
    in_sort VARCHAR(500),
    in_filter VARCHAR(4000)
    
)
BEGIN
    DECLARE total_rows int;
    SET total_rows = 0;
        
    IF (in_page = 0) THEN
        SET in_page = 1;
    END IF;    
    
    IF (in_page_size = 0) THEN
       SET in_page_size = 10;
    END IF;
    
    IF (in_sort = NULL || in_sort = '') THEN
       SET in_sort = ' date_modified ASC ';
    END IF;
    
    SET @sfields = CONCAT('', '`status`');
    SET @sfields = CONCAT(@sfields, ', `profile_from_name`');
    SET @sfields = CONCAT(@sfields, ', `read`');
    SET @sfields = CONCAT(@sfields, ', `profile_from_id`');
    SET @sfields = CONCAT(@sfields, ', `profile_to_token`');
    SET @sfields = CONCAT(@sfields, ', `app_id`');
    SET @sfields = CONCAT(@sfields, ', `active`');
    SET @sfields = CONCAT(@sfields, ', `subject`');
    SET @sfields = CONCAT(@sfields, ', `uuid`');
    SET @sfields = CONCAT(@sfields, ', `date_modified`');
    SET @sfields = CONCAT(@sfields, ', `profile_to_id`');
    SET @sfields = CONCAT(@sfields, ', `date_created`');
    SET @sfields = CONCAT(@sfields, ', `profile_to_name`');
    SET @sfields = CONCAT(@sfields, ', `type`');
    SET @sfields = CONCAT(@sfields, ', `sent`');
    
    SET @stable = CONCAT('', ' FROM `message` WHERE 1=1 ');
    
    SET @s = CONCAT(' ', @stable);
    SET @s = CONCAT(@s, ' ', in_filter);    
    
    SET @scount = CONCAT('SELECT COUNT(*) as `total_rows` ', @s, ' INTO @total_rows');
    
    PREPARE stmtcount FROM @scount;
    EXECUTE stmtcount;
    #SELECT @total_rows;
    SET total_rows = @total_rows;

    SET @sfields = CONCAT(total_rows, ' as `total_rows`, ', @sfields);
    SET @s = CONCAT('SELECT ', @sfields, @s);
    SET @s = CONCAT(@s, ' ORDER BY ', in_sort);
    SET @s = CONCAT(@s, ' LIMIT ', in_page);
    SET @s = CONCAT(@s, ',', in_page_size);    

    PREPARE stmt FROM @s;
    EXECUTE stmt;
    
END$$
delimiter ;
-- ------------------------------------
-- SET

-- ------------------------------------
-- MODEL: Message - message

                       
DROP PROCEDURE IF EXISTS `usp_message_set_uuid`;
delimiter $$
CREATE PROCEDURE `usp_message_set_uuid`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_profile_from_name VARCHAR (500) 
    , in_read int 
    , in_profile_from_id BINARY(16) 
    , in_profile_to_token VARCHAR (500) 
    , in_app_id BINARY(16) 
    , in_active int 
    , in_subject VARCHAR (500) 
    , in_uuid BINARY(16) 
    , in_date_modified TIMESTAMP 
    , in_profile_to_id BINARY(16) 
    , in_date_created TIMESTAMP 
    , in_profile_to_name VARCHAR (500) 
    , in_type VARCHAR (500) 
    , in_sent int 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `message`  
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `message` 
                    SET
                        `status` = in_status
                        , `profile_from_name` = in_profile_from_name
                        , `read` = in_read
                        , `profile_from_id` = in_profile_from_id
                        , `profile_to_token` = in_profile_to_token
                        , `app_id` = in_app_id
                        , `active` = in_active
                        , `subject` = in_subject
                        , `uuid` = in_uuid
                        , `date_modified` = in_date_modified
                        , `profile_to_id` = in_profile_to_id
                        , `date_created` = in_date_created
                        , `profile_to_name` = in_profile_to_name
                        , `type` = in_type
                        , `sent` = in_sent
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `message`
                    (
                        `status`
                        , `profile_from_name`
                        , `read`
                        , `profile_from_id`
                        , `profile_to_token`
                        , `app_id`
                        , `active`
                        , `subject`
                        , `uuid`
                        , `date_modified`
                        , `profile_to_id`
                        , `date_created`
                        , `profile_to_name`
                        , `type`
                        , `sent`
                    )
                    VALUES
                    (
                        in_status
                        , in_profile_from_name
                        , in_read
                        , in_profile_from_id
                        , in_profile_to_token
                        , in_app_id
                        , in_active
                        , in_subject
                        , in_uuid
                        , in_date_modified
                        , in_profile_to_id
                        , in_date_created
                        , in_profile_to_name
                        , in_type
                        , in_sent
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

-- ------------------------------------
-- DEL

-- ------------------------------------
-- MODEL: Message - message

                       
DROP PROCEDURE IF EXISTS `usp_message_del_uuid`;

delimiter $$
CREATE PROCEDURE `usp_message_del_uuid`
(
    in_uuid BINARY(16) 
)

BEGIN
    DELETE 
    FROM `message`
    WHERE 1=1                        
    AND "uuid" = in_uuid
    ;
END$$
delimiter ;
-- ------------------------------------
-- GET

-- ------------------------------------
-- MODEL: Message - message

                       
DROP PROCEDURE IF EXISTS `usp_message_get`;

delimiter $$
CREATE PROCEDURE `usp_message_get`
(
)                        
BEGIN
    SELECT
        `status`
        , `profile_from_name`
        , `read`
        , `profile_from_id`
        , `profile_to_token`
        , `app_id`
        , `active`
        , `subject`
        , `uuid`
        , `date_modified`
        , `profile_to_id`
        , `date_created`
        , `profile_to_name`
        , `type`
        , `sent`
    FROM `message`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_message_get_uuid`;

delimiter $$
CREATE PROCEDURE `usp_message_get_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `profile_from_name`
        , `read`
        , `profile_from_id`
        , `profile_to_token`
        , `app_id`
        , `active`
        , `subject`
        , `uuid`
        , `date_modified`
        , `profile_to_id`
        , `date_created`
        , `profile_to_name`
        , `type`
        , `sent`
    FROM `message`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

-- -----------------------------------------------------------------------------
-- PROCS

-- ------------------------------------
-- COUNT

-- ------------------------------------
-- MODEL: Game - game

                       
DROP PROCEDURE IF EXISTS `usp_game_count`;
delimiter $$
CREATE PROCEDURE `usp_game_count`
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_count_uuid`;
delimiter $$
CREATE PROCEDURE `usp_game_count_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_count_code`;
delimiter $$
CREATE PROCEDURE `usp_game_count_code`
(
    in_code VARCHAR (255) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game`
    WHERE 1=1
    AND lower(`code`) = lower(in_code)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_count_name`;
delimiter $$
CREATE PROCEDURE `usp_game_count_name`
(
    in_name VARCHAR (255) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game`
    WHERE 1=1
    AND lower(`name`) = lower(in_name)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_count_org_id`;
delimiter $$
CREATE PROCEDURE `usp_game_count_org_id`
(
    in_org_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game`
    WHERE 1=1
    AND `org_id` = in_org_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_count_app_id`;
delimiter $$
CREATE PROCEDURE `usp_game_count_app_id`
(
    in_app_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game`
    WHERE 1=1
    AND `app_id` = in_app_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_count_org_id_app_id`;
delimiter $$
CREATE PROCEDURE `usp_game_count_org_id_app_id`
(
    in_org_id BINARY(16) 
    , in_app_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game`
    WHERE 1=1
    AND `org_id` = in_org_id
    AND `app_id` = in_app_id
    ;
END$$
delimiter ;

-- ------------------------------------
-- BROWSE

-- ------------------------------------
-- MODEL: Game - game

                       
DROP PROCEDURE IF EXISTS `usp_game_browse_filter`;

delimiter $$
CREATE PROCEDURE `usp_game_browse_filter`
(
    in_page int,
    in_page_size int,
    in_sort VARCHAR(500),
    in_filter VARCHAR(4000)
    
)
BEGIN
    DECLARE total_rows int;
    SET total_rows = 0;
        
    IF (in_page = 0) THEN
        SET in_page = 1;
    END IF;    
    
    IF (in_page_size = 0) THEN
       SET in_page_size = 10;
    END IF;
    
    IF (in_sort = NULL || in_sort = '') THEN
       SET in_sort = ' date_modified ASC ';
    END IF;
    
    SET @sfields = CONCAT('', '`status`');
    SET @sfields = CONCAT(@sfields, ', `code`');
    SET @sfields = CONCAT(@sfields, ', `display_name`');
    SET @sfields = CONCAT(@sfields, ', `name`');
    SET @sfields = CONCAT(@sfields, ', `date_modified`');
    SET @sfields = CONCAT(@sfields, ', `org_id`');
    SET @sfields = CONCAT(@sfields, ', `uuid`');
    SET @sfields = CONCAT(@sfields, ', `app_id`');
    SET @sfields = CONCAT(@sfields, ', `active`');
    SET @sfields = CONCAT(@sfields, ', `date_created`');
    SET @sfields = CONCAT(@sfields, ', `type`');
    SET @sfields = CONCAT(@sfields, ', `description`');
    
    SET @stable = CONCAT('', ' FROM `game` WHERE 1=1 ');
    
    SET @s = CONCAT(' ', @stable);
    SET @s = CONCAT(@s, ' ', in_filter);    
    
    SET @scount = CONCAT('SELECT COUNT(*) as `total_rows` ', @s, ' INTO @total_rows');
    
    PREPARE stmtcount FROM @scount;
    EXECUTE stmtcount;
    #SELECT @total_rows;
    SET total_rows = @total_rows;

    SET @sfields = CONCAT(total_rows, ' as `total_rows`, ', @sfields);
    SET @s = CONCAT('SELECT ', @sfields, @s);
    SET @s = CONCAT(@s, ' ORDER BY ', in_sort);
    SET @s = CONCAT(@s, ' LIMIT ', in_page);
    SET @s = CONCAT(@s, ',', in_page_size);    

    PREPARE stmt FROM @s;
    EXECUTE stmt;
    
END$$
delimiter ;
-- ------------------------------------
-- SET

-- ------------------------------------
-- MODEL: Game - game

                       
DROP PROCEDURE IF EXISTS `usp_game_set_uuid`;
delimiter $$
CREATE PROCEDURE `usp_game_set_uuid`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_code VARCHAR (255) 
    , in_display_name VARCHAR (255) 
    , in_name VARCHAR (255) 
    , in_date_modified TIMESTAMP 
    , in_org_id BINARY(16) 
    , in_uuid BINARY(16) 
    , in_app_id BINARY(16) 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (500) 
    , in_description VARCHAR (255) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game`  
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game` 
                    SET
                        `status` = in_status
                        , `code` = in_code
                        , `display_name` = in_display_name
                        , `name` = in_name
                        , `date_modified` = in_date_modified
                        , `org_id` = in_org_id
                        , `uuid` = in_uuid
                        , `app_id` = in_app_id
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `type` = in_type
                        , `description` = in_description
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game`
                    (
                        `status`
                        , `code`
                        , `display_name`
                        , `name`
                        , `date_modified`
                        , `org_id`
                        , `uuid`
                        , `app_id`
                        , `active`
                        , `date_created`
                        , `type`
                        , `description`
                    )
                    VALUES
                    (
                        in_status
                        , in_code
                        , in_display_name
                        , in_name
                        , in_date_modified
                        , in_org_id
                        , in_uuid
                        , in_app_id
                        , in_active
                        , in_date_created
                        , in_type
                        , in_description
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_set_code`;
delimiter $$
CREATE PROCEDURE `usp_game_set_code`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_code VARCHAR (255) 
    , in_display_name VARCHAR (255) 
    , in_name VARCHAR (255) 
    , in_date_modified TIMESTAMP 
    , in_org_id BINARY(16) 
    , in_uuid BINARY(16) 
    , in_app_id BINARY(16) 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (500) 
    , in_description VARCHAR (255) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game`  
                    WHERE 1=1
                    AND lower(`code`) = lower(in_code)
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game` 
                    SET
                        `status` = in_status
                        , `code` = in_code
                        , `display_name` = in_display_name
                        , `name` = in_name
                        , `date_modified` = in_date_modified
                        , `org_id` = in_org_id
                        , `uuid` = in_uuid
                        , `app_id` = in_app_id
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `type` = in_type
                        , `description` = in_description
                    WHERE 1=1
                    AND lower(`code`) = lower(in_code)
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game`
                    (
                        `status`
                        , `code`
                        , `display_name`
                        , `name`
                        , `date_modified`
                        , `org_id`
                        , `uuid`
                        , `app_id`
                        , `active`
                        , `date_created`
                        , `type`
                        , `description`
                    )
                    VALUES
                    (
                        in_status
                        , in_code
                        , in_display_name
                        , in_name
                        , in_date_modified
                        , in_org_id
                        , in_uuid
                        , in_app_id
                        , in_active
                        , in_date_created
                        , in_type
                        , in_description
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_set_name`;
delimiter $$
CREATE PROCEDURE `usp_game_set_name`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_code VARCHAR (255) 
    , in_display_name VARCHAR (255) 
    , in_name VARCHAR (255) 
    , in_date_modified TIMESTAMP 
    , in_org_id BINARY(16) 
    , in_uuid BINARY(16) 
    , in_app_id BINARY(16) 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (500) 
    , in_description VARCHAR (255) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game`  
                    WHERE 1=1
                    AND lower(`name`) = lower(in_name)
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game` 
                    SET
                        `status` = in_status
                        , `code` = in_code
                        , `display_name` = in_display_name
                        , `name` = in_name
                        , `date_modified` = in_date_modified
                        , `org_id` = in_org_id
                        , `uuid` = in_uuid
                        , `app_id` = in_app_id
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `type` = in_type
                        , `description` = in_description
                    WHERE 1=1
                    AND lower(`name`) = lower(in_name)
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game`
                    (
                        `status`
                        , `code`
                        , `display_name`
                        , `name`
                        , `date_modified`
                        , `org_id`
                        , `uuid`
                        , `app_id`
                        , `active`
                        , `date_created`
                        , `type`
                        , `description`
                    )
                    VALUES
                    (
                        in_status
                        , in_code
                        , in_display_name
                        , in_name
                        , in_date_modified
                        , in_org_id
                        , in_uuid
                        , in_app_id
                        , in_active
                        , in_date_created
                        , in_type
                        , in_description
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_set_org_id`;
delimiter $$
CREATE PROCEDURE `usp_game_set_org_id`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_code VARCHAR (255) 
    , in_display_name VARCHAR (255) 
    , in_name VARCHAR (255) 
    , in_date_modified TIMESTAMP 
    , in_org_id BINARY(16) 
    , in_uuid BINARY(16) 
    , in_app_id BINARY(16) 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (500) 
    , in_description VARCHAR (255) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game`  
                    WHERE 1=1
                    AND `org_id` = in_org_id
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game` 
                    SET
                        `status` = in_status
                        , `code` = in_code
                        , `display_name` = in_display_name
                        , `name` = in_name
                        , `date_modified` = in_date_modified
                        , `org_id` = in_org_id
                        , `uuid` = in_uuid
                        , `app_id` = in_app_id
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `type` = in_type
                        , `description` = in_description
                    WHERE 1=1
                    AND `org_id` = in_org_id
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game`
                    (
                        `status`
                        , `code`
                        , `display_name`
                        , `name`
                        , `date_modified`
                        , `org_id`
                        , `uuid`
                        , `app_id`
                        , `active`
                        , `date_created`
                        , `type`
                        , `description`
                    )
                    VALUES
                    (
                        in_status
                        , in_code
                        , in_display_name
                        , in_name
                        , in_date_modified
                        , in_org_id
                        , in_uuid
                        , in_app_id
                        , in_active
                        , in_date_created
                        , in_type
                        , in_description
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_set_app_id`;
delimiter $$
CREATE PROCEDURE `usp_game_set_app_id`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_code VARCHAR (255) 
    , in_display_name VARCHAR (255) 
    , in_name VARCHAR (255) 
    , in_date_modified TIMESTAMP 
    , in_org_id BINARY(16) 
    , in_uuid BINARY(16) 
    , in_app_id BINARY(16) 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (500) 
    , in_description VARCHAR (255) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game`  
                    WHERE 1=1
                    AND `app_id` = in_app_id
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game` 
                    SET
                        `status` = in_status
                        , `code` = in_code
                        , `display_name` = in_display_name
                        , `name` = in_name
                        , `date_modified` = in_date_modified
                        , `org_id` = in_org_id
                        , `uuid` = in_uuid
                        , `app_id` = in_app_id
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `type` = in_type
                        , `description` = in_description
                    WHERE 1=1
                    AND `app_id` = in_app_id
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game`
                    (
                        `status`
                        , `code`
                        , `display_name`
                        , `name`
                        , `date_modified`
                        , `org_id`
                        , `uuid`
                        , `app_id`
                        , `active`
                        , `date_created`
                        , `type`
                        , `description`
                    )
                    VALUES
                    (
                        in_status
                        , in_code
                        , in_display_name
                        , in_name
                        , in_date_modified
                        , in_org_id
                        , in_uuid
                        , in_app_id
                        , in_active
                        , in_date_created
                        , in_type
                        , in_description
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_set_org_id_app_id`;
delimiter $$
CREATE PROCEDURE `usp_game_set_org_id_app_id`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_code VARCHAR (255) 
    , in_display_name VARCHAR (255) 
    , in_name VARCHAR (255) 
    , in_date_modified TIMESTAMP 
    , in_org_id BINARY(16) 
    , in_uuid BINARY(16) 
    , in_app_id BINARY(16) 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (500) 
    , in_description VARCHAR (255) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game`  
                    WHERE 1=1
                    AND `org_id` = in_org_id
                    AND `app_id` = in_app_id
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game` 
                    SET
                        `status` = in_status
                        , `code` = in_code
                        , `display_name` = in_display_name
                        , `name` = in_name
                        , `date_modified` = in_date_modified
                        , `org_id` = in_org_id
                        , `uuid` = in_uuid
                        , `app_id` = in_app_id
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `type` = in_type
                        , `description` = in_description
                    WHERE 1=1
                    AND `org_id` = in_org_id
                    AND `app_id` = in_app_id
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game`
                    (
                        `status`
                        , `code`
                        , `display_name`
                        , `name`
                        , `date_modified`
                        , `org_id`
                        , `uuid`
                        , `app_id`
                        , `active`
                        , `date_created`
                        , `type`
                        , `description`
                    )
                    VALUES
                    (
                        in_status
                        , in_code
                        , in_display_name
                        , in_name
                        , in_date_modified
                        , in_org_id
                        , in_uuid
                        , in_app_id
                        , in_active
                        , in_date_created
                        , in_type
                        , in_description
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

-- ------------------------------------
-- DEL

-- ------------------------------------
-- MODEL: Game - game

                       
DROP PROCEDURE IF EXISTS `usp_game_del_uuid`;

delimiter $$
CREATE PROCEDURE `usp_game_del_uuid`
(
    in_uuid BINARY(16) 
)

BEGIN
    DELETE 
    FROM `game`
    WHERE 1=1                        
    AND "uuid" = in_uuid
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_game_del_code`;

delimiter $$
CREATE PROCEDURE `usp_game_del_code`
(
    in_code VARCHAR (255) 
)

BEGIN
    DELETE 
    FROM `game`
    WHERE 1=1                        
    AND lower("code") = lower(in_code)
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_game_del_name`;

delimiter $$
CREATE PROCEDURE `usp_game_del_name`
(
    in_name VARCHAR (255) 
)

BEGIN
    DELETE 
    FROM `game`
    WHERE 1=1                        
    AND lower("name") = lower(in_name)
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_game_del_org_id`;

delimiter $$
CREATE PROCEDURE `usp_game_del_org_id`
(
    in_org_id BINARY(16) 
)

BEGIN
    DELETE 
    FROM `game`
    WHERE 1=1                        
    AND "org_id" = in_org_id
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_game_del_app_id`;

delimiter $$
CREATE PROCEDURE `usp_game_del_app_id`
(
    in_app_id BINARY(16) 
)

BEGIN
    DELETE 
    FROM `game`
    WHERE 1=1                        
    AND "app_id" = in_app_id
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_game_del_org_id_app_id`;

delimiter $$
CREATE PROCEDURE `usp_game_del_org_id_app_id`
(
    in_org_id BINARY(16) 
    , in_app_id BINARY(16) 
)

BEGIN
    DELETE 
    FROM `game`
    WHERE 1=1                        
    AND "org_id" = in_org_id
    AND "app_id" = in_app_id
    ;
END$$
delimiter ;
-- ------------------------------------
-- GET

-- ------------------------------------
-- MODEL: Game - game

                       
DROP PROCEDURE IF EXISTS `usp_game_get`;

delimiter $$
CREATE PROCEDURE `usp_game_get`
(
)                        
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `org_id`
        , `uuid`
        , `app_id`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `game`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_get_uuid`;

delimiter $$
CREATE PROCEDURE `usp_game_get_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `org_id`
        , `uuid`
        , `app_id`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `game`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_get_code`;

delimiter $$
CREATE PROCEDURE `usp_game_get_code`
(
    in_code VARCHAR (255) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `org_id`
        , `uuid`
        , `app_id`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `game`
    WHERE 1=1
    AND lower(`code`) = lower(in_code)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_get_name`;

delimiter $$
CREATE PROCEDURE `usp_game_get_name`
(
    in_name VARCHAR (255) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `org_id`
        , `uuid`
        , `app_id`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `game`
    WHERE 1=1
    AND lower(`name`) = lower(in_name)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_get_org_id`;

delimiter $$
CREATE PROCEDURE `usp_game_get_org_id`
(
    in_org_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `org_id`
        , `uuid`
        , `app_id`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `game`
    WHERE 1=1
    AND `org_id` = in_org_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_get_app_id`;

delimiter $$
CREATE PROCEDURE `usp_game_get_app_id`
(
    in_app_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `org_id`
        , `uuid`
        , `app_id`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `game`
    WHERE 1=1
    AND `app_id` = in_app_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_get_org_id_app_id`;

delimiter $$
CREATE PROCEDURE `usp_game_get_org_id_app_id`
(
    in_org_id BINARY(16) 
    , in_app_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `org_id`
        , `uuid`
        , `app_id`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `game`
    WHERE 1=1
    AND `org_id` = in_org_id
    AND `app_id` = in_app_id
    ;
END$$
delimiter ;

-- -----------------------------------------------------------------------------
-- PROCS

-- ------------------------------------
-- COUNT

-- ------------------------------------
-- MODEL: GameCategory - game_category

                       
DROP PROCEDURE IF EXISTS `usp_game_category_count`;
delimiter $$
CREATE PROCEDURE `usp_game_category_count`
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_category`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_category_count_uuid`;
delimiter $$
CREATE PROCEDURE `usp_game_category_count_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_category`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_category_count_code`;
delimiter $$
CREATE PROCEDURE `usp_game_category_count_code`
(
    in_code VARCHAR (255) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_category`
    WHERE 1=1
    AND lower(`code`) = lower(in_code)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_category_count_name`;
delimiter $$
CREATE PROCEDURE `usp_game_category_count_name`
(
    in_name VARCHAR (255) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_category`
    WHERE 1=1
    AND lower(`name`) = lower(in_name)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_category_count_org_id`;
delimiter $$
CREATE PROCEDURE `usp_game_category_count_org_id`
(
    in_org_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_category`
    WHERE 1=1
    AND `org_id` = in_org_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_category_count_type_id`;
delimiter $$
CREATE PROCEDURE `usp_game_category_count_type_id`
(
    in_type_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_category`
    WHERE 1=1
    AND `type_id` = in_type_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_category_count_org_id_type_id`;
delimiter $$
CREATE PROCEDURE `usp_game_category_count_org_id_type_id`
(
    in_org_id BINARY(16) 
    , in_type_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_category`
    WHERE 1=1
    AND `org_id` = in_org_id
    AND `type_id` = in_type_id
    ;
END$$
delimiter ;

-- ------------------------------------
-- BROWSE

-- ------------------------------------
-- MODEL: GameCategory - game_category

                       
DROP PROCEDURE IF EXISTS `usp_game_category_browse_filter`;

delimiter $$
CREATE PROCEDURE `usp_game_category_browse_filter`
(
    in_page int,
    in_page_size int,
    in_sort VARCHAR(500),
    in_filter VARCHAR(4000)
    
)
BEGIN
    DECLARE total_rows int;
    SET total_rows = 0;
        
    IF (in_page = 0) THEN
        SET in_page = 1;
    END IF;    
    
    IF (in_page_size = 0) THEN
       SET in_page_size = 10;
    END IF;
    
    IF (in_sort = NULL || in_sort = '') THEN
       SET in_sort = ' date_modified ASC ';
    END IF;
    
    SET @sfields = CONCAT('', '`status`');
    SET @sfields = CONCAT(@sfields, ', `code`');
    SET @sfields = CONCAT(@sfields, ', `display_name`');
    SET @sfields = CONCAT(@sfields, ', `name`');
    SET @sfields = CONCAT(@sfields, ', `date_modified`');
    SET @sfields = CONCAT(@sfields, ', `type_id`');
    SET @sfields = CONCAT(@sfields, ', `org_id`');
    SET @sfields = CONCAT(@sfields, ', `uuid`');
    SET @sfields = CONCAT(@sfields, ', `active`');
    SET @sfields = CONCAT(@sfields, ', `date_created`');
    SET @sfields = CONCAT(@sfields, ', `type`');
    SET @sfields = CONCAT(@sfields, ', `description`');
    
    SET @stable = CONCAT('', ' FROM `game_category` WHERE 1=1 ');
    
    SET @s = CONCAT(' ', @stable);
    SET @s = CONCAT(@s, ' ', in_filter);    
    
    SET @scount = CONCAT('SELECT COUNT(*) as `total_rows` ', @s, ' INTO @total_rows');
    
    PREPARE stmtcount FROM @scount;
    EXECUTE stmtcount;
    #SELECT @total_rows;
    SET total_rows = @total_rows;

    SET @sfields = CONCAT(total_rows, ' as `total_rows`, ', @sfields);
    SET @s = CONCAT('SELECT ', @sfields, @s);
    SET @s = CONCAT(@s, ' ORDER BY ', in_sort);
    SET @s = CONCAT(@s, ' LIMIT ', in_page);
    SET @s = CONCAT(@s, ',', in_page_size);    

    PREPARE stmt FROM @s;
    EXECUTE stmt;
    
END$$
delimiter ;
-- ------------------------------------
-- SET

-- ------------------------------------
-- MODEL: GameCategory - game_category

                       
DROP PROCEDURE IF EXISTS `usp_game_category_set_uuid`;
delimiter $$
CREATE PROCEDURE `usp_game_category_set_uuid`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_code VARCHAR (255) 
    , in_display_name VARCHAR (255) 
    , in_name VARCHAR (255) 
    , in_date_modified TIMESTAMP 
    , in_type_id BINARY(16) 
    , in_org_id BINARY(16) 
    , in_uuid BINARY(16) 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (500) 
    , in_description VARCHAR (255) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_category`  
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_category` 
                    SET
                        `status` = in_status
                        , `code` = in_code
                        , `display_name` = in_display_name
                        , `name` = in_name
                        , `date_modified` = in_date_modified
                        , `type_id` = in_type_id
                        , `org_id` = in_org_id
                        , `uuid` = in_uuid
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `type` = in_type
                        , `description` = in_description
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_category`
                    (
                        `status`
                        , `code`
                        , `display_name`
                        , `name`
                        , `date_modified`
                        , `type_id`
                        , `org_id`
                        , `uuid`
                        , `active`
                        , `date_created`
                        , `type`
                        , `description`
                    )
                    VALUES
                    (
                        in_status
                        , in_code
                        , in_display_name
                        , in_name
                        , in_date_modified
                        , in_type_id
                        , in_org_id
                        , in_uuid
                        , in_active
                        , in_date_created
                        , in_type
                        , in_description
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

-- ------------------------------------
-- DEL

-- ------------------------------------
-- MODEL: GameCategory - game_category

                       
DROP PROCEDURE IF EXISTS `usp_game_category_del_uuid`;

delimiter $$
CREATE PROCEDURE `usp_game_category_del_uuid`
(
    in_uuid BINARY(16) 
)

BEGIN
    DELETE 
    FROM `game_category`
    WHERE 1=1                        
    AND "uuid" = in_uuid
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_game_category_del_code_org_id`;

delimiter $$
CREATE PROCEDURE `usp_game_category_del_code_org_id`
(
    in_code VARCHAR (255) 
    , in_org_id BINARY(16) 
)

BEGIN
    DELETE 
    FROM `game_category`
    WHERE 1=1                        
    AND lower("code") = lower(in_code)
    AND "org_id" = in_org_id
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_game_category_del_code_org_id_type_id`;

delimiter $$
CREATE PROCEDURE `usp_game_category_del_code_org_id_type_id`
(
    in_code VARCHAR (255) 
    , in_org_id BINARY(16) 
    , in_type_id BINARY(16) 
)

BEGIN
    DELETE 
    FROM `game_category`
    WHERE 1=1                        
    AND lower("code") = lower(in_code)
    AND "org_id" = in_org_id
    AND "type_id" = in_type_id
    ;
END$$
delimiter ;
-- ------------------------------------
-- GET

-- ------------------------------------
-- MODEL: GameCategory - game_category

                       
DROP PROCEDURE IF EXISTS `usp_game_category_get`;

delimiter $$
CREATE PROCEDURE `usp_game_category_get`
(
)                        
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `type_id`
        , `org_id`
        , `uuid`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `game_category`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_category_get_uuid`;

delimiter $$
CREATE PROCEDURE `usp_game_category_get_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `type_id`
        , `org_id`
        , `uuid`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `game_category`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_category_get_code`;

delimiter $$
CREATE PROCEDURE `usp_game_category_get_code`
(
    in_code VARCHAR (255) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `type_id`
        , `org_id`
        , `uuid`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `game_category`
    WHERE 1=1
    AND lower(`code`) = lower(in_code)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_category_get_name`;

delimiter $$
CREATE PROCEDURE `usp_game_category_get_name`
(
    in_name VARCHAR (255) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `type_id`
        , `org_id`
        , `uuid`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `game_category`
    WHERE 1=1
    AND lower(`name`) = lower(in_name)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_category_get_org_id`;

delimiter $$
CREATE PROCEDURE `usp_game_category_get_org_id`
(
    in_org_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `type_id`
        , `org_id`
        , `uuid`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `game_category`
    WHERE 1=1
    AND `org_id` = in_org_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_category_get_type_id`;

delimiter $$
CREATE PROCEDURE `usp_game_category_get_type_id`
(
    in_type_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `type_id`
        , `org_id`
        , `uuid`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `game_category`
    WHERE 1=1
    AND `type_id` = in_type_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_category_get_org_id_type_id`;

delimiter $$
CREATE PROCEDURE `usp_game_category_get_org_id_type_id`
(
    in_org_id BINARY(16) 
    , in_type_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `type_id`
        , `org_id`
        , `uuid`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `game_category`
    WHERE 1=1
    AND `org_id` = in_org_id
    AND `type_id` = in_type_id
    ;
END$$
delimiter ;

-- -----------------------------------------------------------------------------
-- PROCS

-- ------------------------------------
-- COUNT

-- ------------------------------------
-- MODEL: GameCategoryTree - game_category_tree

                       
DROP PROCEDURE IF EXISTS `usp_game_category_tree_count`;
delimiter $$
CREATE PROCEDURE `usp_game_category_tree_count`
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_category_tree`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_category_tree_count_uuid`;
delimiter $$
CREATE PROCEDURE `usp_game_category_tree_count_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_category_tree`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_category_tree_count_parent_id`;
delimiter $$
CREATE PROCEDURE `usp_game_category_tree_count_parent_id`
(
    in_parent_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_category_tree`
    WHERE 1=1
    AND `parent_id` = in_parent_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_category_tree_count_category_id`;
delimiter $$
CREATE PROCEDURE `usp_game_category_tree_count_category_id`
(
    in_category_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_category_tree`
    WHERE 1=1
    AND `category_id` = in_category_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_category_tree_count_parent_id_category_id`;
delimiter $$
CREATE PROCEDURE `usp_game_category_tree_count_parent_id_category_id`
(
    in_parent_id BINARY(16) 
    , in_category_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_category_tree`
    WHERE 1=1
    AND `parent_id` = in_parent_id
    AND `category_id` = in_category_id
    ;
END$$
delimiter ;

-- ------------------------------------
-- BROWSE

-- ------------------------------------
-- MODEL: GameCategoryTree - game_category_tree

                       
DROP PROCEDURE IF EXISTS `usp_game_category_tree_browse_filter`;

delimiter $$
CREATE PROCEDURE `usp_game_category_tree_browse_filter`
(
    in_page int,
    in_page_size int,
    in_sort VARCHAR(500),
    in_filter VARCHAR(4000)
    
)
BEGIN
    DECLARE total_rows int;
    SET total_rows = 0;
        
    IF (in_page = 0) THEN
        SET in_page = 1;
    END IF;    
    
    IF (in_page_size = 0) THEN
       SET in_page_size = 10;
    END IF;
    
    IF (in_sort = NULL || in_sort = '') THEN
       SET in_sort = ' date_modified ASC ';
    END IF;
    
    SET @sfields = CONCAT('', '`status`');
    SET @sfields = CONCAT(@sfields, ', `parent_id`');
    SET @sfields = CONCAT(@sfields, ', `uuid`');
    SET @sfields = CONCAT(@sfields, ', `date_modified`');
    SET @sfields = CONCAT(@sfields, ', `active`');
    SET @sfields = CONCAT(@sfields, ', `date_created`');
    SET @sfields = CONCAT(@sfields, ', `category_id`');
    SET @sfields = CONCAT(@sfields, ', `type`');
    
    SET @stable = CONCAT('', ' FROM `game_category_tree` WHERE 1=1 ');
    
    SET @s = CONCAT(' ', @stable);
    SET @s = CONCAT(@s, ' ', in_filter);    
    
    SET @scount = CONCAT('SELECT COUNT(*) as `total_rows` ', @s, ' INTO @total_rows');
    
    PREPARE stmtcount FROM @scount;
    EXECUTE stmtcount;
    #SELECT @total_rows;
    SET total_rows = @total_rows;

    SET @sfields = CONCAT(total_rows, ' as `total_rows`, ', @sfields);
    SET @s = CONCAT('SELECT ', @sfields, @s);
    SET @s = CONCAT(@s, ' ORDER BY ', in_sort);
    SET @s = CONCAT(@s, ' LIMIT ', in_page);
    SET @s = CONCAT(@s, ',', in_page_size);    

    PREPARE stmt FROM @s;
    EXECUTE stmt;
    
END$$
delimiter ;
-- ------------------------------------
-- SET

-- ------------------------------------
-- MODEL: GameCategoryTree - game_category_tree

                       
DROP PROCEDURE IF EXISTS `usp_game_category_tree_set_uuid`;
delimiter $$
CREATE PROCEDURE `usp_game_category_tree_set_uuid`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_parent_id BINARY(16) 
    , in_uuid BINARY(16) 
    , in_date_modified TIMESTAMP 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_category_id BINARY(16) 
    , in_type VARCHAR (500) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_category_tree`  
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_category_tree` 
                    SET
                        `status` = in_status
                        , `parent_id` = in_parent_id
                        , `uuid` = in_uuid
                        , `date_modified` = in_date_modified
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `category_id` = in_category_id
                        , `type` = in_type
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_category_tree`
                    (
                        `status`
                        , `parent_id`
                        , `uuid`
                        , `date_modified`
                        , `active`
                        , `date_created`
                        , `category_id`
                        , `type`
                    )
                    VALUES
                    (
                        in_status
                        , in_parent_id
                        , in_uuid
                        , in_date_modified
                        , in_active
                        , in_date_created
                        , in_category_id
                        , in_type
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

-- ------------------------------------
-- DEL

-- ------------------------------------
-- MODEL: GameCategoryTree - game_category_tree

                       
DROP PROCEDURE IF EXISTS `usp_game_category_tree_del_uuid`;

delimiter $$
CREATE PROCEDURE `usp_game_category_tree_del_uuid`
(
    in_uuid BINARY(16) 
)

BEGIN
    DELETE 
    FROM `game_category_tree`
    WHERE 1=1                        
    AND "uuid" = in_uuid
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_game_category_tree_del_parent_id`;

delimiter $$
CREATE PROCEDURE `usp_game_category_tree_del_parent_id`
(
    in_parent_id BINARY(16) 
)

BEGIN
    DELETE 
    FROM `game_category_tree`
    WHERE 1=1                        
    AND "parent_id" = in_parent_id
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_game_category_tree_del_category_id`;

delimiter $$
CREATE PROCEDURE `usp_game_category_tree_del_category_id`
(
    in_category_id BINARY(16) 
)

BEGIN
    DELETE 
    FROM `game_category_tree`
    WHERE 1=1                        
    AND "category_id" = in_category_id
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_game_category_tree_del_parent_id_category_id`;

delimiter $$
CREATE PROCEDURE `usp_game_category_tree_del_parent_id_category_id`
(
    in_parent_id BINARY(16) 
    , in_category_id BINARY(16) 
)

BEGIN
    DELETE 
    FROM `game_category_tree`
    WHERE 1=1                        
    AND "parent_id" = in_parent_id
    AND "category_id" = in_category_id
    ;
END$$
delimiter ;
-- ------------------------------------
-- GET

-- ------------------------------------
-- MODEL: GameCategoryTree - game_category_tree

                       
DROP PROCEDURE IF EXISTS `usp_game_category_tree_get`;

delimiter $$
CREATE PROCEDURE `usp_game_category_tree_get`
(
)                        
BEGIN
    SELECT
        `status`
        , `parent_id`
        , `uuid`
        , `date_modified`
        , `active`
        , `date_created`
        , `category_id`
        , `type`
    FROM `game_category_tree`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_category_tree_get_uuid`;

delimiter $$
CREATE PROCEDURE `usp_game_category_tree_get_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `parent_id`
        , `uuid`
        , `date_modified`
        , `active`
        , `date_created`
        , `category_id`
        , `type`
    FROM `game_category_tree`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_category_tree_get_parent_id`;

delimiter $$
CREATE PROCEDURE `usp_game_category_tree_get_parent_id`
(
    in_parent_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `parent_id`
        , `uuid`
        , `date_modified`
        , `active`
        , `date_created`
        , `category_id`
        , `type`
    FROM `game_category_tree`
    WHERE 1=1
    AND `parent_id` = in_parent_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_category_tree_get_category_id`;

delimiter $$
CREATE PROCEDURE `usp_game_category_tree_get_category_id`
(
    in_category_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `parent_id`
        , `uuid`
        , `date_modified`
        , `active`
        , `date_created`
        , `category_id`
        , `type`
    FROM `game_category_tree`
    WHERE 1=1
    AND `category_id` = in_category_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_category_tree_get_parent_id_category_id`;

delimiter $$
CREATE PROCEDURE `usp_game_category_tree_get_parent_id_category_id`
(
    in_parent_id BINARY(16) 
    , in_category_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `parent_id`
        , `uuid`
        , `date_modified`
        , `active`
        , `date_created`
        , `category_id`
        , `type`
    FROM `game_category_tree`
    WHERE 1=1
    AND `parent_id` = in_parent_id
    AND `category_id` = in_category_id
    ;
END$$
delimiter ;

-- -----------------------------------------------------------------------------
-- PROCS

-- ------------------------------------
-- COUNT

-- ------------------------------------
-- MODEL: GameCategoryAssoc - game_category_assoc

                       
DROP PROCEDURE IF EXISTS `usp_game_category_assoc_count`;
delimiter $$
CREATE PROCEDURE `usp_game_category_assoc_count`
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_category_assoc`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_category_assoc_count_uuid`;
delimiter $$
CREATE PROCEDURE `usp_game_category_assoc_count_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_category_assoc`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_category_assoc_count_game_id`;
delimiter $$
CREATE PROCEDURE `usp_game_category_assoc_count_game_id`
(
    in_game_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_category_assoc`
    WHERE 1=1
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_category_assoc_count_category_id`;
delimiter $$
CREATE PROCEDURE `usp_game_category_assoc_count_category_id`
(
    in_category_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_category_assoc`
    WHERE 1=1
    AND `category_id` = in_category_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_category_assoc_count_game_id_category_id`;
delimiter $$
CREATE PROCEDURE `usp_game_category_assoc_count_game_id_category_id`
(
    in_game_id BINARY(16) 
    , in_category_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_category_assoc`
    WHERE 1=1
    AND `game_id` = in_game_id
    AND `category_id` = in_category_id
    ;
END$$
delimiter ;

-- ------------------------------------
-- BROWSE

-- ------------------------------------
-- MODEL: GameCategoryAssoc - game_category_assoc

                       
DROP PROCEDURE IF EXISTS `usp_game_category_assoc_browse_filter`;

delimiter $$
CREATE PROCEDURE `usp_game_category_assoc_browse_filter`
(
    in_page int,
    in_page_size int,
    in_sort VARCHAR(500),
    in_filter VARCHAR(4000)
    
)
BEGIN
    DECLARE total_rows int;
    SET total_rows = 0;
        
    IF (in_page = 0) THEN
        SET in_page = 1;
    END IF;    
    
    IF (in_page_size = 0) THEN
       SET in_page_size = 10;
    END IF;
    
    IF (in_sort = NULL || in_sort = '') THEN
       SET in_sort = ' date_modified ASC ';
    END IF;
    
    SET @sfields = CONCAT('', '`status`');
    SET @sfields = CONCAT(@sfields, ', `uuid`');
    SET @sfields = CONCAT(@sfields, ', `date_modified`');
    SET @sfields = CONCAT(@sfields, ', `active`');
    SET @sfields = CONCAT(@sfields, ', `date_created`');
    SET @sfields = CONCAT(@sfields, ', `game_id`');
    SET @sfields = CONCAT(@sfields, ', `category_id`');
    SET @sfields = CONCAT(@sfields, ', `type`');
    
    SET @stable = CONCAT('', ' FROM `game_category_assoc` WHERE 1=1 ');
    
    SET @s = CONCAT(' ', @stable);
    SET @s = CONCAT(@s, ' ', in_filter);    
    
    SET @scount = CONCAT('SELECT COUNT(*) as `total_rows` ', @s, ' INTO @total_rows');
    
    PREPARE stmtcount FROM @scount;
    EXECUTE stmtcount;
    #SELECT @total_rows;
    SET total_rows = @total_rows;

    SET @sfields = CONCAT(total_rows, ' as `total_rows`, ', @sfields);
    SET @s = CONCAT('SELECT ', @sfields, @s);
    SET @s = CONCAT(@s, ' ORDER BY ', in_sort);
    SET @s = CONCAT(@s, ' LIMIT ', in_page);
    SET @s = CONCAT(@s, ',', in_page_size);    

    PREPARE stmt FROM @s;
    EXECUTE stmt;
    
END$$
delimiter ;
-- ------------------------------------
-- SET

-- ------------------------------------
-- MODEL: GameCategoryAssoc - game_category_assoc

                       
DROP PROCEDURE IF EXISTS `usp_game_category_assoc_set_uuid`;
delimiter $$
CREATE PROCEDURE `usp_game_category_assoc_set_uuid`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_uuid BINARY(16) 
    , in_date_modified TIMESTAMP 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_game_id BINARY(16) 
    , in_category_id BINARY(16) 
    , in_type VARCHAR (500) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_category_assoc`  
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_category_assoc` 
                    SET
                        `status` = in_status
                        , `uuid` = in_uuid
                        , `date_modified` = in_date_modified
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `game_id` = in_game_id
                        , `category_id` = in_category_id
                        , `type` = in_type
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_category_assoc`
                    (
                        `status`
                        , `uuid`
                        , `date_modified`
                        , `active`
                        , `date_created`
                        , `game_id`
                        , `category_id`
                        , `type`
                    )
                    VALUES
                    (
                        in_status
                        , in_uuid
                        , in_date_modified
                        , in_active
                        , in_date_created
                        , in_game_id
                        , in_category_id
                        , in_type
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

-- ------------------------------------
-- DEL

-- ------------------------------------
-- MODEL: GameCategoryAssoc - game_category_assoc

                       
DROP PROCEDURE IF EXISTS `usp_game_category_assoc_del_uuid`;

delimiter $$
CREATE PROCEDURE `usp_game_category_assoc_del_uuid`
(
    in_uuid BINARY(16) 
)

BEGIN
    DELETE 
    FROM `game_category_assoc`
    WHERE 1=1                        
    AND "uuid" = in_uuid
    ;
END$$
delimiter ;
-- ------------------------------------
-- GET

-- ------------------------------------
-- MODEL: GameCategoryAssoc - game_category_assoc

                       
DROP PROCEDURE IF EXISTS `usp_game_category_assoc_get`;

delimiter $$
CREATE PROCEDURE `usp_game_category_assoc_get`
(
)                        
BEGIN
    SELECT
        `status`
        , `uuid`
        , `date_modified`
        , `active`
        , `date_created`
        , `game_id`
        , `category_id`
        , `type`
    FROM `game_category_assoc`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_category_assoc_get_uuid`;

delimiter $$
CREATE PROCEDURE `usp_game_category_assoc_get_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `uuid`
        , `date_modified`
        , `active`
        , `date_created`
        , `game_id`
        , `category_id`
        , `type`
    FROM `game_category_assoc`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_category_assoc_get_game_id`;

delimiter $$
CREATE PROCEDURE `usp_game_category_assoc_get_game_id`
(
    in_game_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `uuid`
        , `date_modified`
        , `active`
        , `date_created`
        , `game_id`
        , `category_id`
        , `type`
    FROM `game_category_assoc`
    WHERE 1=1
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_category_assoc_get_category_id`;

delimiter $$
CREATE PROCEDURE `usp_game_category_assoc_get_category_id`
(
    in_category_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `uuid`
        , `date_modified`
        , `active`
        , `date_created`
        , `game_id`
        , `category_id`
        , `type`
    FROM `game_category_assoc`
    WHERE 1=1
    AND `category_id` = in_category_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_category_assoc_get_game_id_category_id`;

delimiter $$
CREATE PROCEDURE `usp_game_category_assoc_get_game_id_category_id`
(
    in_game_id BINARY(16) 
    , in_category_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `uuid`
        , `date_modified`
        , `active`
        , `date_created`
        , `game_id`
        , `category_id`
        , `type`
    FROM `game_category_assoc`
    WHERE 1=1
    AND `game_id` = in_game_id
    AND `category_id` = in_category_id
    ;
END$$
delimiter ;

-- -----------------------------------------------------------------------------
-- PROCS

-- ------------------------------------
-- COUNT

-- ------------------------------------
-- MODEL: GameType - game_type

                       
DROP PROCEDURE IF EXISTS `usp_game_type_count`;
delimiter $$
CREATE PROCEDURE `usp_game_type_count`
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_type`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_type_count_uuid`;
delimiter $$
CREATE PROCEDURE `usp_game_type_count_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_type`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_type_count_code`;
delimiter $$
CREATE PROCEDURE `usp_game_type_count_code`
(
    in_code VARCHAR (255) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_type`
    WHERE 1=1
    AND lower(`code`) = lower(in_code)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_type_count_name`;
delimiter $$
CREATE PROCEDURE `usp_game_type_count_name`
(
    in_name VARCHAR (255) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_type`
    WHERE 1=1
    AND lower(`name`) = lower(in_name)
    ;
END$$
delimiter ;

-- ------------------------------------
-- BROWSE

-- ------------------------------------
-- MODEL: GameType - game_type

                       
DROP PROCEDURE IF EXISTS `usp_game_type_browse_filter`;

delimiter $$
CREATE PROCEDURE `usp_game_type_browse_filter`
(
    in_page int,
    in_page_size int,
    in_sort VARCHAR(500),
    in_filter VARCHAR(4000)
    
)
BEGIN
    DECLARE total_rows int;
    SET total_rows = 0;
        
    IF (in_page = 0) THEN
        SET in_page = 1;
    END IF;    
    
    IF (in_page_size = 0) THEN
       SET in_page_size = 10;
    END IF;
    
    IF (in_sort = NULL || in_sort = '') THEN
       SET in_sort = ' date_modified ASC ';
    END IF;
    
    SET @sfields = CONCAT('', '`status`');
    SET @sfields = CONCAT(@sfields, ', `code`');
    SET @sfields = CONCAT(@sfields, ', `display_name`');
    SET @sfields = CONCAT(@sfields, ', `name`');
    SET @sfields = CONCAT(@sfields, ', `date_modified`');
    SET @sfields = CONCAT(@sfields, ', `uuid`');
    SET @sfields = CONCAT(@sfields, ', `active`');
    SET @sfields = CONCAT(@sfields, ', `date_created`');
    SET @sfields = CONCAT(@sfields, ', `type`');
    SET @sfields = CONCAT(@sfields, ', `description`');
    
    SET @stable = CONCAT('', ' FROM `game_type` WHERE 1=1 ');
    
    SET @s = CONCAT(' ', @stable);
    SET @s = CONCAT(@s, ' ', in_filter);    
    
    SET @scount = CONCAT('SELECT COUNT(*) as `total_rows` ', @s, ' INTO @total_rows');
    
    PREPARE stmtcount FROM @scount;
    EXECUTE stmtcount;
    #SELECT @total_rows;
    SET total_rows = @total_rows;

    SET @sfields = CONCAT(total_rows, ' as `total_rows`, ', @sfields);
    SET @s = CONCAT('SELECT ', @sfields, @s);
    SET @s = CONCAT(@s, ' ORDER BY ', in_sort);
    SET @s = CONCAT(@s, ' LIMIT ', in_page);
    SET @s = CONCAT(@s, ',', in_page_size);    

    PREPARE stmt FROM @s;
    EXECUTE stmt;
    
END$$
delimiter ;
-- ------------------------------------
-- SET

-- ------------------------------------
-- MODEL: GameType - game_type

                       
DROP PROCEDURE IF EXISTS `usp_game_type_set_uuid`;
delimiter $$
CREATE PROCEDURE `usp_game_type_set_uuid`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_code VARCHAR (255) 
    , in_display_name VARCHAR (255) 
    , in_name VARCHAR (255) 
    , in_date_modified TIMESTAMP 
    , in_uuid BINARY(16) 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (50) 
    , in_description VARCHAR (255) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_type`  
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_type` 
                    SET
                        `status` = in_status
                        , `code` = in_code
                        , `display_name` = in_display_name
                        , `name` = in_name
                        , `date_modified` = in_date_modified
                        , `uuid` = in_uuid
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `type` = in_type
                        , `description` = in_description
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_type`
                    (
                        `status`
                        , `code`
                        , `display_name`
                        , `name`
                        , `date_modified`
                        , `uuid`
                        , `active`
                        , `date_created`
                        , `type`
                        , `description`
                    )
                    VALUES
                    (
                        in_status
                        , in_code
                        , in_display_name
                        , in_name
                        , in_date_modified
                        , in_uuid
                        , in_active
                        , in_date_created
                        , in_type
                        , in_description
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

-- ------------------------------------
-- DEL

-- ------------------------------------
-- MODEL: GameType - game_type

                       
DROP PROCEDURE IF EXISTS `usp_game_type_del_uuid`;

delimiter $$
CREATE PROCEDURE `usp_game_type_del_uuid`
(
    in_uuid BINARY(16) 
)

BEGIN
    DELETE 
    FROM `game_type`
    WHERE 1=1                        
    AND "uuid" = in_uuid
    ;
END$$
delimiter ;
-- ------------------------------------
-- GET

-- ------------------------------------
-- MODEL: GameType - game_type

                       
DROP PROCEDURE IF EXISTS `usp_game_type_get`;

delimiter $$
CREATE PROCEDURE `usp_game_type_get`
(
)                        
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `uuid`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `game_type`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_type_get_uuid`;

delimiter $$
CREATE PROCEDURE `usp_game_type_get_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `uuid`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `game_type`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_type_get_code`;

delimiter $$
CREATE PROCEDURE `usp_game_type_get_code`
(
    in_code VARCHAR (255) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `uuid`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `game_type`
    WHERE 1=1
    AND lower(`code`) = lower(in_code)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_type_get_name`;

delimiter $$
CREATE PROCEDURE `usp_game_type_get_name`
(
    in_name VARCHAR (255) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `uuid`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `game_type`
    WHERE 1=1
    AND lower(`name`) = lower(in_name)
    ;
END$$
delimiter ;

-- -----------------------------------------------------------------------------
-- PROCS

-- ------------------------------------
-- COUNT

-- ------------------------------------
-- MODEL: ProfileGame - profile_game

                       
DROP PROCEDURE IF EXISTS `usp_profile_game_count`;
delimiter $$
CREATE PROCEDURE `usp_profile_game_count`
BEGIN
    SELECT
        COUNT(*) as count
    FROM `profile_game`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_game_count_uuid`;
delimiter $$
CREATE PROCEDURE `usp_profile_game_count_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `profile_game`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_game_count_game_id`;
delimiter $$
CREATE PROCEDURE `usp_profile_game_count_game_id`
(
    in_game_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `profile_game`
    WHERE 1=1
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_game_count_profile_id`;
delimiter $$
CREATE PROCEDURE `usp_profile_game_count_profile_id`
(
    in_profile_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `profile_game`
    WHERE 1=1
    AND `profile_id` = in_profile_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_game_count_profile_id_game_id`;
delimiter $$
CREATE PROCEDURE `usp_profile_game_count_profile_id_game_id`
(
    in_profile_id BINARY(16) 
    , in_game_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `profile_game`
    WHERE 1=1
    AND `profile_id` = in_profile_id
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

-- ------------------------------------
-- BROWSE

-- ------------------------------------
-- MODEL: ProfileGame - profile_game

                       
DROP PROCEDURE IF EXISTS `usp_profile_game_browse_filter`;

delimiter $$
CREATE PROCEDURE `usp_profile_game_browse_filter`
(
    in_page int,
    in_page_size int,
    in_sort VARCHAR(500),
    in_filter VARCHAR(4000)
    
)
BEGIN
    DECLARE total_rows int;
    SET total_rows = 0;
        
    IF (in_page = 0) THEN
        SET in_page = 1;
    END IF;    
    
    IF (in_page_size = 0) THEN
       SET in_page_size = 10;
    END IF;
    
    IF (in_sort = NULL || in_sort = '') THEN
       SET in_sort = ' date_modified ASC ';
    END IF;
    
    SET @sfields = CONCAT('', '`status`');
    SET @sfields = CONCAT(@sfields, ', `type_id`');
    SET @sfields = CONCAT(@sfields, ', `profile_id`');
    SET @sfields = CONCAT(@sfields, ', `game_profile`');
    SET @sfields = CONCAT(@sfields, ', `active`');
    SET @sfields = CONCAT(@sfields, ', `game_id`');
    SET @sfields = CONCAT(@sfields, ', `uuid`');
    SET @sfields = CONCAT(@sfields, ', `date_modified`');
    SET @sfields = CONCAT(@sfields, ', `profile_version`');
    SET @sfields = CONCAT(@sfields, ', `date_created`');
    SET @sfields = CONCAT(@sfields, ', `type`');
    
    SET @stable = CONCAT('', ' FROM `profile_game` WHERE 1=1 ');
    
    SET @s = CONCAT(' ', @stable);
    SET @s = CONCAT(@s, ' ', in_filter);    
    
    SET @scount = CONCAT('SELECT COUNT(*) as `total_rows` ', @s, ' INTO @total_rows');
    
    PREPARE stmtcount FROM @scount;
    EXECUTE stmtcount;
    #SELECT @total_rows;
    SET total_rows = @total_rows;

    SET @sfields = CONCAT(total_rows, ' as `total_rows`, ', @sfields);
    SET @s = CONCAT('SELECT ', @sfields, @s);
    SET @s = CONCAT(@s, ' ORDER BY ', in_sort);
    SET @s = CONCAT(@s, ' LIMIT ', in_page);
    SET @s = CONCAT(@s, ',', in_page_size);    

    PREPARE stmt FROM @s;
    EXECUTE stmt;
    
END$$
delimiter ;
-- ------------------------------------
-- SET

-- ------------------------------------
-- MODEL: ProfileGame - profile_game

                       
DROP PROCEDURE IF EXISTS `usp_profile_game_set_uuid`;
delimiter $$
CREATE PROCEDURE `usp_profile_game_set_uuid`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_type_id BINARY(16) 
    , in_profile_id BINARY(16) 
    , in_game_profile TEXT 
    , in_active int 
    , in_game_id BINARY(16) 
    , in_uuid BINARY(16) 
    , in_date_modified TIMESTAMP 
    , in_profile_version VARCHAR (50) 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (500) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `profile_game`  
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `profile_game` 
                    SET
                        `status` = in_status
                        , `type_id` = in_type_id
                        , `profile_id` = in_profile_id
                        , `game_profile` = in_game_profile
                        , `active` = in_active
                        , `game_id` = in_game_id
                        , `uuid` = in_uuid
                        , `date_modified` = in_date_modified
                        , `profile_version` = in_profile_version
                        , `date_created` = in_date_created
                        , `type` = in_type
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `profile_game`
                    (
                        `status`
                        , `type_id`
                        , `profile_id`
                        , `game_profile`
                        , `active`
                        , `game_id`
                        , `uuid`
                        , `date_modified`
                        , `profile_version`
                        , `date_created`
                        , `type`
                    )
                    VALUES
                    (
                        in_status
                        , in_type_id
                        , in_profile_id
                        , in_game_profile
                        , in_active
                        , in_game_id
                        , in_uuid
                        , in_date_modified
                        , in_profile_version
                        , in_date_created
                        , in_type
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

-- ------------------------------------
-- DEL

-- ------------------------------------
-- MODEL: ProfileGame - profile_game

                       
DROP PROCEDURE IF EXISTS `usp_profile_game_del_uuid`;

delimiter $$
CREATE PROCEDURE `usp_profile_game_del_uuid`
(
    in_uuid BINARY(16) 
)

BEGIN
    DELETE 
    FROM `profile_game`
    WHERE 1=1                        
    AND "uuid" = in_uuid
    ;
END$$
delimiter ;
-- ------------------------------------
-- GET

-- ------------------------------------
-- MODEL: ProfileGame - profile_game

                       
DROP PROCEDURE IF EXISTS `usp_profile_game_get`;

delimiter $$
CREATE PROCEDURE `usp_profile_game_get`
(
)                        
BEGIN
    SELECT
        `status`
        , `type_id`
        , `profile_id`
        , `game_profile`
        , `active`
        , `game_id`
        , `uuid`
        , `date_modified`
        , `profile_version`
        , `date_created`
        , `type`
    FROM `profile_game`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_game_get_uuid`;

delimiter $$
CREATE PROCEDURE `usp_profile_game_get_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `type_id`
        , `profile_id`
        , `game_profile`
        , `active`
        , `game_id`
        , `uuid`
        , `date_modified`
        , `profile_version`
        , `date_created`
        , `type`
    FROM `profile_game`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_game_get_game_id`;

delimiter $$
CREATE PROCEDURE `usp_profile_game_get_game_id`
(
    in_game_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `type_id`
        , `profile_id`
        , `game_profile`
        , `active`
        , `game_id`
        , `uuid`
        , `date_modified`
        , `profile_version`
        , `date_created`
        , `type`
    FROM `profile_game`
    WHERE 1=1
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_game_get_profile_id`;

delimiter $$
CREATE PROCEDURE `usp_profile_game_get_profile_id`
(
    in_profile_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `type_id`
        , `profile_id`
        , `game_profile`
        , `active`
        , `game_id`
        , `uuid`
        , `date_modified`
        , `profile_version`
        , `date_created`
        , `type`
    FROM `profile_game`
    WHERE 1=1
    AND `profile_id` = in_profile_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_game_get_profile_id_game_id`;

delimiter $$
CREATE PROCEDURE `usp_profile_game_get_profile_id_game_id`
(
    in_profile_id BINARY(16) 
    , in_game_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `type_id`
        , `profile_id`
        , `game_profile`
        , `active`
        , `game_id`
        , `uuid`
        , `date_modified`
        , `profile_version`
        , `date_created`
        , `type`
    FROM `profile_game`
    WHERE 1=1
    AND `profile_id` = in_profile_id
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

-- -----------------------------------------------------------------------------
-- PROCS

-- ------------------------------------
-- COUNT

-- ------------------------------------
-- MODEL: ProfileGameNetwork - profile_game_network

                       
DROP PROCEDURE IF EXISTS `usp_profile_game_network_count`;
delimiter $$
CREATE PROCEDURE `usp_profile_game_network_count`
BEGIN
    SELECT
        COUNT(*) as count
    FROM `profile_game_network`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_game_network_count_uuid`;
delimiter $$
CREATE PROCEDURE `usp_profile_game_network_count_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `profile_game_network`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_game_network_count_game_id`;
delimiter $$
CREATE PROCEDURE `usp_profile_game_network_count_game_id`
(
    in_game_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `profile_game_network`
    WHERE 1=1
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_game_network_count_profile_id`;
delimiter $$
CREATE PROCEDURE `usp_profile_game_network_count_profile_id`
(
    in_profile_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `profile_game_network`
    WHERE 1=1
    AND `profile_id` = in_profile_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_game_network_count_profile_id_game_id`;
delimiter $$
CREATE PROCEDURE `usp_profile_game_network_count_profile_id_game_id`
(
    in_profile_id BINARY(16) 
    , in_game_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `profile_game_network`
    WHERE 1=1
    AND `profile_id` = in_profile_id
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

-- ------------------------------------
-- BROWSE

-- ------------------------------------
-- MODEL: ProfileGameNetwork - profile_game_network

                       
DROP PROCEDURE IF EXISTS `usp_profile_game_network_browse_filter`;

delimiter $$
CREATE PROCEDURE `usp_profile_game_network_browse_filter`
(
    in_page int,
    in_page_size int,
    in_sort VARCHAR(500),
    in_filter VARCHAR(4000)
    
)
BEGIN
    DECLARE total_rows int;
    SET total_rows = 0;
        
    IF (in_page = 0) THEN
        SET in_page = 1;
    END IF;    
    
    IF (in_page_size = 0) THEN
       SET in_page_size = 10;
    END IF;
    
    IF (in_sort = NULL || in_sort = '') THEN
       SET in_sort = ' date_modified ASC ';
    END IF;
    
    SET @sfields = CONCAT('', '`status`');
    SET @sfields = CONCAT(@sfields, ', `hash`');
    SET @sfields = CONCAT(@sfields, ', `profile_id`');
    SET @sfields = CONCAT(@sfields, ', `game_network_id`');
    SET @sfields = CONCAT(@sfields, ', `network_username`');
    SET @sfields = CONCAT(@sfields, ', `active`');
    SET @sfields = CONCAT(@sfields, ', `game_id`');
    SET @sfields = CONCAT(@sfields, ', `uuid`');
    SET @sfields = CONCAT(@sfields, ', `date_modified`');
    SET @sfields = CONCAT(@sfields, ', `secret`');
    SET @sfields = CONCAT(@sfields, ', `token`');
    SET @sfields = CONCAT(@sfields, ', `date_created`');
    SET @sfields = CONCAT(@sfields, ', `type`');
    
    SET @stable = CONCAT('', ' FROM `profile_game_network` WHERE 1=1 ');
    
    SET @s = CONCAT(' ', @stable);
    SET @s = CONCAT(@s, ' ', in_filter);    
    
    SET @scount = CONCAT('SELECT COUNT(*) as `total_rows` ', @s, ' INTO @total_rows');
    
    PREPARE stmtcount FROM @scount;
    EXECUTE stmtcount;
    #SELECT @total_rows;
    SET total_rows = @total_rows;

    SET @sfields = CONCAT(total_rows, ' as `total_rows`, ', @sfields);
    SET @s = CONCAT('SELECT ', @sfields, @s);
    SET @s = CONCAT(@s, ' ORDER BY ', in_sort);
    SET @s = CONCAT(@s, ' LIMIT ', in_page);
    SET @s = CONCAT(@s, ',', in_page_size);    

    PREPARE stmt FROM @s;
    EXECUTE stmt;
    
END$$
delimiter ;
-- ------------------------------------
-- SET

-- ------------------------------------
-- MODEL: ProfileGameNetwork - profile_game_network

                       
DROP PROCEDURE IF EXISTS `usp_profile_game_network_set_uuid`;
delimiter $$
CREATE PROCEDURE `usp_profile_game_network_set_uuid`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_hash VARCHAR (500) 
    , in_profile_id BINARY(16) 
    , in_game_network_id BINARY(16) 
    , in_network_username VARCHAR (500) 
    , in_active int 
    , in_game_id BINARY(16) 
    , in_uuid BINARY(16) 
    , in_date_modified TIMESTAMP 
    , in_secret VARCHAR (500) 
    , in_token VARCHAR (500) 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (500) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `profile_game_network`  
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `profile_game_network` 
                    SET
                        `status` = in_status
                        , `hash` = in_hash
                        , `profile_id` = in_profile_id
                        , `game_network_id` = in_game_network_id
                        , `network_username` = in_network_username
                        , `active` = in_active
                        , `game_id` = in_game_id
                        , `uuid` = in_uuid
                        , `date_modified` = in_date_modified
                        , `secret` = in_secret
                        , `token` = in_token
                        , `date_created` = in_date_created
                        , `type` = in_type
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `profile_game_network`
                    (
                        `status`
                        , `hash`
                        , `profile_id`
                        , `game_network_id`
                        , `network_username`
                        , `active`
                        , `game_id`
                        , `uuid`
                        , `date_modified`
                        , `secret`
                        , `token`
                        , `date_created`
                        , `type`
                    )
                    VALUES
                    (
                        in_status
                        , in_hash
                        , in_profile_id
                        , in_game_network_id
                        , in_network_username
                        , in_active
                        , in_game_id
                        , in_uuid
                        , in_date_modified
                        , in_secret
                        , in_token
                        , in_date_created
                        , in_type
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

-- ------------------------------------
-- DEL

-- ------------------------------------
-- MODEL: ProfileGameNetwork - profile_game_network

                       
DROP PROCEDURE IF EXISTS `usp_profile_game_network_del_uuid`;

delimiter $$
CREATE PROCEDURE `usp_profile_game_network_del_uuid`
(
    in_uuid BINARY(16) 
)

BEGIN
    DELETE 
    FROM `profile_game_network`
    WHERE 1=1                        
    AND "uuid" = in_uuid
    ;
END$$
delimiter ;
-- ------------------------------------
-- GET

-- ------------------------------------
-- MODEL: ProfileGameNetwork - profile_game_network

                       
DROP PROCEDURE IF EXISTS `usp_profile_game_network_get`;

delimiter $$
CREATE PROCEDURE `usp_profile_game_network_get`
(
)                        
BEGIN
    SELECT
        `status`
        , `hash`
        , `profile_id`
        , `game_network_id`
        , `network_username`
        , `active`
        , `game_id`
        , `uuid`
        , `date_modified`
        , `secret`
        , `token`
        , `date_created`
        , `type`
    FROM `profile_game_network`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_game_network_get_uuid`;

delimiter $$
CREATE PROCEDURE `usp_profile_game_network_get_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `hash`
        , `profile_id`
        , `game_network_id`
        , `network_username`
        , `active`
        , `game_id`
        , `uuid`
        , `date_modified`
        , `secret`
        , `token`
        , `date_created`
        , `type`
    FROM `profile_game_network`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_game_network_get_game_id`;

delimiter $$
CREATE PROCEDURE `usp_profile_game_network_get_game_id`
(
    in_game_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `hash`
        , `profile_id`
        , `game_network_id`
        , `network_username`
        , `active`
        , `game_id`
        , `uuid`
        , `date_modified`
        , `secret`
        , `token`
        , `date_created`
        , `type`
    FROM `profile_game_network`
    WHERE 1=1
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_game_network_get_profile_id`;

delimiter $$
CREATE PROCEDURE `usp_profile_game_network_get_profile_id`
(
    in_profile_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `hash`
        , `profile_id`
        , `game_network_id`
        , `network_username`
        , `active`
        , `game_id`
        , `uuid`
        , `date_modified`
        , `secret`
        , `token`
        , `date_created`
        , `type`
    FROM `profile_game_network`
    WHERE 1=1
    AND `profile_id` = in_profile_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_game_network_get_profile_id_game_id`;

delimiter $$
CREATE PROCEDURE `usp_profile_game_network_get_profile_id_game_id`
(
    in_profile_id BINARY(16) 
    , in_game_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `hash`
        , `profile_id`
        , `game_network_id`
        , `network_username`
        , `active`
        , `game_id`
        , `uuid`
        , `date_modified`
        , `secret`
        , `token`
        , `date_created`
        , `type`
    FROM `profile_game_network`
    WHERE 1=1
    AND `profile_id` = in_profile_id
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

-- -----------------------------------------------------------------------------
-- PROCS

-- ------------------------------------
-- COUNT

-- ------------------------------------
-- MODEL: ProfileGameDataAttribute - profile_game_data_attribute

                       
DROP PROCEDURE IF EXISTS `usp_profile_game_data_attribute_count`;
delimiter $$
CREATE PROCEDURE `usp_profile_game_data_attribute_count`
BEGIN
    SELECT
        COUNT(*) as count
    FROM `profile_game_data_attribute`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_game_data_attribute_count_uuid`;
delimiter $$
CREATE PROCEDURE `usp_profile_game_data_attribute_count_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `profile_game_data_attribute`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_game_data_attribute_count_profile_id`;
delimiter $$
CREATE PROCEDURE `usp_profile_game_data_attribute_count_profile_id`
(
    in_profile_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `profile_game_data_attribute`
    WHERE 1=1
    AND `profile_id` = in_profile_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_game_data_attribute_count_profile_id_game_id_code`;
delimiter $$
CREATE PROCEDURE `usp_profile_game_data_attribute_count_profile_id_game_id_code`
(
    in_profile_id BINARY(16) 
    , in_game_id BINARY(16) 
    , in_code VARCHAR (500) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `profile_game_data_attribute`
    WHERE 1=1
    AND `profile_id` = in_profile_id
    AND `game_id` = in_game_id
    AND lower(`code`) = lower(in_code)
    ;
END$$
delimiter ;

-- ------------------------------------
-- BROWSE

-- ------------------------------------
-- MODEL: ProfileGameDataAttribute - profile_game_data_attribute

                       
DROP PROCEDURE IF EXISTS `usp_profile_game_data_attribute_browse_filter`;

delimiter $$
CREATE PROCEDURE `usp_profile_game_data_attribute_browse_filter`
(
    in_page int,
    in_page_size int,
    in_sort VARCHAR(500),
    in_filter VARCHAR(4000)
    
)
BEGIN
    DECLARE total_rows int;
    SET total_rows = 0;
        
    IF (in_page = 0) THEN
        SET in_page = 1;
    END IF;    
    
    IF (in_page_size = 0) THEN
       SET in_page_size = 10;
    END IF;
    
    IF (in_sort = NULL || in_sort = '') THEN
       SET in_sort = ' date_modified ASC ';
    END IF;
    
    SET @sfields = CONCAT('', '`code`');
    SET @sfields = CONCAT(@sfields, ', `uuid`');
    SET @sfields = CONCAT(@sfields, ', `val`');
    SET @sfields = CONCAT(@sfields, ', `profile_id`');
    SET @sfields = CONCAT(@sfields, ', `otype`');
    SET @sfields = CONCAT(@sfields, ', `game_id`');
    SET @sfields = CONCAT(@sfields, ', `type`');
    SET @sfields = CONCAT(@sfields, ', `name`');
    
    SET @stable = CONCAT('', ' FROM `profile_game_data_attribute` WHERE 1=1 ');
    
    SET @s = CONCAT(' ', @stable);
    SET @s = CONCAT(@s, ' ', in_filter);    
    
    SET @scount = CONCAT('SELECT COUNT(*) as `total_rows` ', @s, ' INTO @total_rows');
    
    PREPARE stmtcount FROM @scount;
    EXECUTE stmtcount;
    #SELECT @total_rows;
    SET total_rows = @total_rows;

    SET @sfields = CONCAT(total_rows, ' as `total_rows`, ', @sfields);
    SET @s = CONCAT('SELECT ', @sfields, @s);
    SET @s = CONCAT(@s, ' ORDER BY ', in_sort);
    SET @s = CONCAT(@s, ' LIMIT ', in_page);
    SET @s = CONCAT(@s, ',', in_page_size);    

    PREPARE stmt FROM @s;
    EXECUTE stmt;
    
END$$
delimiter ;
-- ------------------------------------
-- SET

-- ------------------------------------
-- MODEL: ProfileGameDataAttribute - profile_game_data_attribute

                       
DROP PROCEDURE IF EXISTS `usp_profile_game_data_attribute_set_uuid`;
delimiter $$
CREATE PROCEDURE `usp_profile_game_data_attribute_set_uuid`
(
    in_set_type varchar(50)                      
    , in_code VARCHAR (500) 
    , in_uuid BINARY(16) 
    , in_val TEXT 
    , in_profile_id BINARY(16) 
    , in_otype VARCHAR (500) 
    , in_game_id BINARY(16) 
    , in_type VARCHAR (500) 
    , in_name VARCHAR (500) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `profile_game_data_attribute`  
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `profile_game_data_attribute` 
                    SET
                        `code` = in_code
                        , `uuid` = in_uuid
                        , `val` = in_val
                        , `profile_id` = in_profile_id
                        , `otype` = in_otype
                        , `game_id` = in_game_id
                        , `type` = in_type
                        , `name` = in_name
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `profile_game_data_attribute`
                    (
                        `code`
                        , `uuid`
                        , `val`
                        , `profile_id`
                        , `otype`
                        , `game_id`
                        , `type`
                        , `name`
                    )
                    VALUES
                    (
                        in_code
                        , in_uuid
                        , in_val
                        , in_profile_id
                        , in_otype
                        , in_game_id
                        , in_type
                        , in_name
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_game_data_attribute_set_profile_id`;
delimiter $$
CREATE PROCEDURE `usp_profile_game_data_attribute_set_profile_id`
(
    in_set_type varchar(50)                      
    , in_code VARCHAR (500) 
    , in_uuid BINARY(16) 
    , in_val TEXT 
    , in_profile_id BINARY(16) 
    , in_otype VARCHAR (500) 
    , in_game_id BINARY(16) 
    , in_type VARCHAR (500) 
    , in_name VARCHAR (500) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `profile_game_data_attribute`  
                    WHERE 1=1
                    AND `profile_id` = in_profile_id
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `profile_game_data_attribute` 
                    SET
                        `code` = in_code
                        , `uuid` = in_uuid
                        , `val` = in_val
                        , `profile_id` = in_profile_id
                        , `otype` = in_otype
                        , `game_id` = in_game_id
                        , `type` = in_type
                        , `name` = in_name
                    WHERE 1=1
                    AND `profile_id` = in_profile_id
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `profile_game_data_attribute`
                    (
                        `code`
                        , `uuid`
                        , `val`
                        , `profile_id`
                        , `otype`
                        , `game_id`
                        , `type`
                        , `name`
                    )
                    VALUES
                    (
                        in_code
                        , in_uuid
                        , in_val
                        , in_profile_id
                        , in_otype
                        , in_game_id
                        , in_type
                        , in_name
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_game_data_attribute_set_profile_id_game_id_code`;
delimiter $$
CREATE PROCEDURE `usp_profile_game_data_attribute_set_profile_id_game_id_code`
(
    in_set_type varchar(50)                      
    , in_code VARCHAR (500) 
    , in_uuid BINARY(16) 
    , in_val TEXT 
    , in_profile_id BINARY(16) 
    , in_otype VARCHAR (500) 
    , in_game_id BINARY(16) 
    , in_type VARCHAR (500) 
    , in_name VARCHAR (500) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `profile_game_data_attribute`  
                    WHERE 1=1
                    AND `profile_id` = in_profile_id
                    AND `game_id` = in_game_id
                    AND lower(`code`) = lower(in_code)
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `profile_game_data_attribute` 
                    SET
                        `code` = in_code
                        , `uuid` = in_uuid
                        , `val` = in_val
                        , `profile_id` = in_profile_id
                        , `otype` = in_otype
                        , `game_id` = in_game_id
                        , `type` = in_type
                        , `name` = in_name
                    WHERE 1=1
                    AND `profile_id` = in_profile_id
                    AND `game_id` = in_game_id
                    AND lower(`code`) = lower(in_code)
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `profile_game_data_attribute`
                    (
                        `code`
                        , `uuid`
                        , `val`
                        , `profile_id`
                        , `otype`
                        , `game_id`
                        , `type`
                        , `name`
                    )
                    VALUES
                    (
                        in_code
                        , in_uuid
                        , in_val
                        , in_profile_id
                        , in_otype
                        , in_game_id
                        , in_type
                        , in_name
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

-- ------------------------------------
-- DEL

-- ------------------------------------
-- MODEL: ProfileGameDataAttribute - profile_game_data_attribute

                       
DROP PROCEDURE IF EXISTS `usp_profile_game_data_attribute_del_uuid`;

delimiter $$
CREATE PROCEDURE `usp_profile_game_data_attribute_del_uuid`
(
    in_uuid BINARY(16) 
)

BEGIN
    DELETE 
    FROM `profile_game_data_attribute`
    WHERE 1=1                        
    AND "uuid" = in_uuid
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_profile_game_data_attribute_del_profile_id`;

delimiter $$
CREATE PROCEDURE `usp_profile_game_data_attribute_del_profile_id`
(
    in_profile_id BINARY(16) 
)

BEGIN
    DELETE 
    FROM `profile_game_data_attribute`
    WHERE 1=1                        
    AND "profile_id" = in_profile_id
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_profile_game_data_attribute_del_profile_id_game_id_code`;

delimiter $$
CREATE PROCEDURE `usp_profile_game_data_attribute_del_profile_id_game_id_code`
(
    in_profile_id BINARY(16) 
    , in_game_id BINARY(16) 
    , in_code VARCHAR (500) 
)

BEGIN
    DELETE 
    FROM `profile_game_data_attribute`
    WHERE 1=1                        
    AND "profile_id" = in_profile_id
    AND "game_id" = in_game_id
    AND lower("code") = lower(in_code)
    ;
END$$
delimiter ;
-- ------------------------------------
-- GET

-- ------------------------------------
-- MODEL: ProfileGameDataAttribute - profile_game_data_attribute

                       
DROP PROCEDURE IF EXISTS `usp_profile_game_data_attribute_get_uuid`;

delimiter $$
CREATE PROCEDURE `usp_profile_game_data_attribute_get_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        `code`
        , `uuid`
        , `val`
        , `profile_id`
        , `otype`
        , `game_id`
        , `type`
        , `name`
    FROM `profile_game_data_attribute`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_game_data_attribute_get_profile_id`;

delimiter $$
CREATE PROCEDURE `usp_profile_game_data_attribute_get_profile_id`
(
    in_profile_id BINARY(16) 
)
BEGIN
    SELECT
        `code`
        , `uuid`
        , `val`
        , `profile_id`
        , `otype`
        , `game_id`
        , `type`
        , `name`
    FROM `profile_game_data_attribute`
    WHERE 1=1
    AND `profile_id` = in_profile_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_game_data_attribute_get_profile_id_game_id_code`;

delimiter $$
CREATE PROCEDURE `usp_profile_game_data_attribute_get_profile_id_game_id_code`
(
    in_profile_id BINARY(16) 
    , in_game_id BINARY(16) 
    , in_code VARCHAR (500) 
)
BEGIN
    SELECT
        `code`
        , `uuid`
        , `val`
        , `profile_id`
        , `otype`
        , `game_id`
        , `type`
        , `name`
    FROM `profile_game_data_attribute`
    WHERE 1=1
    AND `profile_id` = in_profile_id
    AND `game_id` = in_game_id
    AND lower(`code`) = lower(in_code)
    ;
END$$
delimiter ;

-- -----------------------------------------------------------------------------
-- PROCS

-- ------------------------------------
-- COUNT

-- ------------------------------------
-- MODEL: GameSession - game_session

                       
DROP PROCEDURE IF EXISTS `usp_game_session_count`;
delimiter $$
CREATE PROCEDURE `usp_game_session_count`
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_session`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_session_count_uuid`;
delimiter $$
CREATE PROCEDURE `usp_game_session_count_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_session`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_session_count_game_id`;
delimiter $$
CREATE PROCEDURE `usp_game_session_count_game_id`
(
    in_game_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_session`
    WHERE 1=1
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_session_count_profile_id`;
delimiter $$
CREATE PROCEDURE `usp_game_session_count_profile_id`
(
    in_profile_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_session`
    WHERE 1=1
    AND `profile_id` = in_profile_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_session_count_profile_id_game_id`;
delimiter $$
CREATE PROCEDURE `usp_game_session_count_profile_id_game_id`
(
    in_profile_id BINARY(16) 
    , in_game_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_session`
    WHERE 1=1
    AND `profile_id` = in_profile_id
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

-- ------------------------------------
-- BROWSE

-- ------------------------------------
-- MODEL: GameSession - game_session

                       
DROP PROCEDURE IF EXISTS `usp_game_session_browse_filter`;

delimiter $$
CREATE PROCEDURE `usp_game_session_browse_filter`
(
    in_page int,
    in_page_size int,
    in_sort VARCHAR(500),
    in_filter VARCHAR(4000)
    
)
BEGIN
    DECLARE total_rows int;
    SET total_rows = 0;
        
    IF (in_page = 0) THEN
        SET in_page = 1;
    END IF;    
    
    IF (in_page_size = 0) THEN
       SET in_page_size = 10;
    END IF;
    
    IF (in_sort = NULL || in_sort = '') THEN
       SET in_sort = ' date_modified ASC ';
    END IF;
    
    SET @sfields = CONCAT('', '`code`');
    SET @sfields = CONCAT(@sfields, ', `network_uuid`');
    SET @sfields = CONCAT(@sfields, ', `profile_id`');
    SET @sfields = CONCAT(@sfields, ', `game_area`');
    SET @sfields = CONCAT(@sfields, ', `profile_network`');
    SET @sfields = CONCAT(@sfields, ', `profile_device`');
    SET @sfields = CONCAT(@sfields, ', `display_name`');
    SET @sfields = CONCAT(@sfields, ', `uuid`');
    SET @sfields = CONCAT(@sfields, ', `network_external_port`');
    SET @sfields = CONCAT(@sfields, ', `game_players_connected`');
    SET @sfields = CONCAT(@sfields, ', `type`');
    SET @sfields = CONCAT(@sfields, ', `status`');
    SET @sfields = CONCAT(@sfields, ', `game_state`');
    SET @sfields = CONCAT(@sfields, ', `hash`');
    SET @sfields = CONCAT(@sfields, ', `description`');
    SET @sfields = CONCAT(@sfields, ', `network_external_ip`');
    SET @sfields = CONCAT(@sfields, ', `game_level`');
    SET @sfields = CONCAT(@sfields, ', `profile_username`');
    SET @sfields = CONCAT(@sfields, ', `active`');
    SET @sfields = CONCAT(@sfields, ', `game_id`');
    SET @sfields = CONCAT(@sfields, ', `game_code`');
    SET @sfields = CONCAT(@sfields, ', `game_player_z`');
    SET @sfields = CONCAT(@sfields, ', `game_player_x`');
    SET @sfields = CONCAT(@sfields, ', `network_port`');
    SET @sfields = CONCAT(@sfields, ', `game_players_allowed`');
    SET @sfields = CONCAT(@sfields, ', `name`');
    SET @sfields = CONCAT(@sfields, ', `date_modified`');
    SET @sfields = CONCAT(@sfields, ', `game_type`');
    SET @sfields = CONCAT(@sfields, ', `date_created`');
    SET @sfields = CONCAT(@sfields, ', `network_ip`');
    SET @sfields = CONCAT(@sfields, ', `network_use_nat`');
    
    SET @stable = CONCAT('', ' FROM `game_session` WHERE 1=1 ');
    
    SET @s = CONCAT(' ', @stable);
    SET @s = CONCAT(@s, ' ', in_filter);    
    
    SET @scount = CONCAT('SELECT COUNT(*) as `total_rows` ', @s, ' INTO @total_rows');
    
    PREPARE stmtcount FROM @scount;
    EXECUTE stmtcount;
    #SELECT @total_rows;
    SET total_rows = @total_rows;

    SET @sfields = CONCAT(total_rows, ' as `total_rows`, ', @sfields);
    SET @s = CONCAT('SELECT ', @sfields, @s);
    SET @s = CONCAT(@s, ' ORDER BY ', in_sort);
    SET @s = CONCAT(@s, ' LIMIT ', in_page);
    SET @s = CONCAT(@s, ',', in_page_size);    

    PREPARE stmt FROM @s;
    EXECUTE stmt;
    
END$$
delimiter ;
-- ------------------------------------
-- SET

-- ------------------------------------
-- MODEL: GameSession - game_session

                       
DROP PROCEDURE IF EXISTS `usp_game_session_set_uuid`;
delimiter $$
CREATE PROCEDURE `usp_game_session_set_uuid`
(
    in_set_type varchar(50)                      
    , in_code VARCHAR (255) 
    , in_network_uuid VARCHAR (40) 
    , in_profile_id BINARY(16) 
    , in_game_area VARCHAR (255) 
    , in_profile_network VARCHAR (255) 
    , in_profile_device VARCHAR (50) 
    , in_display_name VARCHAR (255) 
    , in_uuid BINARY(16) 
    , in_network_external_port INTEGER 
    , in_game_players_connected INTEGER 
    , in_type VARCHAR (500) 
    , in_status VARCHAR (255) 
    , in_game_state VARCHAR (50) 
    , in_hash VARCHAR (255) 
    , in_description VARCHAR (255) 
    , in_network_external_ip VARCHAR (40) 
    , in_game_level VARCHAR (255) 
    , in_profile_username VARCHAR (500) 
    , in_active int 
    , in_game_id BINARY(16) 
    , in_game_code VARCHAR (255) 
    , in_game_player_z decimal 
    , in_game_player_x decimal 
    , in_network_port INTEGER 
    , in_game_players_allowed INTEGER 
    , in_name VARCHAR (255) 
    , in_date_modified TIMESTAMP 
    , in_game_type VARCHAR (255) 
    , in_date_created TIMESTAMP 
    , in_network_ip VARCHAR (40) 
    , in_network_use_nat int 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_session`  
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_session` 
                    SET
                        `code` = in_code
                        , `network_uuid` = in_network_uuid
                        , `profile_id` = in_profile_id
                        , `game_area` = in_game_area
                        , `profile_network` = in_profile_network
                        , `profile_device` = in_profile_device
                        , `display_name` = in_display_name
                        , `uuid` = in_uuid
                        , `network_external_port` = in_network_external_port
                        , `game_players_connected` = in_game_players_connected
                        , `type` = in_type
                        , `status` = in_status
                        , `game_state` = in_game_state
                        , `hash` = in_hash
                        , `description` = in_description
                        , `network_external_ip` = in_network_external_ip
                        , `game_level` = in_game_level
                        , `profile_username` = in_profile_username
                        , `active` = in_active
                        , `game_id` = in_game_id
                        , `game_code` = in_game_code
                        , `game_player_z` = in_game_player_z
                        , `game_player_x` = in_game_player_x
                        , `network_port` = in_network_port
                        , `game_players_allowed` = in_game_players_allowed
                        , `name` = in_name
                        , `date_modified` = in_date_modified
                        , `game_type` = in_game_type
                        , `date_created` = in_date_created
                        , `network_ip` = in_network_ip
                        , `network_use_nat` = in_network_use_nat
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_session`
                    (
                        `code`
                        , `network_uuid`
                        , `profile_id`
                        , `game_area`
                        , `profile_network`
                        , `profile_device`
                        , `display_name`
                        , `uuid`
                        , `network_external_port`
                        , `game_players_connected`
                        , `type`
                        , `status`
                        , `game_state`
                        , `hash`
                        , `description`
                        , `network_external_ip`
                        , `game_level`
                        , `profile_username`
                        , `active`
                        , `game_id`
                        , `game_code`
                        , `game_player_z`
                        , `game_player_x`
                        , `network_port`
                        , `game_players_allowed`
                        , `name`
                        , `date_modified`
                        , `game_type`
                        , `date_created`
                        , `network_ip`
                        , `network_use_nat`
                    )
                    VALUES
                    (
                        in_code
                        , in_network_uuid
                        , in_profile_id
                        , in_game_area
                        , in_profile_network
                        , in_profile_device
                        , in_display_name
                        , in_uuid
                        , in_network_external_port
                        , in_game_players_connected
                        , in_type
                        , in_status
                        , in_game_state
                        , in_hash
                        , in_description
                        , in_network_external_ip
                        , in_game_level
                        , in_profile_username
                        , in_active
                        , in_game_id
                        , in_game_code
                        , in_game_player_z
                        , in_game_player_x
                        , in_network_port
                        , in_game_players_allowed
                        , in_name
                        , in_date_modified
                        , in_game_type
                        , in_date_created
                        , in_network_ip
                        , in_network_use_nat
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

-- ------------------------------------
-- DEL

-- ------------------------------------
-- MODEL: GameSession - game_session

                       
DROP PROCEDURE IF EXISTS `usp_game_session_del_uuid`;

delimiter $$
CREATE PROCEDURE `usp_game_session_del_uuid`
(
    in_uuid BINARY(16) 
)

BEGIN
    DELETE 
    FROM `game_session`
    WHERE 1=1                        
    AND "uuid" = in_uuid
    ;
END$$
delimiter ;
-- ------------------------------------
-- GET

-- ------------------------------------
-- MODEL: GameSession - game_session

                       
DROP PROCEDURE IF EXISTS `usp_game_session_get`;

delimiter $$
CREATE PROCEDURE `usp_game_session_get`
(
)                        
BEGIN
    SELECT
        `code`
        , `network_uuid`
        , `profile_id`
        , `game_area`
        , `profile_network`
        , `profile_device`
        , `display_name`
        , `uuid`
        , `network_external_port`
        , `game_players_connected`
        , `type`
        , `status`
        , `game_state`
        , `hash`
        , `description`
        , `network_external_ip`
        , `game_level`
        , `profile_username`
        , `active`
        , `game_id`
        , `game_code`
        , `game_player_z`
        , `game_player_x`
        , `network_port`
        , `game_players_allowed`
        , `name`
        , `date_modified`
        , `game_type`
        , `date_created`
        , `network_ip`
        , `network_use_nat`
    FROM `game_session`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_session_get_uuid`;

delimiter $$
CREATE PROCEDURE `usp_game_session_get_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        `code`
        , `network_uuid`
        , `profile_id`
        , `game_area`
        , `profile_network`
        , `profile_device`
        , `display_name`
        , `uuid`
        , `network_external_port`
        , `game_players_connected`
        , `type`
        , `status`
        , `game_state`
        , `hash`
        , `description`
        , `network_external_ip`
        , `game_level`
        , `profile_username`
        , `active`
        , `game_id`
        , `game_code`
        , `game_player_z`
        , `game_player_x`
        , `network_port`
        , `game_players_allowed`
        , `name`
        , `date_modified`
        , `game_type`
        , `date_created`
        , `network_ip`
        , `network_use_nat`
    FROM `game_session`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_session_get_game_id`;

delimiter $$
CREATE PROCEDURE `usp_game_session_get_game_id`
(
    in_game_id BINARY(16) 
)
BEGIN
    SELECT
        `code`
        , `network_uuid`
        , `profile_id`
        , `game_area`
        , `profile_network`
        , `profile_device`
        , `display_name`
        , `uuid`
        , `network_external_port`
        , `game_players_connected`
        , `type`
        , `status`
        , `game_state`
        , `hash`
        , `description`
        , `network_external_ip`
        , `game_level`
        , `profile_username`
        , `active`
        , `game_id`
        , `game_code`
        , `game_player_z`
        , `game_player_x`
        , `network_port`
        , `game_players_allowed`
        , `name`
        , `date_modified`
        , `game_type`
        , `date_created`
        , `network_ip`
        , `network_use_nat`
    FROM `game_session`
    WHERE 1=1
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_session_get_profile_id`;

delimiter $$
CREATE PROCEDURE `usp_game_session_get_profile_id`
(
    in_profile_id BINARY(16) 
)
BEGIN
    SELECT
        `code`
        , `network_uuid`
        , `profile_id`
        , `game_area`
        , `profile_network`
        , `profile_device`
        , `display_name`
        , `uuid`
        , `network_external_port`
        , `game_players_connected`
        , `type`
        , `status`
        , `game_state`
        , `hash`
        , `description`
        , `network_external_ip`
        , `game_level`
        , `profile_username`
        , `active`
        , `game_id`
        , `game_code`
        , `game_player_z`
        , `game_player_x`
        , `network_port`
        , `game_players_allowed`
        , `name`
        , `date_modified`
        , `game_type`
        , `date_created`
        , `network_ip`
        , `network_use_nat`
    FROM `game_session`
    WHERE 1=1
    AND `profile_id` = in_profile_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_session_get_profile_id_game_id`;

delimiter $$
CREATE PROCEDURE `usp_game_session_get_profile_id_game_id`
(
    in_profile_id BINARY(16) 
    , in_game_id BINARY(16) 
)
BEGIN
    SELECT
        `code`
        , `network_uuid`
        , `profile_id`
        , `game_area`
        , `profile_network`
        , `profile_device`
        , `display_name`
        , `uuid`
        , `network_external_port`
        , `game_players_connected`
        , `type`
        , `status`
        , `game_state`
        , `hash`
        , `description`
        , `network_external_ip`
        , `game_level`
        , `profile_username`
        , `active`
        , `game_id`
        , `game_code`
        , `game_player_z`
        , `game_player_x`
        , `network_port`
        , `game_players_allowed`
        , `name`
        , `date_modified`
        , `game_type`
        , `date_created`
        , `network_ip`
        , `network_use_nat`
    FROM `game_session`
    WHERE 1=1
    AND `profile_id` = in_profile_id
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

-- -----------------------------------------------------------------------------
-- PROCS

-- ------------------------------------
-- COUNT

-- ------------------------------------
-- MODEL: GameSessionData - game_session_data

                       
DROP PROCEDURE IF EXISTS `usp_game_session_data_count`;
delimiter $$
CREATE PROCEDURE `usp_game_session_data_count`
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_session_data`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_session_data_count_uuid`;
delimiter $$
CREATE PROCEDURE `usp_game_session_data_count_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_session_data`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

-- ------------------------------------
-- BROWSE

-- ------------------------------------
-- MODEL: GameSessionData - game_session_data

                       
DROP PROCEDURE IF EXISTS `usp_game_session_data_browse_filter`;

delimiter $$
CREATE PROCEDURE `usp_game_session_data_browse_filter`
(
    in_page int,
    in_page_size int,
    in_sort VARCHAR(500),
    in_filter VARCHAR(4000)
    
)
BEGIN
    DECLARE total_rows int;
    SET total_rows = 0;
        
    IF (in_page = 0) THEN
        SET in_page = 1;
    END IF;    
    
    IF (in_page_size = 0) THEN
       SET in_page_size = 10;
    END IF;
    
    IF (in_sort = NULL || in_sort = '') THEN
       SET in_sort = ' date_modified ASC ';
    END IF;
    
    SET @sfields = CONCAT('', '`status`');
    SET @sfields = CONCAT(@sfields, ', `code`');
    SET @sfields = CONCAT(@sfields, ', `display_name`');
    SET @sfields = CONCAT(@sfields, ', `name`');
    SET @sfields = CONCAT(@sfields, ', `date_modified`');
    SET @sfields = CONCAT(@sfields, ', `data_results`');
    SET @sfields = CONCAT(@sfields, ', `data`');
    SET @sfields = CONCAT(@sfields, ', `uuid`');
    SET @sfields = CONCAT(@sfields, ', `data_layer_projectile`');
    SET @sfields = CONCAT(@sfields, ', `data_layer_actors`');
    SET @sfields = CONCAT(@sfields, ', `active`');
    SET @sfields = CONCAT(@sfields, ', `date_created`');
    SET @sfields = CONCAT(@sfields, ', `data_layer_enemy`');
    SET @sfields = CONCAT(@sfields, ', `type`');
    SET @sfields = CONCAT(@sfields, ', `description`');
    
    SET @stable = CONCAT('', ' FROM `game_session_data` WHERE 1=1 ');
    
    SET @s = CONCAT(' ', @stable);
    SET @s = CONCAT(@s, ' ', in_filter);    
    
    SET @scount = CONCAT('SELECT COUNT(*) as `total_rows` ', @s, ' INTO @total_rows');
    
    PREPARE stmtcount FROM @scount;
    EXECUTE stmtcount;
    #SELECT @total_rows;
    SET total_rows = @total_rows;

    SET @sfields = CONCAT(total_rows, ' as `total_rows`, ', @sfields);
    SET @s = CONCAT('SELECT ', @sfields, @s);
    SET @s = CONCAT(@s, ' ORDER BY ', in_sort);
    SET @s = CONCAT(@s, ' LIMIT ', in_page);
    SET @s = CONCAT(@s, ',', in_page_size);    

    PREPARE stmt FROM @s;
    EXECUTE stmt;
    
END$$
delimiter ;
-- ------------------------------------
-- SET

-- ------------------------------------
-- MODEL: GameSessionData - game_session_data

                       
DROP PROCEDURE IF EXISTS `usp_game_session_data_set_uuid`;
delimiter $$
CREATE PROCEDURE `usp_game_session_data_set_uuid`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_code VARCHAR (255) 
    , in_display_name VARCHAR (255) 
    , in_name VARCHAR (255) 
    , in_date_modified TIMESTAMP 
    , in_data_results TEXT 
    , in_data TEXT 
    , in_uuid BINARY(16) 
    , in_data_layer_projectile TEXT 
    , in_data_layer_actors TEXT 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_data_layer_enemy TEXT 
    , in_type VARCHAR (500) 
    , in_description VARCHAR (255) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_session_data`  
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_session_data` 
                    SET
                        `status` = in_status
                        , `code` = in_code
                        , `display_name` = in_display_name
                        , `name` = in_name
                        , `date_modified` = in_date_modified
                        , `data_results` = in_data_results
                        , `data` = in_data
                        , `uuid` = in_uuid
                        , `data_layer_projectile` = in_data_layer_projectile
                        , `data_layer_actors` = in_data_layer_actors
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `data_layer_enemy` = in_data_layer_enemy
                        , `type` = in_type
                        , `description` = in_description
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_session_data`
                    (
                        `status`
                        , `code`
                        , `display_name`
                        , `name`
                        , `date_modified`
                        , `data_results`
                        , `data`
                        , `uuid`
                        , `data_layer_projectile`
                        , `data_layer_actors`
                        , `active`
                        , `date_created`
                        , `data_layer_enemy`
                        , `type`
                        , `description`
                    )
                    VALUES
                    (
                        in_status
                        , in_code
                        , in_display_name
                        , in_name
                        , in_date_modified
                        , in_data_results
                        , in_data
                        , in_uuid
                        , in_data_layer_projectile
                        , in_data_layer_actors
                        , in_active
                        , in_date_created
                        , in_data_layer_enemy
                        , in_type
                        , in_description
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

-- ------------------------------------
-- DEL

-- ------------------------------------
-- MODEL: GameSessionData - game_session_data

                       
DROP PROCEDURE IF EXISTS `usp_game_session_data_del_uuid`;

delimiter $$
CREATE PROCEDURE `usp_game_session_data_del_uuid`
(
    in_uuid BINARY(16) 
)

BEGIN
    DELETE 
    FROM `game_session_data`
    WHERE 1=1                        
    AND "uuid" = in_uuid
    ;
END$$
delimiter ;
-- ------------------------------------
-- GET

-- ------------------------------------
-- MODEL: GameSessionData - game_session_data

                       
DROP PROCEDURE IF EXISTS `usp_game_session_data_get`;

delimiter $$
CREATE PROCEDURE `usp_game_session_data_get`
(
)                        
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `data_results`
        , `data`
        , `uuid`
        , `data_layer_projectile`
        , `data_layer_actors`
        , `active`
        , `date_created`
        , `data_layer_enemy`
        , `type`
        , `description`
    FROM `game_session_data`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_session_data_get_uuid`;

delimiter $$
CREATE PROCEDURE `usp_game_session_data_get_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `data_results`
        , `data`
        , `uuid`
        , `data_layer_projectile`
        , `data_layer_actors`
        , `active`
        , `date_created`
        , `data_layer_enemy`
        , `type`
        , `description`
    FROM `game_session_data`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

-- -----------------------------------------------------------------------------
-- PROCS

-- ------------------------------------
-- COUNT

-- ------------------------------------
-- MODEL: GameContent - game_content

                       
DROP PROCEDURE IF EXISTS `usp_game_content_count`;
delimiter $$
CREATE PROCEDURE `usp_game_content_count`
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_content`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_content_count_uuid`;
delimiter $$
CREATE PROCEDURE `usp_game_content_count_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_content`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_content_count_game_id`;
delimiter $$
CREATE PROCEDURE `usp_game_content_count_game_id`
(
    in_game_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_content`
    WHERE 1=1
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_content_count_game_id_path`;
delimiter $$
CREATE PROCEDURE `usp_game_content_count_game_id_path`
(
    in_game_id BINARY(16) 
    , in_path VARCHAR (500) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_content`
    WHERE 1=1
    AND `game_id` = in_game_id
    AND lower(`path`) = lower(in_path)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_content_count_game_id_path_version`;
delimiter $$
CREATE PROCEDURE `usp_game_content_count_game_id_path_version`
(
    in_game_id BINARY(16) 
    , in_path VARCHAR (500) 
    , in_version VARCHAR (255) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_content`
    WHERE 1=1
    AND `game_id` = in_game_id
    AND lower(`path`) = lower(in_path)
    AND lower(`version`) = lower(in_version)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_content_count_game_id_path_version_platform_increment`;
delimiter $$
CREATE PROCEDURE `usp_game_content_count_game_id_path_version_platform_increment`
(
    in_game_id BINARY(16) 
    , in_path VARCHAR (500) 
    , in_version VARCHAR (255) 
    , in_platform VARCHAR (255) 
    , in_increment INTEGER 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_content`
    WHERE 1=1
    AND `game_id` = in_game_id
    AND lower(`path`) = lower(in_path)
    AND lower(`version`) = lower(in_version)
    AND lower(`platform`) = lower(in_platform)
    AND `increment` = in_increment
    ;
END$$
delimiter ;

-- ------------------------------------
-- BROWSE

-- ------------------------------------
-- MODEL: GameContent - game_content

                       
DROP PROCEDURE IF EXISTS `usp_game_content_browse_filter`;

delimiter $$
CREATE PROCEDURE `usp_game_content_browse_filter`
(
    in_page int,
    in_page_size int,
    in_sort VARCHAR(500),
    in_filter VARCHAR(4000)
    
)
BEGIN
    DECLARE total_rows int;
    SET total_rows = 0;
        
    IF (in_page = 0) THEN
        SET in_page = 1;
    END IF;    
    
    IF (in_page_size = 0) THEN
       SET in_page_size = 10;
    END IF;
    
    IF (in_sort = NULL || in_sort = '') THEN
       SET in_sort = ' date_modified ASC ';
    END IF;
    
    SET @sfields = CONCAT('', '`status`');
    SET @sfields = CONCAT(@sfields, ', `code`');
    SET @sfields = CONCAT(@sfields, ', `display_name`');
    SET @sfields = CONCAT(@sfields, ', `name`');
    SET @sfields = CONCAT(@sfields, ', `extension`');
    SET @sfields = CONCAT(@sfields, ', `date_modified`');
    SET @sfields = CONCAT(@sfields, ', `data`');
    SET @sfields = CONCAT(@sfields, ', `game_id`');
    SET @sfields = CONCAT(@sfields, ', `uuid`');
    SET @sfields = CONCAT(@sfields, ', `filename`');
    SET @sfields = CONCAT(@sfields, ', `source`');
    SET @sfields = CONCAT(@sfields, ', `version`');
    SET @sfields = CONCAT(@sfields, ', `platform`');
    SET @sfields = CONCAT(@sfields, ', `content_type`');
    SET @sfields = CONCAT(@sfields, ', `path`');
    SET @sfields = CONCAT(@sfields, ', `active`');
    SET @sfields = CONCAT(@sfields, ', `date_created`');
    SET @sfields = CONCAT(@sfields, ', `increment`');
    SET @sfields = CONCAT(@sfields, ', `type`');
    SET @sfields = CONCAT(@sfields, ', `hash`');
    SET @sfields = CONCAT(@sfields, ', `description`');
    
    SET @stable = CONCAT('', ' FROM `game_content` WHERE 1=1 ');
    
    SET @s = CONCAT(' ', @stable);
    SET @s = CONCAT(@s, ' ', in_filter);    
    
    SET @scount = CONCAT('SELECT COUNT(*) as `total_rows` ', @s, ' INTO @total_rows');
    
    PREPARE stmtcount FROM @scount;
    EXECUTE stmtcount;
    #SELECT @total_rows;
    SET total_rows = @total_rows;

    SET @sfields = CONCAT(total_rows, ' as `total_rows`, ', @sfields);
    SET @s = CONCAT('SELECT ', @sfields, @s);
    SET @s = CONCAT(@s, ' ORDER BY ', in_sort);
    SET @s = CONCAT(@s, ' LIMIT ', in_page);
    SET @s = CONCAT(@s, ',', in_page_size);    

    PREPARE stmt FROM @s;
    EXECUTE stmt;
    
END$$
delimiter ;
-- ------------------------------------
-- SET

-- ------------------------------------
-- MODEL: GameContent - game_content

                       
DROP PROCEDURE IF EXISTS `usp_game_content_set_uuid`;
delimiter $$
CREATE PROCEDURE `usp_game_content_set_uuid`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_code VARCHAR (255) 
    , in_display_name VARCHAR (255) 
    , in_name VARCHAR (255) 
    , in_extension VARCHAR (50) 
    , in_date_modified TIMESTAMP 
    , in_data TEXT 
    , in_game_id BINARY(16) 
    , in_uuid BINARY(16) 
    , in_filename VARCHAR (500) 
    , in_source VARCHAR (255) 
    , in_version VARCHAR (255) 
    , in_platform VARCHAR (255) 
    , in_content_type VARCHAR (255) 
    , in_path VARCHAR (500) 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_increment INTEGER 
    , in_type VARCHAR (500) 
    , in_hash VARCHAR (255) 
    , in_description VARCHAR (255) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_content`  
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_content` 
                    SET
                        `status` = in_status
                        , `code` = in_code
                        , `display_name` = in_display_name
                        , `name` = in_name
                        , `extension` = in_extension
                        , `date_modified` = in_date_modified
                        , `data` = in_data
                        , `game_id` = in_game_id
                        , `uuid` = in_uuid
                        , `filename` = in_filename
                        , `source` = in_source
                        , `version` = in_version
                        , `platform` = in_platform
                        , `content_type` = in_content_type
                        , `path` = in_path
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `increment` = in_increment
                        , `type` = in_type
                        , `hash` = in_hash
                        , `description` = in_description
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_content`
                    (
                        `status`
                        , `code`
                        , `display_name`
                        , `name`
                        , `extension`
                        , `date_modified`
                        , `data`
                        , `game_id`
                        , `uuid`
                        , `filename`
                        , `source`
                        , `version`
                        , `platform`
                        , `content_type`
                        , `path`
                        , `active`
                        , `date_created`
                        , `increment`
                        , `type`
                        , `hash`
                        , `description`
                    )
                    VALUES
                    (
                        in_status
                        , in_code
                        , in_display_name
                        , in_name
                        , in_extension
                        , in_date_modified
                        , in_data
                        , in_game_id
                        , in_uuid
                        , in_filename
                        , in_source
                        , in_version
                        , in_platform
                        , in_content_type
                        , in_path
                        , in_active
                        , in_date_created
                        , in_increment
                        , in_type
                        , in_hash
                        , in_description
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_content_set_game_id`;
delimiter $$
CREATE PROCEDURE `usp_game_content_set_game_id`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_code VARCHAR (255) 
    , in_display_name VARCHAR (255) 
    , in_name VARCHAR (255) 
    , in_extension VARCHAR (50) 
    , in_date_modified TIMESTAMP 
    , in_data TEXT 
    , in_game_id BINARY(16) 
    , in_uuid BINARY(16) 
    , in_filename VARCHAR (500) 
    , in_source VARCHAR (255) 
    , in_version VARCHAR (255) 
    , in_platform VARCHAR (255) 
    , in_content_type VARCHAR (255) 
    , in_path VARCHAR (500) 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_increment INTEGER 
    , in_type VARCHAR (500) 
    , in_hash VARCHAR (255) 
    , in_description VARCHAR (255) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_content`  
                    WHERE 1=1
                    AND `game_id` = in_game_id
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_content` 
                    SET
                        `status` = in_status
                        , `code` = in_code
                        , `display_name` = in_display_name
                        , `name` = in_name
                        , `extension` = in_extension
                        , `date_modified` = in_date_modified
                        , `data` = in_data
                        , `game_id` = in_game_id
                        , `uuid` = in_uuid
                        , `filename` = in_filename
                        , `source` = in_source
                        , `version` = in_version
                        , `platform` = in_platform
                        , `content_type` = in_content_type
                        , `path` = in_path
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `increment` = in_increment
                        , `type` = in_type
                        , `hash` = in_hash
                        , `description` = in_description
                    WHERE 1=1
                    AND `game_id` = in_game_id
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_content`
                    (
                        `status`
                        , `code`
                        , `display_name`
                        , `name`
                        , `extension`
                        , `date_modified`
                        , `data`
                        , `game_id`
                        , `uuid`
                        , `filename`
                        , `source`
                        , `version`
                        , `platform`
                        , `content_type`
                        , `path`
                        , `active`
                        , `date_created`
                        , `increment`
                        , `type`
                        , `hash`
                        , `description`
                    )
                    VALUES
                    (
                        in_status
                        , in_code
                        , in_display_name
                        , in_name
                        , in_extension
                        , in_date_modified
                        , in_data
                        , in_game_id
                        , in_uuid
                        , in_filename
                        , in_source
                        , in_version
                        , in_platform
                        , in_content_type
                        , in_path
                        , in_active
                        , in_date_created
                        , in_increment
                        , in_type
                        , in_hash
                        , in_description
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_content_set_game_id_path`;
delimiter $$
CREATE PROCEDURE `usp_game_content_set_game_id_path`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_code VARCHAR (255) 
    , in_display_name VARCHAR (255) 
    , in_name VARCHAR (255) 
    , in_extension VARCHAR (50) 
    , in_date_modified TIMESTAMP 
    , in_data TEXT 
    , in_game_id BINARY(16) 
    , in_uuid BINARY(16) 
    , in_filename VARCHAR (500) 
    , in_source VARCHAR (255) 
    , in_version VARCHAR (255) 
    , in_platform VARCHAR (255) 
    , in_content_type VARCHAR (255) 
    , in_path VARCHAR (500) 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_increment INTEGER 
    , in_type VARCHAR (500) 
    , in_hash VARCHAR (255) 
    , in_description VARCHAR (255) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_content`  
                    WHERE 1=1
                    AND `game_id` = in_game_id
                    AND lower(`path`) = lower(in_path)
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_content` 
                    SET
                        `status` = in_status
                        , `code` = in_code
                        , `display_name` = in_display_name
                        , `name` = in_name
                        , `extension` = in_extension
                        , `date_modified` = in_date_modified
                        , `data` = in_data
                        , `game_id` = in_game_id
                        , `uuid` = in_uuid
                        , `filename` = in_filename
                        , `source` = in_source
                        , `version` = in_version
                        , `platform` = in_platform
                        , `content_type` = in_content_type
                        , `path` = in_path
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `increment` = in_increment
                        , `type` = in_type
                        , `hash` = in_hash
                        , `description` = in_description
                    WHERE 1=1
                    AND `game_id` = in_game_id
                    AND lower(`path`) = lower(in_path)
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_content`
                    (
                        `status`
                        , `code`
                        , `display_name`
                        , `name`
                        , `extension`
                        , `date_modified`
                        , `data`
                        , `game_id`
                        , `uuid`
                        , `filename`
                        , `source`
                        , `version`
                        , `platform`
                        , `content_type`
                        , `path`
                        , `active`
                        , `date_created`
                        , `increment`
                        , `type`
                        , `hash`
                        , `description`
                    )
                    VALUES
                    (
                        in_status
                        , in_code
                        , in_display_name
                        , in_name
                        , in_extension
                        , in_date_modified
                        , in_data
                        , in_game_id
                        , in_uuid
                        , in_filename
                        , in_source
                        , in_version
                        , in_platform
                        , in_content_type
                        , in_path
                        , in_active
                        , in_date_created
                        , in_increment
                        , in_type
                        , in_hash
                        , in_description
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_content_set_game_id_path_version`;
delimiter $$
CREATE PROCEDURE `usp_game_content_set_game_id_path_version`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_code VARCHAR (255) 
    , in_display_name VARCHAR (255) 
    , in_name VARCHAR (255) 
    , in_extension VARCHAR (50) 
    , in_date_modified TIMESTAMP 
    , in_data TEXT 
    , in_game_id BINARY(16) 
    , in_uuid BINARY(16) 
    , in_filename VARCHAR (500) 
    , in_source VARCHAR (255) 
    , in_version VARCHAR (255) 
    , in_platform VARCHAR (255) 
    , in_content_type VARCHAR (255) 
    , in_path VARCHAR (500) 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_increment INTEGER 
    , in_type VARCHAR (500) 
    , in_hash VARCHAR (255) 
    , in_description VARCHAR (255) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_content`  
                    WHERE 1=1
                    AND `game_id` = in_game_id
                    AND lower(`path`) = lower(in_path)
                    AND lower(`version`) = lower(in_version)
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_content` 
                    SET
                        `status` = in_status
                        , `code` = in_code
                        , `display_name` = in_display_name
                        , `name` = in_name
                        , `extension` = in_extension
                        , `date_modified` = in_date_modified
                        , `data` = in_data
                        , `game_id` = in_game_id
                        , `uuid` = in_uuid
                        , `filename` = in_filename
                        , `source` = in_source
                        , `version` = in_version
                        , `platform` = in_platform
                        , `content_type` = in_content_type
                        , `path` = in_path
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `increment` = in_increment
                        , `type` = in_type
                        , `hash` = in_hash
                        , `description` = in_description
                    WHERE 1=1
                    AND `game_id` = in_game_id
                    AND lower(`path`) = lower(in_path)
                    AND lower(`version`) = lower(in_version)
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_content`
                    (
                        `status`
                        , `code`
                        , `display_name`
                        , `name`
                        , `extension`
                        , `date_modified`
                        , `data`
                        , `game_id`
                        , `uuid`
                        , `filename`
                        , `source`
                        , `version`
                        , `platform`
                        , `content_type`
                        , `path`
                        , `active`
                        , `date_created`
                        , `increment`
                        , `type`
                        , `hash`
                        , `description`
                    )
                    VALUES
                    (
                        in_status
                        , in_code
                        , in_display_name
                        , in_name
                        , in_extension
                        , in_date_modified
                        , in_data
                        , in_game_id
                        , in_uuid
                        , in_filename
                        , in_source
                        , in_version
                        , in_platform
                        , in_content_type
                        , in_path
                        , in_active
                        , in_date_created
                        , in_increment
                        , in_type
                        , in_hash
                        , in_description
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_content_set_game_id_path_version_platform_increment`;
delimiter $$
CREATE PROCEDURE `usp_game_content_set_game_id_path_version_platform_increment`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_code VARCHAR (255) 
    , in_display_name VARCHAR (255) 
    , in_name VARCHAR (255) 
    , in_extension VARCHAR (50) 
    , in_date_modified TIMESTAMP 
    , in_data TEXT 
    , in_game_id BINARY(16) 
    , in_uuid BINARY(16) 
    , in_filename VARCHAR (500) 
    , in_source VARCHAR (255) 
    , in_version VARCHAR (255) 
    , in_platform VARCHAR (255) 
    , in_content_type VARCHAR (255) 
    , in_path VARCHAR (500) 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_increment INTEGER 
    , in_type VARCHAR (500) 
    , in_hash VARCHAR (255) 
    , in_description VARCHAR (255) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_content`  
                    WHERE 1=1
                    AND `game_id` = in_game_id
                    AND lower(`path`) = lower(in_path)
                    AND lower(`version`) = lower(in_version)
                    AND lower(`platform`) = lower(in_platform)
                    AND `increment` = in_increment
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_content` 
                    SET
                        `status` = in_status
                        , `code` = in_code
                        , `display_name` = in_display_name
                        , `name` = in_name
                        , `extension` = in_extension
                        , `date_modified` = in_date_modified
                        , `data` = in_data
                        , `game_id` = in_game_id
                        , `uuid` = in_uuid
                        , `filename` = in_filename
                        , `source` = in_source
                        , `version` = in_version
                        , `platform` = in_platform
                        , `content_type` = in_content_type
                        , `path` = in_path
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `increment` = in_increment
                        , `type` = in_type
                        , `hash` = in_hash
                        , `description` = in_description
                    WHERE 1=1
                    AND `game_id` = in_game_id
                    AND lower(`path`) = lower(in_path)
                    AND lower(`version`) = lower(in_version)
                    AND lower(`platform`) = lower(in_platform)
                    AND `increment` = in_increment
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_content`
                    (
                        `status`
                        , `code`
                        , `display_name`
                        , `name`
                        , `extension`
                        , `date_modified`
                        , `data`
                        , `game_id`
                        , `uuid`
                        , `filename`
                        , `source`
                        , `version`
                        , `platform`
                        , `content_type`
                        , `path`
                        , `active`
                        , `date_created`
                        , `increment`
                        , `type`
                        , `hash`
                        , `description`
                    )
                    VALUES
                    (
                        in_status
                        , in_code
                        , in_display_name
                        , in_name
                        , in_extension
                        , in_date_modified
                        , in_data
                        , in_game_id
                        , in_uuid
                        , in_filename
                        , in_source
                        , in_version
                        , in_platform
                        , in_content_type
                        , in_path
                        , in_active
                        , in_date_created
                        , in_increment
                        , in_type
                        , in_hash
                        , in_description
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

-- ------------------------------------
-- DEL

-- ------------------------------------
-- MODEL: GameContent - game_content

                       
DROP PROCEDURE IF EXISTS `usp_game_content_del_uuid`;

delimiter $$
CREATE PROCEDURE `usp_game_content_del_uuid`
(
    in_uuid BINARY(16) 
)

BEGIN
    DELETE 
    FROM `game_content`
    WHERE 1=1                        
    AND "uuid" = in_uuid
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_game_content_del_game_id`;

delimiter $$
CREATE PROCEDURE `usp_game_content_del_game_id`
(
    in_game_id BINARY(16) 
)

BEGIN
    DELETE 
    FROM `game_content`
    WHERE 1=1                        
    AND "game_id" = in_game_id
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_game_content_del_game_id_path`;

delimiter $$
CREATE PROCEDURE `usp_game_content_del_game_id_path`
(
    in_game_id BINARY(16) 
    , in_path VARCHAR (500) 
)

BEGIN
    DELETE 
    FROM `game_content`
    WHERE 1=1                        
    AND "game_id" = in_game_id
    AND lower("path") = lower(in_path)
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_game_content_del_game_id_path_version`;

delimiter $$
CREATE PROCEDURE `usp_game_content_del_game_id_path_version`
(
    in_game_id BINARY(16) 
    , in_path VARCHAR (500) 
    , in_version VARCHAR (255) 
)

BEGIN
    DELETE 
    FROM `game_content`
    WHERE 1=1                        
    AND "game_id" = in_game_id
    AND lower("path") = lower(in_path)
    AND lower("version") = lower(in_version)
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_game_content_del_game_id_path_version_platform_increment`;

delimiter $$
CREATE PROCEDURE `usp_game_content_del_game_id_path_version_platform_increment`
(
    in_game_id BINARY(16) 
    , in_path VARCHAR (500) 
    , in_version VARCHAR (255) 
    , in_platform VARCHAR (255) 
    , in_increment INTEGER 
)

BEGIN
    DELETE 
    FROM `game_content`
    WHERE 1=1                        
    AND "game_id" = in_game_id
    AND lower("path") = lower(in_path)
    AND lower("version") = lower(in_version)
    AND lower("platform") = lower(in_platform)
    AND "increment" = in_increment
    ;
END$$
delimiter ;
-- ------------------------------------
-- GET

-- ------------------------------------
-- MODEL: GameContent - game_content

                       
DROP PROCEDURE IF EXISTS `usp_game_content_get`;

delimiter $$
CREATE PROCEDURE `usp_game_content_get`
(
)                        
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `extension`
        , `date_modified`
        , `data`
        , `game_id`
        , `uuid`
        , `filename`
        , `source`
        , `version`
        , `platform`
        , `content_type`
        , `path`
        , `active`
        , `date_created`
        , `increment`
        , `type`
        , `hash`
        , `description`
    FROM `game_content`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_content_get_uuid`;

delimiter $$
CREATE PROCEDURE `usp_game_content_get_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `extension`
        , `date_modified`
        , `data`
        , `game_id`
        , `uuid`
        , `filename`
        , `source`
        , `version`
        , `platform`
        , `content_type`
        , `path`
        , `active`
        , `date_created`
        , `increment`
        , `type`
        , `hash`
        , `description`
    FROM `game_content`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_content_get_game_id`;

delimiter $$
CREATE PROCEDURE `usp_game_content_get_game_id`
(
    in_game_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `extension`
        , `date_modified`
        , `data`
        , `game_id`
        , `uuid`
        , `filename`
        , `source`
        , `version`
        , `platform`
        , `content_type`
        , `path`
        , `active`
        , `date_created`
        , `increment`
        , `type`
        , `hash`
        , `description`
    FROM `game_content`
    WHERE 1=1
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_content_get_game_id_path`;

delimiter $$
CREATE PROCEDURE `usp_game_content_get_game_id_path`
(
    in_game_id BINARY(16) 
    , in_path VARCHAR (500) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `extension`
        , `date_modified`
        , `data`
        , `game_id`
        , `uuid`
        , `filename`
        , `source`
        , `version`
        , `platform`
        , `content_type`
        , `path`
        , `active`
        , `date_created`
        , `increment`
        , `type`
        , `hash`
        , `description`
    FROM `game_content`
    WHERE 1=1
    AND `game_id` = in_game_id
    AND lower(`path`) = lower(in_path)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_content_get_game_id_path_version`;

delimiter $$
CREATE PROCEDURE `usp_game_content_get_game_id_path_version`
(
    in_game_id BINARY(16) 
    , in_path VARCHAR (500) 
    , in_version VARCHAR (255) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `extension`
        , `date_modified`
        , `data`
        , `game_id`
        , `uuid`
        , `filename`
        , `source`
        , `version`
        , `platform`
        , `content_type`
        , `path`
        , `active`
        , `date_created`
        , `increment`
        , `type`
        , `hash`
        , `description`
    FROM `game_content`
    WHERE 1=1
    AND `game_id` = in_game_id
    AND lower(`path`) = lower(in_path)
    AND lower(`version`) = lower(in_version)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_content_get_game_id_path_version_platform_increment`;

delimiter $$
CREATE PROCEDURE `usp_game_content_get_game_id_path_version_platform_increment`
(
    in_game_id BINARY(16) 
    , in_path VARCHAR (500) 
    , in_version VARCHAR (255) 
    , in_platform VARCHAR (255) 
    , in_increment INTEGER 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `extension`
        , `date_modified`
        , `data`
        , `game_id`
        , `uuid`
        , `filename`
        , `source`
        , `version`
        , `platform`
        , `content_type`
        , `path`
        , `active`
        , `date_created`
        , `increment`
        , `type`
        , `hash`
        , `description`
    FROM `game_content`
    WHERE 1=1
    AND `game_id` = in_game_id
    AND lower(`path`) = lower(in_path)
    AND lower(`version`) = lower(in_version)
    AND lower(`platform`) = lower(in_platform)
    AND `increment` = in_increment
    ;
END$$
delimiter ;

-- -----------------------------------------------------------------------------
-- PROCS

-- ------------------------------------
-- COUNT

-- ------------------------------------
-- MODEL: GameProfileContent - game_profile_content

                       
DROP PROCEDURE IF EXISTS `usp_game_profile_content_count`;
delimiter $$
CREATE PROCEDURE `usp_game_profile_content_count`
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_profile_content`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_profile_content_count_uuid`;
delimiter $$
CREATE PROCEDURE `usp_game_profile_content_count_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_profile_content`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_profile_content_count_game_id_profile_id`;
delimiter $$
CREATE PROCEDURE `usp_game_profile_content_count_game_id_profile_id`
(
    in_game_id BINARY(16) 
    , in_profile_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_profile_content`
    WHERE 1=1
    AND `game_id` = in_game_id
    AND `profile_id` = in_profile_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_profile_content_count_game_id_username`;
delimiter $$
CREATE PROCEDURE `usp_game_profile_content_count_game_id_username`
(
    in_game_id BINARY(16) 
    , in_username VARCHAR (500) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_profile_content`
    WHERE 1=1
    AND `game_id` = in_game_id
    AND lower(`username`) = lower(in_username)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_profile_content_count_username`;
delimiter $$
CREATE PROCEDURE `usp_game_profile_content_count_username`
(
    in_username VARCHAR (500) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_profile_content`
    WHERE 1=1
    AND lower(`username`) = lower(in_username)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_profile_content_count_game_id_profile_id_path`;
delimiter $$
CREATE PROCEDURE `usp_game_profile_content_count_game_id_profile_id_path`
(
    in_game_id BINARY(16) 
    , in_profile_id BINARY(16) 
    , in_path VARCHAR (500) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_profile_content`
    WHERE 1=1
    AND `game_id` = in_game_id
    AND `profile_id` = in_profile_id
    AND lower(`path`) = lower(in_path)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_profile_content_count_game_id_profile_id_path_version`;
delimiter $$
CREATE PROCEDURE `usp_game_profile_content_count_game_id_profile_id_path_version`
(
    in_game_id BINARY(16) 
    , in_profile_id BINARY(16) 
    , in_path VARCHAR (500) 
    , in_version VARCHAR (255) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_profile_content`
    WHERE 1=1
    AND `game_id` = in_game_id
    AND `profile_id` = in_profile_id
    AND lower(`path`) = lower(in_path)
    AND lower(`version`) = lower(in_version)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_profile_content_count_game_id_profile_id_path_version_`;
delimiter $$
CREATE PROCEDURE `usp_game_profile_content_count_game_id_profile_id_path_version_`
(
    in_game_id BINARY(16) 
    , in_profile_id BINARY(16) 
    , in_path VARCHAR (500) 
    , in_version VARCHAR (255) 
    , in_platform VARCHAR (255) 
    , in_increment INTEGER 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_profile_content`
    WHERE 1=1
    AND `game_id` = in_game_id
    AND `profile_id` = in_profile_id
    AND lower(`path`) = lower(in_path)
    AND lower(`version`) = lower(in_version)
    AND lower(`platform`) = lower(in_platform)
    AND `increment` = in_increment
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_profile_content_count_game_id_username_path`;
delimiter $$
CREATE PROCEDURE `usp_game_profile_content_count_game_id_username_path`
(
    in_game_id BINARY(16) 
    , in_username VARCHAR (500) 
    , in_path VARCHAR (500) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_profile_content`
    WHERE 1=1
    AND `game_id` = in_game_id
    AND lower(`username`) = lower(in_username)
    AND lower(`path`) = lower(in_path)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_profile_content_count_game_id_username_path_version`;
delimiter $$
CREATE PROCEDURE `usp_game_profile_content_count_game_id_username_path_version`
(
    in_game_id BINARY(16) 
    , in_username VARCHAR (500) 
    , in_path VARCHAR (500) 
    , in_version VARCHAR (255) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_profile_content`
    WHERE 1=1
    AND `game_id` = in_game_id
    AND lower(`username`) = lower(in_username)
    AND lower(`path`) = lower(in_path)
    AND lower(`version`) = lower(in_version)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_profile_content_count_game_id_username_path_version_pl`;
delimiter $$
CREATE PROCEDURE `usp_game_profile_content_count_game_id_username_path_version_pl`
(
    in_game_id BINARY(16) 
    , in_username VARCHAR (500) 
    , in_path VARCHAR (500) 
    , in_version VARCHAR (255) 
    , in_platform VARCHAR (255) 
    , in_increment INTEGER 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_profile_content`
    WHERE 1=1
    AND `game_id` = in_game_id
    AND lower(`username`) = lower(in_username)
    AND lower(`path`) = lower(in_path)
    AND lower(`version`) = lower(in_version)
    AND lower(`platform`) = lower(in_platform)
    AND `increment` = in_increment
    ;
END$$
delimiter ;

-- ------------------------------------
-- BROWSE

-- ------------------------------------
-- MODEL: GameProfileContent - game_profile_content

                       
DROP PROCEDURE IF EXISTS `usp_game_profile_content_browse_filter`;

delimiter $$
CREATE PROCEDURE `usp_game_profile_content_browse_filter`
(
    in_page int,
    in_page_size int,
    in_sort VARCHAR(500),
    in_filter VARCHAR(4000)
    
)
BEGIN
    DECLARE total_rows int;
    SET total_rows = 0;
        
    IF (in_page = 0) THEN
        SET in_page = 1;
    END IF;    
    
    IF (in_page_size = 0) THEN
       SET in_page_size = 10;
    END IF;
    
    IF (in_sort = NULL || in_sort = '') THEN
       SET in_sort = ' date_modified ASC ';
    END IF;
    
    SET @sfields = CONCAT('', '`username`');
    SET @sfields = CONCAT(@sfields, ', `code`');
    SET @sfields = CONCAT(@sfields, ', `profile_id`');
    SET @sfields = CONCAT(@sfields, ', `increment`');
    SET @sfields = CONCAT(@sfields, ', `path`');
    SET @sfields = CONCAT(@sfields, ', `display_name`');
    SET @sfields = CONCAT(@sfields, ', `uuid`');
    SET @sfields = CONCAT(@sfields, ', `platform`');
    SET @sfields = CONCAT(@sfields, ', `filename`');
    SET @sfields = CONCAT(@sfields, ', `source`');
    SET @sfields = CONCAT(@sfields, ', `version`');
    SET @sfields = CONCAT(@sfields, ', `game_network`');
    SET @sfields = CONCAT(@sfields, ', `type`');
    SET @sfields = CONCAT(@sfields, ', `status`');
    SET @sfields = CONCAT(@sfields, ', `hash`');
    SET @sfields = CONCAT(@sfields, ', `description`');
    SET @sfields = CONCAT(@sfields, ', `content_type`');
    SET @sfields = CONCAT(@sfields, ', `active`');
    SET @sfields = CONCAT(@sfields, ', `game_id`');
    SET @sfields = CONCAT(@sfields, ', `data`');
    SET @sfields = CONCAT(@sfields, ', `name`');
    SET @sfields = CONCAT(@sfields, ', `extension`');
    SET @sfields = CONCAT(@sfields, ', `date_modified`');
    SET @sfields = CONCAT(@sfields, ', `date_created`');
    
    SET @stable = CONCAT('', ' FROM `game_profile_content` WHERE 1=1 ');
    
    SET @s = CONCAT(' ', @stable);
    SET @s = CONCAT(@s, ' ', in_filter);    
    
    SET @scount = CONCAT('SELECT COUNT(*) as `total_rows` ', @s, ' INTO @total_rows');
    
    PREPARE stmtcount FROM @scount;
    EXECUTE stmtcount;
    #SELECT @total_rows;
    SET total_rows = @total_rows;

    SET @sfields = CONCAT(total_rows, ' as `total_rows`, ', @sfields);
    SET @s = CONCAT('SELECT ', @sfields, @s);
    SET @s = CONCAT(@s, ' ORDER BY ', in_sort);
    SET @s = CONCAT(@s, ' LIMIT ', in_page);
    SET @s = CONCAT(@s, ',', in_page_size);    

    PREPARE stmt FROM @s;
    EXECUTE stmt;
    
END$$
delimiter ;
-- ------------------------------------
-- SET

-- ------------------------------------
-- MODEL: GameProfileContent - game_profile_content

                       
DROP PROCEDURE IF EXISTS `usp_game_profile_content_set_uuid`;
delimiter $$
CREATE PROCEDURE `usp_game_profile_content_set_uuid`
(
    in_set_type varchar(50)                      
    , in_username VARCHAR (500) 
    , in_code VARCHAR (255) 
    , in_profile_id BINARY(16) 
    , in_increment INTEGER 
    , in_path VARCHAR (500) 
    , in_display_name VARCHAR (255) 
    , in_uuid BINARY(16) 
    , in_platform VARCHAR (255) 
    , in_filename VARCHAR (500) 
    , in_source VARCHAR (255) 
    , in_version VARCHAR (255) 
    , in_game_network VARCHAR (500) 
    , in_type VARCHAR (500) 
    , in_status VARCHAR (255) 
    , in_hash VARCHAR (255) 
    , in_description VARCHAR (255) 
    , in_content_type VARCHAR (255) 
    , in_active int 
    , in_game_id BINARY(16) 
    , in_data TEXT 
    , in_name VARCHAR (255) 
    , in_extension VARCHAR (50) 
    , in_date_modified TIMESTAMP 
    , in_date_created TIMESTAMP 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_profile_content`  
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_profile_content` 
                    SET
                        `username` = in_username
                        , `code` = in_code
                        , `profile_id` = in_profile_id
                        , `increment` = in_increment
                        , `path` = in_path
                        , `display_name` = in_display_name
                        , `uuid` = in_uuid
                        , `platform` = in_platform
                        , `filename` = in_filename
                        , `source` = in_source
                        , `version` = in_version
                        , `game_network` = in_game_network
                        , `type` = in_type
                        , `status` = in_status
                        , `hash` = in_hash
                        , `description` = in_description
                        , `content_type` = in_content_type
                        , `active` = in_active
                        , `game_id` = in_game_id
                        , `data` = in_data
                        , `name` = in_name
                        , `extension` = in_extension
                        , `date_modified` = in_date_modified
                        , `date_created` = in_date_created
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_profile_content`
                    (
                        `username`
                        , `code`
                        , `profile_id`
                        , `increment`
                        , `path`
                        , `display_name`
                        , `uuid`
                        , `platform`
                        , `filename`
                        , `source`
                        , `version`
                        , `game_network`
                        , `type`
                        , `status`
                        , `hash`
                        , `description`
                        , `content_type`
                        , `active`
                        , `game_id`
                        , `data`
                        , `name`
                        , `extension`
                        , `date_modified`
                        , `date_created`
                    )
                    VALUES
                    (
                        in_username
                        , in_code
                        , in_profile_id
                        , in_increment
                        , in_path
                        , in_display_name
                        , in_uuid
                        , in_platform
                        , in_filename
                        , in_source
                        , in_version
                        , in_game_network
                        , in_type
                        , in_status
                        , in_hash
                        , in_description
                        , in_content_type
                        , in_active
                        , in_game_id
                        , in_data
                        , in_name
                        , in_extension
                        , in_date_modified
                        , in_date_created
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_profile_content_set_game_id_profile_id`;
delimiter $$
CREATE PROCEDURE `usp_game_profile_content_set_game_id_profile_id`
(
    in_set_type varchar(50)                      
    , in_username VARCHAR (500) 
    , in_code VARCHAR (255) 
    , in_profile_id BINARY(16) 
    , in_increment INTEGER 
    , in_path VARCHAR (500) 
    , in_display_name VARCHAR (255) 
    , in_uuid BINARY(16) 
    , in_platform VARCHAR (255) 
    , in_filename VARCHAR (500) 
    , in_source VARCHAR (255) 
    , in_version VARCHAR (255) 
    , in_game_network VARCHAR (500) 
    , in_type VARCHAR (500) 
    , in_status VARCHAR (255) 
    , in_hash VARCHAR (255) 
    , in_description VARCHAR (255) 
    , in_content_type VARCHAR (255) 
    , in_active int 
    , in_game_id BINARY(16) 
    , in_data TEXT 
    , in_name VARCHAR (255) 
    , in_extension VARCHAR (50) 
    , in_date_modified TIMESTAMP 
    , in_date_created TIMESTAMP 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_profile_content`  
                    WHERE 1=1
                    AND `game_id` = in_game_id
                    AND `profile_id` = in_profile_id
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_profile_content` 
                    SET
                        `username` = in_username
                        , `code` = in_code
                        , `profile_id` = in_profile_id
                        , `increment` = in_increment
                        , `path` = in_path
                        , `display_name` = in_display_name
                        , `uuid` = in_uuid
                        , `platform` = in_platform
                        , `filename` = in_filename
                        , `source` = in_source
                        , `version` = in_version
                        , `game_network` = in_game_network
                        , `type` = in_type
                        , `status` = in_status
                        , `hash` = in_hash
                        , `description` = in_description
                        , `content_type` = in_content_type
                        , `active` = in_active
                        , `game_id` = in_game_id
                        , `data` = in_data
                        , `name` = in_name
                        , `extension` = in_extension
                        , `date_modified` = in_date_modified
                        , `date_created` = in_date_created
                    WHERE 1=1
                    AND `game_id` = in_game_id
                    AND `profile_id` = in_profile_id
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_profile_content`
                    (
                        `username`
                        , `code`
                        , `profile_id`
                        , `increment`
                        , `path`
                        , `display_name`
                        , `uuid`
                        , `platform`
                        , `filename`
                        , `source`
                        , `version`
                        , `game_network`
                        , `type`
                        , `status`
                        , `hash`
                        , `description`
                        , `content_type`
                        , `active`
                        , `game_id`
                        , `data`
                        , `name`
                        , `extension`
                        , `date_modified`
                        , `date_created`
                    )
                    VALUES
                    (
                        in_username
                        , in_code
                        , in_profile_id
                        , in_increment
                        , in_path
                        , in_display_name
                        , in_uuid
                        , in_platform
                        , in_filename
                        , in_source
                        , in_version
                        , in_game_network
                        , in_type
                        , in_status
                        , in_hash
                        , in_description
                        , in_content_type
                        , in_active
                        , in_game_id
                        , in_data
                        , in_name
                        , in_extension
                        , in_date_modified
                        , in_date_created
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_profile_content_set_game_id_username`;
delimiter $$
CREATE PROCEDURE `usp_game_profile_content_set_game_id_username`
(
    in_set_type varchar(50)                      
    , in_username VARCHAR (500) 
    , in_code VARCHAR (255) 
    , in_profile_id BINARY(16) 
    , in_increment INTEGER 
    , in_path VARCHAR (500) 
    , in_display_name VARCHAR (255) 
    , in_uuid BINARY(16) 
    , in_platform VARCHAR (255) 
    , in_filename VARCHAR (500) 
    , in_source VARCHAR (255) 
    , in_version VARCHAR (255) 
    , in_game_network VARCHAR (500) 
    , in_type VARCHAR (500) 
    , in_status VARCHAR (255) 
    , in_hash VARCHAR (255) 
    , in_description VARCHAR (255) 
    , in_content_type VARCHAR (255) 
    , in_active int 
    , in_game_id BINARY(16) 
    , in_data TEXT 
    , in_name VARCHAR (255) 
    , in_extension VARCHAR (50) 
    , in_date_modified TIMESTAMP 
    , in_date_created TIMESTAMP 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_profile_content`  
                    WHERE 1=1
                    AND `game_id` = in_game_id
                    AND lower(`username`) = lower(in_username)
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_profile_content` 
                    SET
                        `username` = in_username
                        , `code` = in_code
                        , `profile_id` = in_profile_id
                        , `increment` = in_increment
                        , `path` = in_path
                        , `display_name` = in_display_name
                        , `uuid` = in_uuid
                        , `platform` = in_platform
                        , `filename` = in_filename
                        , `source` = in_source
                        , `version` = in_version
                        , `game_network` = in_game_network
                        , `type` = in_type
                        , `status` = in_status
                        , `hash` = in_hash
                        , `description` = in_description
                        , `content_type` = in_content_type
                        , `active` = in_active
                        , `game_id` = in_game_id
                        , `data` = in_data
                        , `name` = in_name
                        , `extension` = in_extension
                        , `date_modified` = in_date_modified
                        , `date_created` = in_date_created
                    WHERE 1=1
                    AND `game_id` = in_game_id
                    AND lower(`username`) = lower(in_username)
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_profile_content`
                    (
                        `username`
                        , `code`
                        , `profile_id`
                        , `increment`
                        , `path`
                        , `display_name`
                        , `uuid`
                        , `platform`
                        , `filename`
                        , `source`
                        , `version`
                        , `game_network`
                        , `type`
                        , `status`
                        , `hash`
                        , `description`
                        , `content_type`
                        , `active`
                        , `game_id`
                        , `data`
                        , `name`
                        , `extension`
                        , `date_modified`
                        , `date_created`
                    )
                    VALUES
                    (
                        in_username
                        , in_code
                        , in_profile_id
                        , in_increment
                        , in_path
                        , in_display_name
                        , in_uuid
                        , in_platform
                        , in_filename
                        , in_source
                        , in_version
                        , in_game_network
                        , in_type
                        , in_status
                        , in_hash
                        , in_description
                        , in_content_type
                        , in_active
                        , in_game_id
                        , in_data
                        , in_name
                        , in_extension
                        , in_date_modified
                        , in_date_created
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_profile_content_set_username`;
delimiter $$
CREATE PROCEDURE `usp_game_profile_content_set_username`
(
    in_set_type varchar(50)                      
    , in_username VARCHAR (500) 
    , in_code VARCHAR (255) 
    , in_profile_id BINARY(16) 
    , in_increment INTEGER 
    , in_path VARCHAR (500) 
    , in_display_name VARCHAR (255) 
    , in_uuid BINARY(16) 
    , in_platform VARCHAR (255) 
    , in_filename VARCHAR (500) 
    , in_source VARCHAR (255) 
    , in_version VARCHAR (255) 
    , in_game_network VARCHAR (500) 
    , in_type VARCHAR (500) 
    , in_status VARCHAR (255) 
    , in_hash VARCHAR (255) 
    , in_description VARCHAR (255) 
    , in_content_type VARCHAR (255) 
    , in_active int 
    , in_game_id BINARY(16) 
    , in_data TEXT 
    , in_name VARCHAR (255) 
    , in_extension VARCHAR (50) 
    , in_date_modified TIMESTAMP 
    , in_date_created TIMESTAMP 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_profile_content`  
                    WHERE 1=1
                    AND lower(`username`) = lower(in_username)
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_profile_content` 
                    SET
                        `username` = in_username
                        , `code` = in_code
                        , `profile_id` = in_profile_id
                        , `increment` = in_increment
                        , `path` = in_path
                        , `display_name` = in_display_name
                        , `uuid` = in_uuid
                        , `platform` = in_platform
                        , `filename` = in_filename
                        , `source` = in_source
                        , `version` = in_version
                        , `game_network` = in_game_network
                        , `type` = in_type
                        , `status` = in_status
                        , `hash` = in_hash
                        , `description` = in_description
                        , `content_type` = in_content_type
                        , `active` = in_active
                        , `game_id` = in_game_id
                        , `data` = in_data
                        , `name` = in_name
                        , `extension` = in_extension
                        , `date_modified` = in_date_modified
                        , `date_created` = in_date_created
                    WHERE 1=1
                    AND lower(`username`) = lower(in_username)
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_profile_content`
                    (
                        `username`
                        , `code`
                        , `profile_id`
                        , `increment`
                        , `path`
                        , `display_name`
                        , `uuid`
                        , `platform`
                        , `filename`
                        , `source`
                        , `version`
                        , `game_network`
                        , `type`
                        , `status`
                        , `hash`
                        , `description`
                        , `content_type`
                        , `active`
                        , `game_id`
                        , `data`
                        , `name`
                        , `extension`
                        , `date_modified`
                        , `date_created`
                    )
                    VALUES
                    (
                        in_username
                        , in_code
                        , in_profile_id
                        , in_increment
                        , in_path
                        , in_display_name
                        , in_uuid
                        , in_platform
                        , in_filename
                        , in_source
                        , in_version
                        , in_game_network
                        , in_type
                        , in_status
                        , in_hash
                        , in_description
                        , in_content_type
                        , in_active
                        , in_game_id
                        , in_data
                        , in_name
                        , in_extension
                        , in_date_modified
                        , in_date_created
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_profile_content_set_game_id_profile_id_path`;
delimiter $$
CREATE PROCEDURE `usp_game_profile_content_set_game_id_profile_id_path`
(
    in_set_type varchar(50)                      
    , in_username VARCHAR (500) 
    , in_code VARCHAR (255) 
    , in_profile_id BINARY(16) 
    , in_increment INTEGER 
    , in_path VARCHAR (500) 
    , in_display_name VARCHAR (255) 
    , in_uuid BINARY(16) 
    , in_platform VARCHAR (255) 
    , in_filename VARCHAR (500) 
    , in_source VARCHAR (255) 
    , in_version VARCHAR (255) 
    , in_game_network VARCHAR (500) 
    , in_type VARCHAR (500) 
    , in_status VARCHAR (255) 
    , in_hash VARCHAR (255) 
    , in_description VARCHAR (255) 
    , in_content_type VARCHAR (255) 
    , in_active int 
    , in_game_id BINARY(16) 
    , in_data TEXT 
    , in_name VARCHAR (255) 
    , in_extension VARCHAR (50) 
    , in_date_modified TIMESTAMP 
    , in_date_created TIMESTAMP 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_profile_content`  
                    WHERE 1=1
                    AND `game_id` = in_game_id
                    AND `profile_id` = in_profile_id
                    AND lower(`path`) = lower(in_path)
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_profile_content` 
                    SET
                        `username` = in_username
                        , `code` = in_code
                        , `profile_id` = in_profile_id
                        , `increment` = in_increment
                        , `path` = in_path
                        , `display_name` = in_display_name
                        , `uuid` = in_uuid
                        , `platform` = in_platform
                        , `filename` = in_filename
                        , `source` = in_source
                        , `version` = in_version
                        , `game_network` = in_game_network
                        , `type` = in_type
                        , `status` = in_status
                        , `hash` = in_hash
                        , `description` = in_description
                        , `content_type` = in_content_type
                        , `active` = in_active
                        , `game_id` = in_game_id
                        , `data` = in_data
                        , `name` = in_name
                        , `extension` = in_extension
                        , `date_modified` = in_date_modified
                        , `date_created` = in_date_created
                    WHERE 1=1
                    AND `game_id` = in_game_id
                    AND `profile_id` = in_profile_id
                    AND lower(`path`) = lower(in_path)
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_profile_content`
                    (
                        `username`
                        , `code`
                        , `profile_id`
                        , `increment`
                        , `path`
                        , `display_name`
                        , `uuid`
                        , `platform`
                        , `filename`
                        , `source`
                        , `version`
                        , `game_network`
                        , `type`
                        , `status`
                        , `hash`
                        , `description`
                        , `content_type`
                        , `active`
                        , `game_id`
                        , `data`
                        , `name`
                        , `extension`
                        , `date_modified`
                        , `date_created`
                    )
                    VALUES
                    (
                        in_username
                        , in_code
                        , in_profile_id
                        , in_increment
                        , in_path
                        , in_display_name
                        , in_uuid
                        , in_platform
                        , in_filename
                        , in_source
                        , in_version
                        , in_game_network
                        , in_type
                        , in_status
                        , in_hash
                        , in_description
                        , in_content_type
                        , in_active
                        , in_game_id
                        , in_data
                        , in_name
                        , in_extension
                        , in_date_modified
                        , in_date_created
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_profile_content_set_game_id_profile_id_path_version`;
delimiter $$
CREATE PROCEDURE `usp_game_profile_content_set_game_id_profile_id_path_version`
(
    in_set_type varchar(50)                      
    , in_username VARCHAR (500) 
    , in_code VARCHAR (255) 
    , in_profile_id BINARY(16) 
    , in_increment INTEGER 
    , in_path VARCHAR (500) 
    , in_display_name VARCHAR (255) 
    , in_uuid BINARY(16) 
    , in_platform VARCHAR (255) 
    , in_filename VARCHAR (500) 
    , in_source VARCHAR (255) 
    , in_version VARCHAR (255) 
    , in_game_network VARCHAR (500) 
    , in_type VARCHAR (500) 
    , in_status VARCHAR (255) 
    , in_hash VARCHAR (255) 
    , in_description VARCHAR (255) 
    , in_content_type VARCHAR (255) 
    , in_active int 
    , in_game_id BINARY(16) 
    , in_data TEXT 
    , in_name VARCHAR (255) 
    , in_extension VARCHAR (50) 
    , in_date_modified TIMESTAMP 
    , in_date_created TIMESTAMP 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_profile_content`  
                    WHERE 1=1
                    AND `game_id` = in_game_id
                    AND `profile_id` = in_profile_id
                    AND lower(`path`) = lower(in_path)
                    AND lower(`version`) = lower(in_version)
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_profile_content` 
                    SET
                        `username` = in_username
                        , `code` = in_code
                        , `profile_id` = in_profile_id
                        , `increment` = in_increment
                        , `path` = in_path
                        , `display_name` = in_display_name
                        , `uuid` = in_uuid
                        , `platform` = in_platform
                        , `filename` = in_filename
                        , `source` = in_source
                        , `version` = in_version
                        , `game_network` = in_game_network
                        , `type` = in_type
                        , `status` = in_status
                        , `hash` = in_hash
                        , `description` = in_description
                        , `content_type` = in_content_type
                        , `active` = in_active
                        , `game_id` = in_game_id
                        , `data` = in_data
                        , `name` = in_name
                        , `extension` = in_extension
                        , `date_modified` = in_date_modified
                        , `date_created` = in_date_created
                    WHERE 1=1
                    AND `game_id` = in_game_id
                    AND `profile_id` = in_profile_id
                    AND lower(`path`) = lower(in_path)
                    AND lower(`version`) = lower(in_version)
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_profile_content`
                    (
                        `username`
                        , `code`
                        , `profile_id`
                        , `increment`
                        , `path`
                        , `display_name`
                        , `uuid`
                        , `platform`
                        , `filename`
                        , `source`
                        , `version`
                        , `game_network`
                        , `type`
                        , `status`
                        , `hash`
                        , `description`
                        , `content_type`
                        , `active`
                        , `game_id`
                        , `data`
                        , `name`
                        , `extension`
                        , `date_modified`
                        , `date_created`
                    )
                    VALUES
                    (
                        in_username
                        , in_code
                        , in_profile_id
                        , in_increment
                        , in_path
                        , in_display_name
                        , in_uuid
                        , in_platform
                        , in_filename
                        , in_source
                        , in_version
                        , in_game_network
                        , in_type
                        , in_status
                        , in_hash
                        , in_description
                        , in_content_type
                        , in_active
                        , in_game_id
                        , in_data
                        , in_name
                        , in_extension
                        , in_date_modified
                        , in_date_created
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_profile_content_set_game_id_profile_id_path_version_pl`;
delimiter $$
CREATE PROCEDURE `usp_game_profile_content_set_game_id_profile_id_path_version_pl`
(
    in_set_type varchar(50)                      
    , in_username VARCHAR (500) 
    , in_code VARCHAR (255) 
    , in_profile_id BINARY(16) 
    , in_increment INTEGER 
    , in_path VARCHAR (500) 
    , in_display_name VARCHAR (255) 
    , in_uuid BINARY(16) 
    , in_platform VARCHAR (255) 
    , in_filename VARCHAR (500) 
    , in_source VARCHAR (255) 
    , in_version VARCHAR (255) 
    , in_game_network VARCHAR (500) 
    , in_type VARCHAR (500) 
    , in_status VARCHAR (255) 
    , in_hash VARCHAR (255) 
    , in_description VARCHAR (255) 
    , in_content_type VARCHAR (255) 
    , in_active int 
    , in_game_id BINARY(16) 
    , in_data TEXT 
    , in_name VARCHAR (255) 
    , in_extension VARCHAR (50) 
    , in_date_modified TIMESTAMP 
    , in_date_created TIMESTAMP 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_profile_content`  
                    WHERE 1=1
                    AND `game_id` = in_game_id
                    AND `profile_id` = in_profile_id
                    AND lower(`path`) = lower(in_path)
                    AND lower(`version`) = lower(in_version)
                    AND lower(`platform`) = lower(in_platform)
                    AND `increment` = in_increment
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_profile_content` 
                    SET
                        `username` = in_username
                        , `code` = in_code
                        , `profile_id` = in_profile_id
                        , `increment` = in_increment
                        , `path` = in_path
                        , `display_name` = in_display_name
                        , `uuid` = in_uuid
                        , `platform` = in_platform
                        , `filename` = in_filename
                        , `source` = in_source
                        , `version` = in_version
                        , `game_network` = in_game_network
                        , `type` = in_type
                        , `status` = in_status
                        , `hash` = in_hash
                        , `description` = in_description
                        , `content_type` = in_content_type
                        , `active` = in_active
                        , `game_id` = in_game_id
                        , `data` = in_data
                        , `name` = in_name
                        , `extension` = in_extension
                        , `date_modified` = in_date_modified
                        , `date_created` = in_date_created
                    WHERE 1=1
                    AND `game_id` = in_game_id
                    AND `profile_id` = in_profile_id
                    AND lower(`path`) = lower(in_path)
                    AND lower(`version`) = lower(in_version)
                    AND lower(`platform`) = lower(in_platform)
                    AND `increment` = in_increment
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_profile_content`
                    (
                        `username`
                        , `code`
                        , `profile_id`
                        , `increment`
                        , `path`
                        , `display_name`
                        , `uuid`
                        , `platform`
                        , `filename`
                        , `source`
                        , `version`
                        , `game_network`
                        , `type`
                        , `status`
                        , `hash`
                        , `description`
                        , `content_type`
                        , `active`
                        , `game_id`
                        , `data`
                        , `name`
                        , `extension`
                        , `date_modified`
                        , `date_created`
                    )
                    VALUES
                    (
                        in_username
                        , in_code
                        , in_profile_id
                        , in_increment
                        , in_path
                        , in_display_name
                        , in_uuid
                        , in_platform
                        , in_filename
                        , in_source
                        , in_version
                        , in_game_network
                        , in_type
                        , in_status
                        , in_hash
                        , in_description
                        , in_content_type
                        , in_active
                        , in_game_id
                        , in_data
                        , in_name
                        , in_extension
                        , in_date_modified
                        , in_date_created
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_profile_content_set_game_id_username_path`;
delimiter $$
CREATE PROCEDURE `usp_game_profile_content_set_game_id_username_path`
(
    in_set_type varchar(50)                      
    , in_username VARCHAR (500) 
    , in_code VARCHAR (255) 
    , in_profile_id BINARY(16) 
    , in_increment INTEGER 
    , in_path VARCHAR (500) 
    , in_display_name VARCHAR (255) 
    , in_uuid BINARY(16) 
    , in_platform VARCHAR (255) 
    , in_filename VARCHAR (500) 
    , in_source VARCHAR (255) 
    , in_version VARCHAR (255) 
    , in_game_network VARCHAR (500) 
    , in_type VARCHAR (500) 
    , in_status VARCHAR (255) 
    , in_hash VARCHAR (255) 
    , in_description VARCHAR (255) 
    , in_content_type VARCHAR (255) 
    , in_active int 
    , in_game_id BINARY(16) 
    , in_data TEXT 
    , in_name VARCHAR (255) 
    , in_extension VARCHAR (50) 
    , in_date_modified TIMESTAMP 
    , in_date_created TIMESTAMP 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_profile_content`  
                    WHERE 1=1
                    AND `game_id` = in_game_id
                    AND lower(`username`) = lower(in_username)
                    AND lower(`path`) = lower(in_path)
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_profile_content` 
                    SET
                        `username` = in_username
                        , `code` = in_code
                        , `profile_id` = in_profile_id
                        , `increment` = in_increment
                        , `path` = in_path
                        , `display_name` = in_display_name
                        , `uuid` = in_uuid
                        , `platform` = in_platform
                        , `filename` = in_filename
                        , `source` = in_source
                        , `version` = in_version
                        , `game_network` = in_game_network
                        , `type` = in_type
                        , `status` = in_status
                        , `hash` = in_hash
                        , `description` = in_description
                        , `content_type` = in_content_type
                        , `active` = in_active
                        , `game_id` = in_game_id
                        , `data` = in_data
                        , `name` = in_name
                        , `extension` = in_extension
                        , `date_modified` = in_date_modified
                        , `date_created` = in_date_created
                    WHERE 1=1
                    AND `game_id` = in_game_id
                    AND lower(`username`) = lower(in_username)
                    AND lower(`path`) = lower(in_path)
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_profile_content`
                    (
                        `username`
                        , `code`
                        , `profile_id`
                        , `increment`
                        , `path`
                        , `display_name`
                        , `uuid`
                        , `platform`
                        , `filename`
                        , `source`
                        , `version`
                        , `game_network`
                        , `type`
                        , `status`
                        , `hash`
                        , `description`
                        , `content_type`
                        , `active`
                        , `game_id`
                        , `data`
                        , `name`
                        , `extension`
                        , `date_modified`
                        , `date_created`
                    )
                    VALUES
                    (
                        in_username
                        , in_code
                        , in_profile_id
                        , in_increment
                        , in_path
                        , in_display_name
                        , in_uuid
                        , in_platform
                        , in_filename
                        , in_source
                        , in_version
                        , in_game_network
                        , in_type
                        , in_status
                        , in_hash
                        , in_description
                        , in_content_type
                        , in_active
                        , in_game_id
                        , in_data
                        , in_name
                        , in_extension
                        , in_date_modified
                        , in_date_created
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_profile_content_set_game_id_username_path_version`;
delimiter $$
CREATE PROCEDURE `usp_game_profile_content_set_game_id_username_path_version`
(
    in_set_type varchar(50)                      
    , in_username VARCHAR (500) 
    , in_code VARCHAR (255) 
    , in_profile_id BINARY(16) 
    , in_increment INTEGER 
    , in_path VARCHAR (500) 
    , in_display_name VARCHAR (255) 
    , in_uuid BINARY(16) 
    , in_platform VARCHAR (255) 
    , in_filename VARCHAR (500) 
    , in_source VARCHAR (255) 
    , in_version VARCHAR (255) 
    , in_game_network VARCHAR (500) 
    , in_type VARCHAR (500) 
    , in_status VARCHAR (255) 
    , in_hash VARCHAR (255) 
    , in_description VARCHAR (255) 
    , in_content_type VARCHAR (255) 
    , in_active int 
    , in_game_id BINARY(16) 
    , in_data TEXT 
    , in_name VARCHAR (255) 
    , in_extension VARCHAR (50) 
    , in_date_modified TIMESTAMP 
    , in_date_created TIMESTAMP 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_profile_content`  
                    WHERE 1=1
                    AND `game_id` = in_game_id
                    AND lower(`username`) = lower(in_username)
                    AND lower(`path`) = lower(in_path)
                    AND lower(`version`) = lower(in_version)
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_profile_content` 
                    SET
                        `username` = in_username
                        , `code` = in_code
                        , `profile_id` = in_profile_id
                        , `increment` = in_increment
                        , `path` = in_path
                        , `display_name` = in_display_name
                        , `uuid` = in_uuid
                        , `platform` = in_platform
                        , `filename` = in_filename
                        , `source` = in_source
                        , `version` = in_version
                        , `game_network` = in_game_network
                        , `type` = in_type
                        , `status` = in_status
                        , `hash` = in_hash
                        , `description` = in_description
                        , `content_type` = in_content_type
                        , `active` = in_active
                        , `game_id` = in_game_id
                        , `data` = in_data
                        , `name` = in_name
                        , `extension` = in_extension
                        , `date_modified` = in_date_modified
                        , `date_created` = in_date_created
                    WHERE 1=1
                    AND `game_id` = in_game_id
                    AND lower(`username`) = lower(in_username)
                    AND lower(`path`) = lower(in_path)
                    AND lower(`version`) = lower(in_version)
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_profile_content`
                    (
                        `username`
                        , `code`
                        , `profile_id`
                        , `increment`
                        , `path`
                        , `display_name`
                        , `uuid`
                        , `platform`
                        , `filename`
                        , `source`
                        , `version`
                        , `game_network`
                        , `type`
                        , `status`
                        , `hash`
                        , `description`
                        , `content_type`
                        , `active`
                        , `game_id`
                        , `data`
                        , `name`
                        , `extension`
                        , `date_modified`
                        , `date_created`
                    )
                    VALUES
                    (
                        in_username
                        , in_code
                        , in_profile_id
                        , in_increment
                        , in_path
                        , in_display_name
                        , in_uuid
                        , in_platform
                        , in_filename
                        , in_source
                        , in_version
                        , in_game_network
                        , in_type
                        , in_status
                        , in_hash
                        , in_description
                        , in_content_type
                        , in_active
                        , in_game_id
                        , in_data
                        , in_name
                        , in_extension
                        , in_date_modified
                        , in_date_created
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_profile_content_set_game_id_username_path_version_plat`;
delimiter $$
CREATE PROCEDURE `usp_game_profile_content_set_game_id_username_path_version_plat`
(
    in_set_type varchar(50)                      
    , in_username VARCHAR (500) 
    , in_code VARCHAR (255) 
    , in_profile_id BINARY(16) 
    , in_increment INTEGER 
    , in_path VARCHAR (500) 
    , in_display_name VARCHAR (255) 
    , in_uuid BINARY(16) 
    , in_platform VARCHAR (255) 
    , in_filename VARCHAR (500) 
    , in_source VARCHAR (255) 
    , in_version VARCHAR (255) 
    , in_game_network VARCHAR (500) 
    , in_type VARCHAR (500) 
    , in_status VARCHAR (255) 
    , in_hash VARCHAR (255) 
    , in_description VARCHAR (255) 
    , in_content_type VARCHAR (255) 
    , in_active int 
    , in_game_id BINARY(16) 
    , in_data TEXT 
    , in_name VARCHAR (255) 
    , in_extension VARCHAR (50) 
    , in_date_modified TIMESTAMP 
    , in_date_created TIMESTAMP 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_profile_content`  
                    WHERE 1=1
                    AND `game_id` = in_game_id
                    AND lower(`username`) = lower(in_username)
                    AND lower(`path`) = lower(in_path)
                    AND lower(`version`) = lower(in_version)
                    AND lower(`platform`) = lower(in_platform)
                    AND `increment` = in_increment
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_profile_content` 
                    SET
                        `username` = in_username
                        , `code` = in_code
                        , `profile_id` = in_profile_id
                        , `increment` = in_increment
                        , `path` = in_path
                        , `display_name` = in_display_name
                        , `uuid` = in_uuid
                        , `platform` = in_platform
                        , `filename` = in_filename
                        , `source` = in_source
                        , `version` = in_version
                        , `game_network` = in_game_network
                        , `type` = in_type
                        , `status` = in_status
                        , `hash` = in_hash
                        , `description` = in_description
                        , `content_type` = in_content_type
                        , `active` = in_active
                        , `game_id` = in_game_id
                        , `data` = in_data
                        , `name` = in_name
                        , `extension` = in_extension
                        , `date_modified` = in_date_modified
                        , `date_created` = in_date_created
                    WHERE 1=1
                    AND `game_id` = in_game_id
                    AND lower(`username`) = lower(in_username)
                    AND lower(`path`) = lower(in_path)
                    AND lower(`version`) = lower(in_version)
                    AND lower(`platform`) = lower(in_platform)
                    AND `increment` = in_increment
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_profile_content`
                    (
                        `username`
                        , `code`
                        , `profile_id`
                        , `increment`
                        , `path`
                        , `display_name`
                        , `uuid`
                        , `platform`
                        , `filename`
                        , `source`
                        , `version`
                        , `game_network`
                        , `type`
                        , `status`
                        , `hash`
                        , `description`
                        , `content_type`
                        , `active`
                        , `game_id`
                        , `data`
                        , `name`
                        , `extension`
                        , `date_modified`
                        , `date_created`
                    )
                    VALUES
                    (
                        in_username
                        , in_code
                        , in_profile_id
                        , in_increment
                        , in_path
                        , in_display_name
                        , in_uuid
                        , in_platform
                        , in_filename
                        , in_source
                        , in_version
                        , in_game_network
                        , in_type
                        , in_status
                        , in_hash
                        , in_description
                        , in_content_type
                        , in_active
                        , in_game_id
                        , in_data
                        , in_name
                        , in_extension
                        , in_date_modified
                        , in_date_created
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

-- ------------------------------------
-- DEL

-- ------------------------------------
-- MODEL: GameProfileContent - game_profile_content

                       
DROP PROCEDURE IF EXISTS `usp_game_profile_content_del_uuid`;

delimiter $$
CREATE PROCEDURE `usp_game_profile_content_del_uuid`
(
    in_uuid BINARY(16) 
)

BEGIN
    DELETE 
    FROM `game_profile_content`
    WHERE 1=1                        
    AND "uuid" = in_uuid
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_game_profile_content_del_game_id_profile_id`;

delimiter $$
CREATE PROCEDURE `usp_game_profile_content_del_game_id_profile_id`
(
    in_game_id BINARY(16) 
    , in_profile_id BINARY(16) 
)

BEGIN
    DELETE 
    FROM `game_profile_content`
    WHERE 1=1                        
    AND "game_id" = in_game_id
    AND "profile_id" = in_profile_id
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_game_profile_content_del_game_id_username`;

delimiter $$
CREATE PROCEDURE `usp_game_profile_content_del_game_id_username`
(
    in_game_id BINARY(16) 
    , in_username VARCHAR (500) 
)

BEGIN
    DELETE 
    FROM `game_profile_content`
    WHERE 1=1                        
    AND "game_id" = in_game_id
    AND lower("username") = lower(in_username)
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_game_profile_content_del_username`;

delimiter $$
CREATE PROCEDURE `usp_game_profile_content_del_username`
(
    in_username VARCHAR (500) 
)

BEGIN
    DELETE 
    FROM `game_profile_content`
    WHERE 1=1                        
    AND lower("username") = lower(in_username)
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_game_profile_content_del_game_id_profile_id_path`;

delimiter $$
CREATE PROCEDURE `usp_game_profile_content_del_game_id_profile_id_path`
(
    in_game_id BINARY(16) 
    , in_profile_id BINARY(16) 
    , in_path VARCHAR (500) 
)

BEGIN
    DELETE 
    FROM `game_profile_content`
    WHERE 1=1                        
    AND "game_id" = in_game_id
    AND "profile_id" = in_profile_id
    AND lower("path") = lower(in_path)
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_game_profile_content_del_game_id_profile_id_path_version`;

delimiter $$
CREATE PROCEDURE `usp_game_profile_content_del_game_id_profile_id_path_version`
(
    in_game_id BINARY(16) 
    , in_profile_id BINARY(16) 
    , in_path VARCHAR (500) 
    , in_version VARCHAR (255) 
)

BEGIN
    DELETE 
    FROM `game_profile_content`
    WHERE 1=1                        
    AND "game_id" = in_game_id
    AND "profile_id" = in_profile_id
    AND lower("path") = lower(in_path)
    AND lower("version") = lower(in_version)
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_game_profile_content_del_game_id_profile_id_path_version_pl`;

delimiter $$
CREATE PROCEDURE `usp_game_profile_content_del_game_id_profile_id_path_version_pl`
(
    in_game_id BINARY(16) 
    , in_profile_id BINARY(16) 
    , in_path VARCHAR (500) 
    , in_version VARCHAR (255) 
    , in_platform VARCHAR (255) 
    , in_increment INTEGER 
)

BEGIN
    DELETE 
    FROM `game_profile_content`
    WHERE 1=1                        
    AND "game_id" = in_game_id
    AND "profile_id" = in_profile_id
    AND lower("path") = lower(in_path)
    AND lower("version") = lower(in_version)
    AND lower("platform") = lower(in_platform)
    AND "increment" = in_increment
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_game_profile_content_del_game_id_username_path`;

delimiter $$
CREATE PROCEDURE `usp_game_profile_content_del_game_id_username_path`
(
    in_game_id BINARY(16) 
    , in_username VARCHAR (500) 
    , in_path VARCHAR (500) 
)

BEGIN
    DELETE 
    FROM `game_profile_content`
    WHERE 1=1                        
    AND "game_id" = in_game_id
    AND lower("username") = lower(in_username)
    AND lower("path") = lower(in_path)
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_game_profile_content_del_game_id_username_path_version`;

delimiter $$
CREATE PROCEDURE `usp_game_profile_content_del_game_id_username_path_version`
(
    in_game_id BINARY(16) 
    , in_username VARCHAR (500) 
    , in_path VARCHAR (500) 
    , in_version VARCHAR (255) 
)

BEGIN
    DELETE 
    FROM `game_profile_content`
    WHERE 1=1                        
    AND "game_id" = in_game_id
    AND lower("username") = lower(in_username)
    AND lower("path") = lower(in_path)
    AND lower("version") = lower(in_version)
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_game_profile_content_del_game_id_username_path_version_plat`;

delimiter $$
CREATE PROCEDURE `usp_game_profile_content_del_game_id_username_path_version_plat`
(
    in_game_id BINARY(16) 
    , in_username VARCHAR (500) 
    , in_path VARCHAR (500) 
    , in_version VARCHAR (255) 
    , in_platform VARCHAR (255) 
    , in_increment INTEGER 
)

BEGIN
    DELETE 
    FROM `game_profile_content`
    WHERE 1=1                        
    AND "game_id" = in_game_id
    AND lower("username") = lower(in_username)
    AND lower("path") = lower(in_path)
    AND lower("version") = lower(in_version)
    AND lower("platform") = lower(in_platform)
    AND "increment" = in_increment
    ;
END$$
delimiter ;
-- ------------------------------------
-- GET

-- ------------------------------------
-- MODEL: GameProfileContent - game_profile_content

                       
DROP PROCEDURE IF EXISTS `usp_game_profile_content_get`;

delimiter $$
CREATE PROCEDURE `usp_game_profile_content_get`
(
)                        
BEGIN
    SELECT
        `username`
        , `code`
        , `profile_id`
        , `increment`
        , `path`
        , `display_name`
        , `uuid`
        , `platform`
        , `filename`
        , `source`
        , `version`
        , `game_network`
        , `type`
        , `status`
        , `hash`
        , `description`
        , `content_type`
        , `active`
        , `game_id`
        , `data`
        , `name`
        , `extension`
        , `date_modified`
        , `date_created`
    FROM `game_profile_content`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_profile_content_get_uuid`;

delimiter $$
CREATE PROCEDURE `usp_game_profile_content_get_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        `username`
        , `code`
        , `profile_id`
        , `increment`
        , `path`
        , `display_name`
        , `uuid`
        , `platform`
        , `filename`
        , `source`
        , `version`
        , `game_network`
        , `type`
        , `status`
        , `hash`
        , `description`
        , `content_type`
        , `active`
        , `game_id`
        , `data`
        , `name`
        , `extension`
        , `date_modified`
        , `date_created`
    FROM `game_profile_content`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_profile_content_get_game_id_profile_id`;

delimiter $$
CREATE PROCEDURE `usp_game_profile_content_get_game_id_profile_id`
(
    in_game_id BINARY(16) 
    , in_profile_id BINARY(16) 
)
BEGIN
    SELECT
        `username`
        , `code`
        , `profile_id`
        , `increment`
        , `path`
        , `display_name`
        , `uuid`
        , `platform`
        , `filename`
        , `source`
        , `version`
        , `game_network`
        , `type`
        , `status`
        , `hash`
        , `description`
        , `content_type`
        , `active`
        , `game_id`
        , `data`
        , `name`
        , `extension`
        , `date_modified`
        , `date_created`
    FROM `game_profile_content`
    WHERE 1=1
    AND `game_id` = in_game_id
    AND `profile_id` = in_profile_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_profile_content_get_game_id_username`;

delimiter $$
CREATE PROCEDURE `usp_game_profile_content_get_game_id_username`
(
    in_game_id BINARY(16) 
    , in_username VARCHAR (500) 
)
BEGIN
    SELECT
        `username`
        , `code`
        , `profile_id`
        , `increment`
        , `path`
        , `display_name`
        , `uuid`
        , `platform`
        , `filename`
        , `source`
        , `version`
        , `game_network`
        , `type`
        , `status`
        , `hash`
        , `description`
        , `content_type`
        , `active`
        , `game_id`
        , `data`
        , `name`
        , `extension`
        , `date_modified`
        , `date_created`
    FROM `game_profile_content`
    WHERE 1=1
    AND `game_id` = in_game_id
    AND lower(`username`) = lower(in_username)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_profile_content_get_username`;

delimiter $$
CREATE PROCEDURE `usp_game_profile_content_get_username`
(
    in_username VARCHAR (500) 
)
BEGIN
    SELECT
        `username`
        , `code`
        , `profile_id`
        , `increment`
        , `path`
        , `display_name`
        , `uuid`
        , `platform`
        , `filename`
        , `source`
        , `version`
        , `game_network`
        , `type`
        , `status`
        , `hash`
        , `description`
        , `content_type`
        , `active`
        , `game_id`
        , `data`
        , `name`
        , `extension`
        , `date_modified`
        , `date_created`
    FROM `game_profile_content`
    WHERE 1=1
    AND lower(`username`) = lower(in_username)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_profile_content_get_game_id_profile_id_path`;

delimiter $$
CREATE PROCEDURE `usp_game_profile_content_get_game_id_profile_id_path`
(
    in_game_id BINARY(16) 
    , in_profile_id BINARY(16) 
    , in_path VARCHAR (500) 
)
BEGIN
    SELECT
        `username`
        , `code`
        , `profile_id`
        , `increment`
        , `path`
        , `display_name`
        , `uuid`
        , `platform`
        , `filename`
        , `source`
        , `version`
        , `game_network`
        , `type`
        , `status`
        , `hash`
        , `description`
        , `content_type`
        , `active`
        , `game_id`
        , `data`
        , `name`
        , `extension`
        , `date_modified`
        , `date_created`
    FROM `game_profile_content`
    WHERE 1=1
    AND `game_id` = in_game_id
    AND `profile_id` = in_profile_id
    AND lower(`path`) = lower(in_path)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_profile_content_get_game_id_profile_id_path_version`;

delimiter $$
CREATE PROCEDURE `usp_game_profile_content_get_game_id_profile_id_path_version`
(
    in_game_id BINARY(16) 
    , in_profile_id BINARY(16) 
    , in_path VARCHAR (500) 
    , in_version VARCHAR (255) 
)
BEGIN
    SELECT
        `username`
        , `code`
        , `profile_id`
        , `increment`
        , `path`
        , `display_name`
        , `uuid`
        , `platform`
        , `filename`
        , `source`
        , `version`
        , `game_network`
        , `type`
        , `status`
        , `hash`
        , `description`
        , `content_type`
        , `active`
        , `game_id`
        , `data`
        , `name`
        , `extension`
        , `date_modified`
        , `date_created`
    FROM `game_profile_content`
    WHERE 1=1
    AND `game_id` = in_game_id
    AND `profile_id` = in_profile_id
    AND lower(`path`) = lower(in_path)
    AND lower(`version`) = lower(in_version)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_profile_content_get_game_id_profile_id_path_version_pl`;

delimiter $$
CREATE PROCEDURE `usp_game_profile_content_get_game_id_profile_id_path_version_pl`
(
    in_game_id BINARY(16) 
    , in_profile_id BINARY(16) 
    , in_path VARCHAR (500) 
    , in_version VARCHAR (255) 
    , in_platform VARCHAR (255) 
    , in_increment INTEGER 
)
BEGIN
    SELECT
        `username`
        , `code`
        , `profile_id`
        , `increment`
        , `path`
        , `display_name`
        , `uuid`
        , `platform`
        , `filename`
        , `source`
        , `version`
        , `game_network`
        , `type`
        , `status`
        , `hash`
        , `description`
        , `content_type`
        , `active`
        , `game_id`
        , `data`
        , `name`
        , `extension`
        , `date_modified`
        , `date_created`
    FROM `game_profile_content`
    WHERE 1=1
    AND `game_id` = in_game_id
    AND `profile_id` = in_profile_id
    AND lower(`path`) = lower(in_path)
    AND lower(`version`) = lower(in_version)
    AND lower(`platform`) = lower(in_platform)
    AND `increment` = in_increment
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_profile_content_get_game_id_username_path`;

delimiter $$
CREATE PROCEDURE `usp_game_profile_content_get_game_id_username_path`
(
    in_game_id BINARY(16) 
    , in_username VARCHAR (500) 
    , in_path VARCHAR (500) 
)
BEGIN
    SELECT
        `username`
        , `code`
        , `profile_id`
        , `increment`
        , `path`
        , `display_name`
        , `uuid`
        , `platform`
        , `filename`
        , `source`
        , `version`
        , `game_network`
        , `type`
        , `status`
        , `hash`
        , `description`
        , `content_type`
        , `active`
        , `game_id`
        , `data`
        , `name`
        , `extension`
        , `date_modified`
        , `date_created`
    FROM `game_profile_content`
    WHERE 1=1
    AND `game_id` = in_game_id
    AND lower(`username`) = lower(in_username)
    AND lower(`path`) = lower(in_path)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_profile_content_get_game_id_username_path_version`;

delimiter $$
CREATE PROCEDURE `usp_game_profile_content_get_game_id_username_path_version`
(
    in_game_id BINARY(16) 
    , in_username VARCHAR (500) 
    , in_path VARCHAR (500) 
    , in_version VARCHAR (255) 
)
BEGIN
    SELECT
        `username`
        , `code`
        , `profile_id`
        , `increment`
        , `path`
        , `display_name`
        , `uuid`
        , `platform`
        , `filename`
        , `source`
        , `version`
        , `game_network`
        , `type`
        , `status`
        , `hash`
        , `description`
        , `content_type`
        , `active`
        , `game_id`
        , `data`
        , `name`
        , `extension`
        , `date_modified`
        , `date_created`
    FROM `game_profile_content`
    WHERE 1=1
    AND `game_id` = in_game_id
    AND lower(`username`) = lower(in_username)
    AND lower(`path`) = lower(in_path)
    AND lower(`version`) = lower(in_version)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_profile_content_get_game_id_username_path_version_plat`;

delimiter $$
CREATE PROCEDURE `usp_game_profile_content_get_game_id_username_path_version_plat`
(
    in_game_id BINARY(16) 
    , in_username VARCHAR (500) 
    , in_path VARCHAR (500) 
    , in_version VARCHAR (255) 
    , in_platform VARCHAR (255) 
    , in_increment INTEGER 
)
BEGIN
    SELECT
        `username`
        , `code`
        , `profile_id`
        , `increment`
        , `path`
        , `display_name`
        , `uuid`
        , `platform`
        , `filename`
        , `source`
        , `version`
        , `game_network`
        , `type`
        , `status`
        , `hash`
        , `description`
        , `content_type`
        , `active`
        , `game_id`
        , `data`
        , `name`
        , `extension`
        , `date_modified`
        , `date_created`
    FROM `game_profile_content`
    WHERE 1=1
    AND `game_id` = in_game_id
    AND lower(`username`) = lower(in_username)
    AND lower(`path`) = lower(in_path)
    AND lower(`version`) = lower(in_version)
    AND lower(`platform`) = lower(in_platform)
    AND `increment` = in_increment
    ;
END$$
delimiter ;

-- -----------------------------------------------------------------------------
-- PROCS

-- ------------------------------------
-- COUNT

-- ------------------------------------
-- MODEL: GameApp - game_app

                       
DROP PROCEDURE IF EXISTS `usp_game_app_count`;
delimiter $$
CREATE PROCEDURE `usp_game_app_count`
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_app`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_app_count_uuid`;
delimiter $$
CREATE PROCEDURE `usp_game_app_count_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_app`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_app_count_game_id`;
delimiter $$
CREATE PROCEDURE `usp_game_app_count_game_id`
(
    in_game_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_app`
    WHERE 1=1
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_app_count_app_id`;
delimiter $$
CREATE PROCEDURE `usp_game_app_count_app_id`
(
    in_app_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_app`
    WHERE 1=1
    AND `app_id` = in_app_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_app_count_game_id_app_id`;
delimiter $$
CREATE PROCEDURE `usp_game_app_count_game_id_app_id`
(
    in_game_id BINARY(16) 
    , in_app_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_app`
    WHERE 1=1
    AND `game_id` = in_game_id
    AND `app_id` = in_app_id
    ;
END$$
delimiter ;

-- ------------------------------------
-- BROWSE

-- ------------------------------------
-- MODEL: GameApp - game_app

                       
DROP PROCEDURE IF EXISTS `usp_game_app_browse_filter`;

delimiter $$
CREATE PROCEDURE `usp_game_app_browse_filter`
(
    in_page int,
    in_page_size int,
    in_sort VARCHAR(500),
    in_filter VARCHAR(4000)
    
)
BEGIN
    DECLARE total_rows int;
    SET total_rows = 0;
        
    IF (in_page = 0) THEN
        SET in_page = 1;
    END IF;    
    
    IF (in_page_size = 0) THEN
       SET in_page_size = 10;
    END IF;
    
    IF (in_sort = NULL || in_sort = '') THEN
       SET in_sort = ' date_modified ASC ';
    END IF;
    
    SET @sfields = CONCAT('', '`status`');
    SET @sfields = CONCAT(@sfields, ', `uuid`');
    SET @sfields = CONCAT(@sfields, ', `date_modified`');
    SET @sfields = CONCAT(@sfields, ', `active`');
    SET @sfields = CONCAT(@sfields, ', `date_created`');
    SET @sfields = CONCAT(@sfields, ', `game_id`');
    SET @sfields = CONCAT(@sfields, ', `type`');
    SET @sfields = CONCAT(@sfields, ', `app_id`');
    
    SET @stable = CONCAT('', ' FROM `game_app` WHERE 1=1 ');
    
    SET @s = CONCAT(' ', @stable);
    SET @s = CONCAT(@s, ' ', in_filter);    
    
    SET @scount = CONCAT('SELECT COUNT(*) as `total_rows` ', @s, ' INTO @total_rows');
    
    PREPARE stmtcount FROM @scount;
    EXECUTE stmtcount;
    #SELECT @total_rows;
    SET total_rows = @total_rows;

    SET @sfields = CONCAT(total_rows, ' as `total_rows`, ', @sfields);
    SET @s = CONCAT('SELECT ', @sfields, @s);
    SET @s = CONCAT(@s, ' ORDER BY ', in_sort);
    SET @s = CONCAT(@s, ' LIMIT ', in_page);
    SET @s = CONCAT(@s, ',', in_page_size);    

    PREPARE stmt FROM @s;
    EXECUTE stmt;
    
END$$
delimiter ;
-- ------------------------------------
-- SET

-- ------------------------------------
-- MODEL: GameApp - game_app

                       
DROP PROCEDURE IF EXISTS `usp_game_app_set_uuid`;
delimiter $$
CREATE PROCEDURE `usp_game_app_set_uuid`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_uuid BINARY(16) 
    , in_date_modified TIMESTAMP 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_game_id BINARY(16) 
    , in_type VARCHAR (500) 
    , in_app_id BINARY(16) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_app`  
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_app` 
                    SET
                        `status` = in_status
                        , `uuid` = in_uuid
                        , `date_modified` = in_date_modified
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `game_id` = in_game_id
                        , `type` = in_type
                        , `app_id` = in_app_id
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_app`
                    (
                        `status`
                        , `uuid`
                        , `date_modified`
                        , `active`
                        , `date_created`
                        , `game_id`
                        , `type`
                        , `app_id`
                    )
                    VALUES
                    (
                        in_status
                        , in_uuid
                        , in_date_modified
                        , in_active
                        , in_date_created
                        , in_game_id
                        , in_type
                        , in_app_id
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

-- ------------------------------------
-- DEL

-- ------------------------------------
-- MODEL: GameApp - game_app

                       
DROP PROCEDURE IF EXISTS `usp_game_app_del_uuid`;

delimiter $$
CREATE PROCEDURE `usp_game_app_del_uuid`
(
    in_uuid BINARY(16) 
)

BEGIN
    DELETE 
    FROM `game_app`
    WHERE 1=1                        
    AND "uuid" = in_uuid
    ;
END$$
delimiter ;
-- ------------------------------------
-- GET

-- ------------------------------------
-- MODEL: GameApp - game_app

                       
DROP PROCEDURE IF EXISTS `usp_game_app_get`;

delimiter $$
CREATE PROCEDURE `usp_game_app_get`
(
)                        
BEGIN
    SELECT
        `status`
        , `uuid`
        , `date_modified`
        , `active`
        , `date_created`
        , `game_id`
        , `type`
        , `app_id`
    FROM `game_app`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_app_get_uuid`;

delimiter $$
CREATE PROCEDURE `usp_game_app_get_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `uuid`
        , `date_modified`
        , `active`
        , `date_created`
        , `game_id`
        , `type`
        , `app_id`
    FROM `game_app`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_app_get_game_id`;

delimiter $$
CREATE PROCEDURE `usp_game_app_get_game_id`
(
    in_game_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `uuid`
        , `date_modified`
        , `active`
        , `date_created`
        , `game_id`
        , `type`
        , `app_id`
    FROM `game_app`
    WHERE 1=1
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_app_get_app_id`;

delimiter $$
CREATE PROCEDURE `usp_game_app_get_app_id`
(
    in_app_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `uuid`
        , `date_modified`
        , `active`
        , `date_created`
        , `game_id`
        , `type`
        , `app_id`
    FROM `game_app`
    WHERE 1=1
    AND `app_id` = in_app_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_app_get_game_id_app_id`;

delimiter $$
CREATE PROCEDURE `usp_game_app_get_game_id_app_id`
(
    in_game_id BINARY(16) 
    , in_app_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `uuid`
        , `date_modified`
        , `active`
        , `date_created`
        , `game_id`
        , `type`
        , `app_id`
    FROM `game_app`
    WHERE 1=1
    AND `game_id` = in_game_id
    AND `app_id` = in_app_id
    ;
END$$
delimiter ;

-- -----------------------------------------------------------------------------
-- PROCS

-- ------------------------------------
-- COUNT

-- ------------------------------------
-- MODEL: Offer - offer

                       
DROP PROCEDURE IF EXISTS `usp_offer_count`;
delimiter $$
CREATE PROCEDURE `usp_offer_count`
BEGIN
    SELECT
        COUNT(*) as count
    FROM `offer`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_offer_count_uuid`;
delimiter $$
CREATE PROCEDURE `usp_offer_count_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `offer`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_offer_count_code`;
delimiter $$
CREATE PROCEDURE `usp_offer_count_code`
(
    in_code VARCHAR (255) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `offer`
    WHERE 1=1
    AND lower(`code`) = lower(in_code)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_offer_count_name`;
delimiter $$
CREATE PROCEDURE `usp_offer_count_name`
(
    in_name VARCHAR (255) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `offer`
    WHERE 1=1
    AND lower(`name`) = lower(in_name)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_offer_count_org_id`;
delimiter $$
CREATE PROCEDURE `usp_offer_count_org_id`
(
    in_org_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `offer`
    WHERE 1=1
    AND `org_id` = in_org_id
    ;
END$$
delimiter ;

-- ------------------------------------
-- BROWSE

-- ------------------------------------
-- MODEL: Offer - offer

                       
DROP PROCEDURE IF EXISTS `usp_offer_browse_filter`;

delimiter $$
CREATE PROCEDURE `usp_offer_browse_filter`
(
    in_page int,
    in_page_size int,
    in_sort VARCHAR(500),
    in_filter VARCHAR(4000)
    
)
BEGIN
    DECLARE total_rows int;
    SET total_rows = 0;
        
    IF (in_page = 0) THEN
        SET in_page = 1;
    END IF;    
    
    IF (in_page_size = 0) THEN
       SET in_page_size = 10;
    END IF;
    
    IF (in_sort = NULL || in_sort = '') THEN
       SET in_sort = ' date_modified ASC ';
    END IF;
    
    SET @sfields = CONCAT('', '`status`');
    SET @sfields = CONCAT(@sfields, ', `code`');
    SET @sfields = CONCAT(@sfields, ', `display_name`');
    SET @sfields = CONCAT(@sfields, ', `name`');
    SET @sfields = CONCAT(@sfields, ', `date_modified`');
    SET @sfields = CONCAT(@sfields, ', `url`');
    SET @sfields = CONCAT(@sfields, ', `type_id`');
    SET @sfields = CONCAT(@sfields, ', `org_id`');
    SET @sfields = CONCAT(@sfields, ', `uuid`');
    SET @sfields = CONCAT(@sfields, ', `usage_count`');
    SET @sfields = CONCAT(@sfields, ', `active`');
    SET @sfields = CONCAT(@sfields, ', `date_created`');
    SET @sfields = CONCAT(@sfields, ', `type`');
    SET @sfields = CONCAT(@sfields, ', `description`');
    
    SET @stable = CONCAT('', ' FROM `offer` WHERE 1=1 ');
    
    SET @s = CONCAT(' ', @stable);
    SET @s = CONCAT(@s, ' ', in_filter);    
    
    SET @scount = CONCAT('SELECT COUNT(*) as `total_rows` ', @s, ' INTO @total_rows');
    
    PREPARE stmtcount FROM @scount;
    EXECUTE stmtcount;
    #SELECT @total_rows;
    SET total_rows = @total_rows;

    SET @sfields = CONCAT(total_rows, ' as `total_rows`, ', @sfields);
    SET @s = CONCAT('SELECT ', @sfields, @s);
    SET @s = CONCAT(@s, ' ORDER BY ', in_sort);
    SET @s = CONCAT(@s, ' LIMIT ', in_page);
    SET @s = CONCAT(@s, ',', in_page_size);    

    PREPARE stmt FROM @s;
    EXECUTE stmt;
    
END$$
delimiter ;
-- ------------------------------------
-- SET

-- ------------------------------------
-- MODEL: Offer - offer

                       
DROP PROCEDURE IF EXISTS `usp_offer_set_uuid`;
delimiter $$
CREATE PROCEDURE `usp_offer_set_uuid`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_code VARCHAR (255) 
    , in_display_name VARCHAR (255) 
    , in_name VARCHAR (255) 
    , in_date_modified TIMESTAMP 
    , in_url VARCHAR (500) 
    , in_type_id BINARY(16) 
    , in_org_id BINARY(16) 
    , in_uuid BINARY(16) 
    , in_usage_count INTEGER 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (500) 
    , in_description VARCHAR (255) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `offer`  
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `offer` 
                    SET
                        `status` = in_status
                        , `code` = in_code
                        , `display_name` = in_display_name
                        , `name` = in_name
                        , `date_modified` = in_date_modified
                        , `url` = in_url
                        , `type_id` = in_type_id
                        , `org_id` = in_org_id
                        , `uuid` = in_uuid
                        , `usage_count` = in_usage_count
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `type` = in_type
                        , `description` = in_description
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `offer`
                    (
                        `status`
                        , `code`
                        , `display_name`
                        , `name`
                        , `date_modified`
                        , `url`
                        , `type_id`
                        , `org_id`
                        , `uuid`
                        , `usage_count`
                        , `active`
                        , `date_created`
                        , `type`
                        , `description`
                    )
                    VALUES
                    (
                        in_status
                        , in_code
                        , in_display_name
                        , in_name
                        , in_date_modified
                        , in_url
                        , in_type_id
                        , in_org_id
                        , in_uuid
                        , in_usage_count
                        , in_active
                        , in_date_created
                        , in_type
                        , in_description
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

-- ------------------------------------
-- DEL

-- ------------------------------------
-- MODEL: Offer - offer

                       
DROP PROCEDURE IF EXISTS `usp_offer_del_uuid`;

delimiter $$
CREATE PROCEDURE `usp_offer_del_uuid`
(
    in_uuid BINARY(16) 
)

BEGIN
    DELETE 
    FROM `offer`
    WHERE 1=1                        
    AND "uuid" = in_uuid
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_offer_del_org_id`;

delimiter $$
CREATE PROCEDURE `usp_offer_del_org_id`
(
    in_org_id BINARY(16) 
)

BEGIN
    DELETE 
    FROM `offer`
    WHERE 1=1                        
    AND "org_id" = in_org_id
    ;
END$$
delimiter ;
-- ------------------------------------
-- GET

-- ------------------------------------
-- MODEL: Offer - offer

                       
DROP PROCEDURE IF EXISTS `usp_offer_get`;

delimiter $$
CREATE PROCEDURE `usp_offer_get`
(
)                        
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `url`
        , `type_id`
        , `org_id`
        , `uuid`
        , `usage_count`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `offer`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_offer_get_uuid`;

delimiter $$
CREATE PROCEDURE `usp_offer_get_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `url`
        , `type_id`
        , `org_id`
        , `uuid`
        , `usage_count`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `offer`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_offer_get_code`;

delimiter $$
CREATE PROCEDURE `usp_offer_get_code`
(
    in_code VARCHAR (255) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `url`
        , `type_id`
        , `org_id`
        , `uuid`
        , `usage_count`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `offer`
    WHERE 1=1
    AND lower(`code`) = lower(in_code)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_offer_get_name`;

delimiter $$
CREATE PROCEDURE `usp_offer_get_name`
(
    in_name VARCHAR (255) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `url`
        , `type_id`
        , `org_id`
        , `uuid`
        , `usage_count`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `offer`
    WHERE 1=1
    AND lower(`name`) = lower(in_name)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_offer_get_org_id`;

delimiter $$
CREATE PROCEDURE `usp_offer_get_org_id`
(
    in_org_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `url`
        , `type_id`
        , `org_id`
        , `uuid`
        , `usage_count`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `offer`
    WHERE 1=1
    AND `org_id` = in_org_id
    ;
END$$
delimiter ;

-- -----------------------------------------------------------------------------
-- PROCS

-- ------------------------------------
-- COUNT

-- ------------------------------------
-- MODEL: OfferType - offer_type

                       
DROP PROCEDURE IF EXISTS `usp_offer_type_count`;
delimiter $$
CREATE PROCEDURE `usp_offer_type_count`
BEGIN
    SELECT
        COUNT(*) as count
    FROM `offer_type`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_offer_type_count_uuid`;
delimiter $$
CREATE PROCEDURE `usp_offer_type_count_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `offer_type`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_offer_type_count_code`;
delimiter $$
CREATE PROCEDURE `usp_offer_type_count_code`
(
    in_code VARCHAR (255) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `offer_type`
    WHERE 1=1
    AND lower(`code`) = lower(in_code)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_offer_type_count_name`;
delimiter $$
CREATE PROCEDURE `usp_offer_type_count_name`
(
    in_name VARCHAR (255) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `offer_type`
    WHERE 1=1
    AND lower(`name`) = lower(in_name)
    ;
END$$
delimiter ;

-- ------------------------------------
-- BROWSE

-- ------------------------------------
-- MODEL: OfferType - offer_type

                       
DROP PROCEDURE IF EXISTS `usp_offer_type_browse_filter`;

delimiter $$
CREATE PROCEDURE `usp_offer_type_browse_filter`
(
    in_page int,
    in_page_size int,
    in_sort VARCHAR(500),
    in_filter VARCHAR(4000)
    
)
BEGIN
    DECLARE total_rows int;
    SET total_rows = 0;
        
    IF (in_page = 0) THEN
        SET in_page = 1;
    END IF;    
    
    IF (in_page_size = 0) THEN
       SET in_page_size = 10;
    END IF;
    
    IF (in_sort = NULL || in_sort = '') THEN
       SET in_sort = ' date_modified ASC ';
    END IF;
    
    SET @sfields = CONCAT('', '`status`');
    SET @sfields = CONCAT(@sfields, ', `code`');
    SET @sfields = CONCAT(@sfields, ', `display_name`');
    SET @sfields = CONCAT(@sfields, ', `name`');
    SET @sfields = CONCAT(@sfields, ', `date_modified`');
    SET @sfields = CONCAT(@sfields, ', `uuid`');
    SET @sfields = CONCAT(@sfields, ', `active`');
    SET @sfields = CONCAT(@sfields, ', `date_created`');
    SET @sfields = CONCAT(@sfields, ', `type`');
    SET @sfields = CONCAT(@sfields, ', `description`');
    
    SET @stable = CONCAT('', ' FROM `offer_type` WHERE 1=1 ');
    
    SET @s = CONCAT(' ', @stable);
    SET @s = CONCAT(@s, ' ', in_filter);    
    
    SET @scount = CONCAT('SELECT COUNT(*) as `total_rows` ', @s, ' INTO @total_rows');
    
    PREPARE stmtcount FROM @scount;
    EXECUTE stmtcount;
    #SELECT @total_rows;
    SET total_rows = @total_rows;

    SET @sfields = CONCAT(total_rows, ' as `total_rows`, ', @sfields);
    SET @s = CONCAT('SELECT ', @sfields, @s);
    SET @s = CONCAT(@s, ' ORDER BY ', in_sort);
    SET @s = CONCAT(@s, ' LIMIT ', in_page);
    SET @s = CONCAT(@s, ',', in_page_size);    

    PREPARE stmt FROM @s;
    EXECUTE stmt;
    
END$$
delimiter ;
-- ------------------------------------
-- SET

-- ------------------------------------
-- MODEL: OfferType - offer_type

                       
DROP PROCEDURE IF EXISTS `usp_offer_type_set_uuid`;
delimiter $$
CREATE PROCEDURE `usp_offer_type_set_uuid`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_code VARCHAR (255) 
    , in_display_name VARCHAR (255) 
    , in_name VARCHAR (255) 
    , in_date_modified TIMESTAMP 
    , in_uuid BINARY(16) 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (500) 
    , in_description VARCHAR (255) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `offer_type`  
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `offer_type` 
                    SET
                        `status` = in_status
                        , `code` = in_code
                        , `display_name` = in_display_name
                        , `name` = in_name
                        , `date_modified` = in_date_modified
                        , `uuid` = in_uuid
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `type` = in_type
                        , `description` = in_description
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `offer_type`
                    (
                        `status`
                        , `code`
                        , `display_name`
                        , `name`
                        , `date_modified`
                        , `uuid`
                        , `active`
                        , `date_created`
                        , `type`
                        , `description`
                    )
                    VALUES
                    (
                        in_status
                        , in_code
                        , in_display_name
                        , in_name
                        , in_date_modified
                        , in_uuid
                        , in_active
                        , in_date_created
                        , in_type
                        , in_description
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

-- ------------------------------------
-- DEL

-- ------------------------------------
-- MODEL: OfferType - offer_type

                       
DROP PROCEDURE IF EXISTS `usp_offer_type_del_uuid`;

delimiter $$
CREATE PROCEDURE `usp_offer_type_del_uuid`
(
    in_uuid BINARY(16) 
)

BEGIN
    DELETE 
    FROM `offer_type`
    WHERE 1=1                        
    AND "uuid" = in_uuid
    ;
END$$
delimiter ;
-- ------------------------------------
-- GET

-- ------------------------------------
-- MODEL: OfferType - offer_type

                       
DROP PROCEDURE IF EXISTS `usp_offer_type_get`;

delimiter $$
CREATE PROCEDURE `usp_offer_type_get`
(
)                        
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `uuid`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `offer_type`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_offer_type_get_uuid`;

delimiter $$
CREATE PROCEDURE `usp_offer_type_get_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `uuid`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `offer_type`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_offer_type_get_code`;

delimiter $$
CREATE PROCEDURE `usp_offer_type_get_code`
(
    in_code VARCHAR (255) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `uuid`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `offer_type`
    WHERE 1=1
    AND lower(`code`) = lower(in_code)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_offer_type_get_name`;

delimiter $$
CREATE PROCEDURE `usp_offer_type_get_name`
(
    in_name VARCHAR (255) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `uuid`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `offer_type`
    WHERE 1=1
    AND lower(`name`) = lower(in_name)
    ;
END$$
delimiter ;

-- -----------------------------------------------------------------------------
-- PROCS

-- ------------------------------------
-- COUNT

-- ------------------------------------
-- MODEL: OfferLocation - offer_location

                       
DROP PROCEDURE IF EXISTS `usp_offer_location_count`;
delimiter $$
CREATE PROCEDURE `usp_offer_location_count`
BEGIN
    SELECT
        COUNT(*) as count
    FROM `offer_location`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_offer_location_count_uuid`;
delimiter $$
CREATE PROCEDURE `usp_offer_location_count_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `offer_location`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_offer_location_count_offer_id`;
delimiter $$
CREATE PROCEDURE `usp_offer_location_count_offer_id`
(
    in_offer_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `offer_location`
    WHERE 1=1
    AND `offer_id` = in_offer_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_offer_location_count_city`;
delimiter $$
CREATE PROCEDURE `usp_offer_location_count_city`
(
    in_city VARCHAR (255) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `offer_location`
    WHERE 1=1
    AND lower(`city`) = lower(in_city)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_offer_location_count_country_code`;
delimiter $$
CREATE PROCEDURE `usp_offer_location_count_country_code`
(
    in_country_code VARCHAR (255) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `offer_location`
    WHERE 1=1
    AND lower(`country_code`) = lower(in_country_code)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_offer_location_count_postal_code`;
delimiter $$
CREATE PROCEDURE `usp_offer_location_count_postal_code`
(
    in_postal_code VARCHAR (30) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `offer_location`
    WHERE 1=1
    AND lower(`postal_code`) = lower(in_postal_code)
    ;
END$$
delimiter ;

-- ------------------------------------
-- BROWSE

-- ------------------------------------
-- MODEL: OfferLocation - offer_location

                       
DROP PROCEDURE IF EXISTS `usp_offer_location_browse_filter`;

delimiter $$
CREATE PROCEDURE `usp_offer_location_browse_filter`
(
    in_page int,
    in_page_size int,
    in_sort VARCHAR(500),
    in_filter VARCHAR(4000)
    
)
BEGIN
    DECLARE total_rows int;
    SET total_rows = 0;
        
    IF (in_page = 0) THEN
        SET in_page = 1;
    END IF;    
    
    IF (in_page_size = 0) THEN
       SET in_page_size = 10;
    END IF;
    
    IF (in_sort = NULL || in_sort = '') THEN
       SET in_sort = ' date_modified ASC ';
    END IF;
    
    SET @sfields = CONCAT('', '`status`');
    SET @sfields = CONCAT(@sfields, ', `fax`');
    SET @sfields = CONCAT(@sfields, ', `code`');
    SET @sfields = CONCAT(@sfields, ', `description`');
    SET @sfields = CONCAT(@sfields, ', `address1`');
    SET @sfields = CONCAT(@sfields, ', `twitter`');
    SET @sfields = CONCAT(@sfields, ', `phone`');
    SET @sfields = CONCAT(@sfields, ', `postal_code`');
    SET @sfields = CONCAT(@sfields, ', `offer_id`');
    SET @sfields = CONCAT(@sfields, ', `country_code`');
    SET @sfields = CONCAT(@sfields, ', `date_created`');
    SET @sfields = CONCAT(@sfields, ', `active`');
    SET @sfields = CONCAT(@sfields, ', `uuid`');
    SET @sfields = CONCAT(@sfields, ', `state_province`');
    SET @sfields = CONCAT(@sfields, ', `city`');
    SET @sfields = CONCAT(@sfields, ', `display_name`');
    SET @sfields = CONCAT(@sfields, ', `name`');
    SET @sfields = CONCAT(@sfields, ', `date_modified`');
    SET @sfields = CONCAT(@sfields, ', `dob`');
    SET @sfields = CONCAT(@sfields, ', `date_start`');
    SET @sfields = CONCAT(@sfields, ', `longitude`');
    SET @sfields = CONCAT(@sfields, ', `email`');
    SET @sfields = CONCAT(@sfields, ', `date_end`');
    SET @sfields = CONCAT(@sfields, ', `latitude`');
    SET @sfields = CONCAT(@sfields, ', `facebook`');
    SET @sfields = CONCAT(@sfields, ', `type`');
    SET @sfields = CONCAT(@sfields, ', `address2`');
    
    SET @stable = CONCAT('', ' FROM `offer_location` WHERE 1=1 ');
    
    SET @s = CONCAT(' ', @stable);
    SET @s = CONCAT(@s, ' ', in_filter);    
    
    SET @scount = CONCAT('SELECT COUNT(*) as `total_rows` ', @s, ' INTO @total_rows');
    
    PREPARE stmtcount FROM @scount;
    EXECUTE stmtcount;
    #SELECT @total_rows;
    SET total_rows = @total_rows;

    SET @sfields = CONCAT(total_rows, ' as `total_rows`, ', @sfields);
    SET @s = CONCAT('SELECT ', @sfields, @s);
    SET @s = CONCAT(@s, ' ORDER BY ', in_sort);
    SET @s = CONCAT(@s, ' LIMIT ', in_page);
    SET @s = CONCAT(@s, ',', in_page_size);    

    PREPARE stmt FROM @s;
    EXECUTE stmt;
    
END$$
delimiter ;
-- ------------------------------------
-- SET

-- ------------------------------------
-- MODEL: OfferLocation - offer_location

                       
DROP PROCEDURE IF EXISTS `usp_offer_location_set_uuid`;
delimiter $$
CREATE PROCEDURE `usp_offer_location_set_uuid`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_fax VARCHAR (30) 
    , in_code VARCHAR (255) 
    , in_description VARCHAR (255) 
    , in_address1 VARCHAR (1000) 
    , in_twitter VARCHAR (50) 
    , in_phone VARCHAR (30) 
    , in_postal_code VARCHAR (30) 
    , in_offer_id BINARY(16) 
    , in_country_code VARCHAR (255) 
    , in_date_created TIMESTAMP 
    , in_active int 
    , in_uuid BINARY(16) 
    , in_state_province VARCHAR (255) 
    , in_city VARCHAR (255) 
    , in_display_name VARCHAR (255) 
    , in_name VARCHAR (255) 
    , in_date_modified TIMESTAMP 
    , in_dob TIMESTAMP 
    , in_date_start TIMESTAMP 
    , in_longitude double 
    , in_email VARCHAR (255) 
    , in_date_end TIMESTAMP 
    , in_latitude double 
    , in_facebook VARCHAR (255) 
    , in_type VARCHAR (500) 
    , in_address2 VARCHAR (500) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `offer_location`  
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `offer_location` 
                    SET
                        `status` = in_status
                        , `fax` = in_fax
                        , `code` = in_code
                        , `description` = in_description
                        , `address1` = in_address1
                        , `twitter` = in_twitter
                        , `phone` = in_phone
                        , `postal_code` = in_postal_code
                        , `offer_id` = in_offer_id
                        , `country_code` = in_country_code
                        , `date_created` = in_date_created
                        , `active` = in_active
                        , `uuid` = in_uuid
                        , `state_province` = in_state_province
                        , `city` = in_city
                        , `display_name` = in_display_name
                        , `name` = in_name
                        , `date_modified` = in_date_modified
                        , `dob` = in_dob
                        , `date_start` = in_date_start
                        , `longitude` = in_longitude
                        , `email` = in_email
                        , `date_end` = in_date_end
                        , `latitude` = in_latitude
                        , `facebook` = in_facebook
                        , `type` = in_type
                        , `address2` = in_address2
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `offer_location`
                    (
                        `status`
                        , `fax`
                        , `code`
                        , `description`
                        , `address1`
                        , `twitter`
                        , `phone`
                        , `postal_code`
                        , `offer_id`
                        , `country_code`
                        , `date_created`
                        , `active`
                        , `uuid`
                        , `state_province`
                        , `city`
                        , `display_name`
                        , `name`
                        , `date_modified`
                        , `dob`
                        , `date_start`
                        , `longitude`
                        , `email`
                        , `date_end`
                        , `latitude`
                        , `facebook`
                        , `type`
                        , `address2`
                    )
                    VALUES
                    (
                        in_status
                        , in_fax
                        , in_code
                        , in_description
                        , in_address1
                        , in_twitter
                        , in_phone
                        , in_postal_code
                        , in_offer_id
                        , in_country_code
                        , in_date_created
                        , in_active
                        , in_uuid
                        , in_state_province
                        , in_city
                        , in_display_name
                        , in_name
                        , in_date_modified
                        , in_dob
                        , in_date_start
                        , in_longitude
                        , in_email
                        , in_date_end
                        , in_latitude
                        , in_facebook
                        , in_type
                        , in_address2
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

-- ------------------------------------
-- DEL

-- ------------------------------------
-- MODEL: OfferLocation - offer_location

                       
DROP PROCEDURE IF EXISTS `usp_offer_location_del_uuid`;

delimiter $$
CREATE PROCEDURE `usp_offer_location_del_uuid`
(
    in_uuid BINARY(16) 
)

BEGIN
    DELETE 
    FROM `offer_location`
    WHERE 1=1                        
    AND "uuid" = in_uuid
    ;
END$$
delimiter ;
-- ------------------------------------
-- GET

-- ------------------------------------
-- MODEL: OfferLocation - offer_location

                       
DROP PROCEDURE IF EXISTS `usp_offer_location_get`;

delimiter $$
CREATE PROCEDURE `usp_offer_location_get`
(
)                        
BEGIN
    SELECT
        `status`
        , `fax`
        , `code`
        , `description`
        , `address1`
        , `twitter`
        , `phone`
        , `postal_code`
        , `offer_id`
        , `country_code`
        , `date_created`
        , `active`
        , `uuid`
        , `state_province`
        , `city`
        , `display_name`
        , `name`
        , `date_modified`
        , `dob`
        , `date_start`
        , `longitude`
        , `email`
        , `date_end`
        , `latitude`
        , `facebook`
        , `type`
        , `address2`
    FROM `offer_location`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_offer_location_get_uuid`;

delimiter $$
CREATE PROCEDURE `usp_offer_location_get_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `fax`
        , `code`
        , `description`
        , `address1`
        , `twitter`
        , `phone`
        , `postal_code`
        , `offer_id`
        , `country_code`
        , `date_created`
        , `active`
        , `uuid`
        , `state_province`
        , `city`
        , `display_name`
        , `name`
        , `date_modified`
        , `dob`
        , `date_start`
        , `longitude`
        , `email`
        , `date_end`
        , `latitude`
        , `facebook`
        , `type`
        , `address2`
    FROM `offer_location`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_offer_location_get_offer_id`;

delimiter $$
CREATE PROCEDURE `usp_offer_location_get_offer_id`
(
    in_offer_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `fax`
        , `code`
        , `description`
        , `address1`
        , `twitter`
        , `phone`
        , `postal_code`
        , `offer_id`
        , `country_code`
        , `date_created`
        , `active`
        , `uuid`
        , `state_province`
        , `city`
        , `display_name`
        , `name`
        , `date_modified`
        , `dob`
        , `date_start`
        , `longitude`
        , `email`
        , `date_end`
        , `latitude`
        , `facebook`
        , `type`
        , `address2`
    FROM `offer_location`
    WHERE 1=1
    AND `offer_id` = in_offer_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_offer_location_get_city`;

delimiter $$
CREATE PROCEDURE `usp_offer_location_get_city`
(
    in_city VARCHAR (255) 
)
BEGIN
    SELECT
        `status`
        , `fax`
        , `code`
        , `description`
        , `address1`
        , `twitter`
        , `phone`
        , `postal_code`
        , `offer_id`
        , `country_code`
        , `date_created`
        , `active`
        , `uuid`
        , `state_province`
        , `city`
        , `display_name`
        , `name`
        , `date_modified`
        , `dob`
        , `date_start`
        , `longitude`
        , `email`
        , `date_end`
        , `latitude`
        , `facebook`
        , `type`
        , `address2`
    FROM `offer_location`
    WHERE 1=1
    AND lower(`city`) = lower(in_city)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_offer_location_get_country_code`;

delimiter $$
CREATE PROCEDURE `usp_offer_location_get_country_code`
(
    in_country_code VARCHAR (255) 
)
BEGIN
    SELECT
        `status`
        , `fax`
        , `code`
        , `description`
        , `address1`
        , `twitter`
        , `phone`
        , `postal_code`
        , `offer_id`
        , `country_code`
        , `date_created`
        , `active`
        , `uuid`
        , `state_province`
        , `city`
        , `display_name`
        , `name`
        , `date_modified`
        , `dob`
        , `date_start`
        , `longitude`
        , `email`
        , `date_end`
        , `latitude`
        , `facebook`
        , `type`
        , `address2`
    FROM `offer_location`
    WHERE 1=1
    AND lower(`country_code`) = lower(in_country_code)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_offer_location_get_postal_code`;

delimiter $$
CREATE PROCEDURE `usp_offer_location_get_postal_code`
(
    in_postal_code VARCHAR (30) 
)
BEGIN
    SELECT
        `status`
        , `fax`
        , `code`
        , `description`
        , `address1`
        , `twitter`
        , `phone`
        , `postal_code`
        , `offer_id`
        , `country_code`
        , `date_created`
        , `active`
        , `uuid`
        , `state_province`
        , `city`
        , `display_name`
        , `name`
        , `date_modified`
        , `dob`
        , `date_start`
        , `longitude`
        , `email`
        , `date_end`
        , `latitude`
        , `facebook`
        , `type`
        , `address2`
    FROM `offer_location`
    WHERE 1=1
    AND lower(`postal_code`) = lower(in_postal_code)
    ;
END$$
delimiter ;

-- -----------------------------------------------------------------------------
-- PROCS

-- ------------------------------------
-- COUNT

-- ------------------------------------
-- MODEL: OfferCategory - offer_category

                       
DROP PROCEDURE IF EXISTS `usp_offer_category_count`;
delimiter $$
CREATE PROCEDURE `usp_offer_category_count`
BEGIN
    SELECT
        COUNT(*) as count
    FROM `offer_category`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_offer_category_count_uuid`;
delimiter $$
CREATE PROCEDURE `usp_offer_category_count_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `offer_category`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_offer_category_count_code`;
delimiter $$
CREATE PROCEDURE `usp_offer_category_count_code`
(
    in_code VARCHAR (255) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `offer_category`
    WHERE 1=1
    AND lower(`code`) = lower(in_code)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_offer_category_count_name`;
delimiter $$
CREATE PROCEDURE `usp_offer_category_count_name`
(
    in_name VARCHAR (255) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `offer_category`
    WHERE 1=1
    AND lower(`name`) = lower(in_name)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_offer_category_count_org_id`;
delimiter $$
CREATE PROCEDURE `usp_offer_category_count_org_id`
(
    in_org_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `offer_category`
    WHERE 1=1
    AND `org_id` = in_org_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_offer_category_count_type_id`;
delimiter $$
CREATE PROCEDURE `usp_offer_category_count_type_id`
(
    in_type_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `offer_category`
    WHERE 1=1
    AND `type_id` = in_type_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_offer_category_count_org_id_type_id`;
delimiter $$
CREATE PROCEDURE `usp_offer_category_count_org_id_type_id`
(
    in_org_id BINARY(16) 
    , in_type_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `offer_category`
    WHERE 1=1
    AND `org_id` = in_org_id
    AND `type_id` = in_type_id
    ;
END$$
delimiter ;

-- ------------------------------------
-- BROWSE

-- ------------------------------------
-- MODEL: OfferCategory - offer_category

                       
DROP PROCEDURE IF EXISTS `usp_offer_category_browse_filter`;

delimiter $$
CREATE PROCEDURE `usp_offer_category_browse_filter`
(
    in_page int,
    in_page_size int,
    in_sort VARCHAR(500),
    in_filter VARCHAR(4000)
    
)
BEGIN
    DECLARE total_rows int;
    SET total_rows = 0;
        
    IF (in_page = 0) THEN
        SET in_page = 1;
    END IF;    
    
    IF (in_page_size = 0) THEN
       SET in_page_size = 10;
    END IF;
    
    IF (in_sort = NULL || in_sort = '') THEN
       SET in_sort = ' date_modified ASC ';
    END IF;
    
    SET @sfields = CONCAT('', '`status`');
    SET @sfields = CONCAT(@sfields, ', `code`');
    SET @sfields = CONCAT(@sfields, ', `display_name`');
    SET @sfields = CONCAT(@sfields, ', `name`');
    SET @sfields = CONCAT(@sfields, ', `date_modified`');
    SET @sfields = CONCAT(@sfields, ', `type_id`');
    SET @sfields = CONCAT(@sfields, ', `org_id`');
    SET @sfields = CONCAT(@sfields, ', `uuid`');
    SET @sfields = CONCAT(@sfields, ', `active`');
    SET @sfields = CONCAT(@sfields, ', `date_created`');
    SET @sfields = CONCAT(@sfields, ', `type`');
    SET @sfields = CONCAT(@sfields, ', `description`');
    
    SET @stable = CONCAT('', ' FROM `offer_category` WHERE 1=1 ');
    
    SET @s = CONCAT(' ', @stable);
    SET @s = CONCAT(@s, ' ', in_filter);    
    
    SET @scount = CONCAT('SELECT COUNT(*) as `total_rows` ', @s, ' INTO @total_rows');
    
    PREPARE stmtcount FROM @scount;
    EXECUTE stmtcount;
    #SELECT @total_rows;
    SET total_rows = @total_rows;

    SET @sfields = CONCAT(total_rows, ' as `total_rows`, ', @sfields);
    SET @s = CONCAT('SELECT ', @sfields, @s);
    SET @s = CONCAT(@s, ' ORDER BY ', in_sort);
    SET @s = CONCAT(@s, ' LIMIT ', in_page);
    SET @s = CONCAT(@s, ',', in_page_size);    

    PREPARE stmt FROM @s;
    EXECUTE stmt;
    
END$$
delimiter ;
-- ------------------------------------
-- SET

-- ------------------------------------
-- MODEL: OfferCategory - offer_category

                       
DROP PROCEDURE IF EXISTS `usp_offer_category_set_uuid`;
delimiter $$
CREATE PROCEDURE `usp_offer_category_set_uuid`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_code VARCHAR (255) 
    , in_display_name VARCHAR (255) 
    , in_name VARCHAR (255) 
    , in_date_modified TIMESTAMP 
    , in_type_id BINARY(16) 
    , in_org_id BINARY(16) 
    , in_uuid BINARY(16) 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (500) 
    , in_description VARCHAR (255) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `offer_category`  
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `offer_category` 
                    SET
                        `status` = in_status
                        , `code` = in_code
                        , `display_name` = in_display_name
                        , `name` = in_name
                        , `date_modified` = in_date_modified
                        , `type_id` = in_type_id
                        , `org_id` = in_org_id
                        , `uuid` = in_uuid
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `type` = in_type
                        , `description` = in_description
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `offer_category`
                    (
                        `status`
                        , `code`
                        , `display_name`
                        , `name`
                        , `date_modified`
                        , `type_id`
                        , `org_id`
                        , `uuid`
                        , `active`
                        , `date_created`
                        , `type`
                        , `description`
                    )
                    VALUES
                    (
                        in_status
                        , in_code
                        , in_display_name
                        , in_name
                        , in_date_modified
                        , in_type_id
                        , in_org_id
                        , in_uuid
                        , in_active
                        , in_date_created
                        , in_type
                        , in_description
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

-- ------------------------------------
-- DEL

-- ------------------------------------
-- MODEL: OfferCategory - offer_category

                       
DROP PROCEDURE IF EXISTS `usp_offer_category_del_uuid`;

delimiter $$
CREATE PROCEDURE `usp_offer_category_del_uuid`
(
    in_uuid BINARY(16) 
)

BEGIN
    DELETE 
    FROM `offer_category`
    WHERE 1=1                        
    AND "uuid" = in_uuid
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_offer_category_del_code_org_id`;

delimiter $$
CREATE PROCEDURE `usp_offer_category_del_code_org_id`
(
    in_code VARCHAR (255) 
    , in_org_id BINARY(16) 
)

BEGIN
    DELETE 
    FROM `offer_category`
    WHERE 1=1                        
    AND lower("code") = lower(in_code)
    AND "org_id" = in_org_id
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_offer_category_del_code_org_id_type_id`;

delimiter $$
CREATE PROCEDURE `usp_offer_category_del_code_org_id_type_id`
(
    in_code VARCHAR (255) 
    , in_org_id BINARY(16) 
    , in_type_id BINARY(16) 
)

BEGIN
    DELETE 
    FROM `offer_category`
    WHERE 1=1                        
    AND lower("code") = lower(in_code)
    AND "org_id" = in_org_id
    AND "type_id" = in_type_id
    ;
END$$
delimiter ;
-- ------------------------------------
-- GET

-- ------------------------------------
-- MODEL: OfferCategory - offer_category

                       
DROP PROCEDURE IF EXISTS `usp_offer_category_get`;

delimiter $$
CREATE PROCEDURE `usp_offer_category_get`
(
)                        
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `type_id`
        , `org_id`
        , `uuid`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `offer_category`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_offer_category_get_uuid`;

delimiter $$
CREATE PROCEDURE `usp_offer_category_get_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `type_id`
        , `org_id`
        , `uuid`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `offer_category`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_offer_category_get_code`;

delimiter $$
CREATE PROCEDURE `usp_offer_category_get_code`
(
    in_code VARCHAR (255) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `type_id`
        , `org_id`
        , `uuid`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `offer_category`
    WHERE 1=1
    AND lower(`code`) = lower(in_code)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_offer_category_get_name`;

delimiter $$
CREATE PROCEDURE `usp_offer_category_get_name`
(
    in_name VARCHAR (255) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `type_id`
        , `org_id`
        , `uuid`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `offer_category`
    WHERE 1=1
    AND lower(`name`) = lower(in_name)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_offer_category_get_org_id`;

delimiter $$
CREATE PROCEDURE `usp_offer_category_get_org_id`
(
    in_org_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `type_id`
        , `org_id`
        , `uuid`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `offer_category`
    WHERE 1=1
    AND `org_id` = in_org_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_offer_category_get_type_id`;

delimiter $$
CREATE PROCEDURE `usp_offer_category_get_type_id`
(
    in_type_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `type_id`
        , `org_id`
        , `uuid`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `offer_category`
    WHERE 1=1
    AND `type_id` = in_type_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_offer_category_get_org_id_type_id`;

delimiter $$
CREATE PROCEDURE `usp_offer_category_get_org_id_type_id`
(
    in_org_id BINARY(16) 
    , in_type_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `type_id`
        , `org_id`
        , `uuid`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `offer_category`
    WHERE 1=1
    AND `org_id` = in_org_id
    AND `type_id` = in_type_id
    ;
END$$
delimiter ;

-- -----------------------------------------------------------------------------
-- PROCS

-- ------------------------------------
-- COUNT

-- ------------------------------------
-- MODEL: OfferCategoryTree - offer_category_tree

                       
DROP PROCEDURE IF EXISTS `usp_offer_category_tree_count`;
delimiter $$
CREATE PROCEDURE `usp_offer_category_tree_count`
BEGIN
    SELECT
        COUNT(*) as count
    FROM `offer_category_tree`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_offer_category_tree_count_uuid`;
delimiter $$
CREATE PROCEDURE `usp_offer_category_tree_count_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `offer_category_tree`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_offer_category_tree_count_parent_id`;
delimiter $$
CREATE PROCEDURE `usp_offer_category_tree_count_parent_id`
(
    in_parent_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `offer_category_tree`
    WHERE 1=1
    AND `parent_id` = in_parent_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_offer_category_tree_count_category_id`;
delimiter $$
CREATE PROCEDURE `usp_offer_category_tree_count_category_id`
(
    in_category_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `offer_category_tree`
    WHERE 1=1
    AND `category_id` = in_category_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_offer_category_tree_count_parent_id_category_id`;
delimiter $$
CREATE PROCEDURE `usp_offer_category_tree_count_parent_id_category_id`
(
    in_parent_id BINARY(16) 
    , in_category_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `offer_category_tree`
    WHERE 1=1
    AND `parent_id` = in_parent_id
    AND `category_id` = in_category_id
    ;
END$$
delimiter ;

-- ------------------------------------
-- BROWSE

-- ------------------------------------
-- MODEL: OfferCategoryTree - offer_category_tree

                       
DROP PROCEDURE IF EXISTS `usp_offer_category_tree_browse_filter`;

delimiter $$
CREATE PROCEDURE `usp_offer_category_tree_browse_filter`
(
    in_page int,
    in_page_size int,
    in_sort VARCHAR(500),
    in_filter VARCHAR(4000)
    
)
BEGIN
    DECLARE total_rows int;
    SET total_rows = 0;
        
    IF (in_page = 0) THEN
        SET in_page = 1;
    END IF;    
    
    IF (in_page_size = 0) THEN
       SET in_page_size = 10;
    END IF;
    
    IF (in_sort = NULL || in_sort = '') THEN
       SET in_sort = ' date_modified ASC ';
    END IF;
    
    SET @sfields = CONCAT('', '`status`');
    SET @sfields = CONCAT(@sfields, ', `parent_id`');
    SET @sfields = CONCAT(@sfields, ', `uuid`');
    SET @sfields = CONCAT(@sfields, ', `date_modified`');
    SET @sfields = CONCAT(@sfields, ', `active`');
    SET @sfields = CONCAT(@sfields, ', `date_created`');
    SET @sfields = CONCAT(@sfields, ', `category_id`');
    SET @sfields = CONCAT(@sfields, ', `type`');
    
    SET @stable = CONCAT('', ' FROM `offer_category_tree` WHERE 1=1 ');
    
    SET @s = CONCAT(' ', @stable);
    SET @s = CONCAT(@s, ' ', in_filter);    
    
    SET @scount = CONCAT('SELECT COUNT(*) as `total_rows` ', @s, ' INTO @total_rows');
    
    PREPARE stmtcount FROM @scount;
    EXECUTE stmtcount;
    #SELECT @total_rows;
    SET total_rows = @total_rows;

    SET @sfields = CONCAT(total_rows, ' as `total_rows`, ', @sfields);
    SET @s = CONCAT('SELECT ', @sfields, @s);
    SET @s = CONCAT(@s, ' ORDER BY ', in_sort);
    SET @s = CONCAT(@s, ' LIMIT ', in_page);
    SET @s = CONCAT(@s, ',', in_page_size);    

    PREPARE stmt FROM @s;
    EXECUTE stmt;
    
END$$
delimiter ;
-- ------------------------------------
-- SET

-- ------------------------------------
-- MODEL: OfferCategoryTree - offer_category_tree

                       
DROP PROCEDURE IF EXISTS `usp_offer_category_tree_set_uuid`;
delimiter $$
CREATE PROCEDURE `usp_offer_category_tree_set_uuid`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_parent_id BINARY(16) 
    , in_uuid BINARY(16) 
    , in_date_modified TIMESTAMP 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_category_id BINARY(16) 
    , in_type VARCHAR (500) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `offer_category_tree`  
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `offer_category_tree` 
                    SET
                        `status` = in_status
                        , `parent_id` = in_parent_id
                        , `uuid` = in_uuid
                        , `date_modified` = in_date_modified
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `category_id` = in_category_id
                        , `type` = in_type
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `offer_category_tree`
                    (
                        `status`
                        , `parent_id`
                        , `uuid`
                        , `date_modified`
                        , `active`
                        , `date_created`
                        , `category_id`
                        , `type`
                    )
                    VALUES
                    (
                        in_status
                        , in_parent_id
                        , in_uuid
                        , in_date_modified
                        , in_active
                        , in_date_created
                        , in_category_id
                        , in_type
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

-- ------------------------------------
-- DEL

-- ------------------------------------
-- MODEL: OfferCategoryTree - offer_category_tree

                       
DROP PROCEDURE IF EXISTS `usp_offer_category_tree_del_uuid`;

delimiter $$
CREATE PROCEDURE `usp_offer_category_tree_del_uuid`
(
    in_uuid BINARY(16) 
)

BEGIN
    DELETE 
    FROM `offer_category_tree`
    WHERE 1=1                        
    AND "uuid" = in_uuid
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_offer_category_tree_del_parent_id`;

delimiter $$
CREATE PROCEDURE `usp_offer_category_tree_del_parent_id`
(
    in_parent_id BINARY(16) 
)

BEGIN
    DELETE 
    FROM `offer_category_tree`
    WHERE 1=1                        
    AND "parent_id" = in_parent_id
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_offer_category_tree_del_category_id`;

delimiter $$
CREATE PROCEDURE `usp_offer_category_tree_del_category_id`
(
    in_category_id BINARY(16) 
)

BEGIN
    DELETE 
    FROM `offer_category_tree`
    WHERE 1=1                        
    AND "category_id" = in_category_id
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_offer_category_tree_del_parent_id_category_id`;

delimiter $$
CREATE PROCEDURE `usp_offer_category_tree_del_parent_id_category_id`
(
    in_parent_id BINARY(16) 
    , in_category_id BINARY(16) 
)

BEGIN
    DELETE 
    FROM `offer_category_tree`
    WHERE 1=1                        
    AND "parent_id" = in_parent_id
    AND "category_id" = in_category_id
    ;
END$$
delimiter ;
-- ------------------------------------
-- GET

-- ------------------------------------
-- MODEL: OfferCategoryTree - offer_category_tree

                       
DROP PROCEDURE IF EXISTS `usp_offer_category_tree_get`;

delimiter $$
CREATE PROCEDURE `usp_offer_category_tree_get`
(
)                        
BEGIN
    SELECT
        `status`
        , `parent_id`
        , `uuid`
        , `date_modified`
        , `active`
        , `date_created`
        , `category_id`
        , `type`
    FROM `offer_category_tree`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_offer_category_tree_get_uuid`;

delimiter $$
CREATE PROCEDURE `usp_offer_category_tree_get_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `parent_id`
        , `uuid`
        , `date_modified`
        , `active`
        , `date_created`
        , `category_id`
        , `type`
    FROM `offer_category_tree`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_offer_category_tree_get_parent_id`;

delimiter $$
CREATE PROCEDURE `usp_offer_category_tree_get_parent_id`
(
    in_parent_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `parent_id`
        , `uuid`
        , `date_modified`
        , `active`
        , `date_created`
        , `category_id`
        , `type`
    FROM `offer_category_tree`
    WHERE 1=1
    AND `parent_id` = in_parent_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_offer_category_tree_get_category_id`;

delimiter $$
CREATE PROCEDURE `usp_offer_category_tree_get_category_id`
(
    in_category_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `parent_id`
        , `uuid`
        , `date_modified`
        , `active`
        , `date_created`
        , `category_id`
        , `type`
    FROM `offer_category_tree`
    WHERE 1=1
    AND `category_id` = in_category_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_offer_category_tree_get_parent_id_category_id`;

delimiter $$
CREATE PROCEDURE `usp_offer_category_tree_get_parent_id_category_id`
(
    in_parent_id BINARY(16) 
    , in_category_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `parent_id`
        , `uuid`
        , `date_modified`
        , `active`
        , `date_created`
        , `category_id`
        , `type`
    FROM `offer_category_tree`
    WHERE 1=1
    AND `parent_id` = in_parent_id
    AND `category_id` = in_category_id
    ;
END$$
delimiter ;

-- -----------------------------------------------------------------------------
-- PROCS

-- ------------------------------------
-- COUNT

-- ------------------------------------
-- MODEL: OfferCategoryAssoc - offer_category_assoc

                       
DROP PROCEDURE IF EXISTS `usp_offer_category_assoc_count`;
delimiter $$
CREATE PROCEDURE `usp_offer_category_assoc_count`
BEGIN
    SELECT
        COUNT(*) as count
    FROM `offer_category_assoc`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_offer_category_assoc_count_uuid`;
delimiter $$
CREATE PROCEDURE `usp_offer_category_assoc_count_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `offer_category_assoc`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_offer_category_assoc_count_offer_id`;
delimiter $$
CREATE PROCEDURE `usp_offer_category_assoc_count_offer_id`
(
    in_offer_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `offer_category_assoc`
    WHERE 1=1
    AND `offer_id` = in_offer_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_offer_category_assoc_count_category_id`;
delimiter $$
CREATE PROCEDURE `usp_offer_category_assoc_count_category_id`
(
    in_category_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `offer_category_assoc`
    WHERE 1=1
    AND `category_id` = in_category_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_offer_category_assoc_count_offer_id_category_id`;
delimiter $$
CREATE PROCEDURE `usp_offer_category_assoc_count_offer_id_category_id`
(
    in_offer_id BINARY(16) 
    , in_category_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `offer_category_assoc`
    WHERE 1=1
    AND `offer_id` = in_offer_id
    AND `category_id` = in_category_id
    ;
END$$
delimiter ;

-- ------------------------------------
-- BROWSE

-- ------------------------------------
-- MODEL: OfferCategoryAssoc - offer_category_assoc

                       
DROP PROCEDURE IF EXISTS `usp_offer_category_assoc_browse_filter`;

delimiter $$
CREATE PROCEDURE `usp_offer_category_assoc_browse_filter`
(
    in_page int,
    in_page_size int,
    in_sort VARCHAR(500),
    in_filter VARCHAR(4000)
    
)
BEGIN
    DECLARE total_rows int;
    SET total_rows = 0;
        
    IF (in_page = 0) THEN
        SET in_page = 1;
    END IF;    
    
    IF (in_page_size = 0) THEN
       SET in_page_size = 10;
    END IF;
    
    IF (in_sort = NULL || in_sort = '') THEN
       SET in_sort = ' date_modified ASC ';
    END IF;
    
    SET @sfields = CONCAT('', '`status`');
    SET @sfields = CONCAT(@sfields, ', `uuid`');
    SET @sfields = CONCAT(@sfields, ', `date_modified`');
    SET @sfields = CONCAT(@sfields, ', `active`');
    SET @sfields = CONCAT(@sfields, ', `date_created`');
    SET @sfields = CONCAT(@sfields, ', `offer_id`');
    SET @sfields = CONCAT(@sfields, ', `category_id`');
    SET @sfields = CONCAT(@sfields, ', `type`');
    
    SET @stable = CONCAT('', ' FROM `offer_category_assoc` WHERE 1=1 ');
    
    SET @s = CONCAT(' ', @stable);
    SET @s = CONCAT(@s, ' ', in_filter);    
    
    SET @scount = CONCAT('SELECT COUNT(*) as `total_rows` ', @s, ' INTO @total_rows');
    
    PREPARE stmtcount FROM @scount;
    EXECUTE stmtcount;
    #SELECT @total_rows;
    SET total_rows = @total_rows;

    SET @sfields = CONCAT(total_rows, ' as `total_rows`, ', @sfields);
    SET @s = CONCAT('SELECT ', @sfields, @s);
    SET @s = CONCAT(@s, ' ORDER BY ', in_sort);
    SET @s = CONCAT(@s, ' LIMIT ', in_page);
    SET @s = CONCAT(@s, ',', in_page_size);    

    PREPARE stmt FROM @s;
    EXECUTE stmt;
    
END$$
delimiter ;
-- ------------------------------------
-- SET

-- ------------------------------------
-- MODEL: OfferCategoryAssoc - offer_category_assoc

                       
DROP PROCEDURE IF EXISTS `usp_offer_category_assoc_set_uuid`;
delimiter $$
CREATE PROCEDURE `usp_offer_category_assoc_set_uuid`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_uuid BINARY(16) 
    , in_date_modified TIMESTAMP 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_offer_id BINARY(16) 
    , in_category_id BINARY(16) 
    , in_type VARCHAR (500) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `offer_category_assoc`  
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `offer_category_assoc` 
                    SET
                        `status` = in_status
                        , `uuid` = in_uuid
                        , `date_modified` = in_date_modified
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `offer_id` = in_offer_id
                        , `category_id` = in_category_id
                        , `type` = in_type
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `offer_category_assoc`
                    (
                        `status`
                        , `uuid`
                        , `date_modified`
                        , `active`
                        , `date_created`
                        , `offer_id`
                        , `category_id`
                        , `type`
                    )
                    VALUES
                    (
                        in_status
                        , in_uuid
                        , in_date_modified
                        , in_active
                        , in_date_created
                        , in_offer_id
                        , in_category_id
                        , in_type
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

-- ------------------------------------
-- DEL

-- ------------------------------------
-- MODEL: OfferCategoryAssoc - offer_category_assoc

                       
DROP PROCEDURE IF EXISTS `usp_offer_category_assoc_del_uuid`;

delimiter $$
CREATE PROCEDURE `usp_offer_category_assoc_del_uuid`
(
    in_uuid BINARY(16) 
)

BEGIN
    DELETE 
    FROM `offer_category_assoc`
    WHERE 1=1                        
    AND "uuid" = in_uuid
    ;
END$$
delimiter ;
-- ------------------------------------
-- GET

-- ------------------------------------
-- MODEL: OfferCategoryAssoc - offer_category_assoc

                       
DROP PROCEDURE IF EXISTS `usp_offer_category_assoc_get`;

delimiter $$
CREATE PROCEDURE `usp_offer_category_assoc_get`
(
)                        
BEGIN
    SELECT
        `status`
        , `uuid`
        , `date_modified`
        , `active`
        , `date_created`
        , `offer_id`
        , `category_id`
        , `type`
    FROM `offer_category_assoc`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_offer_category_assoc_get_uuid`;

delimiter $$
CREATE PROCEDURE `usp_offer_category_assoc_get_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `uuid`
        , `date_modified`
        , `active`
        , `date_created`
        , `offer_id`
        , `category_id`
        , `type`
    FROM `offer_category_assoc`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_offer_category_assoc_get_offer_id`;

delimiter $$
CREATE PROCEDURE `usp_offer_category_assoc_get_offer_id`
(
    in_offer_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `uuid`
        , `date_modified`
        , `active`
        , `date_created`
        , `offer_id`
        , `category_id`
        , `type`
    FROM `offer_category_assoc`
    WHERE 1=1
    AND `offer_id` = in_offer_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_offer_category_assoc_get_category_id`;

delimiter $$
CREATE PROCEDURE `usp_offer_category_assoc_get_category_id`
(
    in_category_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `uuid`
        , `date_modified`
        , `active`
        , `date_created`
        , `offer_id`
        , `category_id`
        , `type`
    FROM `offer_category_assoc`
    WHERE 1=1
    AND `category_id` = in_category_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_offer_category_assoc_get_offer_id_category_id`;

delimiter $$
CREATE PROCEDURE `usp_offer_category_assoc_get_offer_id_category_id`
(
    in_offer_id BINARY(16) 
    , in_category_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `uuid`
        , `date_modified`
        , `active`
        , `date_created`
        , `offer_id`
        , `category_id`
        , `type`
    FROM `offer_category_assoc`
    WHERE 1=1
    AND `offer_id` = in_offer_id
    AND `category_id` = in_category_id
    ;
END$$
delimiter ;

-- -----------------------------------------------------------------------------
-- PROCS

-- ------------------------------------
-- COUNT

-- ------------------------------------
-- MODEL: OfferGameLocation - offer_game_location

                       
DROP PROCEDURE IF EXISTS `usp_offer_game_location_count`;
delimiter $$
CREATE PROCEDURE `usp_offer_game_location_count`
BEGIN
    SELECT
        COUNT(*) as count
    FROM `offer_game_location`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_offer_game_location_count_uuid`;
delimiter $$
CREATE PROCEDURE `usp_offer_game_location_count_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `offer_game_location`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_offer_game_location_count_game_location_id`;
delimiter $$
CREATE PROCEDURE `usp_offer_game_location_count_game_location_id`
(
    in_game_location_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `offer_game_location`
    WHERE 1=1
    AND `game_location_id` = in_game_location_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_offer_game_location_count_offer_id`;
delimiter $$
CREATE PROCEDURE `usp_offer_game_location_count_offer_id`
(
    in_offer_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `offer_game_location`
    WHERE 1=1
    AND `offer_id` = in_offer_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_offer_game_location_count_offer_id_game_location_id`;
delimiter $$
CREATE PROCEDURE `usp_offer_game_location_count_offer_id_game_location_id`
(
    in_offer_id BINARY(16) 
    , in_game_location_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `offer_game_location`
    WHERE 1=1
    AND `offer_id` = in_offer_id
    AND `game_location_id` = in_game_location_id
    ;
END$$
delimiter ;

-- ------------------------------------
-- BROWSE

-- ------------------------------------
-- MODEL: OfferGameLocation - offer_game_location

                       
DROP PROCEDURE IF EXISTS `usp_offer_game_location_browse_filter`;

delimiter $$
CREATE PROCEDURE `usp_offer_game_location_browse_filter`
(
    in_page int,
    in_page_size int,
    in_sort VARCHAR(500),
    in_filter VARCHAR(4000)
    
)
BEGIN
    DECLARE total_rows int;
    SET total_rows = 0;
        
    IF (in_page = 0) THEN
        SET in_page = 1;
    END IF;    
    
    IF (in_page_size = 0) THEN
       SET in_page_size = 10;
    END IF;
    
    IF (in_sort = NULL || in_sort = '') THEN
       SET in_sort = ' date_modified ASC ';
    END IF;
    
    SET @sfields = CONCAT('', '`status`');
    SET @sfields = CONCAT(@sfields, ', `game_location_id`');
    SET @sfields = CONCAT(@sfields, ', `uuid`');
    SET @sfields = CONCAT(@sfields, ', `date_modified`');
    SET @sfields = CONCAT(@sfields, ', `active`');
    SET @sfields = CONCAT(@sfields, ', `date_created`');
    SET @sfields = CONCAT(@sfields, ', `offer_id`');
    SET @sfields = CONCAT(@sfields, ', `type_id`');
    SET @sfields = CONCAT(@sfields, ', `type`');
    
    SET @stable = CONCAT('', ' FROM `offer_game_location` WHERE 1=1 ');
    
    SET @s = CONCAT(' ', @stable);
    SET @s = CONCAT(@s, ' ', in_filter);    
    
    SET @scount = CONCAT('SELECT COUNT(*) as `total_rows` ', @s, ' INTO @total_rows');
    
    PREPARE stmtcount FROM @scount;
    EXECUTE stmtcount;
    #SELECT @total_rows;
    SET total_rows = @total_rows;

    SET @sfields = CONCAT(total_rows, ' as `total_rows`, ', @sfields);
    SET @s = CONCAT('SELECT ', @sfields, @s);
    SET @s = CONCAT(@s, ' ORDER BY ', in_sort);
    SET @s = CONCAT(@s, ' LIMIT ', in_page);
    SET @s = CONCAT(@s, ',', in_page_size);    

    PREPARE stmt FROM @s;
    EXECUTE stmt;
    
END$$
delimiter ;
-- ------------------------------------
-- SET

-- ------------------------------------
-- MODEL: OfferGameLocation - offer_game_location

                       
DROP PROCEDURE IF EXISTS `usp_offer_game_location_set_uuid`;
delimiter $$
CREATE PROCEDURE `usp_offer_game_location_set_uuid`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_game_location_id BINARY(16) 
    , in_uuid BINARY(16) 
    , in_date_modified TIMESTAMP 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_offer_id BINARY(16) 
    , in_type_id BINARY(16) 
    , in_type VARCHAR (500) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `offer_game_location`  
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `offer_game_location` 
                    SET
                        `status` = in_status
                        , `game_location_id` = in_game_location_id
                        , `uuid` = in_uuid
                        , `date_modified` = in_date_modified
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `offer_id` = in_offer_id
                        , `type_id` = in_type_id
                        , `type` = in_type
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `offer_game_location`
                    (
                        `status`
                        , `game_location_id`
                        , `uuid`
                        , `date_modified`
                        , `active`
                        , `date_created`
                        , `offer_id`
                        , `type_id`
                        , `type`
                    )
                    VALUES
                    (
                        in_status
                        , in_game_location_id
                        , in_uuid
                        , in_date_modified
                        , in_active
                        , in_date_created
                        , in_offer_id
                        , in_type_id
                        , in_type
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

-- ------------------------------------
-- DEL

-- ------------------------------------
-- MODEL: OfferGameLocation - offer_game_location

                       
DROP PROCEDURE IF EXISTS `usp_offer_game_location_del_uuid`;

delimiter $$
CREATE PROCEDURE `usp_offer_game_location_del_uuid`
(
    in_uuid BINARY(16) 
)

BEGIN
    DELETE 
    FROM `offer_game_location`
    WHERE 1=1                        
    AND "uuid" = in_uuid
    ;
END$$
delimiter ;
-- ------------------------------------
-- GET

-- ------------------------------------
-- MODEL: OfferGameLocation - offer_game_location

                       
DROP PROCEDURE IF EXISTS `usp_offer_game_location_get`;

delimiter $$
CREATE PROCEDURE `usp_offer_game_location_get`
(
)                        
BEGIN
    SELECT
        `status`
        , `game_location_id`
        , `uuid`
        , `date_modified`
        , `active`
        , `date_created`
        , `offer_id`
        , `type_id`
        , `type`
    FROM `offer_game_location`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_offer_game_location_get_uuid`;

delimiter $$
CREATE PROCEDURE `usp_offer_game_location_get_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `game_location_id`
        , `uuid`
        , `date_modified`
        , `active`
        , `date_created`
        , `offer_id`
        , `type_id`
        , `type`
    FROM `offer_game_location`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_offer_game_location_get_game_location_id`;

delimiter $$
CREATE PROCEDURE `usp_offer_game_location_get_game_location_id`
(
    in_game_location_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `game_location_id`
        , `uuid`
        , `date_modified`
        , `active`
        , `date_created`
        , `offer_id`
        , `type_id`
        , `type`
    FROM `offer_game_location`
    WHERE 1=1
    AND `game_location_id` = in_game_location_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_offer_game_location_get_offer_id`;

delimiter $$
CREATE PROCEDURE `usp_offer_game_location_get_offer_id`
(
    in_offer_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `game_location_id`
        , `uuid`
        , `date_modified`
        , `active`
        , `date_created`
        , `offer_id`
        , `type_id`
        , `type`
    FROM `offer_game_location`
    WHERE 1=1
    AND `offer_id` = in_offer_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_offer_game_location_get_offer_id_game_location_id`;

delimiter $$
CREATE PROCEDURE `usp_offer_game_location_get_offer_id_game_location_id`
(
    in_offer_id BINARY(16) 
    , in_game_location_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `game_location_id`
        , `uuid`
        , `date_modified`
        , `active`
        , `date_created`
        , `offer_id`
        , `type_id`
        , `type`
    FROM `offer_game_location`
    WHERE 1=1
    AND `offer_id` = in_offer_id
    AND `game_location_id` = in_game_location_id
    ;
END$$
delimiter ;

-- -----------------------------------------------------------------------------
-- PROCS

-- ------------------------------------
-- COUNT

-- ------------------------------------
-- MODEL: EventInfo - event_info

                       
DROP PROCEDURE IF EXISTS `usp_event_info_count`;
delimiter $$
CREATE PROCEDURE `usp_event_info_count`
BEGIN
    SELECT
        COUNT(*) as count
    FROM `event_info`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_event_info_count_uuid`;
delimiter $$
CREATE PROCEDURE `usp_event_info_count_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `event_info`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_event_info_count_code`;
delimiter $$
CREATE PROCEDURE `usp_event_info_count_code`
(
    in_code VARCHAR (255) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `event_info`
    WHERE 1=1
    AND lower(`code`) = lower(in_code)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_event_info_count_name`;
delimiter $$
CREATE PROCEDURE `usp_event_info_count_name`
(
    in_name VARCHAR (255) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `event_info`
    WHERE 1=1
    AND lower(`name`) = lower(in_name)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_event_info_count_org_id`;
delimiter $$
CREATE PROCEDURE `usp_event_info_count_org_id`
(
    in_org_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `event_info`
    WHERE 1=1
    AND `org_id` = in_org_id
    ;
END$$
delimiter ;

-- ------------------------------------
-- BROWSE

-- ------------------------------------
-- MODEL: EventInfo - event_info

                       
DROP PROCEDURE IF EXISTS `usp_event_info_browse_filter`;

delimiter $$
CREATE PROCEDURE `usp_event_info_browse_filter`
(
    in_page int,
    in_page_size int,
    in_sort VARCHAR(500),
    in_filter VARCHAR(4000)
    
)
BEGIN
    DECLARE total_rows int;
    SET total_rows = 0;
        
    IF (in_page = 0) THEN
        SET in_page = 1;
    END IF;    
    
    IF (in_page_size = 0) THEN
       SET in_page_size = 10;
    END IF;
    
    IF (in_sort = NULL || in_sort = '') THEN
       SET in_sort = ' date_modified ASC ';
    END IF;
    
    SET @sfields = CONCAT('', '`status`');
    SET @sfields = CONCAT(@sfields, ', `code`');
    SET @sfields = CONCAT(@sfields, ', `display_name`');
    SET @sfields = CONCAT(@sfields, ', `name`');
    SET @sfields = CONCAT(@sfields, ', `date_modified`');
    SET @sfields = CONCAT(@sfields, ', `url`');
    SET @sfields = CONCAT(@sfields, ', `org_id`');
    SET @sfields = CONCAT(@sfields, ', `uuid`');
    SET @sfields = CONCAT(@sfields, ', `usage_count`');
    SET @sfields = CONCAT(@sfields, ', `active`');
    SET @sfields = CONCAT(@sfields, ', `date_created`');
    SET @sfields = CONCAT(@sfields, ', `type`');
    SET @sfields = CONCAT(@sfields, ', `description`');
    
    SET @stable = CONCAT('', ' FROM `event_info` WHERE 1=1 ');
    
    SET @s = CONCAT(' ', @stable);
    SET @s = CONCAT(@s, ' ', in_filter);    
    
    SET @scount = CONCAT('SELECT COUNT(*) as `total_rows` ', @s, ' INTO @total_rows');
    
    PREPARE stmtcount FROM @scount;
    EXECUTE stmtcount;
    #SELECT @total_rows;
    SET total_rows = @total_rows;

    SET @sfields = CONCAT(total_rows, ' as `total_rows`, ', @sfields);
    SET @s = CONCAT('SELECT ', @sfields, @s);
    SET @s = CONCAT(@s, ' ORDER BY ', in_sort);
    SET @s = CONCAT(@s, ' LIMIT ', in_page);
    SET @s = CONCAT(@s, ',', in_page_size);    

    PREPARE stmt FROM @s;
    EXECUTE stmt;
    
END$$
delimiter ;
-- ------------------------------------
-- SET

-- ------------------------------------
-- MODEL: EventInfo - event_info

                       
DROP PROCEDURE IF EXISTS `usp_event_info_set_uuid`;
delimiter $$
CREATE PROCEDURE `usp_event_info_set_uuid`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_code VARCHAR (255) 
    , in_display_name VARCHAR (255) 
    , in_name VARCHAR (255) 
    , in_date_modified TIMESTAMP 
    , in_url VARCHAR (500) 
    , in_org_id BINARY(16) 
    , in_uuid BINARY(16) 
    , in_usage_count INTEGER 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (500) 
    , in_description VARCHAR (255) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `event_info`  
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `event_info` 
                    SET
                        `status` = in_status
                        , `code` = in_code
                        , `display_name` = in_display_name
                        , `name` = in_name
                        , `date_modified` = in_date_modified
                        , `url` = in_url
                        , `org_id` = in_org_id
                        , `uuid` = in_uuid
                        , `usage_count` = in_usage_count
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `type` = in_type
                        , `description` = in_description
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `event_info`
                    (
                        `status`
                        , `code`
                        , `display_name`
                        , `name`
                        , `date_modified`
                        , `url`
                        , `org_id`
                        , `uuid`
                        , `usage_count`
                        , `active`
                        , `date_created`
                        , `type`
                        , `description`
                    )
                    VALUES
                    (
                        in_status
                        , in_code
                        , in_display_name
                        , in_name
                        , in_date_modified
                        , in_url
                        , in_org_id
                        , in_uuid
                        , in_usage_count
                        , in_active
                        , in_date_created
                        , in_type
                        , in_description
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

-- ------------------------------------
-- DEL

-- ------------------------------------
-- MODEL: EventInfo - event_info

                       
DROP PROCEDURE IF EXISTS `usp_event_info_del_uuid`;

delimiter $$
CREATE PROCEDURE `usp_event_info_del_uuid`
(
    in_uuid BINARY(16) 
)

BEGIN
    DELETE 
    FROM `event_info`
    WHERE 1=1                        
    AND "uuid" = in_uuid
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_event_info_del_org_id`;

delimiter $$
CREATE PROCEDURE `usp_event_info_del_org_id`
(
    in_org_id BINARY(16) 
)

BEGIN
    DELETE 
    FROM `event_info`
    WHERE 1=1                        
    AND "org_id" = in_org_id
    ;
END$$
delimiter ;
-- ------------------------------------
-- GET

-- ------------------------------------
-- MODEL: EventInfo - event_info

                       
DROP PROCEDURE IF EXISTS `usp_event_info_get`;

delimiter $$
CREATE PROCEDURE `usp_event_info_get`
(
)                        
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `url`
        , `org_id`
        , `uuid`
        , `usage_count`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `event_info`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_event_info_get_uuid`;

delimiter $$
CREATE PROCEDURE `usp_event_info_get_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `url`
        , `org_id`
        , `uuid`
        , `usage_count`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `event_info`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_event_info_get_code`;

delimiter $$
CREATE PROCEDURE `usp_event_info_get_code`
(
    in_code VARCHAR (255) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `url`
        , `org_id`
        , `uuid`
        , `usage_count`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `event_info`
    WHERE 1=1
    AND lower(`code`) = lower(in_code)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_event_info_get_name`;

delimiter $$
CREATE PROCEDURE `usp_event_info_get_name`
(
    in_name VARCHAR (255) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `url`
        , `org_id`
        , `uuid`
        , `usage_count`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `event_info`
    WHERE 1=1
    AND lower(`name`) = lower(in_name)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_event_info_get_org_id`;

delimiter $$
CREATE PROCEDURE `usp_event_info_get_org_id`
(
    in_org_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `url`
        , `org_id`
        , `uuid`
        , `usage_count`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `event_info`
    WHERE 1=1
    AND `org_id` = in_org_id
    ;
END$$
delimiter ;

-- -----------------------------------------------------------------------------
-- PROCS

-- ------------------------------------
-- COUNT

-- ------------------------------------
-- MODEL: EventLocation - event_location

                       
DROP PROCEDURE IF EXISTS `usp_event_location_count`;
delimiter $$
CREATE PROCEDURE `usp_event_location_count`
BEGIN
    SELECT
        COUNT(*) as count
    FROM `event_location`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_event_location_count_uuid`;
delimiter $$
CREATE PROCEDURE `usp_event_location_count_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `event_location`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_event_location_count_event_id`;
delimiter $$
CREATE PROCEDURE `usp_event_location_count_event_id`
(
    in_event_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `event_location`
    WHERE 1=1
    AND `event_id` = in_event_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_event_location_count_city`;
delimiter $$
CREATE PROCEDURE `usp_event_location_count_city`
(
    in_city VARCHAR (255) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `event_location`
    WHERE 1=1
    AND lower(`city`) = lower(in_city)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_event_location_count_country_code`;
delimiter $$
CREATE PROCEDURE `usp_event_location_count_country_code`
(
    in_country_code VARCHAR (255) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `event_location`
    WHERE 1=1
    AND lower(`country_code`) = lower(in_country_code)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_event_location_count_postal_code`;
delimiter $$
CREATE PROCEDURE `usp_event_location_count_postal_code`
(
    in_postal_code VARCHAR (30) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `event_location`
    WHERE 1=1
    AND lower(`postal_code`) = lower(in_postal_code)
    ;
END$$
delimiter ;

-- ------------------------------------
-- BROWSE

-- ------------------------------------
-- MODEL: EventLocation - event_location

                       
DROP PROCEDURE IF EXISTS `usp_event_location_browse_filter`;

delimiter $$
CREATE PROCEDURE `usp_event_location_browse_filter`
(
    in_page int,
    in_page_size int,
    in_sort VARCHAR(500),
    in_filter VARCHAR(4000)
    
)
BEGIN
    DECLARE total_rows int;
    SET total_rows = 0;
        
    IF (in_page = 0) THEN
        SET in_page = 1;
    END IF;    
    
    IF (in_page_size = 0) THEN
       SET in_page_size = 10;
    END IF;
    
    IF (in_sort = NULL || in_sort = '') THEN
       SET in_sort = ' date_modified ASC ';
    END IF;
    
    SET @sfields = CONCAT('', '`status`');
    SET @sfields = CONCAT(@sfields, ', `fax`');
    SET @sfields = CONCAT(@sfields, ', `code`');
    SET @sfields = CONCAT(@sfields, ', `description`');
    SET @sfields = CONCAT(@sfields, ', `address1`');
    SET @sfields = CONCAT(@sfields, ', `twitter`');
    SET @sfields = CONCAT(@sfields, ', `phone`');
    SET @sfields = CONCAT(@sfields, ', `postal_code`');
    SET @sfields = CONCAT(@sfields, ', `country_code`');
    SET @sfields = CONCAT(@sfields, ', `date_created`');
    SET @sfields = CONCAT(@sfields, ', `active`');
    SET @sfields = CONCAT(@sfields, ', `uuid`');
    SET @sfields = CONCAT(@sfields, ', `state_province`');
    SET @sfields = CONCAT(@sfields, ', `city`');
    SET @sfields = CONCAT(@sfields, ', `display_name`');
    SET @sfields = CONCAT(@sfields, ', `name`');
    SET @sfields = CONCAT(@sfields, ', `date_modified`');
    SET @sfields = CONCAT(@sfields, ', `dob`');
    SET @sfields = CONCAT(@sfields, ', `date_start`');
    SET @sfields = CONCAT(@sfields, ', `longitude`');
    SET @sfields = CONCAT(@sfields, ', `email`');
    SET @sfields = CONCAT(@sfields, ', `event_id`');
    SET @sfields = CONCAT(@sfields, ', `date_end`');
    SET @sfields = CONCAT(@sfields, ', `latitude`');
    SET @sfields = CONCAT(@sfields, ', `facebook`');
    SET @sfields = CONCAT(@sfields, ', `type`');
    SET @sfields = CONCAT(@sfields, ', `address2`');
    
    SET @stable = CONCAT('', ' FROM `event_location` WHERE 1=1 ');
    
    SET @s = CONCAT(' ', @stable);
    SET @s = CONCAT(@s, ' ', in_filter);    
    
    SET @scount = CONCAT('SELECT COUNT(*) as `total_rows` ', @s, ' INTO @total_rows');
    
    PREPARE stmtcount FROM @scount;
    EXECUTE stmtcount;
    #SELECT @total_rows;
    SET total_rows = @total_rows;

    SET @sfields = CONCAT(total_rows, ' as `total_rows`, ', @sfields);
    SET @s = CONCAT('SELECT ', @sfields, @s);
    SET @s = CONCAT(@s, ' ORDER BY ', in_sort);
    SET @s = CONCAT(@s, ' LIMIT ', in_page);
    SET @s = CONCAT(@s, ',', in_page_size);    

    PREPARE stmt FROM @s;
    EXECUTE stmt;
    
END$$
delimiter ;
-- ------------------------------------
-- SET

-- ------------------------------------
-- MODEL: EventLocation - event_location

                       
DROP PROCEDURE IF EXISTS `usp_event_location_set_uuid`;
delimiter $$
CREATE PROCEDURE `usp_event_location_set_uuid`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_fax VARCHAR (30) 
    , in_code VARCHAR (255) 
    , in_description VARCHAR (255) 
    , in_address1 VARCHAR (1000) 
    , in_twitter VARCHAR (50) 
    , in_phone VARCHAR (30) 
    , in_postal_code VARCHAR (30) 
    , in_country_code VARCHAR (255) 
    , in_date_created TIMESTAMP 
    , in_active int 
    , in_uuid BINARY(16) 
    , in_state_province VARCHAR (255) 
    , in_city VARCHAR (255) 
    , in_display_name VARCHAR (255) 
    , in_name VARCHAR (255) 
    , in_date_modified TIMESTAMP 
    , in_dob TIMESTAMP 
    , in_date_start TIMESTAMP 
    , in_longitude double 
    , in_email VARCHAR (255) 
    , in_event_id BINARY(16) 
    , in_date_end TIMESTAMP 
    , in_latitude double 
    , in_facebook VARCHAR (255) 
    , in_type VARCHAR (500) 
    , in_address2 VARCHAR (500) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `event_location`  
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `event_location` 
                    SET
                        `status` = in_status
                        , `fax` = in_fax
                        , `code` = in_code
                        , `description` = in_description
                        , `address1` = in_address1
                        , `twitter` = in_twitter
                        , `phone` = in_phone
                        , `postal_code` = in_postal_code
                        , `country_code` = in_country_code
                        , `date_created` = in_date_created
                        , `active` = in_active
                        , `uuid` = in_uuid
                        , `state_province` = in_state_province
                        , `city` = in_city
                        , `display_name` = in_display_name
                        , `name` = in_name
                        , `date_modified` = in_date_modified
                        , `dob` = in_dob
                        , `date_start` = in_date_start
                        , `longitude` = in_longitude
                        , `email` = in_email
                        , `event_id` = in_event_id
                        , `date_end` = in_date_end
                        , `latitude` = in_latitude
                        , `facebook` = in_facebook
                        , `type` = in_type
                        , `address2` = in_address2
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `event_location`
                    (
                        `status`
                        , `fax`
                        , `code`
                        , `description`
                        , `address1`
                        , `twitter`
                        , `phone`
                        , `postal_code`
                        , `country_code`
                        , `date_created`
                        , `active`
                        , `uuid`
                        , `state_province`
                        , `city`
                        , `display_name`
                        , `name`
                        , `date_modified`
                        , `dob`
                        , `date_start`
                        , `longitude`
                        , `email`
                        , `event_id`
                        , `date_end`
                        , `latitude`
                        , `facebook`
                        , `type`
                        , `address2`
                    )
                    VALUES
                    (
                        in_status
                        , in_fax
                        , in_code
                        , in_description
                        , in_address1
                        , in_twitter
                        , in_phone
                        , in_postal_code
                        , in_country_code
                        , in_date_created
                        , in_active
                        , in_uuid
                        , in_state_province
                        , in_city
                        , in_display_name
                        , in_name
                        , in_date_modified
                        , in_dob
                        , in_date_start
                        , in_longitude
                        , in_email
                        , in_event_id
                        , in_date_end
                        , in_latitude
                        , in_facebook
                        , in_type
                        , in_address2
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

-- ------------------------------------
-- DEL

-- ------------------------------------
-- MODEL: EventLocation - event_location

                       
DROP PROCEDURE IF EXISTS `usp_event_location_del_uuid`;

delimiter $$
CREATE PROCEDURE `usp_event_location_del_uuid`
(
    in_uuid BINARY(16) 
)

BEGIN
    DELETE 
    FROM `event_location`
    WHERE 1=1                        
    AND "uuid" = in_uuid
    ;
END$$
delimiter ;
-- ------------------------------------
-- GET

-- ------------------------------------
-- MODEL: EventLocation - event_location

                       
DROP PROCEDURE IF EXISTS `usp_event_location_get`;

delimiter $$
CREATE PROCEDURE `usp_event_location_get`
(
)                        
BEGIN
    SELECT
        `status`
        , `fax`
        , `code`
        , `description`
        , `address1`
        , `twitter`
        , `phone`
        , `postal_code`
        , `country_code`
        , `date_created`
        , `active`
        , `uuid`
        , `state_province`
        , `city`
        , `display_name`
        , `name`
        , `date_modified`
        , `dob`
        , `date_start`
        , `longitude`
        , `email`
        , `event_id`
        , `date_end`
        , `latitude`
        , `facebook`
        , `type`
        , `address2`
    FROM `event_location`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_event_location_get_uuid`;

delimiter $$
CREATE PROCEDURE `usp_event_location_get_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `fax`
        , `code`
        , `description`
        , `address1`
        , `twitter`
        , `phone`
        , `postal_code`
        , `country_code`
        , `date_created`
        , `active`
        , `uuid`
        , `state_province`
        , `city`
        , `display_name`
        , `name`
        , `date_modified`
        , `dob`
        , `date_start`
        , `longitude`
        , `email`
        , `event_id`
        , `date_end`
        , `latitude`
        , `facebook`
        , `type`
        , `address2`
    FROM `event_location`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_event_location_get_event_id`;

delimiter $$
CREATE PROCEDURE `usp_event_location_get_event_id`
(
    in_event_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `fax`
        , `code`
        , `description`
        , `address1`
        , `twitter`
        , `phone`
        , `postal_code`
        , `country_code`
        , `date_created`
        , `active`
        , `uuid`
        , `state_province`
        , `city`
        , `display_name`
        , `name`
        , `date_modified`
        , `dob`
        , `date_start`
        , `longitude`
        , `email`
        , `event_id`
        , `date_end`
        , `latitude`
        , `facebook`
        , `type`
        , `address2`
    FROM `event_location`
    WHERE 1=1
    AND `event_id` = in_event_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_event_location_get_city`;

delimiter $$
CREATE PROCEDURE `usp_event_location_get_city`
(
    in_city VARCHAR (255) 
)
BEGIN
    SELECT
        `status`
        , `fax`
        , `code`
        , `description`
        , `address1`
        , `twitter`
        , `phone`
        , `postal_code`
        , `country_code`
        , `date_created`
        , `active`
        , `uuid`
        , `state_province`
        , `city`
        , `display_name`
        , `name`
        , `date_modified`
        , `dob`
        , `date_start`
        , `longitude`
        , `email`
        , `event_id`
        , `date_end`
        , `latitude`
        , `facebook`
        , `type`
        , `address2`
    FROM `event_location`
    WHERE 1=1
    AND lower(`city`) = lower(in_city)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_event_location_get_country_code`;

delimiter $$
CREATE PROCEDURE `usp_event_location_get_country_code`
(
    in_country_code VARCHAR (255) 
)
BEGIN
    SELECT
        `status`
        , `fax`
        , `code`
        , `description`
        , `address1`
        , `twitter`
        , `phone`
        , `postal_code`
        , `country_code`
        , `date_created`
        , `active`
        , `uuid`
        , `state_province`
        , `city`
        , `display_name`
        , `name`
        , `date_modified`
        , `dob`
        , `date_start`
        , `longitude`
        , `email`
        , `event_id`
        , `date_end`
        , `latitude`
        , `facebook`
        , `type`
        , `address2`
    FROM `event_location`
    WHERE 1=1
    AND lower(`country_code`) = lower(in_country_code)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_event_location_get_postal_code`;

delimiter $$
CREATE PROCEDURE `usp_event_location_get_postal_code`
(
    in_postal_code VARCHAR (30) 
)
BEGIN
    SELECT
        `status`
        , `fax`
        , `code`
        , `description`
        , `address1`
        , `twitter`
        , `phone`
        , `postal_code`
        , `country_code`
        , `date_created`
        , `active`
        , `uuid`
        , `state_province`
        , `city`
        , `display_name`
        , `name`
        , `date_modified`
        , `dob`
        , `date_start`
        , `longitude`
        , `email`
        , `event_id`
        , `date_end`
        , `latitude`
        , `facebook`
        , `type`
        , `address2`
    FROM `event_location`
    WHERE 1=1
    AND lower(`postal_code`) = lower(in_postal_code)
    ;
END$$
delimiter ;

-- -----------------------------------------------------------------------------
-- PROCS

-- ------------------------------------
-- COUNT

-- ------------------------------------
-- MODEL: EventCategory - event_category

                       
DROP PROCEDURE IF EXISTS `usp_event_category_count`;
delimiter $$
CREATE PROCEDURE `usp_event_category_count`
BEGIN
    SELECT
        COUNT(*) as count
    FROM `event_category`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_event_category_count_uuid`;
delimiter $$
CREATE PROCEDURE `usp_event_category_count_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `event_category`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_event_category_count_code`;
delimiter $$
CREATE PROCEDURE `usp_event_category_count_code`
(
    in_code VARCHAR (255) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `event_category`
    WHERE 1=1
    AND lower(`code`) = lower(in_code)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_event_category_count_name`;
delimiter $$
CREATE PROCEDURE `usp_event_category_count_name`
(
    in_name VARCHAR (255) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `event_category`
    WHERE 1=1
    AND lower(`name`) = lower(in_name)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_event_category_count_org_id`;
delimiter $$
CREATE PROCEDURE `usp_event_category_count_org_id`
(
    in_org_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `event_category`
    WHERE 1=1
    AND `org_id` = in_org_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_event_category_count_type_id`;
delimiter $$
CREATE PROCEDURE `usp_event_category_count_type_id`
(
    in_type_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `event_category`
    WHERE 1=1
    AND `type_id` = in_type_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_event_category_count_org_id_type_id`;
delimiter $$
CREATE PROCEDURE `usp_event_category_count_org_id_type_id`
(
    in_org_id BINARY(16) 
    , in_type_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `event_category`
    WHERE 1=1
    AND `org_id` = in_org_id
    AND `type_id` = in_type_id
    ;
END$$
delimiter ;

-- ------------------------------------
-- BROWSE

-- ------------------------------------
-- MODEL: EventCategory - event_category

                       
DROP PROCEDURE IF EXISTS `usp_event_category_browse_filter`;

delimiter $$
CREATE PROCEDURE `usp_event_category_browse_filter`
(
    in_page int,
    in_page_size int,
    in_sort VARCHAR(500),
    in_filter VARCHAR(4000)
    
)
BEGIN
    DECLARE total_rows int;
    SET total_rows = 0;
        
    IF (in_page = 0) THEN
        SET in_page = 1;
    END IF;    
    
    IF (in_page_size = 0) THEN
       SET in_page_size = 10;
    END IF;
    
    IF (in_sort = NULL || in_sort = '') THEN
       SET in_sort = ' date_modified ASC ';
    END IF;
    
    SET @sfields = CONCAT('', '`status`');
    SET @sfields = CONCAT(@sfields, ', `code`');
    SET @sfields = CONCAT(@sfields, ', `display_name`');
    SET @sfields = CONCAT(@sfields, ', `name`');
    SET @sfields = CONCAT(@sfields, ', `date_modified`');
    SET @sfields = CONCAT(@sfields, ', `type_id`');
    SET @sfields = CONCAT(@sfields, ', `org_id`');
    SET @sfields = CONCAT(@sfields, ', `uuid`');
    SET @sfields = CONCAT(@sfields, ', `active`');
    SET @sfields = CONCAT(@sfields, ', `date_created`');
    SET @sfields = CONCAT(@sfields, ', `type`');
    SET @sfields = CONCAT(@sfields, ', `description`');
    
    SET @stable = CONCAT('', ' FROM `event_category` WHERE 1=1 ');
    
    SET @s = CONCAT(' ', @stable);
    SET @s = CONCAT(@s, ' ', in_filter);    
    
    SET @scount = CONCAT('SELECT COUNT(*) as `total_rows` ', @s, ' INTO @total_rows');
    
    PREPARE stmtcount FROM @scount;
    EXECUTE stmtcount;
    #SELECT @total_rows;
    SET total_rows = @total_rows;

    SET @sfields = CONCAT(total_rows, ' as `total_rows`, ', @sfields);
    SET @s = CONCAT('SELECT ', @sfields, @s);
    SET @s = CONCAT(@s, ' ORDER BY ', in_sort);
    SET @s = CONCAT(@s, ' LIMIT ', in_page);
    SET @s = CONCAT(@s, ',', in_page_size);    

    PREPARE stmt FROM @s;
    EXECUTE stmt;
    
END$$
delimiter ;
-- ------------------------------------
-- SET

-- ------------------------------------
-- MODEL: EventCategory - event_category

                       
DROP PROCEDURE IF EXISTS `usp_event_category_set_uuid`;
delimiter $$
CREATE PROCEDURE `usp_event_category_set_uuid`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_code VARCHAR (255) 
    , in_display_name VARCHAR (255) 
    , in_name VARCHAR (255) 
    , in_date_modified TIMESTAMP 
    , in_type_id BINARY(16) 
    , in_org_id BINARY(16) 
    , in_uuid BINARY(16) 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (500) 
    , in_description VARCHAR (255) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `event_category`  
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `event_category` 
                    SET
                        `status` = in_status
                        , `code` = in_code
                        , `display_name` = in_display_name
                        , `name` = in_name
                        , `date_modified` = in_date_modified
                        , `type_id` = in_type_id
                        , `org_id` = in_org_id
                        , `uuid` = in_uuid
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `type` = in_type
                        , `description` = in_description
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `event_category`
                    (
                        `status`
                        , `code`
                        , `display_name`
                        , `name`
                        , `date_modified`
                        , `type_id`
                        , `org_id`
                        , `uuid`
                        , `active`
                        , `date_created`
                        , `type`
                        , `description`
                    )
                    VALUES
                    (
                        in_status
                        , in_code
                        , in_display_name
                        , in_name
                        , in_date_modified
                        , in_type_id
                        , in_org_id
                        , in_uuid
                        , in_active
                        , in_date_created
                        , in_type
                        , in_description
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

-- ------------------------------------
-- DEL

-- ------------------------------------
-- MODEL: EventCategory - event_category

                       
DROP PROCEDURE IF EXISTS `usp_event_category_del_uuid`;

delimiter $$
CREATE PROCEDURE `usp_event_category_del_uuid`
(
    in_uuid BINARY(16) 
)

BEGIN
    DELETE 
    FROM `event_category`
    WHERE 1=1                        
    AND "uuid" = in_uuid
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_event_category_del_code_org_id`;

delimiter $$
CREATE PROCEDURE `usp_event_category_del_code_org_id`
(
    in_code VARCHAR (255) 
    , in_org_id BINARY(16) 
)

BEGIN
    DELETE 
    FROM `event_category`
    WHERE 1=1                        
    AND lower("code") = lower(in_code)
    AND "org_id" = in_org_id
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_event_category_del_code_org_id_type_id`;

delimiter $$
CREATE PROCEDURE `usp_event_category_del_code_org_id_type_id`
(
    in_code VARCHAR (255) 
    , in_org_id BINARY(16) 
    , in_type_id BINARY(16) 
)

BEGIN
    DELETE 
    FROM `event_category`
    WHERE 1=1                        
    AND lower("code") = lower(in_code)
    AND "org_id" = in_org_id
    AND "type_id" = in_type_id
    ;
END$$
delimiter ;
-- ------------------------------------
-- GET

-- ------------------------------------
-- MODEL: EventCategory - event_category

                       
DROP PROCEDURE IF EXISTS `usp_event_category_get`;

delimiter $$
CREATE PROCEDURE `usp_event_category_get`
(
)                        
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `type_id`
        , `org_id`
        , `uuid`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `event_category`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_event_category_get_uuid`;

delimiter $$
CREATE PROCEDURE `usp_event_category_get_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `type_id`
        , `org_id`
        , `uuid`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `event_category`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_event_category_get_code`;

delimiter $$
CREATE PROCEDURE `usp_event_category_get_code`
(
    in_code VARCHAR (255) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `type_id`
        , `org_id`
        , `uuid`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `event_category`
    WHERE 1=1
    AND lower(`code`) = lower(in_code)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_event_category_get_name`;

delimiter $$
CREATE PROCEDURE `usp_event_category_get_name`
(
    in_name VARCHAR (255) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `type_id`
        , `org_id`
        , `uuid`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `event_category`
    WHERE 1=1
    AND lower(`name`) = lower(in_name)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_event_category_get_org_id`;

delimiter $$
CREATE PROCEDURE `usp_event_category_get_org_id`
(
    in_org_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `type_id`
        , `org_id`
        , `uuid`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `event_category`
    WHERE 1=1
    AND `org_id` = in_org_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_event_category_get_type_id`;

delimiter $$
CREATE PROCEDURE `usp_event_category_get_type_id`
(
    in_type_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `type_id`
        , `org_id`
        , `uuid`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `event_category`
    WHERE 1=1
    AND `type_id` = in_type_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_event_category_get_org_id_type_id`;

delimiter $$
CREATE PROCEDURE `usp_event_category_get_org_id_type_id`
(
    in_org_id BINARY(16) 
    , in_type_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `type_id`
        , `org_id`
        , `uuid`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `event_category`
    WHERE 1=1
    AND `org_id` = in_org_id
    AND `type_id` = in_type_id
    ;
END$$
delimiter ;

-- -----------------------------------------------------------------------------
-- PROCS

-- ------------------------------------
-- COUNT

-- ------------------------------------
-- MODEL: EventCategoryTree - event_category_tree

                       
DROP PROCEDURE IF EXISTS `usp_event_category_tree_count`;
delimiter $$
CREATE PROCEDURE `usp_event_category_tree_count`
BEGIN
    SELECT
        COUNT(*) as count
    FROM `event_category_tree`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_event_category_tree_count_uuid`;
delimiter $$
CREATE PROCEDURE `usp_event_category_tree_count_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `event_category_tree`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_event_category_tree_count_parent_id`;
delimiter $$
CREATE PROCEDURE `usp_event_category_tree_count_parent_id`
(
    in_parent_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `event_category_tree`
    WHERE 1=1
    AND `parent_id` = in_parent_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_event_category_tree_count_category_id`;
delimiter $$
CREATE PROCEDURE `usp_event_category_tree_count_category_id`
(
    in_category_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `event_category_tree`
    WHERE 1=1
    AND `category_id` = in_category_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_event_category_tree_count_parent_id_category_id`;
delimiter $$
CREATE PROCEDURE `usp_event_category_tree_count_parent_id_category_id`
(
    in_parent_id BINARY(16) 
    , in_category_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `event_category_tree`
    WHERE 1=1
    AND `parent_id` = in_parent_id
    AND `category_id` = in_category_id
    ;
END$$
delimiter ;

-- ------------------------------------
-- BROWSE

-- ------------------------------------
-- MODEL: EventCategoryTree - event_category_tree

                       
DROP PROCEDURE IF EXISTS `usp_event_category_tree_browse_filter`;

delimiter $$
CREATE PROCEDURE `usp_event_category_tree_browse_filter`
(
    in_page int,
    in_page_size int,
    in_sort VARCHAR(500),
    in_filter VARCHAR(4000)
    
)
BEGIN
    DECLARE total_rows int;
    SET total_rows = 0;
        
    IF (in_page = 0) THEN
        SET in_page = 1;
    END IF;    
    
    IF (in_page_size = 0) THEN
       SET in_page_size = 10;
    END IF;
    
    IF (in_sort = NULL || in_sort = '') THEN
       SET in_sort = ' date_modified ASC ';
    END IF;
    
    SET @sfields = CONCAT('', '`status`');
    SET @sfields = CONCAT(@sfields, ', `parent_id`');
    SET @sfields = CONCAT(@sfields, ', `uuid`');
    SET @sfields = CONCAT(@sfields, ', `date_modified`');
    SET @sfields = CONCAT(@sfields, ', `active`');
    SET @sfields = CONCAT(@sfields, ', `date_created`');
    SET @sfields = CONCAT(@sfields, ', `category_id`');
    SET @sfields = CONCAT(@sfields, ', `type`');
    
    SET @stable = CONCAT('', ' FROM `event_category_tree` WHERE 1=1 ');
    
    SET @s = CONCAT(' ', @stable);
    SET @s = CONCAT(@s, ' ', in_filter);    
    
    SET @scount = CONCAT('SELECT COUNT(*) as `total_rows` ', @s, ' INTO @total_rows');
    
    PREPARE stmtcount FROM @scount;
    EXECUTE stmtcount;
    #SELECT @total_rows;
    SET total_rows = @total_rows;

    SET @sfields = CONCAT(total_rows, ' as `total_rows`, ', @sfields);
    SET @s = CONCAT('SELECT ', @sfields, @s);
    SET @s = CONCAT(@s, ' ORDER BY ', in_sort);
    SET @s = CONCAT(@s, ' LIMIT ', in_page);
    SET @s = CONCAT(@s, ',', in_page_size);    

    PREPARE stmt FROM @s;
    EXECUTE stmt;
    
END$$
delimiter ;
-- ------------------------------------
-- SET

-- ------------------------------------
-- MODEL: EventCategoryTree - event_category_tree

                       
DROP PROCEDURE IF EXISTS `usp_event_category_tree_set_uuid`;
delimiter $$
CREATE PROCEDURE `usp_event_category_tree_set_uuid`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_parent_id BINARY(16) 
    , in_uuid BINARY(16) 
    , in_date_modified TIMESTAMP 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_category_id BINARY(16) 
    , in_type VARCHAR (500) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `event_category_tree`  
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `event_category_tree` 
                    SET
                        `status` = in_status
                        , `parent_id` = in_parent_id
                        , `uuid` = in_uuid
                        , `date_modified` = in_date_modified
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `category_id` = in_category_id
                        , `type` = in_type
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `event_category_tree`
                    (
                        `status`
                        , `parent_id`
                        , `uuid`
                        , `date_modified`
                        , `active`
                        , `date_created`
                        , `category_id`
                        , `type`
                    )
                    VALUES
                    (
                        in_status
                        , in_parent_id
                        , in_uuid
                        , in_date_modified
                        , in_active
                        , in_date_created
                        , in_category_id
                        , in_type
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

-- ------------------------------------
-- DEL

-- ------------------------------------
-- MODEL: EventCategoryTree - event_category_tree

                       
DROP PROCEDURE IF EXISTS `usp_event_category_tree_del_uuid`;

delimiter $$
CREATE PROCEDURE `usp_event_category_tree_del_uuid`
(
    in_uuid BINARY(16) 
)

BEGIN
    DELETE 
    FROM `event_category_tree`
    WHERE 1=1                        
    AND "uuid" = in_uuid
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_event_category_tree_del_parent_id`;

delimiter $$
CREATE PROCEDURE `usp_event_category_tree_del_parent_id`
(
    in_parent_id BINARY(16) 
)

BEGIN
    DELETE 
    FROM `event_category_tree`
    WHERE 1=1                        
    AND "parent_id" = in_parent_id
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_event_category_tree_del_category_id`;

delimiter $$
CREATE PROCEDURE `usp_event_category_tree_del_category_id`
(
    in_category_id BINARY(16) 
)

BEGIN
    DELETE 
    FROM `event_category_tree`
    WHERE 1=1                        
    AND "category_id" = in_category_id
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_event_category_tree_del_parent_id_category_id`;

delimiter $$
CREATE PROCEDURE `usp_event_category_tree_del_parent_id_category_id`
(
    in_parent_id BINARY(16) 
    , in_category_id BINARY(16) 
)

BEGIN
    DELETE 
    FROM `event_category_tree`
    WHERE 1=1                        
    AND "parent_id" = in_parent_id
    AND "category_id" = in_category_id
    ;
END$$
delimiter ;
-- ------------------------------------
-- GET

-- ------------------------------------
-- MODEL: EventCategoryTree - event_category_tree

                       
DROP PROCEDURE IF EXISTS `usp_event_category_tree_get`;

delimiter $$
CREATE PROCEDURE `usp_event_category_tree_get`
(
)                        
BEGIN
    SELECT
        `status`
        , `parent_id`
        , `uuid`
        , `date_modified`
        , `active`
        , `date_created`
        , `category_id`
        , `type`
    FROM `event_category_tree`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_event_category_tree_get_uuid`;

delimiter $$
CREATE PROCEDURE `usp_event_category_tree_get_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `parent_id`
        , `uuid`
        , `date_modified`
        , `active`
        , `date_created`
        , `category_id`
        , `type`
    FROM `event_category_tree`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_event_category_tree_get_parent_id`;

delimiter $$
CREATE PROCEDURE `usp_event_category_tree_get_parent_id`
(
    in_parent_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `parent_id`
        , `uuid`
        , `date_modified`
        , `active`
        , `date_created`
        , `category_id`
        , `type`
    FROM `event_category_tree`
    WHERE 1=1
    AND `parent_id` = in_parent_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_event_category_tree_get_category_id`;

delimiter $$
CREATE PROCEDURE `usp_event_category_tree_get_category_id`
(
    in_category_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `parent_id`
        , `uuid`
        , `date_modified`
        , `active`
        , `date_created`
        , `category_id`
        , `type`
    FROM `event_category_tree`
    WHERE 1=1
    AND `category_id` = in_category_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_event_category_tree_get_parent_id_category_id`;

delimiter $$
CREATE PROCEDURE `usp_event_category_tree_get_parent_id_category_id`
(
    in_parent_id BINARY(16) 
    , in_category_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `parent_id`
        , `uuid`
        , `date_modified`
        , `active`
        , `date_created`
        , `category_id`
        , `type`
    FROM `event_category_tree`
    WHERE 1=1
    AND `parent_id` = in_parent_id
    AND `category_id` = in_category_id
    ;
END$$
delimiter ;

-- -----------------------------------------------------------------------------
-- PROCS

-- ------------------------------------
-- COUNT

-- ------------------------------------
-- MODEL: EventCategoryAssoc - event_category_assoc

                       
DROP PROCEDURE IF EXISTS `usp_event_category_assoc_count`;
delimiter $$
CREATE PROCEDURE `usp_event_category_assoc_count`
BEGIN
    SELECT
        COUNT(*) as count
    FROM `event_category_assoc`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_event_category_assoc_count_uuid`;
delimiter $$
CREATE PROCEDURE `usp_event_category_assoc_count_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `event_category_assoc`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_event_category_assoc_count_event_id`;
delimiter $$
CREATE PROCEDURE `usp_event_category_assoc_count_event_id`
(
    in_event_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `event_category_assoc`
    WHERE 1=1
    AND `event_id` = in_event_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_event_category_assoc_count_category_id`;
delimiter $$
CREATE PROCEDURE `usp_event_category_assoc_count_category_id`
(
    in_category_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `event_category_assoc`
    WHERE 1=1
    AND `category_id` = in_category_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_event_category_assoc_count_event_id_category_id`;
delimiter $$
CREATE PROCEDURE `usp_event_category_assoc_count_event_id_category_id`
(
    in_event_id BINARY(16) 
    , in_category_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `event_category_assoc`
    WHERE 1=1
    AND `event_id` = in_event_id
    AND `category_id` = in_category_id
    ;
END$$
delimiter ;

-- ------------------------------------
-- BROWSE

-- ------------------------------------
-- MODEL: EventCategoryAssoc - event_category_assoc

                       
DROP PROCEDURE IF EXISTS `usp_event_category_assoc_browse_filter`;

delimiter $$
CREATE PROCEDURE `usp_event_category_assoc_browse_filter`
(
    in_page int,
    in_page_size int,
    in_sort VARCHAR(500),
    in_filter VARCHAR(4000)
    
)
BEGIN
    DECLARE total_rows int;
    SET total_rows = 0;
        
    IF (in_page = 0) THEN
        SET in_page = 1;
    END IF;    
    
    IF (in_page_size = 0) THEN
       SET in_page_size = 10;
    END IF;
    
    IF (in_sort = NULL || in_sort = '') THEN
       SET in_sort = ' date_modified ASC ';
    END IF;
    
    SET @sfields = CONCAT('', '`status`');
    SET @sfields = CONCAT(@sfields, ', `event_id`');
    SET @sfields = CONCAT(@sfields, ', `uuid`');
    SET @sfields = CONCAT(@sfields, ', `date_modified`');
    SET @sfields = CONCAT(@sfields, ', `active`');
    SET @sfields = CONCAT(@sfields, ', `date_created`');
    SET @sfields = CONCAT(@sfields, ', `category_id`');
    SET @sfields = CONCAT(@sfields, ', `type`');
    
    SET @stable = CONCAT('', ' FROM `event_category_assoc` WHERE 1=1 ');
    
    SET @s = CONCAT(' ', @stable);
    SET @s = CONCAT(@s, ' ', in_filter);    
    
    SET @scount = CONCAT('SELECT COUNT(*) as `total_rows` ', @s, ' INTO @total_rows');
    
    PREPARE stmtcount FROM @scount;
    EXECUTE stmtcount;
    #SELECT @total_rows;
    SET total_rows = @total_rows;

    SET @sfields = CONCAT(total_rows, ' as `total_rows`, ', @sfields);
    SET @s = CONCAT('SELECT ', @sfields, @s);
    SET @s = CONCAT(@s, ' ORDER BY ', in_sort);
    SET @s = CONCAT(@s, ' LIMIT ', in_page);
    SET @s = CONCAT(@s, ',', in_page_size);    

    PREPARE stmt FROM @s;
    EXECUTE stmt;
    
END$$
delimiter ;
-- ------------------------------------
-- SET

-- ------------------------------------
-- MODEL: EventCategoryAssoc - event_category_assoc

                       
DROP PROCEDURE IF EXISTS `usp_event_category_assoc_set_uuid`;
delimiter $$
CREATE PROCEDURE `usp_event_category_assoc_set_uuid`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_event_id BINARY(16) 
    , in_uuid BINARY(16) 
    , in_date_modified TIMESTAMP 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_category_id BINARY(16) 
    , in_type VARCHAR (500) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `event_category_assoc`  
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `event_category_assoc` 
                    SET
                        `status` = in_status
                        , `event_id` = in_event_id
                        , `uuid` = in_uuid
                        , `date_modified` = in_date_modified
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `category_id` = in_category_id
                        , `type` = in_type
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `event_category_assoc`
                    (
                        `status`
                        , `event_id`
                        , `uuid`
                        , `date_modified`
                        , `active`
                        , `date_created`
                        , `category_id`
                        , `type`
                    )
                    VALUES
                    (
                        in_status
                        , in_event_id
                        , in_uuid
                        , in_date_modified
                        , in_active
                        , in_date_created
                        , in_category_id
                        , in_type
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

-- ------------------------------------
-- DEL

-- ------------------------------------
-- MODEL: EventCategoryAssoc - event_category_assoc

                       
DROP PROCEDURE IF EXISTS `usp_event_category_assoc_del_uuid`;

delimiter $$
CREATE PROCEDURE `usp_event_category_assoc_del_uuid`
(
    in_uuid BINARY(16) 
)

BEGIN
    DELETE 
    FROM `event_category_assoc`
    WHERE 1=1                        
    AND "uuid" = in_uuid
    ;
END$$
delimiter ;
-- ------------------------------------
-- GET

-- ------------------------------------
-- MODEL: EventCategoryAssoc - event_category_assoc

                       
DROP PROCEDURE IF EXISTS `usp_event_category_assoc_get`;

delimiter $$
CREATE PROCEDURE `usp_event_category_assoc_get`
(
)                        
BEGIN
    SELECT
        `status`
        , `event_id`
        , `uuid`
        , `date_modified`
        , `active`
        , `date_created`
        , `category_id`
        , `type`
    FROM `event_category_assoc`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_event_category_assoc_get_uuid`;

delimiter $$
CREATE PROCEDURE `usp_event_category_assoc_get_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `event_id`
        , `uuid`
        , `date_modified`
        , `active`
        , `date_created`
        , `category_id`
        , `type`
    FROM `event_category_assoc`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_event_category_assoc_get_event_id`;

delimiter $$
CREATE PROCEDURE `usp_event_category_assoc_get_event_id`
(
    in_event_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `event_id`
        , `uuid`
        , `date_modified`
        , `active`
        , `date_created`
        , `category_id`
        , `type`
    FROM `event_category_assoc`
    WHERE 1=1
    AND `event_id` = in_event_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_event_category_assoc_get_category_id`;

delimiter $$
CREATE PROCEDURE `usp_event_category_assoc_get_category_id`
(
    in_category_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `event_id`
        , `uuid`
        , `date_modified`
        , `active`
        , `date_created`
        , `category_id`
        , `type`
    FROM `event_category_assoc`
    WHERE 1=1
    AND `category_id` = in_category_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_event_category_assoc_get_event_id_category_id`;

delimiter $$
CREATE PROCEDURE `usp_event_category_assoc_get_event_id_category_id`
(
    in_event_id BINARY(16) 
    , in_category_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `event_id`
        , `uuid`
        , `date_modified`
        , `active`
        , `date_created`
        , `category_id`
        , `type`
    FROM `event_category_assoc`
    WHERE 1=1
    AND `event_id` = in_event_id
    AND `category_id` = in_category_id
    ;
END$$
delimiter ;

-- -----------------------------------------------------------------------------
-- PROCS

-- ------------------------------------
-- COUNT

-- ------------------------------------
-- MODEL: Channel - channel

                       
DROP PROCEDURE IF EXISTS `usp_channel_count`;
delimiter $$
CREATE PROCEDURE `usp_channel_count`
BEGIN
    SELECT
        COUNT(*) as count
    FROM `channel`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_channel_count_uuid`;
delimiter $$
CREATE PROCEDURE `usp_channel_count_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `channel`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_channel_count_code`;
delimiter $$
CREATE PROCEDURE `usp_channel_count_code`
(
    in_code VARCHAR (255) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `channel`
    WHERE 1=1
    AND lower(`code`) = lower(in_code)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_channel_count_name`;
delimiter $$
CREATE PROCEDURE `usp_channel_count_name`
(
    in_name VARCHAR (255) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `channel`
    WHERE 1=1
    AND lower(`name`) = lower(in_name)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_channel_count_org_id`;
delimiter $$
CREATE PROCEDURE `usp_channel_count_org_id`
(
    in_org_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `channel`
    WHERE 1=1
    AND `org_id` = in_org_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_channel_count_type_id`;
delimiter $$
CREATE PROCEDURE `usp_channel_count_type_id`
(
    in_type_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `channel`
    WHERE 1=1
    AND `type_id` = in_type_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_channel_count_org_id_type_id`;
delimiter $$
CREATE PROCEDURE `usp_channel_count_org_id_type_id`
(
    in_org_id BINARY(16) 
    , in_type_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `channel`
    WHERE 1=1
    AND `org_id` = in_org_id
    AND `type_id` = in_type_id
    ;
END$$
delimiter ;

-- ------------------------------------
-- BROWSE

-- ------------------------------------
-- MODEL: Channel - channel

                       
DROP PROCEDURE IF EXISTS `usp_channel_browse_filter`;

delimiter $$
CREATE PROCEDURE `usp_channel_browse_filter`
(
    in_page int,
    in_page_size int,
    in_sort VARCHAR(500),
    in_filter VARCHAR(4000)
    
)
BEGIN
    DECLARE total_rows int;
    SET total_rows = 0;
        
    IF (in_page = 0) THEN
        SET in_page = 1;
    END IF;    
    
    IF (in_page_size = 0) THEN
       SET in_page_size = 10;
    END IF;
    
    IF (in_sort = NULL || in_sort = '') THEN
       SET in_sort = ' date_modified ASC ';
    END IF;
    
    SET @sfields = CONCAT('', '`status`');
    SET @sfields = CONCAT(@sfields, ', `code`');
    SET @sfields = CONCAT(@sfields, ', `display_name`');
    SET @sfields = CONCAT(@sfields, ', `name`');
    SET @sfields = CONCAT(@sfields, ', `date_modified`');
    SET @sfields = CONCAT(@sfields, ', `type_id`');
    SET @sfields = CONCAT(@sfields, ', `org_id`');
    SET @sfields = CONCAT(@sfields, ', `uuid`');
    SET @sfields = CONCAT(@sfields, ', `active`');
    SET @sfields = CONCAT(@sfields, ', `date_created`');
    SET @sfields = CONCAT(@sfields, ', `type`');
    SET @sfields = CONCAT(@sfields, ', `description`');
    
    SET @stable = CONCAT('', ' FROM `channel` WHERE 1=1 ');
    
    SET @s = CONCAT(' ', @stable);
    SET @s = CONCAT(@s, ' ', in_filter);    
    
    SET @scount = CONCAT('SELECT COUNT(*) as `total_rows` ', @s, ' INTO @total_rows');
    
    PREPARE stmtcount FROM @scount;
    EXECUTE stmtcount;
    #SELECT @total_rows;
    SET total_rows = @total_rows;

    SET @sfields = CONCAT(total_rows, ' as `total_rows`, ', @sfields);
    SET @s = CONCAT('SELECT ', @sfields, @s);
    SET @s = CONCAT(@s, ' ORDER BY ', in_sort);
    SET @s = CONCAT(@s, ' LIMIT ', in_page);
    SET @s = CONCAT(@s, ',', in_page_size);    

    PREPARE stmt FROM @s;
    EXECUTE stmt;
    
END$$
delimiter ;
-- ------------------------------------
-- SET

-- ------------------------------------
-- MODEL: Channel - channel

                       
DROP PROCEDURE IF EXISTS `usp_channel_set_uuid`;
delimiter $$
CREATE PROCEDURE `usp_channel_set_uuid`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_code VARCHAR (255) 
    , in_display_name VARCHAR (255) 
    , in_name VARCHAR (255) 
    , in_date_modified TIMESTAMP 
    , in_type_id BINARY(16) 
    , in_org_id BINARY(16) 
    , in_uuid BINARY(16) 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (500) 
    , in_description VARCHAR (255) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `channel`  
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `channel` 
                    SET
                        `status` = in_status
                        , `code` = in_code
                        , `display_name` = in_display_name
                        , `name` = in_name
                        , `date_modified` = in_date_modified
                        , `type_id` = in_type_id
                        , `org_id` = in_org_id
                        , `uuid` = in_uuid
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `type` = in_type
                        , `description` = in_description
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `channel`
                    (
                        `status`
                        , `code`
                        , `display_name`
                        , `name`
                        , `date_modified`
                        , `type_id`
                        , `org_id`
                        , `uuid`
                        , `active`
                        , `date_created`
                        , `type`
                        , `description`
                    )
                    VALUES
                    (
                        in_status
                        , in_code
                        , in_display_name
                        , in_name
                        , in_date_modified
                        , in_type_id
                        , in_org_id
                        , in_uuid
                        , in_active
                        , in_date_created
                        , in_type
                        , in_description
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

-- ------------------------------------
-- DEL

-- ------------------------------------
-- MODEL: Channel - channel

                       
DROP PROCEDURE IF EXISTS `usp_channel_del_uuid`;

delimiter $$
CREATE PROCEDURE `usp_channel_del_uuid`
(
    in_uuid BINARY(16) 
)

BEGIN
    DELETE 
    FROM `channel`
    WHERE 1=1                        
    AND "uuid" = in_uuid
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_channel_del_code_org_id`;

delimiter $$
CREATE PROCEDURE `usp_channel_del_code_org_id`
(
    in_code VARCHAR (255) 
    , in_org_id BINARY(16) 
)

BEGIN
    DELETE 
    FROM `channel`
    WHERE 1=1                        
    AND lower("code") = lower(in_code)
    AND "org_id" = in_org_id
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_channel_del_code_org_id_type_id`;

delimiter $$
CREATE PROCEDURE `usp_channel_del_code_org_id_type_id`
(
    in_code VARCHAR (255) 
    , in_org_id BINARY(16) 
    , in_type_id BINARY(16) 
)

BEGIN
    DELETE 
    FROM `channel`
    WHERE 1=1                        
    AND lower("code") = lower(in_code)
    AND "org_id" = in_org_id
    AND "type_id" = in_type_id
    ;
END$$
delimiter ;
-- ------------------------------------
-- GET

-- ------------------------------------
-- MODEL: Channel - channel

                       
DROP PROCEDURE IF EXISTS `usp_channel_get`;

delimiter $$
CREATE PROCEDURE `usp_channel_get`
(
)                        
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `type_id`
        , `org_id`
        , `uuid`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `channel`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_channel_get_uuid`;

delimiter $$
CREATE PROCEDURE `usp_channel_get_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `type_id`
        , `org_id`
        , `uuid`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `channel`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_channel_get_code`;

delimiter $$
CREATE PROCEDURE `usp_channel_get_code`
(
    in_code VARCHAR (255) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `type_id`
        , `org_id`
        , `uuid`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `channel`
    WHERE 1=1
    AND lower(`code`) = lower(in_code)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_channel_get_name`;

delimiter $$
CREATE PROCEDURE `usp_channel_get_name`
(
    in_name VARCHAR (255) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `type_id`
        , `org_id`
        , `uuid`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `channel`
    WHERE 1=1
    AND lower(`name`) = lower(in_name)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_channel_get_org_id`;

delimiter $$
CREATE PROCEDURE `usp_channel_get_org_id`
(
    in_org_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `type_id`
        , `org_id`
        , `uuid`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `channel`
    WHERE 1=1
    AND `org_id` = in_org_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_channel_get_type_id`;

delimiter $$
CREATE PROCEDURE `usp_channel_get_type_id`
(
    in_type_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `type_id`
        , `org_id`
        , `uuid`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `channel`
    WHERE 1=1
    AND `type_id` = in_type_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_channel_get_org_id_type_id`;

delimiter $$
CREATE PROCEDURE `usp_channel_get_org_id_type_id`
(
    in_org_id BINARY(16) 
    , in_type_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `type_id`
        , `org_id`
        , `uuid`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `channel`
    WHERE 1=1
    AND `org_id` = in_org_id
    AND `type_id` = in_type_id
    ;
END$$
delimiter ;

-- -----------------------------------------------------------------------------
-- PROCS

-- ------------------------------------
-- COUNT

-- ------------------------------------
-- MODEL: ChannelType - channel_type

                       
DROP PROCEDURE IF EXISTS `usp_channel_type_count`;
delimiter $$
CREATE PROCEDURE `usp_channel_type_count`
BEGIN
    SELECT
        COUNT(*) as count
    FROM `channel_type`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_channel_type_count_uuid`;
delimiter $$
CREATE PROCEDURE `usp_channel_type_count_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `channel_type`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_channel_type_count_code`;
delimiter $$
CREATE PROCEDURE `usp_channel_type_count_code`
(
    in_code VARCHAR (255) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `channel_type`
    WHERE 1=1
    AND lower(`code`) = lower(in_code)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_channel_type_count_name`;
delimiter $$
CREATE PROCEDURE `usp_channel_type_count_name`
(
    in_name VARCHAR (255) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `channel_type`
    WHERE 1=1
    AND lower(`name`) = lower(in_name)
    ;
END$$
delimiter ;

-- ------------------------------------
-- BROWSE

-- ------------------------------------
-- MODEL: ChannelType - channel_type

                       
DROP PROCEDURE IF EXISTS `usp_channel_type_browse_filter`;

delimiter $$
CREATE PROCEDURE `usp_channel_type_browse_filter`
(
    in_page int,
    in_page_size int,
    in_sort VARCHAR(500),
    in_filter VARCHAR(4000)
    
)
BEGIN
    DECLARE total_rows int;
    SET total_rows = 0;
        
    IF (in_page = 0) THEN
        SET in_page = 1;
    END IF;    
    
    IF (in_page_size = 0) THEN
       SET in_page_size = 10;
    END IF;
    
    IF (in_sort = NULL || in_sort = '') THEN
       SET in_sort = ' date_modified ASC ';
    END IF;
    
    SET @sfields = CONCAT('', '`status`');
    SET @sfields = CONCAT(@sfields, ', `code`');
    SET @sfields = CONCAT(@sfields, ', `display_name`');
    SET @sfields = CONCAT(@sfields, ', `name`');
    SET @sfields = CONCAT(@sfields, ', `date_modified`');
    SET @sfields = CONCAT(@sfields, ', `uuid`');
    SET @sfields = CONCAT(@sfields, ', `active`');
    SET @sfields = CONCAT(@sfields, ', `date_created`');
    SET @sfields = CONCAT(@sfields, ', `type`');
    SET @sfields = CONCAT(@sfields, ', `description`');
    
    SET @stable = CONCAT('', ' FROM `channel_type` WHERE 1=1 ');
    
    SET @s = CONCAT(' ', @stable);
    SET @s = CONCAT(@s, ' ', in_filter);    
    
    SET @scount = CONCAT('SELECT COUNT(*) as `total_rows` ', @s, ' INTO @total_rows');
    
    PREPARE stmtcount FROM @scount;
    EXECUTE stmtcount;
    #SELECT @total_rows;
    SET total_rows = @total_rows;

    SET @sfields = CONCAT(total_rows, ' as `total_rows`, ', @sfields);
    SET @s = CONCAT('SELECT ', @sfields, @s);
    SET @s = CONCAT(@s, ' ORDER BY ', in_sort);
    SET @s = CONCAT(@s, ' LIMIT ', in_page);
    SET @s = CONCAT(@s, ',', in_page_size);    

    PREPARE stmt FROM @s;
    EXECUTE stmt;
    
END$$
delimiter ;
-- ------------------------------------
-- SET

-- ------------------------------------
-- MODEL: ChannelType - channel_type

                       
DROP PROCEDURE IF EXISTS `usp_channel_type_set_uuid`;
delimiter $$
CREATE PROCEDURE `usp_channel_type_set_uuid`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_code VARCHAR (255) 
    , in_display_name VARCHAR (255) 
    , in_name VARCHAR (255) 
    , in_date_modified TIMESTAMP 
    , in_uuid BINARY(16) 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (50) 
    , in_description VARCHAR (255) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `channel_type`  
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `channel_type` 
                    SET
                        `status` = in_status
                        , `code` = in_code
                        , `display_name` = in_display_name
                        , `name` = in_name
                        , `date_modified` = in_date_modified
                        , `uuid` = in_uuid
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `type` = in_type
                        , `description` = in_description
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `channel_type`
                    (
                        `status`
                        , `code`
                        , `display_name`
                        , `name`
                        , `date_modified`
                        , `uuid`
                        , `active`
                        , `date_created`
                        , `type`
                        , `description`
                    )
                    VALUES
                    (
                        in_status
                        , in_code
                        , in_display_name
                        , in_name
                        , in_date_modified
                        , in_uuid
                        , in_active
                        , in_date_created
                        , in_type
                        , in_description
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

-- ------------------------------------
-- DEL

-- ------------------------------------
-- MODEL: ChannelType - channel_type

                       
DROP PROCEDURE IF EXISTS `usp_channel_type_del_uuid`;

delimiter $$
CREATE PROCEDURE `usp_channel_type_del_uuid`
(
    in_uuid BINARY(16) 
)

BEGIN
    DELETE 
    FROM `channel_type`
    WHERE 1=1                        
    AND "uuid" = in_uuid
    ;
END$$
delimiter ;
-- ------------------------------------
-- GET

-- ------------------------------------
-- MODEL: ChannelType - channel_type

                       
DROP PROCEDURE IF EXISTS `usp_channel_type_get`;

delimiter $$
CREATE PROCEDURE `usp_channel_type_get`
(
)                        
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `uuid`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `channel_type`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_channel_type_get_uuid`;

delimiter $$
CREATE PROCEDURE `usp_channel_type_get_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `uuid`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `channel_type`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_channel_type_get_code`;

delimiter $$
CREATE PROCEDURE `usp_channel_type_get_code`
(
    in_code VARCHAR (255) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `uuid`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `channel_type`
    WHERE 1=1
    AND lower(`code`) = lower(in_code)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_channel_type_get_name`;

delimiter $$
CREATE PROCEDURE `usp_channel_type_get_name`
(
    in_name VARCHAR (255) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `uuid`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `channel_type`
    WHERE 1=1
    AND lower(`name`) = lower(in_name)
    ;
END$$
delimiter ;

-- -----------------------------------------------------------------------------
-- PROCS

-- ------------------------------------
-- COUNT

-- ------------------------------------
-- MODEL: Question - question

                       
DROP PROCEDURE IF EXISTS `usp_question_count`;
delimiter $$
CREATE PROCEDURE `usp_question_count`
BEGIN
    SELECT
        COUNT(*) as count
    FROM `question`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_question_count_uuid`;
delimiter $$
CREATE PROCEDURE `usp_question_count_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `question`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_question_count_code`;
delimiter $$
CREATE PROCEDURE `usp_question_count_code`
(
    in_code VARCHAR (255) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `question`
    WHERE 1=1
    AND lower(`code`) = lower(in_code)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_question_count_name`;
delimiter $$
CREATE PROCEDURE `usp_question_count_name`
(
    in_name VARCHAR (255) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `question`
    WHERE 1=1
    AND lower(`name`) = lower(in_name)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_question_count_channel_id`;
delimiter $$
CREATE PROCEDURE `usp_question_count_channel_id`
(
    in_channel_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `question`
    WHERE 1=1
    AND `channel_id` = in_channel_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_question_count_org_id`;
delimiter $$
CREATE PROCEDURE `usp_question_count_org_id`
(
    in_org_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `question`
    WHERE 1=1
    AND `org_id` = in_org_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_question_count_channel_id_org_id`;
delimiter $$
CREATE PROCEDURE `usp_question_count_channel_id_org_id`
(
    in_channel_id BINARY(16) 
    , in_org_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `question`
    WHERE 1=1
    AND `channel_id` = in_channel_id
    AND `org_id` = in_org_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_question_count_channel_id_code`;
delimiter $$
CREATE PROCEDURE `usp_question_count_channel_id_code`
(
    in_channel_id BINARY(16) 
    , in_code VARCHAR (255) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `question`
    WHERE 1=1
    AND `channel_id` = in_channel_id
    AND lower(`code`) = lower(in_code)
    ;
END$$
delimiter ;

-- ------------------------------------
-- BROWSE

-- ------------------------------------
-- MODEL: Question - question

                       
DROP PROCEDURE IF EXISTS `usp_question_browse_filter`;

delimiter $$
CREATE PROCEDURE `usp_question_browse_filter`
(
    in_page int,
    in_page_size int,
    in_sort VARCHAR(500),
    in_filter VARCHAR(4000)
    
)
BEGIN
    DECLARE total_rows int;
    SET total_rows = 0;
        
    IF (in_page = 0) THEN
        SET in_page = 1;
    END IF;    
    
    IF (in_page_size = 0) THEN
       SET in_page_size = 10;
    END IF;
    
    IF (in_sort = NULL || in_sort = '') THEN
       SET in_sort = ' date_modified ASC ';
    END IF;
    
    SET @sfields = CONCAT('', '`status`');
    SET @sfields = CONCAT(@sfields, ', `code`');
    SET @sfields = CONCAT(@sfields, ', `display_name`');
    SET @sfields = CONCAT(@sfields, ', `name`');
    SET @sfields = CONCAT(@sfields, ', `date_modified`');
    SET @sfields = CONCAT(@sfields, ', `org_id`');
    SET @sfields = CONCAT(@sfields, ', `uuid`');
    SET @sfields = CONCAT(@sfields, ', `choices`');
    SET @sfields = CONCAT(@sfields, ', `channel_id`');
    SET @sfields = CONCAT(@sfields, ', `active`');
    SET @sfields = CONCAT(@sfields, ', `date_created`');
    SET @sfields = CONCAT(@sfields, ', `type`');
    SET @sfields = CONCAT(@sfields, ', `description`');
    
    SET @stable = CONCAT('', ' FROM `question` WHERE 1=1 ');
    
    SET @s = CONCAT(' ', @stable);
    SET @s = CONCAT(@s, ' ', in_filter);    
    
    SET @scount = CONCAT('SELECT COUNT(*) as `total_rows` ', @s, ' INTO @total_rows');
    
    PREPARE stmtcount FROM @scount;
    EXECUTE stmtcount;
    #SELECT @total_rows;
    SET total_rows = @total_rows;

    SET @sfields = CONCAT(total_rows, ' as `total_rows`, ', @sfields);
    SET @s = CONCAT('SELECT ', @sfields, @s);
    SET @s = CONCAT(@s, ' ORDER BY ', in_sort);
    SET @s = CONCAT(@s, ' LIMIT ', in_page);
    SET @s = CONCAT(@s, ',', in_page_size);    

    PREPARE stmt FROM @s;
    EXECUTE stmt;
    
END$$
delimiter ;
-- ------------------------------------
-- SET

-- ------------------------------------
-- MODEL: Question - question

                       
DROP PROCEDURE IF EXISTS `usp_question_set_uuid`;
delimiter $$
CREATE PROCEDURE `usp_question_set_uuid`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_code VARCHAR (255) 
    , in_display_name VARCHAR (255) 
    , in_name VARCHAR (255) 
    , in_date_modified TIMESTAMP 
    , in_org_id BINARY(16) 
    , in_uuid BINARY(16) 
    , in_choices TEXT 
    , in_channel_id BINARY(16) 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (50) 
    , in_description VARCHAR (255) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `question`  
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `question` 
                    SET
                        `status` = in_status
                        , `code` = in_code
                        , `display_name` = in_display_name
                        , `name` = in_name
                        , `date_modified` = in_date_modified
                        , `org_id` = in_org_id
                        , `uuid` = in_uuid
                        , `choices` = in_choices
                        , `channel_id` = in_channel_id
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `type` = in_type
                        , `description` = in_description
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `question`
                    (
                        `status`
                        , `code`
                        , `display_name`
                        , `name`
                        , `date_modified`
                        , `org_id`
                        , `uuid`
                        , `choices`
                        , `channel_id`
                        , `active`
                        , `date_created`
                        , `type`
                        , `description`
                    )
                    VALUES
                    (
                        in_status
                        , in_code
                        , in_display_name
                        , in_name
                        , in_date_modified
                        , in_org_id
                        , in_uuid
                        , in_choices
                        , in_channel_id
                        , in_active
                        , in_date_created
                        , in_type
                        , in_description
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_question_set_channel_id_code`;
delimiter $$
CREATE PROCEDURE `usp_question_set_channel_id_code`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_code VARCHAR (255) 
    , in_display_name VARCHAR (255) 
    , in_name VARCHAR (255) 
    , in_date_modified TIMESTAMP 
    , in_org_id BINARY(16) 
    , in_uuid BINARY(16) 
    , in_choices TEXT 
    , in_channel_id BINARY(16) 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (50) 
    , in_description VARCHAR (255) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `question`  
                    WHERE 1=1
                    AND `channel_id` = in_channel_id
                    AND lower(`code`) = lower(in_code)
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `question` 
                    SET
                        `status` = in_status
                        , `code` = in_code
                        , `display_name` = in_display_name
                        , `name` = in_name
                        , `date_modified` = in_date_modified
                        , `org_id` = in_org_id
                        , `uuid` = in_uuid
                        , `choices` = in_choices
                        , `channel_id` = in_channel_id
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `type` = in_type
                        , `description` = in_description
                    WHERE 1=1
                    AND `channel_id` = in_channel_id
                    AND lower(`code`) = lower(in_code)
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `question`
                    (
                        `status`
                        , `code`
                        , `display_name`
                        , `name`
                        , `date_modified`
                        , `org_id`
                        , `uuid`
                        , `choices`
                        , `channel_id`
                        , `active`
                        , `date_created`
                        , `type`
                        , `description`
                    )
                    VALUES
                    (
                        in_status
                        , in_code
                        , in_display_name
                        , in_name
                        , in_date_modified
                        , in_org_id
                        , in_uuid
                        , in_choices
                        , in_channel_id
                        , in_active
                        , in_date_created
                        , in_type
                        , in_description
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

-- ------------------------------------
-- DEL

-- ------------------------------------
-- MODEL: Question - question

                       
DROP PROCEDURE IF EXISTS `usp_question_del_uuid`;

delimiter $$
CREATE PROCEDURE `usp_question_del_uuid`
(
    in_uuid BINARY(16) 
)

BEGIN
    DELETE 
    FROM `question`
    WHERE 1=1                        
    AND "uuid" = in_uuid
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_question_del_channel_id_org_id`;

delimiter $$
CREATE PROCEDURE `usp_question_del_channel_id_org_id`
(
    in_channel_id BINARY(16) 
    , in_org_id BINARY(16) 
)

BEGIN
    DELETE 
    FROM `question`
    WHERE 1=1                        
    AND "channel_id" = in_channel_id
    AND "org_id" = in_org_id
    ;
END$$
delimiter ;
-- ------------------------------------
-- GET

-- ------------------------------------
-- MODEL: Question - question

                       
DROP PROCEDURE IF EXISTS `usp_question_get`;

delimiter $$
CREATE PROCEDURE `usp_question_get`
(
)                        
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `org_id`
        , `uuid`
        , `choices`
        , `channel_id`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `question`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_question_get_uuid`;

delimiter $$
CREATE PROCEDURE `usp_question_get_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `org_id`
        , `uuid`
        , `choices`
        , `channel_id`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `question`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_question_get_code`;

delimiter $$
CREATE PROCEDURE `usp_question_get_code`
(
    in_code VARCHAR (255) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `org_id`
        , `uuid`
        , `choices`
        , `channel_id`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `question`
    WHERE 1=1
    AND lower(`code`) = lower(in_code)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_question_get_name`;

delimiter $$
CREATE PROCEDURE `usp_question_get_name`
(
    in_name VARCHAR (255) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `org_id`
        , `uuid`
        , `choices`
        , `channel_id`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `question`
    WHERE 1=1
    AND lower(`name`) = lower(in_name)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_question_get_type`;

delimiter $$
CREATE PROCEDURE `usp_question_get_type`
(
    in_type VARCHAR (50) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `org_id`
        , `uuid`
        , `choices`
        , `channel_id`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `question`
    WHERE 1=1
    AND lower(`type`) = lower(in_type)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_question_get_channel_id`;

delimiter $$
CREATE PROCEDURE `usp_question_get_channel_id`
(
    in_channel_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `org_id`
        , `uuid`
        , `choices`
        , `channel_id`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `question`
    WHERE 1=1
    AND `channel_id` = in_channel_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_question_get_org_id`;

delimiter $$
CREATE PROCEDURE `usp_question_get_org_id`
(
    in_org_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `org_id`
        , `uuid`
        , `choices`
        , `channel_id`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `question`
    WHERE 1=1
    AND `org_id` = in_org_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_question_get_channel_id_org_id`;

delimiter $$
CREATE PROCEDURE `usp_question_get_channel_id_org_id`
(
    in_channel_id BINARY(16) 
    , in_org_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `org_id`
        , `uuid`
        , `choices`
        , `channel_id`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `question`
    WHERE 1=1
    AND `channel_id` = in_channel_id
    AND `org_id` = in_org_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_question_get_channel_id_code`;

delimiter $$
CREATE PROCEDURE `usp_question_get_channel_id_code`
(
    in_channel_id BINARY(16) 
    , in_code VARCHAR (255) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `org_id`
        , `uuid`
        , `choices`
        , `channel_id`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `question`
    WHERE 1=1
    AND `channel_id` = in_channel_id
    AND lower(`code`) = lower(in_code)
    ;
END$$
delimiter ;

-- -----------------------------------------------------------------------------
-- PROCS

-- ------------------------------------
-- COUNT

-- ------------------------------------
-- MODEL: ProfileOffer - profile_offer

                       
DROP PROCEDURE IF EXISTS `usp_profile_offer_count`;
delimiter $$
CREATE PROCEDURE `usp_profile_offer_count`
BEGIN
    SELECT
        COUNT(*) as count
    FROM `profile_offer`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_offer_count_uuid`;
delimiter $$
CREATE PROCEDURE `usp_profile_offer_count_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `profile_offer`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_offer_count_profile_id`;
delimiter $$
CREATE PROCEDURE `usp_profile_offer_count_profile_id`
(
    in_profile_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `profile_offer`
    WHERE 1=1
    AND `profile_id` = in_profile_id
    ;
END$$
delimiter ;

-- ------------------------------------
-- BROWSE

-- ------------------------------------
-- MODEL: ProfileOffer - profile_offer

                       
DROP PROCEDURE IF EXISTS `usp_profile_offer_browse_filter`;

delimiter $$
CREATE PROCEDURE `usp_profile_offer_browse_filter`
(
    in_page int,
    in_page_size int,
    in_sort VARCHAR(500),
    in_filter VARCHAR(4000)
    
)
BEGIN
    DECLARE total_rows int;
    SET total_rows = 0;
        
    IF (in_page = 0) THEN
        SET in_page = 1;
    END IF;    
    
    IF (in_page_size = 0) THEN
       SET in_page_size = 10;
    END IF;
    
    IF (in_sort = NULL || in_sort = '') THEN
       SET in_sort = ' date_modified ASC ';
    END IF;
    
    SET @sfields = CONCAT('', '`status`');
    SET @sfields = CONCAT(@sfields, ', `redeem_code`');
    SET @sfields = CONCAT(@sfields, ', `offer_id`');
    SET @sfields = CONCAT(@sfields, ', `profile_id`');
    SET @sfields = CONCAT(@sfields, ', `active`');
    SET @sfields = CONCAT(@sfields, ', `uuid`');
    SET @sfields = CONCAT(@sfields, ', `redeemed`');
    SET @sfields = CONCAT(@sfields, ', `url`');
    SET @sfields = CONCAT(@sfields, ', `date_modified`');
    SET @sfields = CONCAT(@sfields, ', `date_created`');
    SET @sfields = CONCAT(@sfields, ', `type`');
    
    SET @stable = CONCAT('', ' FROM `profile_offer` WHERE 1=1 ');
    
    SET @s = CONCAT(' ', @stable);
    SET @s = CONCAT(@s, ' ', in_filter);    
    
    SET @scount = CONCAT('SELECT COUNT(*) as `total_rows` ', @s, ' INTO @total_rows');
    
    PREPARE stmtcount FROM @scount;
    EXECUTE stmtcount;
    #SELECT @total_rows;
    SET total_rows = @total_rows;

    SET @sfields = CONCAT(total_rows, ' as `total_rows`, ', @sfields);
    SET @s = CONCAT('SELECT ', @sfields, @s);
    SET @s = CONCAT(@s, ' ORDER BY ', in_sort);
    SET @s = CONCAT(@s, ' LIMIT ', in_page);
    SET @s = CONCAT(@s, ',', in_page_size);    

    PREPARE stmt FROM @s;
    EXECUTE stmt;
    
END$$
delimiter ;
-- ------------------------------------
-- SET

-- ------------------------------------
-- MODEL: ProfileOffer - profile_offer

                       
DROP PROCEDURE IF EXISTS `usp_profile_offer_set_uuid`;
delimiter $$
CREATE PROCEDURE `usp_profile_offer_set_uuid`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_redeem_code VARCHAR (128) 
    , in_offer_id BINARY(16) 
    , in_profile_id BINARY(16) 
    , in_active int 
    , in_uuid BINARY(16) 
    , in_redeemed VARCHAR (50) 
    , in_url VARCHAR (50) 
    , in_date_modified TIMESTAMP 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (500) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `profile_offer`  
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `profile_offer` 
                    SET
                        `status` = in_status
                        , `redeem_code` = in_redeem_code
                        , `offer_id` = in_offer_id
                        , `profile_id` = in_profile_id
                        , `active` = in_active
                        , `uuid` = in_uuid
                        , `redeemed` = in_redeemed
                        , `url` = in_url
                        , `date_modified` = in_date_modified
                        , `date_created` = in_date_created
                        , `type` = in_type
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `profile_offer`
                    (
                        `status`
                        , `redeem_code`
                        , `offer_id`
                        , `profile_id`
                        , `active`
                        , `uuid`
                        , `redeemed`
                        , `url`
                        , `date_modified`
                        , `date_created`
                        , `type`
                    )
                    VALUES
                    (
                        in_status
                        , in_redeem_code
                        , in_offer_id
                        , in_profile_id
                        , in_active
                        , in_uuid
                        , in_redeemed
                        , in_url
                        , in_date_modified
                        , in_date_created
                        , in_type
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

-- ------------------------------------
-- DEL

-- ------------------------------------
-- MODEL: ProfileOffer - profile_offer

                       
DROP PROCEDURE IF EXISTS `usp_profile_offer_del_uuid`;

delimiter $$
CREATE PROCEDURE `usp_profile_offer_del_uuid`
(
    in_uuid BINARY(16) 
)

BEGIN
    DELETE 
    FROM `profile_offer`
    WHERE 1=1                        
    AND "uuid" = in_uuid
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_profile_offer_del_profile_id`;

delimiter $$
CREATE PROCEDURE `usp_profile_offer_del_profile_id`
(
    in_profile_id BINARY(16) 
)

BEGIN
    DELETE 
    FROM `profile_offer`
    WHERE 1=1                        
    AND "profile_id" = in_profile_id
    ;
END$$
delimiter ;
-- ------------------------------------
-- GET

-- ------------------------------------
-- MODEL: ProfileOffer - profile_offer

                       
DROP PROCEDURE IF EXISTS `usp_profile_offer_get`;

delimiter $$
CREATE PROCEDURE `usp_profile_offer_get`
(
)                        
BEGIN
    SELECT
        `status`
        , `redeem_code`
        , `offer_id`
        , `profile_id`
        , `active`
        , `uuid`
        , `redeemed`
        , `url`
        , `date_modified`
        , `date_created`
        , `type`
    FROM `profile_offer`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_offer_get_uuid`;

delimiter $$
CREATE PROCEDURE `usp_profile_offer_get_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `redeem_code`
        , `offer_id`
        , `profile_id`
        , `active`
        , `uuid`
        , `redeemed`
        , `url`
        , `date_modified`
        , `date_created`
        , `type`
    FROM `profile_offer`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_offer_get_profile_id`;

delimiter $$
CREATE PROCEDURE `usp_profile_offer_get_profile_id`
(
    in_profile_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `redeem_code`
        , `offer_id`
        , `profile_id`
        , `active`
        , `uuid`
        , `redeemed`
        , `url`
        , `date_modified`
        , `date_created`
        , `type`
    FROM `profile_offer`
    WHERE 1=1
    AND `profile_id` = in_profile_id
    ;
END$$
delimiter ;

-- -----------------------------------------------------------------------------
-- PROCS

-- ------------------------------------
-- COUNT

-- ------------------------------------
-- MODEL: ProfileApp - profile_app

                       
DROP PROCEDURE IF EXISTS `usp_profile_app_count`;
delimiter $$
CREATE PROCEDURE `usp_profile_app_count`
BEGIN
    SELECT
        COUNT(*) as count
    FROM `profile_app`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_app_count_uuid`;
delimiter $$
CREATE PROCEDURE `usp_profile_app_count_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `profile_app`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_app_count_profile_id_app_id`;
delimiter $$
CREATE PROCEDURE `usp_profile_app_count_profile_id_app_id`
(
    in_profile_id BINARY(16) 
    , in_app_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `profile_app`
    WHERE 1=1
    AND `profile_id` = in_profile_id
    AND `app_id` = in_app_id
    ;
END$$
delimiter ;

-- ------------------------------------
-- BROWSE

-- ------------------------------------
-- MODEL: ProfileApp - profile_app

                       
DROP PROCEDURE IF EXISTS `usp_profile_app_browse_filter`;

delimiter $$
CREATE PROCEDURE `usp_profile_app_browse_filter`
(
    in_page int,
    in_page_size int,
    in_sort VARCHAR(500),
    in_filter VARCHAR(4000)
    
)
BEGIN
    DECLARE total_rows int;
    SET total_rows = 0;
        
    IF (in_page = 0) THEN
        SET in_page = 1;
    END IF;    
    
    IF (in_page_size = 0) THEN
       SET in_page_size = 10;
    END IF;
    
    IF (in_sort = NULL || in_sort = '') THEN
       SET in_sort = ' date_modified ASC ';
    END IF;
    
    SET @sfields = CONCAT('', '`status`');
    SET @sfields = CONCAT(@sfields, ', `uuid`');
    SET @sfields = CONCAT(@sfields, ', `date_modified`');
    SET @sfields = CONCAT(@sfields, ', `active`');
    SET @sfields = CONCAT(@sfields, ', `date_created`');
    SET @sfields = CONCAT(@sfields, ', `profile_id`');
    SET @sfields = CONCAT(@sfields, ', `type`');
    SET @sfields = CONCAT(@sfields, ', `app_id`');
    
    SET @stable = CONCAT('', ' FROM `profile_app` WHERE 1=1 ');
    
    SET @s = CONCAT(' ', @stable);
    SET @s = CONCAT(@s, ' ', in_filter);    
    
    SET @scount = CONCAT('SELECT COUNT(*) as `total_rows` ', @s, ' INTO @total_rows');
    
    PREPARE stmtcount FROM @scount;
    EXECUTE stmtcount;
    #SELECT @total_rows;
    SET total_rows = @total_rows;

    SET @sfields = CONCAT(total_rows, ' as `total_rows`, ', @sfields);
    SET @s = CONCAT('SELECT ', @sfields, @s);
    SET @s = CONCAT(@s, ' ORDER BY ', in_sort);
    SET @s = CONCAT(@s, ' LIMIT ', in_page);
    SET @s = CONCAT(@s, ',', in_page_size);    

    PREPARE stmt FROM @s;
    EXECUTE stmt;
    
END$$
delimiter ;
-- ------------------------------------
-- SET

-- ------------------------------------
-- MODEL: ProfileApp - profile_app

                       
DROP PROCEDURE IF EXISTS `usp_profile_app_set_uuid`;
delimiter $$
CREATE PROCEDURE `usp_profile_app_set_uuid`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_uuid BINARY(16) 
    , in_date_modified TIMESTAMP 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_profile_id BINARY(16) 
    , in_type VARCHAR (500) 
    , in_app_id BINARY(16) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `profile_app`  
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `profile_app` 
                    SET
                        `status` = in_status
                        , `uuid` = in_uuid
                        , `date_modified` = in_date_modified
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `profile_id` = in_profile_id
                        , `type` = in_type
                        , `app_id` = in_app_id
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `profile_app`
                    (
                        `status`
                        , `uuid`
                        , `date_modified`
                        , `active`
                        , `date_created`
                        , `profile_id`
                        , `type`
                        , `app_id`
                    )
                    VALUES
                    (
                        in_status
                        , in_uuid
                        , in_date_modified
                        , in_active
                        , in_date_created
                        , in_profile_id
                        , in_type
                        , in_app_id
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_app_set_profile_id_app_id`;
delimiter $$
CREATE PROCEDURE `usp_profile_app_set_profile_id_app_id`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_uuid BINARY(16) 
    , in_date_modified TIMESTAMP 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_profile_id BINARY(16) 
    , in_type VARCHAR (500) 
    , in_app_id BINARY(16) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `profile_app`  
                    WHERE 1=1
                    AND `profile_id` = in_profile_id
                    AND `app_id` = in_app_id
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `profile_app` 
                    SET
                        `status` = in_status
                        , `uuid` = in_uuid
                        , `date_modified` = in_date_modified
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `profile_id` = in_profile_id
                        , `type` = in_type
                        , `app_id` = in_app_id
                    WHERE 1=1
                    AND `profile_id` = in_profile_id
                    AND `app_id` = in_app_id
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `profile_app`
                    (
                        `status`
                        , `uuid`
                        , `date_modified`
                        , `active`
                        , `date_created`
                        , `profile_id`
                        , `type`
                        , `app_id`
                    )
                    VALUES
                    (
                        in_status
                        , in_uuid
                        , in_date_modified
                        , in_active
                        , in_date_created
                        , in_profile_id
                        , in_type
                        , in_app_id
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

-- ------------------------------------
-- DEL

-- ------------------------------------
-- MODEL: ProfileApp - profile_app

                       
DROP PROCEDURE IF EXISTS `usp_profile_app_del_uuid`;

delimiter $$
CREATE PROCEDURE `usp_profile_app_del_uuid`
(
    in_uuid BINARY(16) 
)

BEGIN
    DELETE 
    FROM `profile_app`
    WHERE 1=1                        
    AND "uuid" = in_uuid
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_profile_app_del_profile_id_app_id`;

delimiter $$
CREATE PROCEDURE `usp_profile_app_del_profile_id_app_id`
(
    in_profile_id BINARY(16) 
    , in_app_id BINARY(16) 
)

BEGIN
    DELETE 
    FROM `profile_app`
    WHERE 1=1                        
    AND "profile_id" = in_profile_id
    AND "app_id" = in_app_id
    ;
END$$
delimiter ;
-- ------------------------------------
-- GET

-- ------------------------------------
-- MODEL: ProfileApp - profile_app

                       
DROP PROCEDURE IF EXISTS `usp_profile_app_get`;

delimiter $$
CREATE PROCEDURE `usp_profile_app_get`
(
)                        
BEGIN
    SELECT
        `status`
        , `uuid`
        , `date_modified`
        , `active`
        , `date_created`
        , `profile_id`
        , `type`
        , `app_id`
    FROM `profile_app`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_app_get_uuid`;

delimiter $$
CREATE PROCEDURE `usp_profile_app_get_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `uuid`
        , `date_modified`
        , `active`
        , `date_created`
        , `profile_id`
        , `type`
        , `app_id`
    FROM `profile_app`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_app_get_app_id`;

delimiter $$
CREATE PROCEDURE `usp_profile_app_get_app_id`
(
    in_app_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `uuid`
        , `date_modified`
        , `active`
        , `date_created`
        , `profile_id`
        , `type`
        , `app_id`
    FROM `profile_app`
    WHERE 1=1
    AND `app_id` = in_app_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_app_get_profile_id`;

delimiter $$
CREATE PROCEDURE `usp_profile_app_get_profile_id`
(
    in_profile_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `uuid`
        , `date_modified`
        , `active`
        , `date_created`
        , `profile_id`
        , `type`
        , `app_id`
    FROM `profile_app`
    WHERE 1=1
    AND `profile_id` = in_profile_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_app_get_profile_id_app_id`;

delimiter $$
CREATE PROCEDURE `usp_profile_app_get_profile_id_app_id`
(
    in_profile_id BINARY(16) 
    , in_app_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `uuid`
        , `date_modified`
        , `active`
        , `date_created`
        , `profile_id`
        , `type`
        , `app_id`
    FROM `profile_app`
    WHERE 1=1
    AND `profile_id` = in_profile_id
    AND `app_id` = in_app_id
    ;
END$$
delimiter ;

-- -----------------------------------------------------------------------------
-- PROCS

-- ------------------------------------
-- COUNT

-- ------------------------------------
-- MODEL: ProfileOrg - profile_org

                       
DROP PROCEDURE IF EXISTS `usp_profile_org_count`;
delimiter $$
CREATE PROCEDURE `usp_profile_org_count`
BEGIN
    SELECT
        COUNT(*) as count
    FROM `profile_org`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_org_count_uuid`;
delimiter $$
CREATE PROCEDURE `usp_profile_org_count_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `profile_org`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_org_count_org_id`;
delimiter $$
CREATE PROCEDURE `usp_profile_org_count_org_id`
(
    in_org_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `profile_org`
    WHERE 1=1
    AND `org_id` = in_org_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_org_count_profile_id`;
delimiter $$
CREATE PROCEDURE `usp_profile_org_count_profile_id`
(
    in_profile_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `profile_org`
    WHERE 1=1
    AND `profile_id` = in_profile_id
    ;
END$$
delimiter ;

-- ------------------------------------
-- BROWSE

-- ------------------------------------
-- MODEL: ProfileOrg - profile_org

                       
DROP PROCEDURE IF EXISTS `usp_profile_org_browse_filter`;

delimiter $$
CREATE PROCEDURE `usp_profile_org_browse_filter`
(
    in_page int,
    in_page_size int,
    in_sort VARCHAR(500),
    in_filter VARCHAR(4000)
    
)
BEGIN
    DECLARE total_rows int;
    SET total_rows = 0;
        
    IF (in_page = 0) THEN
        SET in_page = 1;
    END IF;    
    
    IF (in_page_size = 0) THEN
       SET in_page_size = 10;
    END IF;
    
    IF (in_sort = NULL || in_sort = '') THEN
       SET in_sort = ' date_modified ASC ';
    END IF;
    
    SET @sfields = CONCAT('', '`status`');
    SET @sfields = CONCAT(@sfields, ', `type_id`');
    SET @sfields = CONCAT(@sfields, ', `uuid`');
    SET @sfields = CONCAT(@sfields, ', `date_modified`');
    SET @sfields = CONCAT(@sfields, ', `active`');
    SET @sfields = CONCAT(@sfields, ', `date_created`');
    SET @sfields = CONCAT(@sfields, ', `profile_id`');
    SET @sfields = CONCAT(@sfields, ', `type`');
    SET @sfields = CONCAT(@sfields, ', `org_id`');
    
    SET @stable = CONCAT('', ' FROM `profile_org` WHERE 1=1 ');
    
    SET @s = CONCAT(' ', @stable);
    SET @s = CONCAT(@s, ' ', in_filter);    
    
    SET @scount = CONCAT('SELECT COUNT(*) as `total_rows` ', @s, ' INTO @total_rows');
    
    PREPARE stmtcount FROM @scount;
    EXECUTE stmtcount;
    #SELECT @total_rows;
    SET total_rows = @total_rows;

    SET @sfields = CONCAT(total_rows, ' as `total_rows`, ', @sfields);
    SET @s = CONCAT('SELECT ', @sfields, @s);
    SET @s = CONCAT(@s, ' ORDER BY ', in_sort);
    SET @s = CONCAT(@s, ' LIMIT ', in_page);
    SET @s = CONCAT(@s, ',', in_page_size);    

    PREPARE stmt FROM @s;
    EXECUTE stmt;
    
END$$
delimiter ;
-- ------------------------------------
-- SET

-- ------------------------------------
-- MODEL: ProfileOrg - profile_org

                       
DROP PROCEDURE IF EXISTS `usp_profile_org_set_uuid`;
delimiter $$
CREATE PROCEDURE `usp_profile_org_set_uuid`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_type_id BINARY(16) 
    , in_uuid BINARY(16) 
    , in_date_modified TIMESTAMP 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_profile_id BINARY(16) 
    , in_type VARCHAR (500) 
    , in_org_id BINARY(16) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `profile_org`  
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `profile_org` 
                    SET
                        `status` = in_status
                        , `type_id` = in_type_id
                        , `uuid` = in_uuid
                        , `date_modified` = in_date_modified
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `profile_id` = in_profile_id
                        , `type` = in_type
                        , `org_id` = in_org_id
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `profile_org`
                    (
                        `status`
                        , `type_id`
                        , `uuid`
                        , `date_modified`
                        , `active`
                        , `date_created`
                        , `profile_id`
                        , `type`
                        , `org_id`
                    )
                    VALUES
                    (
                        in_status
                        , in_type_id
                        , in_uuid
                        , in_date_modified
                        , in_active
                        , in_date_created
                        , in_profile_id
                        , in_type
                        , in_org_id
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

-- ------------------------------------
-- DEL

-- ------------------------------------
-- MODEL: ProfileOrg - profile_org

                       
DROP PROCEDURE IF EXISTS `usp_profile_org_del_uuid`;

delimiter $$
CREATE PROCEDURE `usp_profile_org_del_uuid`
(
    in_uuid BINARY(16) 
)

BEGIN
    DELETE 
    FROM `profile_org`
    WHERE 1=1                        
    AND "uuid" = in_uuid
    ;
END$$
delimiter ;
-- ------------------------------------
-- GET

-- ------------------------------------
-- MODEL: ProfileOrg - profile_org

                       
DROP PROCEDURE IF EXISTS `usp_profile_org_get`;

delimiter $$
CREATE PROCEDURE `usp_profile_org_get`
(
)                        
BEGIN
    SELECT
        `status`
        , `type_id`
        , `uuid`
        , `date_modified`
        , `active`
        , `date_created`
        , `profile_id`
        , `type`
        , `org_id`
    FROM `profile_org`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_org_get_uuid`;

delimiter $$
CREATE PROCEDURE `usp_profile_org_get_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `type_id`
        , `uuid`
        , `date_modified`
        , `active`
        , `date_created`
        , `profile_id`
        , `type`
        , `org_id`
    FROM `profile_org`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_org_get_org_id`;

delimiter $$
CREATE PROCEDURE `usp_profile_org_get_org_id`
(
    in_org_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `type_id`
        , `uuid`
        , `date_modified`
        , `active`
        , `date_created`
        , `profile_id`
        , `type`
        , `org_id`
    FROM `profile_org`
    WHERE 1=1
    AND `org_id` = in_org_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_org_get_profile_id`;

delimiter $$
CREATE PROCEDURE `usp_profile_org_get_profile_id`
(
    in_profile_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `type_id`
        , `uuid`
        , `date_modified`
        , `active`
        , `date_created`
        , `profile_id`
        , `type`
        , `org_id`
    FROM `profile_org`
    WHERE 1=1
    AND `profile_id` = in_profile_id
    ;
END$$
delimiter ;

-- -----------------------------------------------------------------------------
-- PROCS

-- ------------------------------------
-- COUNT

-- ------------------------------------
-- MODEL: ProfileGameLocation - profile_game_location

                       
DROP PROCEDURE IF EXISTS `usp_profile_game_location_count`;
delimiter $$
CREATE PROCEDURE `usp_profile_game_location_count`
BEGIN
    SELECT
        COUNT(*) as count
    FROM `profile_game_location`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_game_location_count_uuid`;
delimiter $$
CREATE PROCEDURE `usp_profile_game_location_count_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `profile_game_location`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_game_location_count_game_location_id`;
delimiter $$
CREATE PROCEDURE `usp_profile_game_location_count_game_location_id`
(
    in_game_location_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `profile_game_location`
    WHERE 1=1
    AND `game_location_id` = in_game_location_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_game_location_count_profile_id`;
delimiter $$
CREATE PROCEDURE `usp_profile_game_location_count_profile_id`
(
    in_profile_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `profile_game_location`
    WHERE 1=1
    AND `profile_id` = in_profile_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_game_location_count_profile_id_game_location_id`;
delimiter $$
CREATE PROCEDURE `usp_profile_game_location_count_profile_id_game_location_id`
(
    in_profile_id BINARY(16) 
    , in_game_location_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `profile_game_location`
    WHERE 1=1
    AND `profile_id` = in_profile_id
    AND `game_location_id` = in_game_location_id
    ;
END$$
delimiter ;

-- ------------------------------------
-- BROWSE

-- ------------------------------------
-- MODEL: ProfileGameLocation - profile_game_location

                       
DROP PROCEDURE IF EXISTS `usp_profile_game_location_browse_filter`;

delimiter $$
CREATE PROCEDURE `usp_profile_game_location_browse_filter`
(
    in_page int,
    in_page_size int,
    in_sort VARCHAR(500),
    in_filter VARCHAR(4000)
    
)
BEGIN
    DECLARE total_rows int;
    SET total_rows = 0;
        
    IF (in_page = 0) THEN
        SET in_page = 1;
    END IF;    
    
    IF (in_page_size = 0) THEN
       SET in_page_size = 10;
    END IF;
    
    IF (in_sort = NULL || in_sort = '') THEN
       SET in_sort = ' date_modified ASC ';
    END IF;
    
    SET @sfields = CONCAT('', '`status`');
    SET @sfields = CONCAT(@sfields, ', `game_location_id`');
    SET @sfields = CONCAT(@sfields, ', `type_id`');
    SET @sfields = CONCAT(@sfields, ', `uuid`');
    SET @sfields = CONCAT(@sfields, ', `date_modified`');
    SET @sfields = CONCAT(@sfields, ', `active`');
    SET @sfields = CONCAT(@sfields, ', `date_created`');
    SET @sfields = CONCAT(@sfields, ', `profile_id`');
    SET @sfields = CONCAT(@sfields, ', `type`');
    
    SET @stable = CONCAT('', ' FROM `profile_game_location` WHERE 1=1 ');
    
    SET @s = CONCAT(' ', @stable);
    SET @s = CONCAT(@s, ' ', in_filter);    
    
    SET @scount = CONCAT('SELECT COUNT(*) as `total_rows` ', @s, ' INTO @total_rows');
    
    PREPARE stmtcount FROM @scount;
    EXECUTE stmtcount;
    #SELECT @total_rows;
    SET total_rows = @total_rows;

    SET @sfields = CONCAT(total_rows, ' as `total_rows`, ', @sfields);
    SET @s = CONCAT('SELECT ', @sfields, @s);
    SET @s = CONCAT(@s, ' ORDER BY ', in_sort);
    SET @s = CONCAT(@s, ' LIMIT ', in_page);
    SET @s = CONCAT(@s, ',', in_page_size);    

    PREPARE stmt FROM @s;
    EXECUTE stmt;
    
END$$
delimiter ;
-- ------------------------------------
-- SET

-- ------------------------------------
-- MODEL: ProfileGameLocation - profile_game_location

                       
DROP PROCEDURE IF EXISTS `usp_profile_game_location_set_uuid`;
delimiter $$
CREATE PROCEDURE `usp_profile_game_location_set_uuid`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_game_location_id BINARY(16) 
    , in_type_id BINARY(16) 
    , in_uuid BINARY(16) 
    , in_date_modified TIMESTAMP 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_profile_id BINARY(16) 
    , in_type VARCHAR (500) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `profile_game_location`  
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `profile_game_location` 
                    SET
                        `status` = in_status
                        , `game_location_id` = in_game_location_id
                        , `type_id` = in_type_id
                        , `uuid` = in_uuid
                        , `date_modified` = in_date_modified
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `profile_id` = in_profile_id
                        , `type` = in_type
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `profile_game_location`
                    (
                        `status`
                        , `game_location_id`
                        , `type_id`
                        , `uuid`
                        , `date_modified`
                        , `active`
                        , `date_created`
                        , `profile_id`
                        , `type`
                    )
                    VALUES
                    (
                        in_status
                        , in_game_location_id
                        , in_type_id
                        , in_uuid
                        , in_date_modified
                        , in_active
                        , in_date_created
                        , in_profile_id
                        , in_type
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

-- ------------------------------------
-- DEL

-- ------------------------------------
-- MODEL: ProfileGameLocation - profile_game_location

                       
DROP PROCEDURE IF EXISTS `usp_profile_game_location_del_uuid`;

delimiter $$
CREATE PROCEDURE `usp_profile_game_location_del_uuid`
(
    in_uuid BINARY(16) 
)

BEGIN
    DELETE 
    FROM `profile_game_location`
    WHERE 1=1                        
    AND "uuid" = in_uuid
    ;
END$$
delimiter ;
-- ------------------------------------
-- GET

-- ------------------------------------
-- MODEL: ProfileGameLocation - profile_game_location

                       
DROP PROCEDURE IF EXISTS `usp_profile_game_location_get`;

delimiter $$
CREATE PROCEDURE `usp_profile_game_location_get`
(
)                        
BEGIN
    SELECT
        `status`
        , `game_location_id`
        , `type_id`
        , `uuid`
        , `date_modified`
        , `active`
        , `date_created`
        , `profile_id`
        , `type`
    FROM `profile_game_location`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_game_location_get_uuid`;

delimiter $$
CREATE PROCEDURE `usp_profile_game_location_get_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `game_location_id`
        , `type_id`
        , `uuid`
        , `date_modified`
        , `active`
        , `date_created`
        , `profile_id`
        , `type`
    FROM `profile_game_location`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_game_location_get_game_location_id`;

delimiter $$
CREATE PROCEDURE `usp_profile_game_location_get_game_location_id`
(
    in_game_location_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `game_location_id`
        , `type_id`
        , `uuid`
        , `date_modified`
        , `active`
        , `date_created`
        , `profile_id`
        , `type`
    FROM `profile_game_location`
    WHERE 1=1
    AND `game_location_id` = in_game_location_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_game_location_get_profile_id`;

delimiter $$
CREATE PROCEDURE `usp_profile_game_location_get_profile_id`
(
    in_profile_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `game_location_id`
        , `type_id`
        , `uuid`
        , `date_modified`
        , `active`
        , `date_created`
        , `profile_id`
        , `type`
    FROM `profile_game_location`
    WHERE 1=1
    AND `profile_id` = in_profile_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_game_location_get_profile_id_game_location_id`;

delimiter $$
CREATE PROCEDURE `usp_profile_game_location_get_profile_id_game_location_id`
(
    in_profile_id BINARY(16) 
    , in_game_location_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `game_location_id`
        , `type_id`
        , `uuid`
        , `date_modified`
        , `active`
        , `date_created`
        , `profile_id`
        , `type`
    FROM `profile_game_location`
    WHERE 1=1
    AND `profile_id` = in_profile_id
    AND `game_location_id` = in_game_location_id
    ;
END$$
delimiter ;

-- -----------------------------------------------------------------------------
-- PROCS

-- ------------------------------------
-- COUNT

-- ------------------------------------
-- MODEL: ProfileQuestion - profile_question

                       
DROP PROCEDURE IF EXISTS `usp_profile_question_count`;
delimiter $$
CREATE PROCEDURE `usp_profile_question_count`
BEGIN
    SELECT
        COUNT(*) as count
    FROM `profile_question`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_question_count_uuid`;
delimiter $$
CREATE PROCEDURE `usp_profile_question_count_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `profile_question`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_question_count_channel_id`;
delimiter $$
CREATE PROCEDURE `usp_profile_question_count_channel_id`
(
    in_channel_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `profile_question`
    WHERE 1=1
    AND `channel_id` = in_channel_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_question_count_org_id`;
delimiter $$
CREATE PROCEDURE `usp_profile_question_count_org_id`
(
    in_org_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `profile_question`
    WHERE 1=1
    AND `org_id` = in_org_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_question_count_profile_id`;
delimiter $$
CREATE PROCEDURE `usp_profile_question_count_profile_id`
(
    in_profile_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `profile_question`
    WHERE 1=1
    AND `profile_id` = in_profile_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_question_count_question_id`;
delimiter $$
CREATE PROCEDURE `usp_profile_question_count_question_id`
(
    in_question_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `profile_question`
    WHERE 1=1
    AND `question_id` = in_question_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_question_count_channel_id_org_id`;
delimiter $$
CREATE PROCEDURE `usp_profile_question_count_channel_id_org_id`
(
    in_channel_id BINARY(16) 
    , in_org_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `profile_question`
    WHERE 1=1
    AND `channel_id` = in_channel_id
    AND `org_id` = in_org_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_question_count_channel_id_profile_id`;
delimiter $$
CREATE PROCEDURE `usp_profile_question_count_channel_id_profile_id`
(
    in_channel_id BINARY(16) 
    , in_profile_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `profile_question`
    WHERE 1=1
    AND `channel_id` = in_channel_id
    AND `profile_id` = in_profile_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_question_count_question_id_profile_id`;
delimiter $$
CREATE PROCEDURE `usp_profile_question_count_question_id_profile_id`
(
    in_question_id BINARY(16) 
    , in_profile_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `profile_question`
    WHERE 1=1
    AND `question_id` = in_question_id
    AND `profile_id` = in_profile_id
    ;
END$$
delimiter ;

-- ------------------------------------
-- BROWSE

-- ------------------------------------
-- MODEL: ProfileQuestion - profile_question

                       
DROP PROCEDURE IF EXISTS `usp_profile_question_browse_filter`;

delimiter $$
CREATE PROCEDURE `usp_profile_question_browse_filter`
(
    in_page int,
    in_page_size int,
    in_sort VARCHAR(500),
    in_filter VARCHAR(4000)
    
)
BEGIN
    DECLARE total_rows int;
    SET total_rows = 0;
        
    IF (in_page = 0) THEN
        SET in_page = 1;
    END IF;    
    
    IF (in_page_size = 0) THEN
       SET in_page_size = 10;
    END IF;
    
    IF (in_sort = NULL || in_sort = '') THEN
       SET in_sort = ' date_modified ASC ';
    END IF;
    
    SET @sfields = CONCAT('', '`status`');
    SET @sfields = CONCAT(@sfields, ', `profile_id`');
    SET @sfields = CONCAT(@sfields, ', `active`');
    SET @sfields = CONCAT(@sfields, ', `data`');
    SET @sfields = CONCAT(@sfields, ', `uuid`');
    SET @sfields = CONCAT(@sfields, ', `date_modified`');
    SET @sfields = CONCAT(@sfields, ', `org_id`');
    SET @sfields = CONCAT(@sfields, ', `channel_id`');
    SET @sfields = CONCAT(@sfields, ', `answer`');
    SET @sfields = CONCAT(@sfields, ', `date_created`');
    SET @sfields = CONCAT(@sfields, ', `type`');
    SET @sfields = CONCAT(@sfields, ', `question_id`');
    
    SET @stable = CONCAT('', ' FROM `profile_question` WHERE 1=1 ');
    
    SET @s = CONCAT(' ', @stable);
    SET @s = CONCAT(@s, ' ', in_filter);    
    
    SET @scount = CONCAT('SELECT COUNT(*) as `total_rows` ', @s, ' INTO @total_rows');
    
    PREPARE stmtcount FROM @scount;
    EXECUTE stmtcount;
    #SELECT @total_rows;
    SET total_rows = @total_rows;

    SET @sfields = CONCAT(total_rows, ' as `total_rows`, ', @sfields);
    SET @s = CONCAT('SELECT ', @sfields, @s);
    SET @s = CONCAT(@s, ' ORDER BY ', in_sort);
    SET @s = CONCAT(@s, ' LIMIT ', in_page);
    SET @s = CONCAT(@s, ',', in_page_size);    

    PREPARE stmt FROM @s;
    EXECUTE stmt;
    
END$$
delimiter ;
-- ------------------------------------
-- SET

-- ------------------------------------
-- MODEL: ProfileQuestion - profile_question

                       
DROP PROCEDURE IF EXISTS `usp_profile_question_set_uuid`;
delimiter $$
CREATE PROCEDURE `usp_profile_question_set_uuid`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_profile_id BINARY(16) 
    , in_active int 
    , in_data TEXT 
    , in_uuid BINARY(16) 
    , in_date_modified TIMESTAMP 
    , in_org_id BINARY(16) 
    , in_channel_id BINARY(16) 
    , in_answer VARCHAR (1000) 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (500) 
    , in_question_id BINARY(16) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `profile_question`  
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `profile_question` 
                    SET
                        `status` = in_status
                        , `profile_id` = in_profile_id
                        , `active` = in_active
                        , `data` = in_data
                        , `uuid` = in_uuid
                        , `date_modified` = in_date_modified
                        , `org_id` = in_org_id
                        , `channel_id` = in_channel_id
                        , `answer` = in_answer
                        , `date_created` = in_date_created
                        , `type` = in_type
                        , `question_id` = in_question_id
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `profile_question`
                    (
                        `status`
                        , `profile_id`
                        , `active`
                        , `data`
                        , `uuid`
                        , `date_modified`
                        , `org_id`
                        , `channel_id`
                        , `answer`
                        , `date_created`
                        , `type`
                        , `question_id`
                    )
                    VALUES
                    (
                        in_status
                        , in_profile_id
                        , in_active
                        , in_data
                        , in_uuid
                        , in_date_modified
                        , in_org_id
                        , in_channel_id
                        , in_answer
                        , in_date_created
                        , in_type
                        , in_question_id
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_question_set_channel_id_profile_id`;
delimiter $$
CREATE PROCEDURE `usp_profile_question_set_channel_id_profile_id`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_profile_id BINARY(16) 
    , in_active int 
    , in_data TEXT 
    , in_uuid BINARY(16) 
    , in_date_modified TIMESTAMP 
    , in_org_id BINARY(16) 
    , in_channel_id BINARY(16) 
    , in_answer VARCHAR (1000) 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (500) 
    , in_question_id BINARY(16) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `profile_question`  
                    WHERE 1=1
                    AND `channel_id` = in_channel_id
                    AND `profile_id` = in_profile_id
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `profile_question` 
                    SET
                        `status` = in_status
                        , `profile_id` = in_profile_id
                        , `active` = in_active
                        , `data` = in_data
                        , `uuid` = in_uuid
                        , `date_modified` = in_date_modified
                        , `org_id` = in_org_id
                        , `channel_id` = in_channel_id
                        , `answer` = in_answer
                        , `date_created` = in_date_created
                        , `type` = in_type
                        , `question_id` = in_question_id
                    WHERE 1=1
                    AND `channel_id` = in_channel_id
                    AND `profile_id` = in_profile_id
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `profile_question`
                    (
                        `status`
                        , `profile_id`
                        , `active`
                        , `data`
                        , `uuid`
                        , `date_modified`
                        , `org_id`
                        , `channel_id`
                        , `answer`
                        , `date_created`
                        , `type`
                        , `question_id`
                    )
                    VALUES
                    (
                        in_status
                        , in_profile_id
                        , in_active
                        , in_data
                        , in_uuid
                        , in_date_modified
                        , in_org_id
                        , in_channel_id
                        , in_answer
                        , in_date_created
                        , in_type
                        , in_question_id
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_question_set_question_id_profile_id`;
delimiter $$
CREATE PROCEDURE `usp_profile_question_set_question_id_profile_id`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_profile_id BINARY(16) 
    , in_active int 
    , in_data TEXT 
    , in_uuid BINARY(16) 
    , in_date_modified TIMESTAMP 
    , in_org_id BINARY(16) 
    , in_channel_id BINARY(16) 
    , in_answer VARCHAR (1000) 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (500) 
    , in_question_id BINARY(16) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `profile_question`  
                    WHERE 1=1
                    AND `question_id` = in_question_id
                    AND `profile_id` = in_profile_id
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `profile_question` 
                    SET
                        `status` = in_status
                        , `profile_id` = in_profile_id
                        , `active` = in_active
                        , `data` = in_data
                        , `uuid` = in_uuid
                        , `date_modified` = in_date_modified
                        , `org_id` = in_org_id
                        , `channel_id` = in_channel_id
                        , `answer` = in_answer
                        , `date_created` = in_date_created
                        , `type` = in_type
                        , `question_id` = in_question_id
                    WHERE 1=1
                    AND `question_id` = in_question_id
                    AND `profile_id` = in_profile_id
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `profile_question`
                    (
                        `status`
                        , `profile_id`
                        , `active`
                        , `data`
                        , `uuid`
                        , `date_modified`
                        , `org_id`
                        , `channel_id`
                        , `answer`
                        , `date_created`
                        , `type`
                        , `question_id`
                    )
                    VALUES
                    (
                        in_status
                        , in_profile_id
                        , in_active
                        , in_data
                        , in_uuid
                        , in_date_modified
                        , in_org_id
                        , in_channel_id
                        , in_answer
                        , in_date_created
                        , in_type
                        , in_question_id
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_question_set_channel_id_question_id_profile_id`;
delimiter $$
CREATE PROCEDURE `usp_profile_question_set_channel_id_question_id_profile_id`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_profile_id BINARY(16) 
    , in_active int 
    , in_data TEXT 
    , in_uuid BINARY(16) 
    , in_date_modified TIMESTAMP 
    , in_org_id BINARY(16) 
    , in_channel_id BINARY(16) 
    , in_answer VARCHAR (1000) 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (500) 
    , in_question_id BINARY(16) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `profile_question`  
                    WHERE 1=1
                    AND `channel_id` = in_channel_id
                    AND `question_id` = in_question_id
                    AND `profile_id` = in_profile_id
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `profile_question` 
                    SET
                        `status` = in_status
                        , `profile_id` = in_profile_id
                        , `active` = in_active
                        , `data` = in_data
                        , `uuid` = in_uuid
                        , `date_modified` = in_date_modified
                        , `org_id` = in_org_id
                        , `channel_id` = in_channel_id
                        , `answer` = in_answer
                        , `date_created` = in_date_created
                        , `type` = in_type
                        , `question_id` = in_question_id
                    WHERE 1=1
                    AND `channel_id` = in_channel_id
                    AND `question_id` = in_question_id
                    AND `profile_id` = in_profile_id
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `profile_question`
                    (
                        `status`
                        , `profile_id`
                        , `active`
                        , `data`
                        , `uuid`
                        , `date_modified`
                        , `org_id`
                        , `channel_id`
                        , `answer`
                        , `date_created`
                        , `type`
                        , `question_id`
                    )
                    VALUES
                    (
                        in_status
                        , in_profile_id
                        , in_active
                        , in_data
                        , in_uuid
                        , in_date_modified
                        , in_org_id
                        , in_channel_id
                        , in_answer
                        , in_date_created
                        , in_type
                        , in_question_id
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

-- ------------------------------------
-- DEL

-- ------------------------------------
-- MODEL: ProfileQuestion - profile_question

                       
DROP PROCEDURE IF EXISTS `usp_profile_question_del_uuid`;

delimiter $$
CREATE PROCEDURE `usp_profile_question_del_uuid`
(
    in_uuid BINARY(16) 
)

BEGIN
    DELETE 
    FROM `profile_question`
    WHERE 1=1                        
    AND "uuid" = in_uuid
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_profile_question_del_channel_id_org_id`;

delimiter $$
CREATE PROCEDURE `usp_profile_question_del_channel_id_org_id`
(
    in_channel_id BINARY(16) 
    , in_org_id BINARY(16) 
)

BEGIN
    DELETE 
    FROM `profile_question`
    WHERE 1=1                        
    AND "channel_id" = in_channel_id
    AND "org_id" = in_org_id
    ;
END$$
delimiter ;
-- ------------------------------------
-- GET

-- ------------------------------------
-- MODEL: ProfileQuestion - profile_question

                       
DROP PROCEDURE IF EXISTS `usp_profile_question_get`;

delimiter $$
CREATE PROCEDURE `usp_profile_question_get`
(
)                        
BEGIN
    SELECT
        `status`
        , `profile_id`
        , `active`
        , `data`
        , `uuid`
        , `date_modified`
        , `org_id`
        , `channel_id`
        , `answer`
        , `date_created`
        , `type`
        , `question_id`
    FROM `profile_question`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_question_get_uuid`;

delimiter $$
CREATE PROCEDURE `usp_profile_question_get_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `profile_id`
        , `active`
        , `data`
        , `uuid`
        , `date_modified`
        , `org_id`
        , `channel_id`
        , `answer`
        , `date_created`
        , `type`
        , `question_id`
    FROM `profile_question`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_question_get_channel_id`;

delimiter $$
CREATE PROCEDURE `usp_profile_question_get_channel_id`
(
    in_channel_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `profile_id`
        , `active`
        , `data`
        , `uuid`
        , `date_modified`
        , `org_id`
        , `channel_id`
        , `answer`
        , `date_created`
        , `type`
        , `question_id`
    FROM `profile_question`
    WHERE 1=1
    AND `channel_id` = in_channel_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_question_get_org_id`;

delimiter $$
CREATE PROCEDURE `usp_profile_question_get_org_id`
(
    in_org_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `profile_id`
        , `active`
        , `data`
        , `uuid`
        , `date_modified`
        , `org_id`
        , `channel_id`
        , `answer`
        , `date_created`
        , `type`
        , `question_id`
    FROM `profile_question`
    WHERE 1=1
    AND `org_id` = in_org_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_question_get_profile_id`;

delimiter $$
CREATE PROCEDURE `usp_profile_question_get_profile_id`
(
    in_profile_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `profile_id`
        , `active`
        , `data`
        , `uuid`
        , `date_modified`
        , `org_id`
        , `channel_id`
        , `answer`
        , `date_created`
        , `type`
        , `question_id`
    FROM `profile_question`
    WHERE 1=1
    AND `profile_id` = in_profile_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_question_get_question_id`;

delimiter $$
CREATE PROCEDURE `usp_profile_question_get_question_id`
(
    in_question_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `profile_id`
        , `active`
        , `data`
        , `uuid`
        , `date_modified`
        , `org_id`
        , `channel_id`
        , `answer`
        , `date_created`
        , `type`
        , `question_id`
    FROM `profile_question`
    WHERE 1=1
    AND `question_id` = in_question_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_question_get_channel_id_org_id`;

delimiter $$
CREATE PROCEDURE `usp_profile_question_get_channel_id_org_id`
(
    in_channel_id BINARY(16) 
    , in_org_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `profile_id`
        , `active`
        , `data`
        , `uuid`
        , `date_modified`
        , `org_id`
        , `channel_id`
        , `answer`
        , `date_created`
        , `type`
        , `question_id`
    FROM `profile_question`
    WHERE 1=1
    AND `channel_id` = in_channel_id
    AND `org_id` = in_org_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_question_get_channel_id_profile_id`;

delimiter $$
CREATE PROCEDURE `usp_profile_question_get_channel_id_profile_id`
(
    in_channel_id BINARY(16) 
    , in_profile_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `profile_id`
        , `active`
        , `data`
        , `uuid`
        , `date_modified`
        , `org_id`
        , `channel_id`
        , `answer`
        , `date_created`
        , `type`
        , `question_id`
    FROM `profile_question`
    WHERE 1=1
    AND `channel_id` = in_channel_id
    AND `profile_id` = in_profile_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_question_get_question_id_profile_id`;

delimiter $$
CREATE PROCEDURE `usp_profile_question_get_question_id_profile_id`
(
    in_question_id BINARY(16) 
    , in_profile_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `profile_id`
        , `active`
        , `data`
        , `uuid`
        , `date_modified`
        , `org_id`
        , `channel_id`
        , `answer`
        , `date_created`
        , `type`
        , `question_id`
    FROM `profile_question`
    WHERE 1=1
    AND `question_id` = in_question_id
    AND `profile_id` = in_profile_id
    ;
END$$
delimiter ;

-- -----------------------------------------------------------------------------
-- PROCS

-- ------------------------------------
-- COUNT

-- ------------------------------------
-- MODEL: ProfileChannel - profile_channel

                       
DROP PROCEDURE IF EXISTS `usp_profile_channel_count`;
delimiter $$
CREATE PROCEDURE `usp_profile_channel_count`
BEGIN
    SELECT
        COUNT(*) as count
    FROM `profile_channel`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_channel_count_uuid`;
delimiter $$
CREATE PROCEDURE `usp_profile_channel_count_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `profile_channel`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_channel_count_channel_id`;
delimiter $$
CREATE PROCEDURE `usp_profile_channel_count_channel_id`
(
    in_channel_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `profile_channel`
    WHERE 1=1
    AND `channel_id` = in_channel_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_channel_count_profile_id`;
delimiter $$
CREATE PROCEDURE `usp_profile_channel_count_profile_id`
(
    in_profile_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `profile_channel`
    WHERE 1=1
    AND `profile_id` = in_profile_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_channel_count_channel_id_profile_id`;
delimiter $$
CREATE PROCEDURE `usp_profile_channel_count_channel_id_profile_id`
(
    in_channel_id BINARY(16) 
    , in_profile_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `profile_channel`
    WHERE 1=1
    AND `channel_id` = in_channel_id
    AND `profile_id` = in_profile_id
    ;
END$$
delimiter ;

-- ------------------------------------
-- BROWSE

-- ------------------------------------
-- MODEL: ProfileChannel - profile_channel

                       
DROP PROCEDURE IF EXISTS `usp_profile_channel_browse_filter`;

delimiter $$
CREATE PROCEDURE `usp_profile_channel_browse_filter`
(
    in_page int,
    in_page_size int,
    in_sort VARCHAR(500),
    in_filter VARCHAR(4000)
    
)
BEGIN
    DECLARE total_rows int;
    SET total_rows = 0;
        
    IF (in_page = 0) THEN
        SET in_page = 1;
    END IF;    
    
    IF (in_page_size = 0) THEN
       SET in_page_size = 10;
    END IF;
    
    IF (in_sort = NULL || in_sort = '') THEN
       SET in_sort = ' date_modified ASC ';
    END IF;
    
    SET @sfields = CONCAT('', '`status`');
    SET @sfields = CONCAT(@sfields, ', `channel_id`');
    SET @sfields = CONCAT(@sfields, ', `uuid`');
    SET @sfields = CONCAT(@sfields, ', `date_modified`');
    SET @sfields = CONCAT(@sfields, ', `active`');
    SET @sfields = CONCAT(@sfields, ', `date_created`');
    SET @sfields = CONCAT(@sfields, ', `profile_id`');
    SET @sfields = CONCAT(@sfields, ', `type`');
    
    SET @stable = CONCAT('', ' FROM `profile_channel` WHERE 1=1 ');
    
    SET @s = CONCAT(' ', @stable);
    SET @s = CONCAT(@s, ' ', in_filter);    
    
    SET @scount = CONCAT('SELECT COUNT(*) as `total_rows` ', @s, ' INTO @total_rows');
    
    PREPARE stmtcount FROM @scount;
    EXECUTE stmtcount;
    #SELECT @total_rows;
    SET total_rows = @total_rows;

    SET @sfields = CONCAT(total_rows, ' as `total_rows`, ', @sfields);
    SET @s = CONCAT('SELECT ', @sfields, @s);
    SET @s = CONCAT(@s, ' ORDER BY ', in_sort);
    SET @s = CONCAT(@s, ' LIMIT ', in_page);
    SET @s = CONCAT(@s, ',', in_page_size);    

    PREPARE stmt FROM @s;
    EXECUTE stmt;
    
END$$
delimiter ;
-- ------------------------------------
-- SET

-- ------------------------------------
-- MODEL: ProfileChannel - profile_channel

                       
DROP PROCEDURE IF EXISTS `usp_profile_channel_set_uuid`;
delimiter $$
CREATE PROCEDURE `usp_profile_channel_set_uuid`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_channel_id BINARY(16) 
    , in_uuid BINARY(16) 
    , in_date_modified TIMESTAMP 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_profile_id BINARY(16) 
    , in_type VARCHAR (500) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `profile_channel`  
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `profile_channel` 
                    SET
                        `status` = in_status
                        , `channel_id` = in_channel_id
                        , `uuid` = in_uuid
                        , `date_modified` = in_date_modified
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `profile_id` = in_profile_id
                        , `type` = in_type
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `profile_channel`
                    (
                        `status`
                        , `channel_id`
                        , `uuid`
                        , `date_modified`
                        , `active`
                        , `date_created`
                        , `profile_id`
                        , `type`
                    )
                    VALUES
                    (
                        in_status
                        , in_channel_id
                        , in_uuid
                        , in_date_modified
                        , in_active
                        , in_date_created
                        , in_profile_id
                        , in_type
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_channel_set_channel_id_profile_id`;
delimiter $$
CREATE PROCEDURE `usp_profile_channel_set_channel_id_profile_id`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_channel_id BINARY(16) 
    , in_uuid BINARY(16) 
    , in_date_modified TIMESTAMP 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_profile_id BINARY(16) 
    , in_type VARCHAR (500) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `profile_channel`  
                    WHERE 1=1
                    AND `channel_id` = in_channel_id
                    AND `profile_id` = in_profile_id
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `profile_channel` 
                    SET
                        `status` = in_status
                        , `channel_id` = in_channel_id
                        , `uuid` = in_uuid
                        , `date_modified` = in_date_modified
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `profile_id` = in_profile_id
                        , `type` = in_type
                    WHERE 1=1
                    AND `channel_id` = in_channel_id
                    AND `profile_id` = in_profile_id
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `profile_channel`
                    (
                        `status`
                        , `channel_id`
                        , `uuid`
                        , `date_modified`
                        , `active`
                        , `date_created`
                        , `profile_id`
                        , `type`
                    )
                    VALUES
                    (
                        in_status
                        , in_channel_id
                        , in_uuid
                        , in_date_modified
                        , in_active
                        , in_date_created
                        , in_profile_id
                        , in_type
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

-- ------------------------------------
-- DEL

-- ------------------------------------
-- MODEL: ProfileChannel - profile_channel

                       
DROP PROCEDURE IF EXISTS `usp_profile_channel_del_uuid`;

delimiter $$
CREATE PROCEDURE `usp_profile_channel_del_uuid`
(
    in_uuid BINARY(16) 
)

BEGIN
    DELETE 
    FROM `profile_channel`
    WHERE 1=1                        
    AND "uuid" = in_uuid
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_profile_channel_del_channel_id_profile_id`;

delimiter $$
CREATE PROCEDURE `usp_profile_channel_del_channel_id_profile_id`
(
    in_channel_id BINARY(16) 
    , in_profile_id BINARY(16) 
)

BEGIN
    DELETE 
    FROM `profile_channel`
    WHERE 1=1                        
    AND "channel_id" = in_channel_id
    AND "profile_id" = in_profile_id
    ;
END$$
delimiter ;
-- ------------------------------------
-- GET

-- ------------------------------------
-- MODEL: ProfileChannel - profile_channel

                       
DROP PROCEDURE IF EXISTS `usp_profile_channel_get`;

delimiter $$
CREATE PROCEDURE `usp_profile_channel_get`
(
)                        
BEGIN
    SELECT
        `status`
        , `channel_id`
        , `uuid`
        , `date_modified`
        , `active`
        , `date_created`
        , `profile_id`
        , `type`
    FROM `profile_channel`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_channel_get_uuid`;

delimiter $$
CREATE PROCEDURE `usp_profile_channel_get_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `channel_id`
        , `uuid`
        , `date_modified`
        , `active`
        , `date_created`
        , `profile_id`
        , `type`
    FROM `profile_channel`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_channel_get_channel_id`;

delimiter $$
CREATE PROCEDURE `usp_profile_channel_get_channel_id`
(
    in_channel_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `channel_id`
        , `uuid`
        , `date_modified`
        , `active`
        , `date_created`
        , `profile_id`
        , `type`
    FROM `profile_channel`
    WHERE 1=1
    AND `channel_id` = in_channel_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_channel_get_profile_id`;

delimiter $$
CREATE PROCEDURE `usp_profile_channel_get_profile_id`
(
    in_profile_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `channel_id`
        , `uuid`
        , `date_modified`
        , `active`
        , `date_created`
        , `profile_id`
        , `type`
    FROM `profile_channel`
    WHERE 1=1
    AND `profile_id` = in_profile_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_profile_channel_get_channel_id_profile_id`;

delimiter $$
CREATE PROCEDURE `usp_profile_channel_get_channel_id_profile_id`
(
    in_channel_id BINARY(16) 
    , in_profile_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `channel_id`
        , `uuid`
        , `date_modified`
        , `active`
        , `date_created`
        , `profile_id`
        , `type`
    FROM `profile_channel`
    WHERE 1=1
    AND `channel_id` = in_channel_id
    AND `profile_id` = in_profile_id
    ;
END$$
delimiter ;

-- -----------------------------------------------------------------------------
-- PROCS

-- ------------------------------------
-- COUNT

-- ------------------------------------
-- MODEL: OrgSite - org_site

                       
DROP PROCEDURE IF EXISTS `usp_org_site_count`;
delimiter $$
CREATE PROCEDURE `usp_org_site_count`
BEGIN
    SELECT
        COUNT(*) as count
    FROM `org_site`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_org_site_count_uuid`;
delimiter $$
CREATE PROCEDURE `usp_org_site_count_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `org_site`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_org_site_count_org_id`;
delimiter $$
CREATE PROCEDURE `usp_org_site_count_org_id`
(
    in_org_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `org_site`
    WHERE 1=1
    AND `org_id` = in_org_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_org_site_count_site_id`;
delimiter $$
CREATE PROCEDURE `usp_org_site_count_site_id`
(
    in_site_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `org_site`
    WHERE 1=1
    AND `site_id` = in_site_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_org_site_count_org_id_site_id`;
delimiter $$
CREATE PROCEDURE `usp_org_site_count_org_id_site_id`
(
    in_org_id BINARY(16) 
    , in_site_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `org_site`
    WHERE 1=1
    AND `org_id` = in_org_id
    AND `site_id` = in_site_id
    ;
END$$
delimiter ;

-- ------------------------------------
-- BROWSE

-- ------------------------------------
-- MODEL: OrgSite - org_site

                       
DROP PROCEDURE IF EXISTS `usp_org_site_browse_filter`;

delimiter $$
CREATE PROCEDURE `usp_org_site_browse_filter`
(
    in_page int,
    in_page_size int,
    in_sort VARCHAR(500),
    in_filter VARCHAR(4000)
    
)
BEGIN
    DECLARE total_rows int;
    SET total_rows = 0;
        
    IF (in_page = 0) THEN
        SET in_page = 1;
    END IF;    
    
    IF (in_page_size = 0) THEN
       SET in_page_size = 10;
    END IF;
    
    IF (in_sort = NULL || in_sort = '') THEN
       SET in_sort = ' date_modified ASC ';
    END IF;
    
    SET @sfields = CONCAT('', '`status`');
    SET @sfields = CONCAT(@sfields, ', `uuid`');
    SET @sfields = CONCAT(@sfields, ', `date_modified`');
    SET @sfields = CONCAT(@sfields, ', `active`');
    SET @sfields = CONCAT(@sfields, ', `date_created`');
    SET @sfields = CONCAT(@sfields, ', `site_id`');
    SET @sfields = CONCAT(@sfields, ', `type`');
    SET @sfields = CONCAT(@sfields, ', `org_id`');
    
    SET @stable = CONCAT('', ' FROM `org_site` WHERE 1=1 ');
    
    SET @s = CONCAT(' ', @stable);
    SET @s = CONCAT(@s, ' ', in_filter);    
    
    SET @scount = CONCAT('SELECT COUNT(*) as `total_rows` ', @s, ' INTO @total_rows');
    
    PREPARE stmtcount FROM @scount;
    EXECUTE stmtcount;
    #SELECT @total_rows;
    SET total_rows = @total_rows;

    SET @sfields = CONCAT(total_rows, ' as `total_rows`, ', @sfields);
    SET @s = CONCAT('SELECT ', @sfields, @s);
    SET @s = CONCAT(@s, ' ORDER BY ', in_sort);
    SET @s = CONCAT(@s, ' LIMIT ', in_page);
    SET @s = CONCAT(@s, ',', in_page_size);    

    PREPARE stmt FROM @s;
    EXECUTE stmt;
    
END$$
delimiter ;
-- ------------------------------------
-- SET

-- ------------------------------------
-- MODEL: OrgSite - org_site

                       
DROP PROCEDURE IF EXISTS `usp_org_site_set_uuid`;
delimiter $$
CREATE PROCEDURE `usp_org_site_set_uuid`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_uuid BINARY(16) 
    , in_date_modified TIMESTAMP 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_site_id BINARY(16) 
    , in_type VARCHAR (500) 
    , in_org_id BINARY(16) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `org_site`  
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `org_site` 
                    SET
                        `status` = in_status
                        , `uuid` = in_uuid
                        , `date_modified` = in_date_modified
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `site_id` = in_site_id
                        , `type` = in_type
                        , `org_id` = in_org_id
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `org_site`
                    (
                        `status`
                        , `uuid`
                        , `date_modified`
                        , `active`
                        , `date_created`
                        , `site_id`
                        , `type`
                        , `org_id`
                    )
                    VALUES
                    (
                        in_status
                        , in_uuid
                        , in_date_modified
                        , in_active
                        , in_date_created
                        , in_site_id
                        , in_type
                        , in_org_id
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_org_site_set_org_id_site_id`;
delimiter $$
CREATE PROCEDURE `usp_org_site_set_org_id_site_id`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_uuid BINARY(16) 
    , in_date_modified TIMESTAMP 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_site_id BINARY(16) 
    , in_type VARCHAR (500) 
    , in_org_id BINARY(16) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `org_site`  
                    WHERE 1=1
                    AND `org_id` = in_org_id
                    AND `site_id` = in_site_id
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `org_site` 
                    SET
                        `status` = in_status
                        , `uuid` = in_uuid
                        , `date_modified` = in_date_modified
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `site_id` = in_site_id
                        , `type` = in_type
                        , `org_id` = in_org_id
                    WHERE 1=1
                    AND `org_id` = in_org_id
                    AND `site_id` = in_site_id
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `org_site`
                    (
                        `status`
                        , `uuid`
                        , `date_modified`
                        , `active`
                        , `date_created`
                        , `site_id`
                        , `type`
                        , `org_id`
                    )
                    VALUES
                    (
                        in_status
                        , in_uuid
                        , in_date_modified
                        , in_active
                        , in_date_created
                        , in_site_id
                        , in_type
                        , in_org_id
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

-- ------------------------------------
-- DEL

-- ------------------------------------
-- MODEL: OrgSite - org_site

                       
DROP PROCEDURE IF EXISTS `usp_org_site_del_uuid`;

delimiter $$
CREATE PROCEDURE `usp_org_site_del_uuid`
(
    in_uuid BINARY(16) 
)

BEGIN
    DELETE 
    FROM `org_site`
    WHERE 1=1                        
    AND "uuid" = in_uuid
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_org_site_del_org_id_site_id`;

delimiter $$
CREATE PROCEDURE `usp_org_site_del_org_id_site_id`
(
    in_org_id BINARY(16) 
    , in_site_id BINARY(16) 
)

BEGIN
    DELETE 
    FROM `org_site`
    WHERE 1=1                        
    AND "org_id" = in_org_id
    AND "site_id" = in_site_id
    ;
END$$
delimiter ;
-- ------------------------------------
-- GET

-- ------------------------------------
-- MODEL: OrgSite - org_site

                       
DROP PROCEDURE IF EXISTS `usp_org_site_get`;

delimiter $$
CREATE PROCEDURE `usp_org_site_get`
(
)                        
BEGIN
    SELECT
        `status`
        , `uuid`
        , `date_modified`
        , `active`
        , `date_created`
        , `site_id`
        , `type`
        , `org_id`
    FROM `org_site`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_org_site_get_uuid`;

delimiter $$
CREATE PROCEDURE `usp_org_site_get_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `uuid`
        , `date_modified`
        , `active`
        , `date_created`
        , `site_id`
        , `type`
        , `org_id`
    FROM `org_site`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_org_site_get_org_id`;

delimiter $$
CREATE PROCEDURE `usp_org_site_get_org_id`
(
    in_org_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `uuid`
        , `date_modified`
        , `active`
        , `date_created`
        , `site_id`
        , `type`
        , `org_id`
    FROM `org_site`
    WHERE 1=1
    AND `org_id` = in_org_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_org_site_get_site_id`;

delimiter $$
CREATE PROCEDURE `usp_org_site_get_site_id`
(
    in_site_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `uuid`
        , `date_modified`
        , `active`
        , `date_created`
        , `site_id`
        , `type`
        , `org_id`
    FROM `org_site`
    WHERE 1=1
    AND `site_id` = in_site_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_org_site_get_org_id_site_id`;

delimiter $$
CREATE PROCEDURE `usp_org_site_get_org_id_site_id`
(
    in_org_id BINARY(16) 
    , in_site_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `uuid`
        , `date_modified`
        , `active`
        , `date_created`
        , `site_id`
        , `type`
        , `org_id`
    FROM `org_site`
    WHERE 1=1
    AND `org_id` = in_org_id
    AND `site_id` = in_site_id
    ;
END$$
delimiter ;

-- -----------------------------------------------------------------------------
-- PROCS

-- ------------------------------------
-- COUNT

-- ------------------------------------
-- MODEL: SiteApp - site_app

                       
DROP PROCEDURE IF EXISTS `usp_site_app_count`;
delimiter $$
CREATE PROCEDURE `usp_site_app_count`
BEGIN
    SELECT
        COUNT(*) as count
    FROM `site_app`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_site_app_count_uuid`;
delimiter $$
CREATE PROCEDURE `usp_site_app_count_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `site_app`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_site_app_count_app_id`;
delimiter $$
CREATE PROCEDURE `usp_site_app_count_app_id`
(
    in_app_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `site_app`
    WHERE 1=1
    AND `app_id` = in_app_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_site_app_count_site_id`;
delimiter $$
CREATE PROCEDURE `usp_site_app_count_site_id`
(
    in_site_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `site_app`
    WHERE 1=1
    AND `site_id` = in_site_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_site_app_count_app_id_site_id`;
delimiter $$
CREATE PROCEDURE `usp_site_app_count_app_id_site_id`
(
    in_app_id BINARY(16) 
    , in_site_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `site_app`
    WHERE 1=1
    AND `app_id` = in_app_id
    AND `site_id` = in_site_id
    ;
END$$
delimiter ;

-- ------------------------------------
-- BROWSE

-- ------------------------------------
-- MODEL: SiteApp - site_app

                       
DROP PROCEDURE IF EXISTS `usp_site_app_browse_filter`;

delimiter $$
CREATE PROCEDURE `usp_site_app_browse_filter`
(
    in_page int,
    in_page_size int,
    in_sort VARCHAR(500),
    in_filter VARCHAR(4000)
    
)
BEGIN
    DECLARE total_rows int;
    SET total_rows = 0;
        
    IF (in_page = 0) THEN
        SET in_page = 1;
    END IF;    
    
    IF (in_page_size = 0) THEN
       SET in_page_size = 10;
    END IF;
    
    IF (in_sort = NULL || in_sort = '') THEN
       SET in_sort = ' date_modified ASC ';
    END IF;
    
    SET @sfields = CONCAT('', '`status`');
    SET @sfields = CONCAT(@sfields, ', `uuid`');
    SET @sfields = CONCAT(@sfields, ', `date_modified`');
    SET @sfields = CONCAT(@sfields, ', `active`');
    SET @sfields = CONCAT(@sfields, ', `date_created`');
    SET @sfields = CONCAT(@sfields, ', `site_id`');
    SET @sfields = CONCAT(@sfields, ', `type`');
    SET @sfields = CONCAT(@sfields, ', `app_id`');
    
    SET @stable = CONCAT('', ' FROM `site_app` WHERE 1=1 ');
    
    SET @s = CONCAT(' ', @stable);
    SET @s = CONCAT(@s, ' ', in_filter);    
    
    SET @scount = CONCAT('SELECT COUNT(*) as `total_rows` ', @s, ' INTO @total_rows');
    
    PREPARE stmtcount FROM @scount;
    EXECUTE stmtcount;
    #SELECT @total_rows;
    SET total_rows = @total_rows;

    SET @sfields = CONCAT(total_rows, ' as `total_rows`, ', @sfields);
    SET @s = CONCAT('SELECT ', @sfields, @s);
    SET @s = CONCAT(@s, ' ORDER BY ', in_sort);
    SET @s = CONCAT(@s, ' LIMIT ', in_page);
    SET @s = CONCAT(@s, ',', in_page_size);    

    PREPARE stmt FROM @s;
    EXECUTE stmt;
    
END$$
delimiter ;
-- ------------------------------------
-- SET

-- ------------------------------------
-- MODEL: SiteApp - site_app

                       
DROP PROCEDURE IF EXISTS `usp_site_app_set_uuid`;
delimiter $$
CREATE PROCEDURE `usp_site_app_set_uuid`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_uuid BINARY(16) 
    , in_date_modified TIMESTAMP 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_site_id BINARY(16) 
    , in_type VARCHAR (500) 
    , in_app_id BINARY(16) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `site_app`  
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `site_app` 
                    SET
                        `status` = in_status
                        , `uuid` = in_uuid
                        , `date_modified` = in_date_modified
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `site_id` = in_site_id
                        , `type` = in_type
                        , `app_id` = in_app_id
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `site_app`
                    (
                        `status`
                        , `uuid`
                        , `date_modified`
                        , `active`
                        , `date_created`
                        , `site_id`
                        , `type`
                        , `app_id`
                    )
                    VALUES
                    (
                        in_status
                        , in_uuid
                        , in_date_modified
                        , in_active
                        , in_date_created
                        , in_site_id
                        , in_type
                        , in_app_id
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_site_app_set_app_id_site_id`;
delimiter $$
CREATE PROCEDURE `usp_site_app_set_app_id_site_id`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_uuid BINARY(16) 
    , in_date_modified TIMESTAMP 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_site_id BINARY(16) 
    , in_type VARCHAR (500) 
    , in_app_id BINARY(16) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `site_app`  
                    WHERE 1=1
                    AND `app_id` = in_app_id
                    AND `site_id` = in_site_id
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `site_app` 
                    SET
                        `status` = in_status
                        , `uuid` = in_uuid
                        , `date_modified` = in_date_modified
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `site_id` = in_site_id
                        , `type` = in_type
                        , `app_id` = in_app_id
                    WHERE 1=1
                    AND `app_id` = in_app_id
                    AND `site_id` = in_site_id
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `site_app`
                    (
                        `status`
                        , `uuid`
                        , `date_modified`
                        , `active`
                        , `date_created`
                        , `site_id`
                        , `type`
                        , `app_id`
                    )
                    VALUES
                    (
                        in_status
                        , in_uuid
                        , in_date_modified
                        , in_active
                        , in_date_created
                        , in_site_id
                        , in_type
                        , in_app_id
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

-- ------------------------------------
-- DEL

-- ------------------------------------
-- MODEL: SiteApp - site_app

                       
DROP PROCEDURE IF EXISTS `usp_site_app_del_uuid`;

delimiter $$
CREATE PROCEDURE `usp_site_app_del_uuid`
(
    in_uuid BINARY(16) 
)

BEGIN
    DELETE 
    FROM `site_app`
    WHERE 1=1                        
    AND "uuid" = in_uuid
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_site_app_del_app_id_site_id`;

delimiter $$
CREATE PROCEDURE `usp_site_app_del_app_id_site_id`
(
    in_app_id BINARY(16) 
    , in_site_id BINARY(16) 
)

BEGIN
    DELETE 
    FROM `site_app`
    WHERE 1=1                        
    AND "app_id" = in_app_id
    AND "site_id" = in_site_id
    ;
END$$
delimiter ;
-- ------------------------------------
-- GET

-- ------------------------------------
-- MODEL: SiteApp - site_app

                       
DROP PROCEDURE IF EXISTS `usp_site_app_get`;

delimiter $$
CREATE PROCEDURE `usp_site_app_get`
(
)                        
BEGIN
    SELECT
        `status`
        , `uuid`
        , `date_modified`
        , `active`
        , `date_created`
        , `site_id`
        , `type`
        , `app_id`
    FROM `site_app`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_site_app_get_uuid`;

delimiter $$
CREATE PROCEDURE `usp_site_app_get_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `uuid`
        , `date_modified`
        , `active`
        , `date_created`
        , `site_id`
        , `type`
        , `app_id`
    FROM `site_app`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_site_app_get_app_id`;

delimiter $$
CREATE PROCEDURE `usp_site_app_get_app_id`
(
    in_app_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `uuid`
        , `date_modified`
        , `active`
        , `date_created`
        , `site_id`
        , `type`
        , `app_id`
    FROM `site_app`
    WHERE 1=1
    AND `app_id` = in_app_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_site_app_get_site_id`;

delimiter $$
CREATE PROCEDURE `usp_site_app_get_site_id`
(
    in_site_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `uuid`
        , `date_modified`
        , `active`
        , `date_created`
        , `site_id`
        , `type`
        , `app_id`
    FROM `site_app`
    WHERE 1=1
    AND `site_id` = in_site_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_site_app_get_app_id_site_id`;

delimiter $$
CREATE PROCEDURE `usp_site_app_get_app_id_site_id`
(
    in_app_id BINARY(16) 
    , in_site_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `uuid`
        , `date_modified`
        , `active`
        , `date_created`
        , `site_id`
        , `type`
        , `app_id`
    FROM `site_app`
    WHERE 1=1
    AND `app_id` = in_app_id
    AND `site_id` = in_site_id
    ;
END$$
delimiter ;

-- -----------------------------------------------------------------------------
-- PROCS

-- ------------------------------------
-- COUNT

-- ------------------------------------
-- MODEL: Photo - photo

                       
DROP PROCEDURE IF EXISTS `usp_photo_count`;
delimiter $$
CREATE PROCEDURE `usp_photo_count`
BEGIN
    SELECT
        COUNT(*) as count
    FROM `photo`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_photo_count_uuid`;
delimiter $$
CREATE PROCEDURE `usp_photo_count_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `photo`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_photo_count_external_id`;
delimiter $$
CREATE PROCEDURE `usp_photo_count_external_id`
(
    in_external_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `photo`
    WHERE 1=1
    AND `external_id` = in_external_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_photo_count_url`;
delimiter $$
CREATE PROCEDURE `usp_photo_count_url`
(
    in_url VARCHAR (500) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `photo`
    WHERE 1=1
    AND lower(`url`) = lower(in_url)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_photo_count_url_external_id`;
delimiter $$
CREATE PROCEDURE `usp_photo_count_url_external_id`
(
    in_url VARCHAR (500) 
    , in_external_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `photo`
    WHERE 1=1
    AND lower(`url`) = lower(in_url)
    AND `external_id` = in_external_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_photo_count_uuid_external_id`;
delimiter $$
CREATE PROCEDURE `usp_photo_count_uuid_external_id`
(
    in_uuid BINARY(16) 
    , in_external_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `photo`
    WHERE 1=1
    AND `uuid` = in_uuid
    AND `external_id` = in_external_id
    ;
END$$
delimiter ;

-- ------------------------------------
-- BROWSE

-- ------------------------------------
-- MODEL: Photo - photo

                       
DROP PROCEDURE IF EXISTS `usp_photo_browse_filter`;

delimiter $$
CREATE PROCEDURE `usp_photo_browse_filter`
(
    in_page int,
    in_page_size int,
    in_sort VARCHAR(500),
    in_filter VARCHAR(4000)
    
)
BEGIN
    DECLARE total_rows int;
    SET total_rows = 0;
        
    IF (in_page = 0) THEN
        SET in_page = 1;
    END IF;    
    
    IF (in_page_size = 0) THEN
       SET in_page_size = 10;
    END IF;
    
    IF (in_sort = NULL || in_sort = '') THEN
       SET in_sort = ' date_modified ASC ';
    END IF;
    
    SET @sfields = CONCAT('', '`status`');
    SET @sfields = CONCAT(@sfields, ', `third_party_oembed`');
    SET @sfields = CONCAT(@sfields, ', `code`');
    SET @sfields = CONCAT(@sfields, ', `display_name`');
    SET @sfields = CONCAT(@sfields, ', `name`');
    SET @sfields = CONCAT(@sfields, ', `date_modified`');
    SET @sfields = CONCAT(@sfields, ', `url`');
    SET @sfields = CONCAT(@sfields, ', `third_party_data`');
    SET @sfields = CONCAT(@sfields, ', `uuid`');
    SET @sfields = CONCAT(@sfields, ', `third_party_url`');
    SET @sfields = CONCAT(@sfields, ', `third_party_id`');
    SET @sfields = CONCAT(@sfields, ', `content_type`');
    SET @sfields = CONCAT(@sfields, ', `external_id`');
    SET @sfields = CONCAT(@sfields, ', `active`');
    SET @sfields = CONCAT(@sfields, ', `date_created`');
    SET @sfields = CONCAT(@sfields, ', `type`');
    SET @sfields = CONCAT(@sfields, ', `description`');
    
    SET @stable = CONCAT('', ' FROM `photo` WHERE 1=1 ');
    
    SET @s = CONCAT(' ', @stable);
    SET @s = CONCAT(@s, ' ', in_filter);    
    
    SET @scount = CONCAT('SELECT COUNT(*) as `total_rows` ', @s, ' INTO @total_rows');
    
    PREPARE stmtcount FROM @scount;
    EXECUTE stmtcount;
    #SELECT @total_rows;
    SET total_rows = @total_rows;

    SET @sfields = CONCAT(total_rows, ' as `total_rows`, ', @sfields);
    SET @s = CONCAT('SELECT ', @sfields, @s);
    SET @s = CONCAT(@s, ' ORDER BY ', in_sort);
    SET @s = CONCAT(@s, ' LIMIT ', in_page);
    SET @s = CONCAT(@s, ',', in_page_size);    

    PREPARE stmt FROM @s;
    EXECUTE stmt;
    
END$$
delimiter ;
-- ------------------------------------
-- SET

-- ------------------------------------
-- MODEL: Photo - photo

                       
DROP PROCEDURE IF EXISTS `usp_photo_set_uuid`;
delimiter $$
CREATE PROCEDURE `usp_photo_set_uuid`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_third_party_oembed VARCHAR (500) 
    , in_code VARCHAR (255) 
    , in_display_name VARCHAR (255) 
    , in_name VARCHAR (255) 
    , in_date_modified TIMESTAMP 
    , in_url VARCHAR (500) 
    , in_third_party_data VARCHAR (500) 
    , in_uuid BINARY(16) 
    , in_third_party_url VARCHAR (500) 
    , in_third_party_id VARCHAR (500) 
    , in_content_type VARCHAR (100) 
    , in_external_id BINARY(16) 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (500) 
    , in_description VARCHAR (255) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `photo`  
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `photo` 
                    SET
                        `status` = in_status
                        , `third_party_oembed` = in_third_party_oembed
                        , `code` = in_code
                        , `display_name` = in_display_name
                        , `name` = in_name
                        , `date_modified` = in_date_modified
                        , `url` = in_url
                        , `third_party_data` = in_third_party_data
                        , `uuid` = in_uuid
                        , `third_party_url` = in_third_party_url
                        , `third_party_id` = in_third_party_id
                        , `content_type` = in_content_type
                        , `external_id` = in_external_id
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `type` = in_type
                        , `description` = in_description
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `photo`
                    (
                        `status`
                        , `third_party_oembed`
                        , `code`
                        , `display_name`
                        , `name`
                        , `date_modified`
                        , `url`
                        , `third_party_data`
                        , `uuid`
                        , `third_party_url`
                        , `third_party_id`
                        , `content_type`
                        , `external_id`
                        , `active`
                        , `date_created`
                        , `type`
                        , `description`
                    )
                    VALUES
                    (
                        in_status
                        , in_third_party_oembed
                        , in_code
                        , in_display_name
                        , in_name
                        , in_date_modified
                        , in_url
                        , in_third_party_data
                        , in_uuid
                        , in_third_party_url
                        , in_third_party_id
                        , in_content_type
                        , in_external_id
                        , in_active
                        , in_date_created
                        , in_type
                        , in_description
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_photo_set_external_id`;
delimiter $$
CREATE PROCEDURE `usp_photo_set_external_id`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_third_party_oembed VARCHAR (500) 
    , in_code VARCHAR (255) 
    , in_display_name VARCHAR (255) 
    , in_name VARCHAR (255) 
    , in_date_modified TIMESTAMP 
    , in_url VARCHAR (500) 
    , in_third_party_data VARCHAR (500) 
    , in_uuid BINARY(16) 
    , in_third_party_url VARCHAR (500) 
    , in_third_party_id VARCHAR (500) 
    , in_content_type VARCHAR (100) 
    , in_external_id BINARY(16) 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (500) 
    , in_description VARCHAR (255) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `photo`  
                    WHERE 1=1
                    AND `external_id` = in_external_id
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `photo` 
                    SET
                        `status` = in_status
                        , `third_party_oembed` = in_third_party_oembed
                        , `code` = in_code
                        , `display_name` = in_display_name
                        , `name` = in_name
                        , `date_modified` = in_date_modified
                        , `url` = in_url
                        , `third_party_data` = in_third_party_data
                        , `uuid` = in_uuid
                        , `third_party_url` = in_third_party_url
                        , `third_party_id` = in_third_party_id
                        , `content_type` = in_content_type
                        , `external_id` = in_external_id
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `type` = in_type
                        , `description` = in_description
                    WHERE 1=1
                    AND `external_id` = in_external_id
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `photo`
                    (
                        `status`
                        , `third_party_oembed`
                        , `code`
                        , `display_name`
                        , `name`
                        , `date_modified`
                        , `url`
                        , `third_party_data`
                        , `uuid`
                        , `third_party_url`
                        , `third_party_id`
                        , `content_type`
                        , `external_id`
                        , `active`
                        , `date_created`
                        , `type`
                        , `description`
                    )
                    VALUES
                    (
                        in_status
                        , in_third_party_oembed
                        , in_code
                        , in_display_name
                        , in_name
                        , in_date_modified
                        , in_url
                        , in_third_party_data
                        , in_uuid
                        , in_third_party_url
                        , in_third_party_id
                        , in_content_type
                        , in_external_id
                        , in_active
                        , in_date_created
                        , in_type
                        , in_description
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_photo_set_url`;
delimiter $$
CREATE PROCEDURE `usp_photo_set_url`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_third_party_oembed VARCHAR (500) 
    , in_code VARCHAR (255) 
    , in_display_name VARCHAR (255) 
    , in_name VARCHAR (255) 
    , in_date_modified TIMESTAMP 
    , in_url VARCHAR (500) 
    , in_third_party_data VARCHAR (500) 
    , in_uuid BINARY(16) 
    , in_third_party_url VARCHAR (500) 
    , in_third_party_id VARCHAR (500) 
    , in_content_type VARCHAR (100) 
    , in_external_id BINARY(16) 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (500) 
    , in_description VARCHAR (255) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `photo`  
                    WHERE 1=1
                    AND lower(`url`) = lower(in_url)
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `photo` 
                    SET
                        `status` = in_status
                        , `third_party_oembed` = in_third_party_oembed
                        , `code` = in_code
                        , `display_name` = in_display_name
                        , `name` = in_name
                        , `date_modified` = in_date_modified
                        , `url` = in_url
                        , `third_party_data` = in_third_party_data
                        , `uuid` = in_uuid
                        , `third_party_url` = in_third_party_url
                        , `third_party_id` = in_third_party_id
                        , `content_type` = in_content_type
                        , `external_id` = in_external_id
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `type` = in_type
                        , `description` = in_description
                    WHERE 1=1
                    AND lower(`url`) = lower(in_url)
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `photo`
                    (
                        `status`
                        , `third_party_oembed`
                        , `code`
                        , `display_name`
                        , `name`
                        , `date_modified`
                        , `url`
                        , `third_party_data`
                        , `uuid`
                        , `third_party_url`
                        , `third_party_id`
                        , `content_type`
                        , `external_id`
                        , `active`
                        , `date_created`
                        , `type`
                        , `description`
                    )
                    VALUES
                    (
                        in_status
                        , in_third_party_oembed
                        , in_code
                        , in_display_name
                        , in_name
                        , in_date_modified
                        , in_url
                        , in_third_party_data
                        , in_uuid
                        , in_third_party_url
                        , in_third_party_id
                        , in_content_type
                        , in_external_id
                        , in_active
                        , in_date_created
                        , in_type
                        , in_description
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_photo_set_url_external_id`;
delimiter $$
CREATE PROCEDURE `usp_photo_set_url_external_id`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_third_party_oembed VARCHAR (500) 
    , in_code VARCHAR (255) 
    , in_display_name VARCHAR (255) 
    , in_name VARCHAR (255) 
    , in_date_modified TIMESTAMP 
    , in_url VARCHAR (500) 
    , in_third_party_data VARCHAR (500) 
    , in_uuid BINARY(16) 
    , in_third_party_url VARCHAR (500) 
    , in_third_party_id VARCHAR (500) 
    , in_content_type VARCHAR (100) 
    , in_external_id BINARY(16) 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (500) 
    , in_description VARCHAR (255) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `photo`  
                    WHERE 1=1
                    AND lower(`url`) = lower(in_url)
                    AND `external_id` = in_external_id
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `photo` 
                    SET
                        `status` = in_status
                        , `third_party_oembed` = in_third_party_oembed
                        , `code` = in_code
                        , `display_name` = in_display_name
                        , `name` = in_name
                        , `date_modified` = in_date_modified
                        , `url` = in_url
                        , `third_party_data` = in_third_party_data
                        , `uuid` = in_uuid
                        , `third_party_url` = in_third_party_url
                        , `third_party_id` = in_third_party_id
                        , `content_type` = in_content_type
                        , `external_id` = in_external_id
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `type` = in_type
                        , `description` = in_description
                    WHERE 1=1
                    AND lower(`url`) = lower(in_url)
                    AND `external_id` = in_external_id
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `photo`
                    (
                        `status`
                        , `third_party_oembed`
                        , `code`
                        , `display_name`
                        , `name`
                        , `date_modified`
                        , `url`
                        , `third_party_data`
                        , `uuid`
                        , `third_party_url`
                        , `third_party_id`
                        , `content_type`
                        , `external_id`
                        , `active`
                        , `date_created`
                        , `type`
                        , `description`
                    )
                    VALUES
                    (
                        in_status
                        , in_third_party_oembed
                        , in_code
                        , in_display_name
                        , in_name
                        , in_date_modified
                        , in_url
                        , in_third_party_data
                        , in_uuid
                        , in_third_party_url
                        , in_third_party_id
                        , in_content_type
                        , in_external_id
                        , in_active
                        , in_date_created
                        , in_type
                        , in_description
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_photo_set_uuid_external_id`;
delimiter $$
CREATE PROCEDURE `usp_photo_set_uuid_external_id`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_third_party_oembed VARCHAR (500) 
    , in_code VARCHAR (255) 
    , in_display_name VARCHAR (255) 
    , in_name VARCHAR (255) 
    , in_date_modified TIMESTAMP 
    , in_url VARCHAR (500) 
    , in_third_party_data VARCHAR (500) 
    , in_uuid BINARY(16) 
    , in_third_party_url VARCHAR (500) 
    , in_third_party_id VARCHAR (500) 
    , in_content_type VARCHAR (100) 
    , in_external_id BINARY(16) 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (500) 
    , in_description VARCHAR (255) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `photo`  
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    AND `external_id` = in_external_id
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `photo` 
                    SET
                        `status` = in_status
                        , `third_party_oembed` = in_third_party_oembed
                        , `code` = in_code
                        , `display_name` = in_display_name
                        , `name` = in_name
                        , `date_modified` = in_date_modified
                        , `url` = in_url
                        , `third_party_data` = in_third_party_data
                        , `uuid` = in_uuid
                        , `third_party_url` = in_third_party_url
                        , `third_party_id` = in_third_party_id
                        , `content_type` = in_content_type
                        , `external_id` = in_external_id
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `type` = in_type
                        , `description` = in_description
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    AND `external_id` = in_external_id
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `photo`
                    (
                        `status`
                        , `third_party_oembed`
                        , `code`
                        , `display_name`
                        , `name`
                        , `date_modified`
                        , `url`
                        , `third_party_data`
                        , `uuid`
                        , `third_party_url`
                        , `third_party_id`
                        , `content_type`
                        , `external_id`
                        , `active`
                        , `date_created`
                        , `type`
                        , `description`
                    )
                    VALUES
                    (
                        in_status
                        , in_third_party_oembed
                        , in_code
                        , in_display_name
                        , in_name
                        , in_date_modified
                        , in_url
                        , in_third_party_data
                        , in_uuid
                        , in_third_party_url
                        , in_third_party_id
                        , in_content_type
                        , in_external_id
                        , in_active
                        , in_date_created
                        , in_type
                        , in_description
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

-- ------------------------------------
-- DEL

-- ------------------------------------
-- MODEL: Photo - photo

                       
DROP PROCEDURE IF EXISTS `usp_photo_del_uuid`;

delimiter $$
CREATE PROCEDURE `usp_photo_del_uuid`
(
    in_uuid BINARY(16) 
)

BEGIN
    DELETE 
    FROM `photo`
    WHERE 1=1                        
    AND "uuid" = in_uuid
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_photo_del_external_id`;

delimiter $$
CREATE PROCEDURE `usp_photo_del_external_id`
(
    in_external_id BINARY(16) 
)

BEGIN
    DELETE 
    FROM `photo`
    WHERE 1=1                        
    AND "external_id" = in_external_id
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_photo_del_url`;

delimiter $$
CREATE PROCEDURE `usp_photo_del_url`
(
    in_url VARCHAR (500) 
)

BEGIN
    DELETE 
    FROM `photo`
    WHERE 1=1                        
    AND lower("url") = lower(in_url)
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_photo_del_url_external_id`;

delimiter $$
CREATE PROCEDURE `usp_photo_del_url_external_id`
(
    in_url VARCHAR (500) 
    , in_external_id BINARY(16) 
)

BEGIN
    DELETE 
    FROM `photo`
    WHERE 1=1                        
    AND lower("url") = lower(in_url)
    AND "external_id" = in_external_id
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_photo_del_uuid_external_id`;

delimiter $$
CREATE PROCEDURE `usp_photo_del_uuid_external_id`
(
    in_uuid BINARY(16) 
    , in_external_id BINARY(16) 
)

BEGIN
    DELETE 
    FROM `photo`
    WHERE 1=1                        
    AND "uuid" = in_uuid
    AND "external_id" = in_external_id
    ;
END$$
delimiter ;
-- ------------------------------------
-- GET

-- ------------------------------------
-- MODEL: Photo - photo

                       
DROP PROCEDURE IF EXISTS `usp_photo_get`;

delimiter $$
CREATE PROCEDURE `usp_photo_get`
(
)                        
BEGIN
    SELECT
        `status`
        , `third_party_oembed`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `url`
        , `third_party_data`
        , `uuid`
        , `third_party_url`
        , `third_party_id`
        , `content_type`
        , `external_id`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `photo`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_photo_get_uuid`;

delimiter $$
CREATE PROCEDURE `usp_photo_get_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `third_party_oembed`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `url`
        , `third_party_data`
        , `uuid`
        , `third_party_url`
        , `third_party_id`
        , `content_type`
        , `external_id`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `photo`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_photo_get_external_id`;

delimiter $$
CREATE PROCEDURE `usp_photo_get_external_id`
(
    in_external_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `third_party_oembed`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `url`
        , `third_party_data`
        , `uuid`
        , `third_party_url`
        , `third_party_id`
        , `content_type`
        , `external_id`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `photo`
    WHERE 1=1
    AND `external_id` = in_external_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_photo_get_url`;

delimiter $$
CREATE PROCEDURE `usp_photo_get_url`
(
    in_url VARCHAR (500) 
)
BEGIN
    SELECT
        `status`
        , `third_party_oembed`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `url`
        , `third_party_data`
        , `uuid`
        , `third_party_url`
        , `third_party_id`
        , `content_type`
        , `external_id`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `photo`
    WHERE 1=1
    AND lower(`url`) = lower(in_url)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_photo_get_url_external_id`;

delimiter $$
CREATE PROCEDURE `usp_photo_get_url_external_id`
(
    in_url VARCHAR (500) 
    , in_external_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `third_party_oembed`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `url`
        , `third_party_data`
        , `uuid`
        , `third_party_url`
        , `third_party_id`
        , `content_type`
        , `external_id`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `photo`
    WHERE 1=1
    AND lower(`url`) = lower(in_url)
    AND `external_id` = in_external_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_photo_get_uuid_external_id`;

delimiter $$
CREATE PROCEDURE `usp_photo_get_uuid_external_id`
(
    in_uuid BINARY(16) 
    , in_external_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `third_party_oembed`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `url`
        , `third_party_data`
        , `uuid`
        , `third_party_url`
        , `third_party_id`
        , `content_type`
        , `external_id`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `photo`
    WHERE 1=1
    AND `uuid` = in_uuid
    AND `external_id` = in_external_id
    ;
END$$
delimiter ;

-- -----------------------------------------------------------------------------
-- PROCS

-- ------------------------------------
-- COUNT

-- ------------------------------------
-- MODEL: Video - video

                       
DROP PROCEDURE IF EXISTS `usp_video_count`;
delimiter $$
CREATE PROCEDURE `usp_video_count`
BEGIN
    SELECT
        COUNT(*) as count
    FROM `video`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_video_count_uuid`;
delimiter $$
CREATE PROCEDURE `usp_video_count_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `video`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_video_count_external_id`;
delimiter $$
CREATE PROCEDURE `usp_video_count_external_id`
(
    in_external_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `video`
    WHERE 1=1
    AND `external_id` = in_external_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_video_count_url`;
delimiter $$
CREATE PROCEDURE `usp_video_count_url`
(
    in_url VARCHAR (500) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `video`
    WHERE 1=1
    AND lower(`url`) = lower(in_url)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_video_count_url_external_id`;
delimiter $$
CREATE PROCEDURE `usp_video_count_url_external_id`
(
    in_url VARCHAR (500) 
    , in_external_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `video`
    WHERE 1=1
    AND lower(`url`) = lower(in_url)
    AND `external_id` = in_external_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_video_count_uuid_external_id`;
delimiter $$
CREATE PROCEDURE `usp_video_count_uuid_external_id`
(
    in_uuid BINARY(16) 
    , in_external_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `video`
    WHERE 1=1
    AND `uuid` = in_uuid
    AND `external_id` = in_external_id
    ;
END$$
delimiter ;

-- ------------------------------------
-- BROWSE

-- ------------------------------------
-- MODEL: Video - video

                       
DROP PROCEDURE IF EXISTS `usp_video_browse_filter`;

delimiter $$
CREATE PROCEDURE `usp_video_browse_filter`
(
    in_page int,
    in_page_size int,
    in_sort VARCHAR(500),
    in_filter VARCHAR(4000)
    
)
BEGIN
    DECLARE total_rows int;
    SET total_rows = 0;
        
    IF (in_page = 0) THEN
        SET in_page = 1;
    END IF;    
    
    IF (in_page_size = 0) THEN
       SET in_page_size = 10;
    END IF;
    
    IF (in_sort = NULL || in_sort = '') THEN
       SET in_sort = ' date_modified ASC ';
    END IF;
    
    SET @sfields = CONCAT('', '`status`');
    SET @sfields = CONCAT(@sfields, ', `third_party_oembed`');
    SET @sfields = CONCAT(@sfields, ', `code`');
    SET @sfields = CONCAT(@sfields, ', `display_name`');
    SET @sfields = CONCAT(@sfields, ', `name`');
    SET @sfields = CONCAT(@sfields, ', `date_modified`');
    SET @sfields = CONCAT(@sfields, ', `url`');
    SET @sfields = CONCAT(@sfields, ', `third_party_data`');
    SET @sfields = CONCAT(@sfields, ', `uuid`');
    SET @sfields = CONCAT(@sfields, ', `third_party_url`');
    SET @sfields = CONCAT(@sfields, ', `third_party_id`');
    SET @sfields = CONCAT(@sfields, ', `content_type`');
    SET @sfields = CONCAT(@sfields, ', `external_id`');
    SET @sfields = CONCAT(@sfields, ', `active`');
    SET @sfields = CONCAT(@sfields, ', `date_created`');
    SET @sfields = CONCAT(@sfields, ', `type`');
    SET @sfields = CONCAT(@sfields, ', `description`');
    
    SET @stable = CONCAT('', ' FROM `video` WHERE 1=1 ');
    
    SET @s = CONCAT(' ', @stable);
    SET @s = CONCAT(@s, ' ', in_filter);    
    
    SET @scount = CONCAT('SELECT COUNT(*) as `total_rows` ', @s, ' INTO @total_rows');
    
    PREPARE stmtcount FROM @scount;
    EXECUTE stmtcount;
    #SELECT @total_rows;
    SET total_rows = @total_rows;

    SET @sfields = CONCAT(total_rows, ' as `total_rows`, ', @sfields);
    SET @s = CONCAT('SELECT ', @sfields, @s);
    SET @s = CONCAT(@s, ' ORDER BY ', in_sort);
    SET @s = CONCAT(@s, ' LIMIT ', in_page);
    SET @s = CONCAT(@s, ',', in_page_size);    

    PREPARE stmt FROM @s;
    EXECUTE stmt;
    
END$$
delimiter ;
-- ------------------------------------
-- SET

-- ------------------------------------
-- MODEL: Video - video

                       
DROP PROCEDURE IF EXISTS `usp_video_set_uuid`;
delimiter $$
CREATE PROCEDURE `usp_video_set_uuid`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_third_party_oembed VARCHAR (500) 
    , in_code VARCHAR (255) 
    , in_display_name VARCHAR (255) 
    , in_name VARCHAR (255) 
    , in_date_modified TIMESTAMP 
    , in_url VARCHAR (500) 
    , in_third_party_data VARCHAR (500) 
    , in_uuid BINARY(16) 
    , in_third_party_url VARCHAR (500) 
    , in_third_party_id VARCHAR (500) 
    , in_content_type VARCHAR (100) 
    , in_external_id BINARY(16) 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (500) 
    , in_description VARCHAR (255) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `video`  
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `video` 
                    SET
                        `status` = in_status
                        , `third_party_oembed` = in_third_party_oembed
                        , `code` = in_code
                        , `display_name` = in_display_name
                        , `name` = in_name
                        , `date_modified` = in_date_modified
                        , `url` = in_url
                        , `third_party_data` = in_third_party_data
                        , `uuid` = in_uuid
                        , `third_party_url` = in_third_party_url
                        , `third_party_id` = in_third_party_id
                        , `content_type` = in_content_type
                        , `external_id` = in_external_id
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `type` = in_type
                        , `description` = in_description
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `video`
                    (
                        `status`
                        , `third_party_oembed`
                        , `code`
                        , `display_name`
                        , `name`
                        , `date_modified`
                        , `url`
                        , `third_party_data`
                        , `uuid`
                        , `third_party_url`
                        , `third_party_id`
                        , `content_type`
                        , `external_id`
                        , `active`
                        , `date_created`
                        , `type`
                        , `description`
                    )
                    VALUES
                    (
                        in_status
                        , in_third_party_oembed
                        , in_code
                        , in_display_name
                        , in_name
                        , in_date_modified
                        , in_url
                        , in_third_party_data
                        , in_uuid
                        , in_third_party_url
                        , in_third_party_id
                        , in_content_type
                        , in_external_id
                        , in_active
                        , in_date_created
                        , in_type
                        , in_description
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_video_set_external_id`;
delimiter $$
CREATE PROCEDURE `usp_video_set_external_id`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_third_party_oembed VARCHAR (500) 
    , in_code VARCHAR (255) 
    , in_display_name VARCHAR (255) 
    , in_name VARCHAR (255) 
    , in_date_modified TIMESTAMP 
    , in_url VARCHAR (500) 
    , in_third_party_data VARCHAR (500) 
    , in_uuid BINARY(16) 
    , in_third_party_url VARCHAR (500) 
    , in_third_party_id VARCHAR (500) 
    , in_content_type VARCHAR (100) 
    , in_external_id BINARY(16) 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (500) 
    , in_description VARCHAR (255) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `video`  
                    WHERE 1=1
                    AND `external_id` = in_external_id
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `video` 
                    SET
                        `status` = in_status
                        , `third_party_oembed` = in_third_party_oembed
                        , `code` = in_code
                        , `display_name` = in_display_name
                        , `name` = in_name
                        , `date_modified` = in_date_modified
                        , `url` = in_url
                        , `third_party_data` = in_third_party_data
                        , `uuid` = in_uuid
                        , `third_party_url` = in_third_party_url
                        , `third_party_id` = in_third_party_id
                        , `content_type` = in_content_type
                        , `external_id` = in_external_id
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `type` = in_type
                        , `description` = in_description
                    WHERE 1=1
                    AND `external_id` = in_external_id
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `video`
                    (
                        `status`
                        , `third_party_oembed`
                        , `code`
                        , `display_name`
                        , `name`
                        , `date_modified`
                        , `url`
                        , `third_party_data`
                        , `uuid`
                        , `third_party_url`
                        , `third_party_id`
                        , `content_type`
                        , `external_id`
                        , `active`
                        , `date_created`
                        , `type`
                        , `description`
                    )
                    VALUES
                    (
                        in_status
                        , in_third_party_oembed
                        , in_code
                        , in_display_name
                        , in_name
                        , in_date_modified
                        , in_url
                        , in_third_party_data
                        , in_uuid
                        , in_third_party_url
                        , in_third_party_id
                        , in_content_type
                        , in_external_id
                        , in_active
                        , in_date_created
                        , in_type
                        , in_description
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_video_set_url`;
delimiter $$
CREATE PROCEDURE `usp_video_set_url`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_third_party_oembed VARCHAR (500) 
    , in_code VARCHAR (255) 
    , in_display_name VARCHAR (255) 
    , in_name VARCHAR (255) 
    , in_date_modified TIMESTAMP 
    , in_url VARCHAR (500) 
    , in_third_party_data VARCHAR (500) 
    , in_uuid BINARY(16) 
    , in_third_party_url VARCHAR (500) 
    , in_third_party_id VARCHAR (500) 
    , in_content_type VARCHAR (100) 
    , in_external_id BINARY(16) 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (500) 
    , in_description VARCHAR (255) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `video`  
                    WHERE 1=1
                    AND lower(`url`) = lower(in_url)
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `video` 
                    SET
                        `status` = in_status
                        , `third_party_oembed` = in_third_party_oembed
                        , `code` = in_code
                        , `display_name` = in_display_name
                        , `name` = in_name
                        , `date_modified` = in_date_modified
                        , `url` = in_url
                        , `third_party_data` = in_third_party_data
                        , `uuid` = in_uuid
                        , `third_party_url` = in_third_party_url
                        , `third_party_id` = in_third_party_id
                        , `content_type` = in_content_type
                        , `external_id` = in_external_id
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `type` = in_type
                        , `description` = in_description
                    WHERE 1=1
                    AND lower(`url`) = lower(in_url)
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `video`
                    (
                        `status`
                        , `third_party_oembed`
                        , `code`
                        , `display_name`
                        , `name`
                        , `date_modified`
                        , `url`
                        , `third_party_data`
                        , `uuid`
                        , `third_party_url`
                        , `third_party_id`
                        , `content_type`
                        , `external_id`
                        , `active`
                        , `date_created`
                        , `type`
                        , `description`
                    )
                    VALUES
                    (
                        in_status
                        , in_third_party_oembed
                        , in_code
                        , in_display_name
                        , in_name
                        , in_date_modified
                        , in_url
                        , in_third_party_data
                        , in_uuid
                        , in_third_party_url
                        , in_third_party_id
                        , in_content_type
                        , in_external_id
                        , in_active
                        , in_date_created
                        , in_type
                        , in_description
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_video_set_url_external_id`;
delimiter $$
CREATE PROCEDURE `usp_video_set_url_external_id`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_third_party_oembed VARCHAR (500) 
    , in_code VARCHAR (255) 
    , in_display_name VARCHAR (255) 
    , in_name VARCHAR (255) 
    , in_date_modified TIMESTAMP 
    , in_url VARCHAR (500) 
    , in_third_party_data VARCHAR (500) 
    , in_uuid BINARY(16) 
    , in_third_party_url VARCHAR (500) 
    , in_third_party_id VARCHAR (500) 
    , in_content_type VARCHAR (100) 
    , in_external_id BINARY(16) 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (500) 
    , in_description VARCHAR (255) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `video`  
                    WHERE 1=1
                    AND lower(`url`) = lower(in_url)
                    AND `external_id` = in_external_id
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `video` 
                    SET
                        `status` = in_status
                        , `third_party_oembed` = in_third_party_oembed
                        , `code` = in_code
                        , `display_name` = in_display_name
                        , `name` = in_name
                        , `date_modified` = in_date_modified
                        , `url` = in_url
                        , `third_party_data` = in_third_party_data
                        , `uuid` = in_uuid
                        , `third_party_url` = in_third_party_url
                        , `third_party_id` = in_third_party_id
                        , `content_type` = in_content_type
                        , `external_id` = in_external_id
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `type` = in_type
                        , `description` = in_description
                    WHERE 1=1
                    AND lower(`url`) = lower(in_url)
                    AND `external_id` = in_external_id
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `video`
                    (
                        `status`
                        , `third_party_oembed`
                        , `code`
                        , `display_name`
                        , `name`
                        , `date_modified`
                        , `url`
                        , `third_party_data`
                        , `uuid`
                        , `third_party_url`
                        , `third_party_id`
                        , `content_type`
                        , `external_id`
                        , `active`
                        , `date_created`
                        , `type`
                        , `description`
                    )
                    VALUES
                    (
                        in_status
                        , in_third_party_oembed
                        , in_code
                        , in_display_name
                        , in_name
                        , in_date_modified
                        , in_url
                        , in_third_party_data
                        , in_uuid
                        , in_third_party_url
                        , in_third_party_id
                        , in_content_type
                        , in_external_id
                        , in_active
                        , in_date_created
                        , in_type
                        , in_description
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_video_set_uuid_external_id`;
delimiter $$
CREATE PROCEDURE `usp_video_set_uuid_external_id`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_third_party_oembed VARCHAR (500) 
    , in_code VARCHAR (255) 
    , in_display_name VARCHAR (255) 
    , in_name VARCHAR (255) 
    , in_date_modified TIMESTAMP 
    , in_url VARCHAR (500) 
    , in_third_party_data VARCHAR (500) 
    , in_uuid BINARY(16) 
    , in_third_party_url VARCHAR (500) 
    , in_third_party_id VARCHAR (500) 
    , in_content_type VARCHAR (100) 
    , in_external_id BINARY(16) 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (500) 
    , in_description VARCHAR (255) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `video`  
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    AND `external_id` = in_external_id
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `video` 
                    SET
                        `status` = in_status
                        , `third_party_oembed` = in_third_party_oembed
                        , `code` = in_code
                        , `display_name` = in_display_name
                        , `name` = in_name
                        , `date_modified` = in_date_modified
                        , `url` = in_url
                        , `third_party_data` = in_third_party_data
                        , `uuid` = in_uuid
                        , `third_party_url` = in_third_party_url
                        , `third_party_id` = in_third_party_id
                        , `content_type` = in_content_type
                        , `external_id` = in_external_id
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `type` = in_type
                        , `description` = in_description
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    AND `external_id` = in_external_id
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `video`
                    (
                        `status`
                        , `third_party_oembed`
                        , `code`
                        , `display_name`
                        , `name`
                        , `date_modified`
                        , `url`
                        , `third_party_data`
                        , `uuid`
                        , `third_party_url`
                        , `third_party_id`
                        , `content_type`
                        , `external_id`
                        , `active`
                        , `date_created`
                        , `type`
                        , `description`
                    )
                    VALUES
                    (
                        in_status
                        , in_third_party_oembed
                        , in_code
                        , in_display_name
                        , in_name
                        , in_date_modified
                        , in_url
                        , in_third_party_data
                        , in_uuid
                        , in_third_party_url
                        , in_third_party_id
                        , in_content_type
                        , in_external_id
                        , in_active
                        , in_date_created
                        , in_type
                        , in_description
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

-- ------------------------------------
-- DEL

-- ------------------------------------
-- MODEL: Video - video

                       
DROP PROCEDURE IF EXISTS `usp_video_del_uuid`;

delimiter $$
CREATE PROCEDURE `usp_video_del_uuid`
(
    in_uuid BINARY(16) 
)

BEGIN
    DELETE 
    FROM `video`
    WHERE 1=1                        
    AND "uuid" = in_uuid
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_video_del_external_id`;

delimiter $$
CREATE PROCEDURE `usp_video_del_external_id`
(
    in_external_id BINARY(16) 
)

BEGIN
    DELETE 
    FROM `video`
    WHERE 1=1                        
    AND "external_id" = in_external_id
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_video_del_url`;

delimiter $$
CREATE PROCEDURE `usp_video_del_url`
(
    in_url VARCHAR (500) 
)

BEGIN
    DELETE 
    FROM `video`
    WHERE 1=1                        
    AND lower("url") = lower(in_url)
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_video_del_url_external_id`;

delimiter $$
CREATE PROCEDURE `usp_video_del_url_external_id`
(
    in_url VARCHAR (500) 
    , in_external_id BINARY(16) 
)

BEGIN
    DELETE 
    FROM `video`
    WHERE 1=1                        
    AND lower("url") = lower(in_url)
    AND "external_id" = in_external_id
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_video_del_uuid_external_id`;

delimiter $$
CREATE PROCEDURE `usp_video_del_uuid_external_id`
(
    in_uuid BINARY(16) 
    , in_external_id BINARY(16) 
)

BEGIN
    DELETE 
    FROM `video`
    WHERE 1=1                        
    AND "uuid" = in_uuid
    AND "external_id" = in_external_id
    ;
END$$
delimiter ;
-- ------------------------------------
-- GET

-- ------------------------------------
-- MODEL: Video - video

                       
DROP PROCEDURE IF EXISTS `usp_video_get`;

delimiter $$
CREATE PROCEDURE `usp_video_get`
(
)                        
BEGIN
    SELECT
        `status`
        , `third_party_oembed`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `url`
        , `third_party_data`
        , `uuid`
        , `third_party_url`
        , `third_party_id`
        , `content_type`
        , `external_id`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `video`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_video_get_uuid`;

delimiter $$
CREATE PROCEDURE `usp_video_get_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `third_party_oembed`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `url`
        , `third_party_data`
        , `uuid`
        , `third_party_url`
        , `third_party_id`
        , `content_type`
        , `external_id`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `video`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_video_get_external_id`;

delimiter $$
CREATE PROCEDURE `usp_video_get_external_id`
(
    in_external_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `third_party_oembed`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `url`
        , `third_party_data`
        , `uuid`
        , `third_party_url`
        , `third_party_id`
        , `content_type`
        , `external_id`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `video`
    WHERE 1=1
    AND `external_id` = in_external_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_video_get_url`;

delimiter $$
CREATE PROCEDURE `usp_video_get_url`
(
    in_url VARCHAR (500) 
)
BEGIN
    SELECT
        `status`
        , `third_party_oembed`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `url`
        , `third_party_data`
        , `uuid`
        , `third_party_url`
        , `third_party_id`
        , `content_type`
        , `external_id`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `video`
    WHERE 1=1
    AND lower(`url`) = lower(in_url)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_video_get_url_external_id`;

delimiter $$
CREATE PROCEDURE `usp_video_get_url_external_id`
(
    in_url VARCHAR (500) 
    , in_external_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `third_party_oembed`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `url`
        , `third_party_data`
        , `uuid`
        , `third_party_url`
        , `third_party_id`
        , `content_type`
        , `external_id`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `video`
    WHERE 1=1
    AND lower(`url`) = lower(in_url)
    AND `external_id` = in_external_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_video_get_uuid_external_id`;

delimiter $$
CREATE PROCEDURE `usp_video_get_uuid_external_id`
(
    in_uuid BINARY(16) 
    , in_external_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `third_party_oembed`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `url`
        , `third_party_data`
        , `uuid`
        , `third_party_url`
        , `third_party_id`
        , `content_type`
        , `external_id`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `video`
    WHERE 1=1
    AND `uuid` = in_uuid
    AND `external_id` = in_external_id
    ;
END$$
delimiter ;

-- -----------------------------------------------------------------------------
-- PROCS

-- ------------------------------------
-- COUNT

-- ------------------------------------
-- MODEL: GameRpgItemWeapon - game_rpg_item_weapon

                       
DROP PROCEDURE IF EXISTS `usp_game_rpg_item_weapon_count`;
delimiter $$
CREATE PROCEDURE `usp_game_rpg_item_weapon_count`
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_rpg_item_weapon`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_rpg_item_weapon_count_uuid`;
delimiter $$
CREATE PROCEDURE `usp_game_rpg_item_weapon_count_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_rpg_item_weapon`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_rpg_item_weapon_count_game_id`;
delimiter $$
CREATE PROCEDURE `usp_game_rpg_item_weapon_count_game_id`
(
    in_game_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_rpg_item_weapon`
    WHERE 1=1
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_rpg_item_weapon_count_url`;
delimiter $$
CREATE PROCEDURE `usp_game_rpg_item_weapon_count_url`
(
    in_url VARCHAR (500) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_rpg_item_weapon`
    WHERE 1=1
    AND lower(`url`) = lower(in_url)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_rpg_item_weapon_count_url_game_id`;
delimiter $$
CREATE PROCEDURE `usp_game_rpg_item_weapon_count_url_game_id`
(
    in_url VARCHAR (500) 
    , in_game_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_rpg_item_weapon`
    WHERE 1=1
    AND lower(`url`) = lower(in_url)
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_rpg_item_weapon_count_uuid_game_id`;
delimiter $$
CREATE PROCEDURE `usp_game_rpg_item_weapon_count_uuid_game_id`
(
    in_uuid BINARY(16) 
    , in_game_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_rpg_item_weapon`
    WHERE 1=1
    AND `uuid` = in_uuid
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

-- ------------------------------------
-- BROWSE

-- ------------------------------------
-- MODEL: GameRpgItemWeapon - game_rpg_item_weapon

                       
DROP PROCEDURE IF EXISTS `usp_game_rpg_item_weapon_browse_filter`;

delimiter $$
CREATE PROCEDURE `usp_game_rpg_item_weapon_browse_filter`
(
    in_page int,
    in_page_size int,
    in_sort VARCHAR(500),
    in_filter VARCHAR(4000)
    
)
BEGIN
    DECLARE total_rows int;
    SET total_rows = 0;
        
    IF (in_page = 0) THEN
        SET in_page = 1;
    END IF;    
    
    IF (in_page_size = 0) THEN
       SET in_page_size = 10;
    END IF;
    
    IF (in_sort = NULL || in_sort = '') THEN
       SET in_sort = ' date_modified ASC ';
    END IF;
    
    SET @sfields = CONCAT('', '`status`');
    SET @sfields = CONCAT(@sfields, ', `third_party_oembed`');
    SET @sfields = CONCAT(@sfields, ', `code`');
    SET @sfields = CONCAT(@sfields, ', `description`');
    SET @sfields = CONCAT(@sfields, ', `game_defense`');
    SET @sfields = CONCAT(@sfields, ', `third_party_url`');
    SET @sfields = CONCAT(@sfields, ', `third_party_id`');
    SET @sfields = CONCAT(@sfields, ', `content_type`');
    SET @sfields = CONCAT(@sfields, ', `type`');
    SET @sfields = CONCAT(@sfields, ', `active`');
    SET @sfields = CONCAT(@sfields, ', `game_id`');
    SET @sfields = CONCAT(@sfields, ', `game_attack`');
    SET @sfields = CONCAT(@sfields, ', `uuid`');
    SET @sfields = CONCAT(@sfields, ', `display_name`');
    SET @sfields = CONCAT(@sfields, ', `name`');
    SET @sfields = CONCAT(@sfields, ', `date_modified`');
    SET @sfields = CONCAT(@sfields, ', `url`');
    SET @sfields = CONCAT(@sfields, ', `third_party_data`');
    SET @sfields = CONCAT(@sfields, ', `game_price`');
    SET @sfields = CONCAT(@sfields, ', `game_type`');
    SET @sfields = CONCAT(@sfields, ', `game_skill`');
    SET @sfields = CONCAT(@sfields, ', `game_health`');
    SET @sfields = CONCAT(@sfields, ', `date_created`');
    SET @sfields = CONCAT(@sfields, ', `game_energy`');
    SET @sfields = CONCAT(@sfields, ', `game_data`');
    
    SET @stable = CONCAT('', ' FROM `game_rpg_item_weapon` WHERE 1=1 ');
    
    SET @s = CONCAT(' ', @stable);
    SET @s = CONCAT(@s, ' ', in_filter);    
    
    SET @scount = CONCAT('SELECT COUNT(*) as `total_rows` ', @s, ' INTO @total_rows');
    
    PREPARE stmtcount FROM @scount;
    EXECUTE stmtcount;
    #SELECT @total_rows;
    SET total_rows = @total_rows;

    SET @sfields = CONCAT(total_rows, ' as `total_rows`, ', @sfields);
    SET @s = CONCAT('SELECT ', @sfields, @s);
    SET @s = CONCAT(@s, ' ORDER BY ', in_sort);
    SET @s = CONCAT(@s, ' LIMIT ', in_page);
    SET @s = CONCAT(@s, ',', in_page_size);    

    PREPARE stmt FROM @s;
    EXECUTE stmt;
    
END$$
delimiter ;
-- ------------------------------------
-- SET

-- ------------------------------------
-- MODEL: GameRpgItemWeapon - game_rpg_item_weapon

                       
DROP PROCEDURE IF EXISTS `usp_game_rpg_item_weapon_set_uuid`;
delimiter $$
CREATE PROCEDURE `usp_game_rpg_item_weapon_set_uuid`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_third_party_oembed VARCHAR (500) 
    , in_code VARCHAR (255) 
    , in_description VARCHAR (255) 
    , in_game_defense decimal 
    , in_third_party_url VARCHAR (500) 
    , in_third_party_id VARCHAR (500) 
    , in_content_type VARCHAR (100) 
    , in_type VARCHAR (500) 
    , in_active int 
    , in_game_id BINARY(16) 
    , in_game_attack decimal 
    , in_uuid BINARY(16) 
    , in_display_name VARCHAR (255) 
    , in_name VARCHAR (255) 
    , in_date_modified TIMESTAMP 
    , in_url VARCHAR (500) 
    , in_third_party_data VARCHAR (500) 
    , in_game_price decimal 
    , in_game_type decimal 
    , in_game_skill decimal 
    , in_game_health decimal 
    , in_date_created TIMESTAMP 
    , in_game_energy decimal 
    , in_game_data TEXT 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_rpg_item_weapon`  
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_rpg_item_weapon` 
                    SET
                        `status` = in_status
                        , `third_party_oembed` = in_third_party_oembed
                        , `code` = in_code
                        , `description` = in_description
                        , `game_defense` = in_game_defense
                        , `third_party_url` = in_third_party_url
                        , `third_party_id` = in_third_party_id
                        , `content_type` = in_content_type
                        , `type` = in_type
                        , `active` = in_active
                        , `game_id` = in_game_id
                        , `game_attack` = in_game_attack
                        , `uuid` = in_uuid
                        , `display_name` = in_display_name
                        , `name` = in_name
                        , `date_modified` = in_date_modified
                        , `url` = in_url
                        , `third_party_data` = in_third_party_data
                        , `game_price` = in_game_price
                        , `game_type` = in_game_type
                        , `game_skill` = in_game_skill
                        , `game_health` = in_game_health
                        , `date_created` = in_date_created
                        , `game_energy` = in_game_energy
                        , `game_data` = in_game_data
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_rpg_item_weapon`
                    (
                        `status`
                        , `third_party_oembed`
                        , `code`
                        , `description`
                        , `game_defense`
                        , `third_party_url`
                        , `third_party_id`
                        , `content_type`
                        , `type`
                        , `active`
                        , `game_id`
                        , `game_attack`
                        , `uuid`
                        , `display_name`
                        , `name`
                        , `date_modified`
                        , `url`
                        , `third_party_data`
                        , `game_price`
                        , `game_type`
                        , `game_skill`
                        , `game_health`
                        , `date_created`
                        , `game_energy`
                        , `game_data`
                    )
                    VALUES
                    (
                        in_status
                        , in_third_party_oembed
                        , in_code
                        , in_description
                        , in_game_defense
                        , in_third_party_url
                        , in_third_party_id
                        , in_content_type
                        , in_type
                        , in_active
                        , in_game_id
                        , in_game_attack
                        , in_uuid
                        , in_display_name
                        , in_name
                        , in_date_modified
                        , in_url
                        , in_third_party_data
                        , in_game_price
                        , in_game_type
                        , in_game_skill
                        , in_game_health
                        , in_date_created
                        , in_game_energy
                        , in_game_data
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_rpg_item_weapon_set_game_id`;
delimiter $$
CREATE PROCEDURE `usp_game_rpg_item_weapon_set_game_id`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_third_party_oembed VARCHAR (500) 
    , in_code VARCHAR (255) 
    , in_description VARCHAR (255) 
    , in_game_defense decimal 
    , in_third_party_url VARCHAR (500) 
    , in_third_party_id VARCHAR (500) 
    , in_content_type VARCHAR (100) 
    , in_type VARCHAR (500) 
    , in_active int 
    , in_game_id BINARY(16) 
    , in_game_attack decimal 
    , in_uuid BINARY(16) 
    , in_display_name VARCHAR (255) 
    , in_name VARCHAR (255) 
    , in_date_modified TIMESTAMP 
    , in_url VARCHAR (500) 
    , in_third_party_data VARCHAR (500) 
    , in_game_price decimal 
    , in_game_type decimal 
    , in_game_skill decimal 
    , in_game_health decimal 
    , in_date_created TIMESTAMP 
    , in_game_energy decimal 
    , in_game_data TEXT 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_rpg_item_weapon`  
                    WHERE 1=1
                    AND `game_id` = in_game_id
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_rpg_item_weapon` 
                    SET
                        `status` = in_status
                        , `third_party_oembed` = in_third_party_oembed
                        , `code` = in_code
                        , `description` = in_description
                        , `game_defense` = in_game_defense
                        , `third_party_url` = in_third_party_url
                        , `third_party_id` = in_third_party_id
                        , `content_type` = in_content_type
                        , `type` = in_type
                        , `active` = in_active
                        , `game_id` = in_game_id
                        , `game_attack` = in_game_attack
                        , `uuid` = in_uuid
                        , `display_name` = in_display_name
                        , `name` = in_name
                        , `date_modified` = in_date_modified
                        , `url` = in_url
                        , `third_party_data` = in_third_party_data
                        , `game_price` = in_game_price
                        , `game_type` = in_game_type
                        , `game_skill` = in_game_skill
                        , `game_health` = in_game_health
                        , `date_created` = in_date_created
                        , `game_energy` = in_game_energy
                        , `game_data` = in_game_data
                    WHERE 1=1
                    AND `game_id` = in_game_id
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_rpg_item_weapon`
                    (
                        `status`
                        , `third_party_oembed`
                        , `code`
                        , `description`
                        , `game_defense`
                        , `third_party_url`
                        , `third_party_id`
                        , `content_type`
                        , `type`
                        , `active`
                        , `game_id`
                        , `game_attack`
                        , `uuid`
                        , `display_name`
                        , `name`
                        , `date_modified`
                        , `url`
                        , `third_party_data`
                        , `game_price`
                        , `game_type`
                        , `game_skill`
                        , `game_health`
                        , `date_created`
                        , `game_energy`
                        , `game_data`
                    )
                    VALUES
                    (
                        in_status
                        , in_third_party_oembed
                        , in_code
                        , in_description
                        , in_game_defense
                        , in_third_party_url
                        , in_third_party_id
                        , in_content_type
                        , in_type
                        , in_active
                        , in_game_id
                        , in_game_attack
                        , in_uuid
                        , in_display_name
                        , in_name
                        , in_date_modified
                        , in_url
                        , in_third_party_data
                        , in_game_price
                        , in_game_type
                        , in_game_skill
                        , in_game_health
                        , in_date_created
                        , in_game_energy
                        , in_game_data
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_rpg_item_weapon_set_url`;
delimiter $$
CREATE PROCEDURE `usp_game_rpg_item_weapon_set_url`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_third_party_oembed VARCHAR (500) 
    , in_code VARCHAR (255) 
    , in_description VARCHAR (255) 
    , in_game_defense decimal 
    , in_third_party_url VARCHAR (500) 
    , in_third_party_id VARCHAR (500) 
    , in_content_type VARCHAR (100) 
    , in_type VARCHAR (500) 
    , in_active int 
    , in_game_id BINARY(16) 
    , in_game_attack decimal 
    , in_uuid BINARY(16) 
    , in_display_name VARCHAR (255) 
    , in_name VARCHAR (255) 
    , in_date_modified TIMESTAMP 
    , in_url VARCHAR (500) 
    , in_third_party_data VARCHAR (500) 
    , in_game_price decimal 
    , in_game_type decimal 
    , in_game_skill decimal 
    , in_game_health decimal 
    , in_date_created TIMESTAMP 
    , in_game_energy decimal 
    , in_game_data TEXT 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_rpg_item_weapon`  
                    WHERE 1=1
                    AND lower(`url`) = lower(in_url)
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_rpg_item_weapon` 
                    SET
                        `status` = in_status
                        , `third_party_oembed` = in_third_party_oembed
                        , `code` = in_code
                        , `description` = in_description
                        , `game_defense` = in_game_defense
                        , `third_party_url` = in_third_party_url
                        , `third_party_id` = in_third_party_id
                        , `content_type` = in_content_type
                        , `type` = in_type
                        , `active` = in_active
                        , `game_id` = in_game_id
                        , `game_attack` = in_game_attack
                        , `uuid` = in_uuid
                        , `display_name` = in_display_name
                        , `name` = in_name
                        , `date_modified` = in_date_modified
                        , `url` = in_url
                        , `third_party_data` = in_third_party_data
                        , `game_price` = in_game_price
                        , `game_type` = in_game_type
                        , `game_skill` = in_game_skill
                        , `game_health` = in_game_health
                        , `date_created` = in_date_created
                        , `game_energy` = in_game_energy
                        , `game_data` = in_game_data
                    WHERE 1=1
                    AND lower(`url`) = lower(in_url)
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_rpg_item_weapon`
                    (
                        `status`
                        , `third_party_oembed`
                        , `code`
                        , `description`
                        , `game_defense`
                        , `third_party_url`
                        , `third_party_id`
                        , `content_type`
                        , `type`
                        , `active`
                        , `game_id`
                        , `game_attack`
                        , `uuid`
                        , `display_name`
                        , `name`
                        , `date_modified`
                        , `url`
                        , `third_party_data`
                        , `game_price`
                        , `game_type`
                        , `game_skill`
                        , `game_health`
                        , `date_created`
                        , `game_energy`
                        , `game_data`
                    )
                    VALUES
                    (
                        in_status
                        , in_third_party_oembed
                        , in_code
                        , in_description
                        , in_game_defense
                        , in_third_party_url
                        , in_third_party_id
                        , in_content_type
                        , in_type
                        , in_active
                        , in_game_id
                        , in_game_attack
                        , in_uuid
                        , in_display_name
                        , in_name
                        , in_date_modified
                        , in_url
                        , in_third_party_data
                        , in_game_price
                        , in_game_type
                        , in_game_skill
                        , in_game_health
                        , in_date_created
                        , in_game_energy
                        , in_game_data
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_rpg_item_weapon_set_url_game_id`;
delimiter $$
CREATE PROCEDURE `usp_game_rpg_item_weapon_set_url_game_id`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_third_party_oembed VARCHAR (500) 
    , in_code VARCHAR (255) 
    , in_description VARCHAR (255) 
    , in_game_defense decimal 
    , in_third_party_url VARCHAR (500) 
    , in_third_party_id VARCHAR (500) 
    , in_content_type VARCHAR (100) 
    , in_type VARCHAR (500) 
    , in_active int 
    , in_game_id BINARY(16) 
    , in_game_attack decimal 
    , in_uuid BINARY(16) 
    , in_display_name VARCHAR (255) 
    , in_name VARCHAR (255) 
    , in_date_modified TIMESTAMP 
    , in_url VARCHAR (500) 
    , in_third_party_data VARCHAR (500) 
    , in_game_price decimal 
    , in_game_type decimal 
    , in_game_skill decimal 
    , in_game_health decimal 
    , in_date_created TIMESTAMP 
    , in_game_energy decimal 
    , in_game_data TEXT 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_rpg_item_weapon`  
                    WHERE 1=1
                    AND lower(`url`) = lower(in_url)
                    AND `game_id` = in_game_id
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_rpg_item_weapon` 
                    SET
                        `status` = in_status
                        , `third_party_oembed` = in_third_party_oembed
                        , `code` = in_code
                        , `description` = in_description
                        , `game_defense` = in_game_defense
                        , `third_party_url` = in_third_party_url
                        , `third_party_id` = in_third_party_id
                        , `content_type` = in_content_type
                        , `type` = in_type
                        , `active` = in_active
                        , `game_id` = in_game_id
                        , `game_attack` = in_game_attack
                        , `uuid` = in_uuid
                        , `display_name` = in_display_name
                        , `name` = in_name
                        , `date_modified` = in_date_modified
                        , `url` = in_url
                        , `third_party_data` = in_third_party_data
                        , `game_price` = in_game_price
                        , `game_type` = in_game_type
                        , `game_skill` = in_game_skill
                        , `game_health` = in_game_health
                        , `date_created` = in_date_created
                        , `game_energy` = in_game_energy
                        , `game_data` = in_game_data
                    WHERE 1=1
                    AND lower(`url`) = lower(in_url)
                    AND `game_id` = in_game_id
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_rpg_item_weapon`
                    (
                        `status`
                        , `third_party_oembed`
                        , `code`
                        , `description`
                        , `game_defense`
                        , `third_party_url`
                        , `third_party_id`
                        , `content_type`
                        , `type`
                        , `active`
                        , `game_id`
                        , `game_attack`
                        , `uuid`
                        , `display_name`
                        , `name`
                        , `date_modified`
                        , `url`
                        , `third_party_data`
                        , `game_price`
                        , `game_type`
                        , `game_skill`
                        , `game_health`
                        , `date_created`
                        , `game_energy`
                        , `game_data`
                    )
                    VALUES
                    (
                        in_status
                        , in_third_party_oembed
                        , in_code
                        , in_description
                        , in_game_defense
                        , in_third_party_url
                        , in_third_party_id
                        , in_content_type
                        , in_type
                        , in_active
                        , in_game_id
                        , in_game_attack
                        , in_uuid
                        , in_display_name
                        , in_name
                        , in_date_modified
                        , in_url
                        , in_third_party_data
                        , in_game_price
                        , in_game_type
                        , in_game_skill
                        , in_game_health
                        , in_date_created
                        , in_game_energy
                        , in_game_data
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_rpg_item_weapon_set_uuid_game_id`;
delimiter $$
CREATE PROCEDURE `usp_game_rpg_item_weapon_set_uuid_game_id`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_third_party_oembed VARCHAR (500) 
    , in_code VARCHAR (255) 
    , in_description VARCHAR (255) 
    , in_game_defense decimal 
    , in_third_party_url VARCHAR (500) 
    , in_third_party_id VARCHAR (500) 
    , in_content_type VARCHAR (100) 
    , in_type VARCHAR (500) 
    , in_active int 
    , in_game_id BINARY(16) 
    , in_game_attack decimal 
    , in_uuid BINARY(16) 
    , in_display_name VARCHAR (255) 
    , in_name VARCHAR (255) 
    , in_date_modified TIMESTAMP 
    , in_url VARCHAR (500) 
    , in_third_party_data VARCHAR (500) 
    , in_game_price decimal 
    , in_game_type decimal 
    , in_game_skill decimal 
    , in_game_health decimal 
    , in_date_created TIMESTAMP 
    , in_game_energy decimal 
    , in_game_data TEXT 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_rpg_item_weapon`  
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    AND `game_id` = in_game_id
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_rpg_item_weapon` 
                    SET
                        `status` = in_status
                        , `third_party_oembed` = in_third_party_oembed
                        , `code` = in_code
                        , `description` = in_description
                        , `game_defense` = in_game_defense
                        , `third_party_url` = in_third_party_url
                        , `third_party_id` = in_third_party_id
                        , `content_type` = in_content_type
                        , `type` = in_type
                        , `active` = in_active
                        , `game_id` = in_game_id
                        , `game_attack` = in_game_attack
                        , `uuid` = in_uuid
                        , `display_name` = in_display_name
                        , `name` = in_name
                        , `date_modified` = in_date_modified
                        , `url` = in_url
                        , `third_party_data` = in_third_party_data
                        , `game_price` = in_game_price
                        , `game_type` = in_game_type
                        , `game_skill` = in_game_skill
                        , `game_health` = in_game_health
                        , `date_created` = in_date_created
                        , `game_energy` = in_game_energy
                        , `game_data` = in_game_data
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    AND `game_id` = in_game_id
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_rpg_item_weapon`
                    (
                        `status`
                        , `third_party_oembed`
                        , `code`
                        , `description`
                        , `game_defense`
                        , `third_party_url`
                        , `third_party_id`
                        , `content_type`
                        , `type`
                        , `active`
                        , `game_id`
                        , `game_attack`
                        , `uuid`
                        , `display_name`
                        , `name`
                        , `date_modified`
                        , `url`
                        , `third_party_data`
                        , `game_price`
                        , `game_type`
                        , `game_skill`
                        , `game_health`
                        , `date_created`
                        , `game_energy`
                        , `game_data`
                    )
                    VALUES
                    (
                        in_status
                        , in_third_party_oembed
                        , in_code
                        , in_description
                        , in_game_defense
                        , in_third_party_url
                        , in_third_party_id
                        , in_content_type
                        , in_type
                        , in_active
                        , in_game_id
                        , in_game_attack
                        , in_uuid
                        , in_display_name
                        , in_name
                        , in_date_modified
                        , in_url
                        , in_third_party_data
                        , in_game_price
                        , in_game_type
                        , in_game_skill
                        , in_game_health
                        , in_date_created
                        , in_game_energy
                        , in_game_data
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

-- ------------------------------------
-- DEL

-- ------------------------------------
-- MODEL: GameRpgItemWeapon - game_rpg_item_weapon

                       
DROP PROCEDURE IF EXISTS `usp_game_rpg_item_weapon_del_uuid`;

delimiter $$
CREATE PROCEDURE `usp_game_rpg_item_weapon_del_uuid`
(
    in_uuid BINARY(16) 
)

BEGIN
    DELETE 
    FROM `game_rpg_item_weapon`
    WHERE 1=1                        
    AND "uuid" = in_uuid
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_game_rpg_item_weapon_del_game_id`;

delimiter $$
CREATE PROCEDURE `usp_game_rpg_item_weapon_del_game_id`
(
    in_game_id BINARY(16) 
)

BEGIN
    DELETE 
    FROM `game_rpg_item_weapon`
    WHERE 1=1                        
    AND "game_id" = in_game_id
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_game_rpg_item_weapon_del_url`;

delimiter $$
CREATE PROCEDURE `usp_game_rpg_item_weapon_del_url`
(
    in_url VARCHAR (500) 
)

BEGIN
    DELETE 
    FROM `game_rpg_item_weapon`
    WHERE 1=1                        
    AND lower("url") = lower(in_url)
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_game_rpg_item_weapon_del_url_game_id`;

delimiter $$
CREATE PROCEDURE `usp_game_rpg_item_weapon_del_url_game_id`
(
    in_url VARCHAR (500) 
    , in_game_id BINARY(16) 
)

BEGIN
    DELETE 
    FROM `game_rpg_item_weapon`
    WHERE 1=1                        
    AND lower("url") = lower(in_url)
    AND "game_id" = in_game_id
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_game_rpg_item_weapon_del_uuid_game_id`;

delimiter $$
CREATE PROCEDURE `usp_game_rpg_item_weapon_del_uuid_game_id`
(
    in_uuid BINARY(16) 
    , in_game_id BINARY(16) 
)

BEGIN
    DELETE 
    FROM `game_rpg_item_weapon`
    WHERE 1=1                        
    AND "uuid" = in_uuid
    AND "game_id" = in_game_id
    ;
END$$
delimiter ;
-- ------------------------------------
-- GET

-- ------------------------------------
-- MODEL: GameRpgItemWeapon - game_rpg_item_weapon

                       
DROP PROCEDURE IF EXISTS `usp_game_rpg_item_weapon_get`;

delimiter $$
CREATE PROCEDURE `usp_game_rpg_item_weapon_get`
(
)                        
BEGIN
    SELECT
        `status`
        , `third_party_oembed`
        , `code`
        , `description`
        , `game_defense`
        , `third_party_url`
        , `third_party_id`
        , `content_type`
        , `type`
        , `active`
        , `game_id`
        , `game_attack`
        , `uuid`
        , `display_name`
        , `name`
        , `date_modified`
        , `url`
        , `third_party_data`
        , `game_price`
        , `game_type`
        , `game_skill`
        , `game_health`
        , `date_created`
        , `game_energy`
        , `game_data`
    FROM `game_rpg_item_weapon`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_rpg_item_weapon_get_uuid`;

delimiter $$
CREATE PROCEDURE `usp_game_rpg_item_weapon_get_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `third_party_oembed`
        , `code`
        , `description`
        , `game_defense`
        , `third_party_url`
        , `third_party_id`
        , `content_type`
        , `type`
        , `active`
        , `game_id`
        , `game_attack`
        , `uuid`
        , `display_name`
        , `name`
        , `date_modified`
        , `url`
        , `third_party_data`
        , `game_price`
        , `game_type`
        , `game_skill`
        , `game_health`
        , `date_created`
        , `game_energy`
        , `game_data`
    FROM `game_rpg_item_weapon`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_rpg_item_weapon_get_game_id`;

delimiter $$
CREATE PROCEDURE `usp_game_rpg_item_weapon_get_game_id`
(
    in_game_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `third_party_oembed`
        , `code`
        , `description`
        , `game_defense`
        , `third_party_url`
        , `third_party_id`
        , `content_type`
        , `type`
        , `active`
        , `game_id`
        , `game_attack`
        , `uuid`
        , `display_name`
        , `name`
        , `date_modified`
        , `url`
        , `third_party_data`
        , `game_price`
        , `game_type`
        , `game_skill`
        , `game_health`
        , `date_created`
        , `game_energy`
        , `game_data`
    FROM `game_rpg_item_weapon`
    WHERE 1=1
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_rpg_item_weapon_get_url`;

delimiter $$
CREATE PROCEDURE `usp_game_rpg_item_weapon_get_url`
(
    in_url VARCHAR (500) 
)
BEGIN
    SELECT
        `status`
        , `third_party_oembed`
        , `code`
        , `description`
        , `game_defense`
        , `third_party_url`
        , `third_party_id`
        , `content_type`
        , `type`
        , `active`
        , `game_id`
        , `game_attack`
        , `uuid`
        , `display_name`
        , `name`
        , `date_modified`
        , `url`
        , `third_party_data`
        , `game_price`
        , `game_type`
        , `game_skill`
        , `game_health`
        , `date_created`
        , `game_energy`
        , `game_data`
    FROM `game_rpg_item_weapon`
    WHERE 1=1
    AND lower(`url`) = lower(in_url)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_rpg_item_weapon_get_url_game_id`;

delimiter $$
CREATE PROCEDURE `usp_game_rpg_item_weapon_get_url_game_id`
(
    in_url VARCHAR (500) 
    , in_game_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `third_party_oembed`
        , `code`
        , `description`
        , `game_defense`
        , `third_party_url`
        , `third_party_id`
        , `content_type`
        , `type`
        , `active`
        , `game_id`
        , `game_attack`
        , `uuid`
        , `display_name`
        , `name`
        , `date_modified`
        , `url`
        , `third_party_data`
        , `game_price`
        , `game_type`
        , `game_skill`
        , `game_health`
        , `date_created`
        , `game_energy`
        , `game_data`
    FROM `game_rpg_item_weapon`
    WHERE 1=1
    AND lower(`url`) = lower(in_url)
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_rpg_item_weapon_get_uuid_game_id`;

delimiter $$
CREATE PROCEDURE `usp_game_rpg_item_weapon_get_uuid_game_id`
(
    in_uuid BINARY(16) 
    , in_game_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `third_party_oembed`
        , `code`
        , `description`
        , `game_defense`
        , `third_party_url`
        , `third_party_id`
        , `content_type`
        , `type`
        , `active`
        , `game_id`
        , `game_attack`
        , `uuid`
        , `display_name`
        , `name`
        , `date_modified`
        , `url`
        , `third_party_data`
        , `game_price`
        , `game_type`
        , `game_skill`
        , `game_health`
        , `date_created`
        , `game_energy`
        , `game_data`
    FROM `game_rpg_item_weapon`
    WHERE 1=1
    AND `uuid` = in_uuid
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

-- -----------------------------------------------------------------------------
-- PROCS

-- ------------------------------------
-- COUNT

-- ------------------------------------
-- MODEL: GameRpgItemSkill - game_rpg_item_skill

                       
DROP PROCEDURE IF EXISTS `usp_game_rpg_item_skill_count`;
delimiter $$
CREATE PROCEDURE `usp_game_rpg_item_skill_count`
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_rpg_item_skill`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_rpg_item_skill_count_uuid`;
delimiter $$
CREATE PROCEDURE `usp_game_rpg_item_skill_count_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_rpg_item_skill`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_rpg_item_skill_count_game_id`;
delimiter $$
CREATE PROCEDURE `usp_game_rpg_item_skill_count_game_id`
(
    in_game_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_rpg_item_skill`
    WHERE 1=1
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_rpg_item_skill_count_url`;
delimiter $$
CREATE PROCEDURE `usp_game_rpg_item_skill_count_url`
(
    in_url VARCHAR (500) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_rpg_item_skill`
    WHERE 1=1
    AND lower(`url`) = lower(in_url)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_rpg_item_skill_count_url_game_id`;
delimiter $$
CREATE PROCEDURE `usp_game_rpg_item_skill_count_url_game_id`
(
    in_url VARCHAR (500) 
    , in_game_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_rpg_item_skill`
    WHERE 1=1
    AND lower(`url`) = lower(in_url)
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_rpg_item_skill_count_uuid_game_id`;
delimiter $$
CREATE PROCEDURE `usp_game_rpg_item_skill_count_uuid_game_id`
(
    in_uuid BINARY(16) 
    , in_game_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_rpg_item_skill`
    WHERE 1=1
    AND `uuid` = in_uuid
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

-- ------------------------------------
-- BROWSE

-- ------------------------------------
-- MODEL: GameRpgItemSkill - game_rpg_item_skill

                       
DROP PROCEDURE IF EXISTS `usp_game_rpg_item_skill_browse_filter`;

delimiter $$
CREATE PROCEDURE `usp_game_rpg_item_skill_browse_filter`
(
    in_page int,
    in_page_size int,
    in_sort VARCHAR(500),
    in_filter VARCHAR(4000)
    
)
BEGIN
    DECLARE total_rows int;
    SET total_rows = 0;
        
    IF (in_page = 0) THEN
        SET in_page = 1;
    END IF;    
    
    IF (in_page_size = 0) THEN
       SET in_page_size = 10;
    END IF;
    
    IF (in_sort = NULL || in_sort = '') THEN
       SET in_sort = ' date_modified ASC ';
    END IF;
    
    SET @sfields = CONCAT('', '`status`');
    SET @sfields = CONCAT(@sfields, ', `third_party_oembed`');
    SET @sfields = CONCAT(@sfields, ', `code`');
    SET @sfields = CONCAT(@sfields, ', `description`');
    SET @sfields = CONCAT(@sfields, ', `game_defense`');
    SET @sfields = CONCAT(@sfields, ', `third_party_url`');
    SET @sfields = CONCAT(@sfields, ', `third_party_id`');
    SET @sfields = CONCAT(@sfields, ', `content_type`');
    SET @sfields = CONCAT(@sfields, ', `type`');
    SET @sfields = CONCAT(@sfields, ', `active`');
    SET @sfields = CONCAT(@sfields, ', `game_id`');
    SET @sfields = CONCAT(@sfields, ', `game_attack`');
    SET @sfields = CONCAT(@sfields, ', `uuid`');
    SET @sfields = CONCAT(@sfields, ', `display_name`');
    SET @sfields = CONCAT(@sfields, ', `name`');
    SET @sfields = CONCAT(@sfields, ', `date_modified`');
    SET @sfields = CONCAT(@sfields, ', `url`');
    SET @sfields = CONCAT(@sfields, ', `third_party_data`');
    SET @sfields = CONCAT(@sfields, ', `game_price`');
    SET @sfields = CONCAT(@sfields, ', `game_type`');
    SET @sfields = CONCAT(@sfields, ', `game_skill`');
    SET @sfields = CONCAT(@sfields, ', `game_health`');
    SET @sfields = CONCAT(@sfields, ', `date_created`');
    SET @sfields = CONCAT(@sfields, ', `game_energy`');
    SET @sfields = CONCAT(@sfields, ', `game_data`');
    
    SET @stable = CONCAT('', ' FROM `game_rpg_item_skill` WHERE 1=1 ');
    
    SET @s = CONCAT(' ', @stable);
    SET @s = CONCAT(@s, ' ', in_filter);    
    
    SET @scount = CONCAT('SELECT COUNT(*) as `total_rows` ', @s, ' INTO @total_rows');
    
    PREPARE stmtcount FROM @scount;
    EXECUTE stmtcount;
    #SELECT @total_rows;
    SET total_rows = @total_rows;

    SET @sfields = CONCAT(total_rows, ' as `total_rows`, ', @sfields);
    SET @s = CONCAT('SELECT ', @sfields, @s);
    SET @s = CONCAT(@s, ' ORDER BY ', in_sort);
    SET @s = CONCAT(@s, ' LIMIT ', in_page);
    SET @s = CONCAT(@s, ',', in_page_size);    

    PREPARE stmt FROM @s;
    EXECUTE stmt;
    
END$$
delimiter ;
-- ------------------------------------
-- SET

-- ------------------------------------
-- MODEL: GameRpgItemSkill - game_rpg_item_skill

                       
DROP PROCEDURE IF EXISTS `usp_game_rpg_item_skill_set_uuid`;
delimiter $$
CREATE PROCEDURE `usp_game_rpg_item_skill_set_uuid`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_third_party_oembed VARCHAR (500) 
    , in_code VARCHAR (255) 
    , in_description VARCHAR (255) 
    , in_game_defense decimal 
    , in_third_party_url VARCHAR (500) 
    , in_third_party_id VARCHAR (500) 
    , in_content_type VARCHAR (100) 
    , in_type VARCHAR (500) 
    , in_active int 
    , in_game_id BINARY(16) 
    , in_game_attack decimal 
    , in_uuid BINARY(16) 
    , in_display_name VARCHAR (255) 
    , in_name VARCHAR (255) 
    , in_date_modified TIMESTAMP 
    , in_url VARCHAR (500) 
    , in_third_party_data VARCHAR (500) 
    , in_game_price decimal 
    , in_game_type decimal 
    , in_game_skill decimal 
    , in_game_health decimal 
    , in_date_created TIMESTAMP 
    , in_game_energy decimal 
    , in_game_data TEXT 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_rpg_item_skill`  
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_rpg_item_skill` 
                    SET
                        `status` = in_status
                        , `third_party_oembed` = in_third_party_oembed
                        , `code` = in_code
                        , `description` = in_description
                        , `game_defense` = in_game_defense
                        , `third_party_url` = in_third_party_url
                        , `third_party_id` = in_third_party_id
                        , `content_type` = in_content_type
                        , `type` = in_type
                        , `active` = in_active
                        , `game_id` = in_game_id
                        , `game_attack` = in_game_attack
                        , `uuid` = in_uuid
                        , `display_name` = in_display_name
                        , `name` = in_name
                        , `date_modified` = in_date_modified
                        , `url` = in_url
                        , `third_party_data` = in_third_party_data
                        , `game_price` = in_game_price
                        , `game_type` = in_game_type
                        , `game_skill` = in_game_skill
                        , `game_health` = in_game_health
                        , `date_created` = in_date_created
                        , `game_energy` = in_game_energy
                        , `game_data` = in_game_data
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_rpg_item_skill`
                    (
                        `status`
                        , `third_party_oembed`
                        , `code`
                        , `description`
                        , `game_defense`
                        , `third_party_url`
                        , `third_party_id`
                        , `content_type`
                        , `type`
                        , `active`
                        , `game_id`
                        , `game_attack`
                        , `uuid`
                        , `display_name`
                        , `name`
                        , `date_modified`
                        , `url`
                        , `third_party_data`
                        , `game_price`
                        , `game_type`
                        , `game_skill`
                        , `game_health`
                        , `date_created`
                        , `game_energy`
                        , `game_data`
                    )
                    VALUES
                    (
                        in_status
                        , in_third_party_oembed
                        , in_code
                        , in_description
                        , in_game_defense
                        , in_third_party_url
                        , in_third_party_id
                        , in_content_type
                        , in_type
                        , in_active
                        , in_game_id
                        , in_game_attack
                        , in_uuid
                        , in_display_name
                        , in_name
                        , in_date_modified
                        , in_url
                        , in_third_party_data
                        , in_game_price
                        , in_game_type
                        , in_game_skill
                        , in_game_health
                        , in_date_created
                        , in_game_energy
                        , in_game_data
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_rpg_item_skill_set_game_id`;
delimiter $$
CREATE PROCEDURE `usp_game_rpg_item_skill_set_game_id`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_third_party_oembed VARCHAR (500) 
    , in_code VARCHAR (255) 
    , in_description VARCHAR (255) 
    , in_game_defense decimal 
    , in_third_party_url VARCHAR (500) 
    , in_third_party_id VARCHAR (500) 
    , in_content_type VARCHAR (100) 
    , in_type VARCHAR (500) 
    , in_active int 
    , in_game_id BINARY(16) 
    , in_game_attack decimal 
    , in_uuid BINARY(16) 
    , in_display_name VARCHAR (255) 
    , in_name VARCHAR (255) 
    , in_date_modified TIMESTAMP 
    , in_url VARCHAR (500) 
    , in_third_party_data VARCHAR (500) 
    , in_game_price decimal 
    , in_game_type decimal 
    , in_game_skill decimal 
    , in_game_health decimal 
    , in_date_created TIMESTAMP 
    , in_game_energy decimal 
    , in_game_data TEXT 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_rpg_item_skill`  
                    WHERE 1=1
                    AND `game_id` = in_game_id
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_rpg_item_skill` 
                    SET
                        `status` = in_status
                        , `third_party_oembed` = in_third_party_oembed
                        , `code` = in_code
                        , `description` = in_description
                        , `game_defense` = in_game_defense
                        , `third_party_url` = in_third_party_url
                        , `third_party_id` = in_third_party_id
                        , `content_type` = in_content_type
                        , `type` = in_type
                        , `active` = in_active
                        , `game_id` = in_game_id
                        , `game_attack` = in_game_attack
                        , `uuid` = in_uuid
                        , `display_name` = in_display_name
                        , `name` = in_name
                        , `date_modified` = in_date_modified
                        , `url` = in_url
                        , `third_party_data` = in_third_party_data
                        , `game_price` = in_game_price
                        , `game_type` = in_game_type
                        , `game_skill` = in_game_skill
                        , `game_health` = in_game_health
                        , `date_created` = in_date_created
                        , `game_energy` = in_game_energy
                        , `game_data` = in_game_data
                    WHERE 1=1
                    AND `game_id` = in_game_id
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_rpg_item_skill`
                    (
                        `status`
                        , `third_party_oembed`
                        , `code`
                        , `description`
                        , `game_defense`
                        , `third_party_url`
                        , `third_party_id`
                        , `content_type`
                        , `type`
                        , `active`
                        , `game_id`
                        , `game_attack`
                        , `uuid`
                        , `display_name`
                        , `name`
                        , `date_modified`
                        , `url`
                        , `third_party_data`
                        , `game_price`
                        , `game_type`
                        , `game_skill`
                        , `game_health`
                        , `date_created`
                        , `game_energy`
                        , `game_data`
                    )
                    VALUES
                    (
                        in_status
                        , in_third_party_oembed
                        , in_code
                        , in_description
                        , in_game_defense
                        , in_third_party_url
                        , in_third_party_id
                        , in_content_type
                        , in_type
                        , in_active
                        , in_game_id
                        , in_game_attack
                        , in_uuid
                        , in_display_name
                        , in_name
                        , in_date_modified
                        , in_url
                        , in_third_party_data
                        , in_game_price
                        , in_game_type
                        , in_game_skill
                        , in_game_health
                        , in_date_created
                        , in_game_energy
                        , in_game_data
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_rpg_item_skill_set_url`;
delimiter $$
CREATE PROCEDURE `usp_game_rpg_item_skill_set_url`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_third_party_oembed VARCHAR (500) 
    , in_code VARCHAR (255) 
    , in_description VARCHAR (255) 
    , in_game_defense decimal 
    , in_third_party_url VARCHAR (500) 
    , in_third_party_id VARCHAR (500) 
    , in_content_type VARCHAR (100) 
    , in_type VARCHAR (500) 
    , in_active int 
    , in_game_id BINARY(16) 
    , in_game_attack decimal 
    , in_uuid BINARY(16) 
    , in_display_name VARCHAR (255) 
    , in_name VARCHAR (255) 
    , in_date_modified TIMESTAMP 
    , in_url VARCHAR (500) 
    , in_third_party_data VARCHAR (500) 
    , in_game_price decimal 
    , in_game_type decimal 
    , in_game_skill decimal 
    , in_game_health decimal 
    , in_date_created TIMESTAMP 
    , in_game_energy decimal 
    , in_game_data TEXT 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_rpg_item_skill`  
                    WHERE 1=1
                    AND lower(`url`) = lower(in_url)
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_rpg_item_skill` 
                    SET
                        `status` = in_status
                        , `third_party_oembed` = in_third_party_oembed
                        , `code` = in_code
                        , `description` = in_description
                        , `game_defense` = in_game_defense
                        , `third_party_url` = in_third_party_url
                        , `third_party_id` = in_third_party_id
                        , `content_type` = in_content_type
                        , `type` = in_type
                        , `active` = in_active
                        , `game_id` = in_game_id
                        , `game_attack` = in_game_attack
                        , `uuid` = in_uuid
                        , `display_name` = in_display_name
                        , `name` = in_name
                        , `date_modified` = in_date_modified
                        , `url` = in_url
                        , `third_party_data` = in_third_party_data
                        , `game_price` = in_game_price
                        , `game_type` = in_game_type
                        , `game_skill` = in_game_skill
                        , `game_health` = in_game_health
                        , `date_created` = in_date_created
                        , `game_energy` = in_game_energy
                        , `game_data` = in_game_data
                    WHERE 1=1
                    AND lower(`url`) = lower(in_url)
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_rpg_item_skill`
                    (
                        `status`
                        , `third_party_oembed`
                        , `code`
                        , `description`
                        , `game_defense`
                        , `third_party_url`
                        , `third_party_id`
                        , `content_type`
                        , `type`
                        , `active`
                        , `game_id`
                        , `game_attack`
                        , `uuid`
                        , `display_name`
                        , `name`
                        , `date_modified`
                        , `url`
                        , `third_party_data`
                        , `game_price`
                        , `game_type`
                        , `game_skill`
                        , `game_health`
                        , `date_created`
                        , `game_energy`
                        , `game_data`
                    )
                    VALUES
                    (
                        in_status
                        , in_third_party_oembed
                        , in_code
                        , in_description
                        , in_game_defense
                        , in_third_party_url
                        , in_third_party_id
                        , in_content_type
                        , in_type
                        , in_active
                        , in_game_id
                        , in_game_attack
                        , in_uuid
                        , in_display_name
                        , in_name
                        , in_date_modified
                        , in_url
                        , in_third_party_data
                        , in_game_price
                        , in_game_type
                        , in_game_skill
                        , in_game_health
                        , in_date_created
                        , in_game_energy
                        , in_game_data
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_rpg_item_skill_set_url_game_id`;
delimiter $$
CREATE PROCEDURE `usp_game_rpg_item_skill_set_url_game_id`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_third_party_oembed VARCHAR (500) 
    , in_code VARCHAR (255) 
    , in_description VARCHAR (255) 
    , in_game_defense decimal 
    , in_third_party_url VARCHAR (500) 
    , in_third_party_id VARCHAR (500) 
    , in_content_type VARCHAR (100) 
    , in_type VARCHAR (500) 
    , in_active int 
    , in_game_id BINARY(16) 
    , in_game_attack decimal 
    , in_uuid BINARY(16) 
    , in_display_name VARCHAR (255) 
    , in_name VARCHAR (255) 
    , in_date_modified TIMESTAMP 
    , in_url VARCHAR (500) 
    , in_third_party_data VARCHAR (500) 
    , in_game_price decimal 
    , in_game_type decimal 
    , in_game_skill decimal 
    , in_game_health decimal 
    , in_date_created TIMESTAMP 
    , in_game_energy decimal 
    , in_game_data TEXT 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_rpg_item_skill`  
                    WHERE 1=1
                    AND lower(`url`) = lower(in_url)
                    AND `game_id` = in_game_id
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_rpg_item_skill` 
                    SET
                        `status` = in_status
                        , `third_party_oembed` = in_third_party_oembed
                        , `code` = in_code
                        , `description` = in_description
                        , `game_defense` = in_game_defense
                        , `third_party_url` = in_third_party_url
                        , `third_party_id` = in_third_party_id
                        , `content_type` = in_content_type
                        , `type` = in_type
                        , `active` = in_active
                        , `game_id` = in_game_id
                        , `game_attack` = in_game_attack
                        , `uuid` = in_uuid
                        , `display_name` = in_display_name
                        , `name` = in_name
                        , `date_modified` = in_date_modified
                        , `url` = in_url
                        , `third_party_data` = in_third_party_data
                        , `game_price` = in_game_price
                        , `game_type` = in_game_type
                        , `game_skill` = in_game_skill
                        , `game_health` = in_game_health
                        , `date_created` = in_date_created
                        , `game_energy` = in_game_energy
                        , `game_data` = in_game_data
                    WHERE 1=1
                    AND lower(`url`) = lower(in_url)
                    AND `game_id` = in_game_id
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_rpg_item_skill`
                    (
                        `status`
                        , `third_party_oembed`
                        , `code`
                        , `description`
                        , `game_defense`
                        , `third_party_url`
                        , `third_party_id`
                        , `content_type`
                        , `type`
                        , `active`
                        , `game_id`
                        , `game_attack`
                        , `uuid`
                        , `display_name`
                        , `name`
                        , `date_modified`
                        , `url`
                        , `third_party_data`
                        , `game_price`
                        , `game_type`
                        , `game_skill`
                        , `game_health`
                        , `date_created`
                        , `game_energy`
                        , `game_data`
                    )
                    VALUES
                    (
                        in_status
                        , in_third_party_oembed
                        , in_code
                        , in_description
                        , in_game_defense
                        , in_third_party_url
                        , in_third_party_id
                        , in_content_type
                        , in_type
                        , in_active
                        , in_game_id
                        , in_game_attack
                        , in_uuid
                        , in_display_name
                        , in_name
                        , in_date_modified
                        , in_url
                        , in_third_party_data
                        , in_game_price
                        , in_game_type
                        , in_game_skill
                        , in_game_health
                        , in_date_created
                        , in_game_energy
                        , in_game_data
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_rpg_item_skill_set_uuid_game_id`;
delimiter $$
CREATE PROCEDURE `usp_game_rpg_item_skill_set_uuid_game_id`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_third_party_oembed VARCHAR (500) 
    , in_code VARCHAR (255) 
    , in_description VARCHAR (255) 
    , in_game_defense decimal 
    , in_third_party_url VARCHAR (500) 
    , in_third_party_id VARCHAR (500) 
    , in_content_type VARCHAR (100) 
    , in_type VARCHAR (500) 
    , in_active int 
    , in_game_id BINARY(16) 
    , in_game_attack decimal 
    , in_uuid BINARY(16) 
    , in_display_name VARCHAR (255) 
    , in_name VARCHAR (255) 
    , in_date_modified TIMESTAMP 
    , in_url VARCHAR (500) 
    , in_third_party_data VARCHAR (500) 
    , in_game_price decimal 
    , in_game_type decimal 
    , in_game_skill decimal 
    , in_game_health decimal 
    , in_date_created TIMESTAMP 
    , in_game_energy decimal 
    , in_game_data TEXT 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_rpg_item_skill`  
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    AND `game_id` = in_game_id
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_rpg_item_skill` 
                    SET
                        `status` = in_status
                        , `third_party_oembed` = in_third_party_oembed
                        , `code` = in_code
                        , `description` = in_description
                        , `game_defense` = in_game_defense
                        , `third_party_url` = in_third_party_url
                        , `third_party_id` = in_third_party_id
                        , `content_type` = in_content_type
                        , `type` = in_type
                        , `active` = in_active
                        , `game_id` = in_game_id
                        , `game_attack` = in_game_attack
                        , `uuid` = in_uuid
                        , `display_name` = in_display_name
                        , `name` = in_name
                        , `date_modified` = in_date_modified
                        , `url` = in_url
                        , `third_party_data` = in_third_party_data
                        , `game_price` = in_game_price
                        , `game_type` = in_game_type
                        , `game_skill` = in_game_skill
                        , `game_health` = in_game_health
                        , `date_created` = in_date_created
                        , `game_energy` = in_game_energy
                        , `game_data` = in_game_data
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    AND `game_id` = in_game_id
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_rpg_item_skill`
                    (
                        `status`
                        , `third_party_oembed`
                        , `code`
                        , `description`
                        , `game_defense`
                        , `third_party_url`
                        , `third_party_id`
                        , `content_type`
                        , `type`
                        , `active`
                        , `game_id`
                        , `game_attack`
                        , `uuid`
                        , `display_name`
                        , `name`
                        , `date_modified`
                        , `url`
                        , `third_party_data`
                        , `game_price`
                        , `game_type`
                        , `game_skill`
                        , `game_health`
                        , `date_created`
                        , `game_energy`
                        , `game_data`
                    )
                    VALUES
                    (
                        in_status
                        , in_third_party_oembed
                        , in_code
                        , in_description
                        , in_game_defense
                        , in_third_party_url
                        , in_third_party_id
                        , in_content_type
                        , in_type
                        , in_active
                        , in_game_id
                        , in_game_attack
                        , in_uuid
                        , in_display_name
                        , in_name
                        , in_date_modified
                        , in_url
                        , in_third_party_data
                        , in_game_price
                        , in_game_type
                        , in_game_skill
                        , in_game_health
                        , in_date_created
                        , in_game_energy
                        , in_game_data
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

-- ------------------------------------
-- DEL

-- ------------------------------------
-- MODEL: GameRpgItemSkill - game_rpg_item_skill

                       
DROP PROCEDURE IF EXISTS `usp_game_rpg_item_skill_del_uuid`;

delimiter $$
CREATE PROCEDURE `usp_game_rpg_item_skill_del_uuid`
(
    in_uuid BINARY(16) 
)

BEGIN
    DELETE 
    FROM `game_rpg_item_skill`
    WHERE 1=1                        
    AND "uuid" = in_uuid
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_game_rpg_item_skill_del_game_id`;

delimiter $$
CREATE PROCEDURE `usp_game_rpg_item_skill_del_game_id`
(
    in_game_id BINARY(16) 
)

BEGIN
    DELETE 
    FROM `game_rpg_item_skill`
    WHERE 1=1                        
    AND "game_id" = in_game_id
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_game_rpg_item_skill_del_url`;

delimiter $$
CREATE PROCEDURE `usp_game_rpg_item_skill_del_url`
(
    in_url VARCHAR (500) 
)

BEGIN
    DELETE 
    FROM `game_rpg_item_skill`
    WHERE 1=1                        
    AND lower("url") = lower(in_url)
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_game_rpg_item_skill_del_url_game_id`;

delimiter $$
CREATE PROCEDURE `usp_game_rpg_item_skill_del_url_game_id`
(
    in_url VARCHAR (500) 
    , in_game_id BINARY(16) 
)

BEGIN
    DELETE 
    FROM `game_rpg_item_skill`
    WHERE 1=1                        
    AND lower("url") = lower(in_url)
    AND "game_id" = in_game_id
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_game_rpg_item_skill_del_uuid_game_id`;

delimiter $$
CREATE PROCEDURE `usp_game_rpg_item_skill_del_uuid_game_id`
(
    in_uuid BINARY(16) 
    , in_game_id BINARY(16) 
)

BEGIN
    DELETE 
    FROM `game_rpg_item_skill`
    WHERE 1=1                        
    AND "uuid" = in_uuid
    AND "game_id" = in_game_id
    ;
END$$
delimiter ;
-- ------------------------------------
-- GET

-- ------------------------------------
-- MODEL: GameRpgItemSkill - game_rpg_item_skill

                       
DROP PROCEDURE IF EXISTS `usp_game_rpg_item_skill_get`;

delimiter $$
CREATE PROCEDURE `usp_game_rpg_item_skill_get`
(
)                        
BEGIN
    SELECT
        `status`
        , `third_party_oembed`
        , `code`
        , `description`
        , `game_defense`
        , `third_party_url`
        , `third_party_id`
        , `content_type`
        , `type`
        , `active`
        , `game_id`
        , `game_attack`
        , `uuid`
        , `display_name`
        , `name`
        , `date_modified`
        , `url`
        , `third_party_data`
        , `game_price`
        , `game_type`
        , `game_skill`
        , `game_health`
        , `date_created`
        , `game_energy`
        , `game_data`
    FROM `game_rpg_item_skill`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_rpg_item_skill_get_uuid`;

delimiter $$
CREATE PROCEDURE `usp_game_rpg_item_skill_get_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `third_party_oembed`
        , `code`
        , `description`
        , `game_defense`
        , `third_party_url`
        , `third_party_id`
        , `content_type`
        , `type`
        , `active`
        , `game_id`
        , `game_attack`
        , `uuid`
        , `display_name`
        , `name`
        , `date_modified`
        , `url`
        , `third_party_data`
        , `game_price`
        , `game_type`
        , `game_skill`
        , `game_health`
        , `date_created`
        , `game_energy`
        , `game_data`
    FROM `game_rpg_item_skill`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_rpg_item_skill_get_game_id`;

delimiter $$
CREATE PROCEDURE `usp_game_rpg_item_skill_get_game_id`
(
    in_game_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `third_party_oembed`
        , `code`
        , `description`
        , `game_defense`
        , `third_party_url`
        , `third_party_id`
        , `content_type`
        , `type`
        , `active`
        , `game_id`
        , `game_attack`
        , `uuid`
        , `display_name`
        , `name`
        , `date_modified`
        , `url`
        , `third_party_data`
        , `game_price`
        , `game_type`
        , `game_skill`
        , `game_health`
        , `date_created`
        , `game_energy`
        , `game_data`
    FROM `game_rpg_item_skill`
    WHERE 1=1
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_rpg_item_skill_get_url`;

delimiter $$
CREATE PROCEDURE `usp_game_rpg_item_skill_get_url`
(
    in_url VARCHAR (500) 
)
BEGIN
    SELECT
        `status`
        , `third_party_oembed`
        , `code`
        , `description`
        , `game_defense`
        , `third_party_url`
        , `third_party_id`
        , `content_type`
        , `type`
        , `active`
        , `game_id`
        , `game_attack`
        , `uuid`
        , `display_name`
        , `name`
        , `date_modified`
        , `url`
        , `third_party_data`
        , `game_price`
        , `game_type`
        , `game_skill`
        , `game_health`
        , `date_created`
        , `game_energy`
        , `game_data`
    FROM `game_rpg_item_skill`
    WHERE 1=1
    AND lower(`url`) = lower(in_url)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_rpg_item_skill_get_url_game_id`;

delimiter $$
CREATE PROCEDURE `usp_game_rpg_item_skill_get_url_game_id`
(
    in_url VARCHAR (500) 
    , in_game_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `third_party_oembed`
        , `code`
        , `description`
        , `game_defense`
        , `third_party_url`
        , `third_party_id`
        , `content_type`
        , `type`
        , `active`
        , `game_id`
        , `game_attack`
        , `uuid`
        , `display_name`
        , `name`
        , `date_modified`
        , `url`
        , `third_party_data`
        , `game_price`
        , `game_type`
        , `game_skill`
        , `game_health`
        , `date_created`
        , `game_energy`
        , `game_data`
    FROM `game_rpg_item_skill`
    WHERE 1=1
    AND lower(`url`) = lower(in_url)
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_rpg_item_skill_get_uuid_game_id`;

delimiter $$
CREATE PROCEDURE `usp_game_rpg_item_skill_get_uuid_game_id`
(
    in_uuid BINARY(16) 
    , in_game_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `third_party_oembed`
        , `code`
        , `description`
        , `game_defense`
        , `third_party_url`
        , `third_party_id`
        , `content_type`
        , `type`
        , `active`
        , `game_id`
        , `game_attack`
        , `uuid`
        , `display_name`
        , `name`
        , `date_modified`
        , `url`
        , `third_party_data`
        , `game_price`
        , `game_type`
        , `game_skill`
        , `game_health`
        , `date_created`
        , `game_energy`
        , `game_data`
    FROM `game_rpg_item_skill`
    WHERE 1=1
    AND `uuid` = in_uuid
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

-- -----------------------------------------------------------------------------
-- PROCS

-- ------------------------------------
-- COUNT

-- ------------------------------------
-- MODEL: GameProduct - game_product

                       
DROP PROCEDURE IF EXISTS `usp_game_product_count`;
delimiter $$
CREATE PROCEDURE `usp_game_product_count`
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_product`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_product_count_uuid`;
delimiter $$
CREATE PROCEDURE `usp_game_product_count_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_product`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_product_count_game_id`;
delimiter $$
CREATE PROCEDURE `usp_game_product_count_game_id`
(
    in_game_id VARCHAR (100) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_product`
    WHERE 1=1
    AND lower(`game_id`) = lower(in_game_id)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_product_count_url`;
delimiter $$
CREATE PROCEDURE `usp_game_product_count_url`
(
    in_url VARCHAR (255) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_product`
    WHERE 1=1
    AND lower(`url`) = lower(in_url)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_product_count_url_game_id`;
delimiter $$
CREATE PROCEDURE `usp_game_product_count_url_game_id`
(
    in_url VARCHAR (255) 
    , in_game_id VARCHAR (100) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_product`
    WHERE 1=1
    AND lower(`url`) = lower(in_url)
    AND lower(`game_id`) = lower(in_game_id)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_product_count_uuid_game_id`;
delimiter $$
CREATE PROCEDURE `usp_game_product_count_uuid_game_id`
(
    in_uuid BINARY(16) 
    , in_game_id VARCHAR (100) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_product`
    WHERE 1=1
    AND `uuid` = in_uuid
    AND lower(`game_id`) = lower(in_game_id)
    ;
END$$
delimiter ;

-- ------------------------------------
-- BROWSE

-- ------------------------------------
-- MODEL: GameProduct - game_product

                       
DROP PROCEDURE IF EXISTS `usp_game_product_browse_filter`;

delimiter $$
CREATE PROCEDURE `usp_game_product_browse_filter`
(
    in_page int,
    in_page_size int,
    in_sort VARCHAR(500),
    in_filter VARCHAR(4000)
    
)
BEGIN
    DECLARE total_rows int;
    SET total_rows = 0;
        
    IF (in_page = 0) THEN
        SET in_page = 1;
    END IF;    
    
    IF (in_page_size = 0) THEN
       SET in_page_size = 10;
    END IF;
    
    IF (in_sort = NULL || in_sort = '') THEN
       SET in_sort = ' date_modified ASC ';
    END IF;
    
    SET @sfields = CONCAT('', '`status`');
    SET @sfields = CONCAT(@sfields, ', `code`');
    SET @sfields = CONCAT(@sfields, ', `display_name`');
    SET @sfields = CONCAT(@sfields, ', `name`');
    SET @sfields = CONCAT(@sfields, ', `date_modified`');
    SET @sfields = CONCAT(@sfields, ', `url`');
    SET @sfields = CONCAT(@sfields, ', `uuid`');
    SET @sfields = CONCAT(@sfields, ', `game_id`');
    SET @sfields = CONCAT(@sfields, ', `active`');
    SET @sfields = CONCAT(@sfields, ', `date_created`');
    SET @sfields = CONCAT(@sfields, ', `type`');
    SET @sfields = CONCAT(@sfields, ', `description`');
    
    SET @stable = CONCAT('', ' FROM `game_product` WHERE 1=1 ');
    
    SET @s = CONCAT(' ', @stable);
    SET @s = CONCAT(@s, ' ', in_filter);    
    
    SET @scount = CONCAT('SELECT COUNT(*) as `total_rows` ', @s, ' INTO @total_rows');
    
    PREPARE stmtcount FROM @scount;
    EXECUTE stmtcount;
    #SELECT @total_rows;
    SET total_rows = @total_rows;

    SET @sfields = CONCAT(total_rows, ' as `total_rows`, ', @sfields);
    SET @s = CONCAT('SELECT ', @sfields, @s);
    SET @s = CONCAT(@s, ' ORDER BY ', in_sort);
    SET @s = CONCAT(@s, ' LIMIT ', in_page);
    SET @s = CONCAT(@s, ',', in_page_size);    

    PREPARE stmt FROM @s;
    EXECUTE stmt;
    
END$$
delimiter ;
-- ------------------------------------
-- SET

-- ------------------------------------
-- MODEL: GameProduct - game_product

                       
DROP PROCEDURE IF EXISTS `usp_game_product_set_uuid`;
delimiter $$
CREATE PROCEDURE `usp_game_product_set_uuid`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_code VARCHAR (255) 
    , in_display_name VARCHAR (255) 
    , in_name VARCHAR (255) 
    , in_date_modified TIMESTAMP 
    , in_url VARCHAR (255) 
    , in_uuid BINARY(16) 
    , in_game_id VARCHAR (100) 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (500) 
    , in_description VARCHAR (255) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_product`  
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_product` 
                    SET
                        `status` = in_status
                        , `code` = in_code
                        , `display_name` = in_display_name
                        , `name` = in_name
                        , `date_modified` = in_date_modified
                        , `url` = in_url
                        , `uuid` = in_uuid
                        , `game_id` = in_game_id
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `type` = in_type
                        , `description` = in_description
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_product`
                    (
                        `status`
                        , `code`
                        , `display_name`
                        , `name`
                        , `date_modified`
                        , `url`
                        , `uuid`
                        , `game_id`
                        , `active`
                        , `date_created`
                        , `type`
                        , `description`
                    )
                    VALUES
                    (
                        in_status
                        , in_code
                        , in_display_name
                        , in_name
                        , in_date_modified
                        , in_url
                        , in_uuid
                        , in_game_id
                        , in_active
                        , in_date_created
                        , in_type
                        , in_description
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_product_set_game_id`;
delimiter $$
CREATE PROCEDURE `usp_game_product_set_game_id`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_code VARCHAR (255) 
    , in_display_name VARCHAR (255) 
    , in_name VARCHAR (255) 
    , in_date_modified TIMESTAMP 
    , in_url VARCHAR (255) 
    , in_uuid BINARY(16) 
    , in_game_id VARCHAR (100) 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (500) 
    , in_description VARCHAR (255) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_product`  
                    WHERE 1=1
                    AND lower(`game_id`) = lower(in_game_id)
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_product` 
                    SET
                        `status` = in_status
                        , `code` = in_code
                        , `display_name` = in_display_name
                        , `name` = in_name
                        , `date_modified` = in_date_modified
                        , `url` = in_url
                        , `uuid` = in_uuid
                        , `game_id` = in_game_id
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `type` = in_type
                        , `description` = in_description
                    WHERE 1=1
                    AND lower(`game_id`) = lower(in_game_id)
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_product`
                    (
                        `status`
                        , `code`
                        , `display_name`
                        , `name`
                        , `date_modified`
                        , `url`
                        , `uuid`
                        , `game_id`
                        , `active`
                        , `date_created`
                        , `type`
                        , `description`
                    )
                    VALUES
                    (
                        in_status
                        , in_code
                        , in_display_name
                        , in_name
                        , in_date_modified
                        , in_url
                        , in_uuid
                        , in_game_id
                        , in_active
                        , in_date_created
                        , in_type
                        , in_description
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_product_set_url`;
delimiter $$
CREATE PROCEDURE `usp_game_product_set_url`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_code VARCHAR (255) 
    , in_display_name VARCHAR (255) 
    , in_name VARCHAR (255) 
    , in_date_modified TIMESTAMP 
    , in_url VARCHAR (255) 
    , in_uuid BINARY(16) 
    , in_game_id VARCHAR (100) 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (500) 
    , in_description VARCHAR (255) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_product`  
                    WHERE 1=1
                    AND lower(`url`) = lower(in_url)
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_product` 
                    SET
                        `status` = in_status
                        , `code` = in_code
                        , `display_name` = in_display_name
                        , `name` = in_name
                        , `date_modified` = in_date_modified
                        , `url` = in_url
                        , `uuid` = in_uuid
                        , `game_id` = in_game_id
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `type` = in_type
                        , `description` = in_description
                    WHERE 1=1
                    AND lower(`url`) = lower(in_url)
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_product`
                    (
                        `status`
                        , `code`
                        , `display_name`
                        , `name`
                        , `date_modified`
                        , `url`
                        , `uuid`
                        , `game_id`
                        , `active`
                        , `date_created`
                        , `type`
                        , `description`
                    )
                    VALUES
                    (
                        in_status
                        , in_code
                        , in_display_name
                        , in_name
                        , in_date_modified
                        , in_url
                        , in_uuid
                        , in_game_id
                        , in_active
                        , in_date_created
                        , in_type
                        , in_description
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_product_set_url_game_id`;
delimiter $$
CREATE PROCEDURE `usp_game_product_set_url_game_id`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_code VARCHAR (255) 
    , in_display_name VARCHAR (255) 
    , in_name VARCHAR (255) 
    , in_date_modified TIMESTAMP 
    , in_url VARCHAR (255) 
    , in_uuid BINARY(16) 
    , in_game_id VARCHAR (100) 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (500) 
    , in_description VARCHAR (255) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_product`  
                    WHERE 1=1
                    AND lower(`url`) = lower(in_url)
                    AND lower(`game_id`) = lower(in_game_id)
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_product` 
                    SET
                        `status` = in_status
                        , `code` = in_code
                        , `display_name` = in_display_name
                        , `name` = in_name
                        , `date_modified` = in_date_modified
                        , `url` = in_url
                        , `uuid` = in_uuid
                        , `game_id` = in_game_id
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `type` = in_type
                        , `description` = in_description
                    WHERE 1=1
                    AND lower(`url`) = lower(in_url)
                    AND lower(`game_id`) = lower(in_game_id)
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_product`
                    (
                        `status`
                        , `code`
                        , `display_name`
                        , `name`
                        , `date_modified`
                        , `url`
                        , `uuid`
                        , `game_id`
                        , `active`
                        , `date_created`
                        , `type`
                        , `description`
                    )
                    VALUES
                    (
                        in_status
                        , in_code
                        , in_display_name
                        , in_name
                        , in_date_modified
                        , in_url
                        , in_uuid
                        , in_game_id
                        , in_active
                        , in_date_created
                        , in_type
                        , in_description
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_product_set_uuid_game_id`;
delimiter $$
CREATE PROCEDURE `usp_game_product_set_uuid_game_id`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_code VARCHAR (255) 
    , in_display_name VARCHAR (255) 
    , in_name VARCHAR (255) 
    , in_date_modified TIMESTAMP 
    , in_url VARCHAR (255) 
    , in_uuid BINARY(16) 
    , in_game_id VARCHAR (100) 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (500) 
    , in_description VARCHAR (255) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_product`  
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    AND lower(`game_id`) = lower(in_game_id)
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_product` 
                    SET
                        `status` = in_status
                        , `code` = in_code
                        , `display_name` = in_display_name
                        , `name` = in_name
                        , `date_modified` = in_date_modified
                        , `url` = in_url
                        , `uuid` = in_uuid
                        , `game_id` = in_game_id
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `type` = in_type
                        , `description` = in_description
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    AND lower(`game_id`) = lower(in_game_id)
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_product`
                    (
                        `status`
                        , `code`
                        , `display_name`
                        , `name`
                        , `date_modified`
                        , `url`
                        , `uuid`
                        , `game_id`
                        , `active`
                        , `date_created`
                        , `type`
                        , `description`
                    )
                    VALUES
                    (
                        in_status
                        , in_code
                        , in_display_name
                        , in_name
                        , in_date_modified
                        , in_url
                        , in_uuid
                        , in_game_id
                        , in_active
                        , in_date_created
                        , in_type
                        , in_description
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

-- ------------------------------------
-- DEL

-- ------------------------------------
-- MODEL: GameProduct - game_product

                       
DROP PROCEDURE IF EXISTS `usp_game_product_del_uuid`;

delimiter $$
CREATE PROCEDURE `usp_game_product_del_uuid`
(
    in_uuid BINARY(16) 
)

BEGIN
    DELETE 
    FROM `game_product`
    WHERE 1=1                        
    AND "uuid" = in_uuid
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_game_product_del_game_id`;

delimiter $$
CREATE PROCEDURE `usp_game_product_del_game_id`
(
    in_game_id VARCHAR (100) 
)

BEGIN
    DELETE 
    FROM `game_product`
    WHERE 1=1                        
    AND lower("game_id") = lower(in_game_id)
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_game_product_del_url`;

delimiter $$
CREATE PROCEDURE `usp_game_product_del_url`
(
    in_url VARCHAR (255) 
)

BEGIN
    DELETE 
    FROM `game_product`
    WHERE 1=1                        
    AND lower("url") = lower(in_url)
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_game_product_del_url_game_id`;

delimiter $$
CREATE PROCEDURE `usp_game_product_del_url_game_id`
(
    in_url VARCHAR (255) 
    , in_game_id VARCHAR (100) 
)

BEGIN
    DELETE 
    FROM `game_product`
    WHERE 1=1                        
    AND lower("url") = lower(in_url)
    AND lower("game_id") = lower(in_game_id)
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_game_product_del_uuid_game_id`;

delimiter $$
CREATE PROCEDURE `usp_game_product_del_uuid_game_id`
(
    in_uuid BINARY(16) 
    , in_game_id VARCHAR (100) 
)

BEGIN
    DELETE 
    FROM `game_product`
    WHERE 1=1                        
    AND "uuid" = in_uuid
    AND lower("game_id") = lower(in_game_id)
    ;
END$$
delimiter ;
-- ------------------------------------
-- GET

-- ------------------------------------
-- MODEL: GameProduct - game_product

                       
DROP PROCEDURE IF EXISTS `usp_game_product_get`;

delimiter $$
CREATE PROCEDURE `usp_game_product_get`
(
)                        
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `url`
        , `uuid`
        , `game_id`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `game_product`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_product_get_uuid`;

delimiter $$
CREATE PROCEDURE `usp_game_product_get_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `url`
        , `uuid`
        , `game_id`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `game_product`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_product_get_game_id`;

delimiter $$
CREATE PROCEDURE `usp_game_product_get_game_id`
(
    in_game_id VARCHAR (100) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `url`
        , `uuid`
        , `game_id`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `game_product`
    WHERE 1=1
    AND lower(`game_id`) = lower(in_game_id)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_product_get_url`;

delimiter $$
CREATE PROCEDURE `usp_game_product_get_url`
(
    in_url VARCHAR (255) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `url`
        , `uuid`
        , `game_id`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `game_product`
    WHERE 1=1
    AND lower(`url`) = lower(in_url)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_product_get_url_game_id`;

delimiter $$
CREATE PROCEDURE `usp_game_product_get_url_game_id`
(
    in_url VARCHAR (255) 
    , in_game_id VARCHAR (100) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `url`
        , `uuid`
        , `game_id`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `game_product`
    WHERE 1=1
    AND lower(`url`) = lower(in_url)
    AND lower(`game_id`) = lower(in_game_id)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_product_get_uuid_game_id`;

delimiter $$
CREATE PROCEDURE `usp_game_product_get_uuid_game_id`
(
    in_uuid BINARY(16) 
    , in_game_id VARCHAR (100) 
)
BEGIN
    SELECT
        `status`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `url`
        , `uuid`
        , `game_id`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `game_product`
    WHERE 1=1
    AND `uuid` = in_uuid
    AND lower(`game_id`) = lower(in_game_id)
    ;
END$$
delimiter ;

-- -----------------------------------------------------------------------------
-- PROCS

-- ------------------------------------
-- COUNT

-- ------------------------------------
-- MODEL: GameStatisticLeaderboard - game_statistic_leaderboard

                       
DROP PROCEDURE IF EXISTS `usp_game_statistic_leaderboard_count`;
delimiter $$
CREATE PROCEDURE `usp_game_statistic_leaderboard_count`
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_statistic_leaderboard`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_statistic_leaderboard_count_uuid`;
delimiter $$
CREATE PROCEDURE `usp_game_statistic_leaderboard_count_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_statistic_leaderboard`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_statistic_leaderboard_count_key`;
delimiter $$
CREATE PROCEDURE `usp_game_statistic_leaderboard_count_key`
(
    in_key BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_statistic_leaderboard`
    WHERE 1=1
    AND `key` = in_key
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_statistic_leaderboard_count_game_id`;
delimiter $$
CREATE PROCEDURE `usp_game_statistic_leaderboard_count_game_id`
(
    in_game_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_statistic_leaderboard`
    WHERE 1=1
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_statistic_leaderboard_count_key_game_id`;
delimiter $$
CREATE PROCEDURE `usp_game_statistic_leaderboard_count_key_game_id`
(
    in_key BINARY(16) 
    , in_game_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_statistic_leaderboard`
    WHERE 1=1
    AND `key` = in_key
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_statistic_leaderboard_count_profile_id_game_id`;
delimiter $$
CREATE PROCEDURE `usp_game_statistic_leaderboard_count_profile_id_game_id`
(
    in_profile_id BINARY(16) 
    , in_game_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_statistic_leaderboard`
    WHERE 1=1
    AND `profile_id` = in_profile_id
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_statistic_leaderboard_count_key_profile_id_game_id`;
delimiter $$
CREATE PROCEDURE `usp_game_statistic_leaderboard_count_key_profile_id_game_id`
(
    in_key BINARY(16) 
    , in_profile_id BINARY(16) 
    , in_game_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_statistic_leaderboard`
    WHERE 1=1
    AND `key` = in_key
    AND `profile_id` = in_profile_id
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_statistic_leaderboard_count_key_profile_id_game_id_tim`;
delimiter $$
CREATE PROCEDURE `usp_game_statistic_leaderboard_count_key_profile_id_game_id_tim`
(
    in_key BINARY(16) 
    , in_profile_id BINARY(16) 
    , in_game_id BINARY(16) 
    , in_timestamp decimal 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_statistic_leaderboard`
    WHERE 1=1
    AND `key` = in_key
    AND `profile_id` = in_profile_id
    AND `game_id` = in_game_id
    AND `timestamp` = in_timestamp
    ;
END$$
delimiter ;

-- ------------------------------------
-- BROWSE

-- ------------------------------------
-- MODEL: GameStatisticLeaderboard - game_statistic_leaderboard

                       
DROP PROCEDURE IF EXISTS `usp_game_statistic_leaderboard_browse_filter`;

delimiter $$
CREATE PROCEDURE `usp_game_statistic_leaderboard_browse_filter`
(
    in_page int,
    in_page_size int,
    in_sort VARCHAR(500),
    in_filter VARCHAR(4000)
    
)
BEGIN
    DECLARE total_rows int;
    SET total_rows = 0;
        
    IF (in_page = 0) THEN
        SET in_page = 1;
    END IF;    
    
    IF (in_page_size = 0) THEN
       SET in_page_size = 10;
    END IF;
    
    IF (in_sort = NULL || in_sort = '') THEN
       SET in_sort = ' date_modified ASC ';
    END IF;
    
    SET @sfields = CONCAT('', '`status`');
    SET @sfields = CONCAT(@sfields, ', `username`');
    SET @sfields = CONCAT(@sfields, ', `key`');
    SET @sfields = CONCAT(@sfields, ', `stat_value_formatted`');
    SET @sfields = CONCAT(@sfields, ', `profile_id`');
    SET @sfields = CONCAT(@sfields, ', `rank`');
    SET @sfields = CONCAT(@sfields, ', `rank_change`');
    SET @sfields = CONCAT(@sfields, ', `game_id`');
    SET @sfields = CONCAT(@sfields, ', `active`');
    SET @sfields = CONCAT(@sfields, ', `rank_total_count`');
    SET @sfields = CONCAT(@sfields, ', `data`');
    SET @sfields = CONCAT(@sfields, ', `stat_value`');
    SET @sfields = CONCAT(@sfields, ', `uuid`');
    SET @sfields = CONCAT(@sfields, ', `date_modified`');
    SET @sfields = CONCAT(@sfields, ', `level`');
    SET @sfields = CONCAT(@sfields, ', `timestamp`');
    SET @sfields = CONCAT(@sfields, ', `date_created`');
    SET @sfields = CONCAT(@sfields, ', `type`');
    
    SET @stable = CONCAT('', ' FROM `game_statistic_leaderboard` WHERE 1=1 ');
    
    SET @s = CONCAT(' ', @stable);
    SET @s = CONCAT(@s, ' ', in_filter);    
    
    SET @scount = CONCAT('SELECT COUNT(*) as `total_rows` ', @s, ' INTO @total_rows');
    
    PREPARE stmtcount FROM @scount;
    EXECUTE stmtcount;
    #SELECT @total_rows;
    SET total_rows = @total_rows;

    SET @sfields = CONCAT(total_rows, ' as `total_rows`, ', @sfields);
    SET @s = CONCAT('SELECT ', @sfields, @s);
    SET @s = CONCAT(@s, ' ORDER BY ', in_sort);
    SET @s = CONCAT(@s, ' LIMIT ', in_page);
    SET @s = CONCAT(@s, ',', in_page_size);    

    PREPARE stmt FROM @s;
    EXECUTE stmt;
    
END$$
delimiter ;
-- ------------------------------------
-- SET

-- ------------------------------------
-- MODEL: GameStatisticLeaderboard - game_statistic_leaderboard

                       
DROP PROCEDURE IF EXISTS `usp_game_statistic_leaderboard_set_uuid`;
delimiter $$
CREATE PROCEDURE `usp_game_statistic_leaderboard_set_uuid`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_username VARCHAR (500) 
    , in_key BINARY(16) 
    , in_stat_value_formatted VARCHAR (500) 
    , in_profile_id BINARY(16) 
    , in_rank INTEGER 
    , in_rank_change INTEGER 
    , in_game_id BINARY(16) 
    , in_active int 
    , in_rank_total_count INTEGER 
    , in_data TEXT 
    , in_stat_value decimal 
    , in_uuid BINARY(16) 
    , in_date_modified TIMESTAMP 
    , in_level VARCHAR (500) 
    , in_timestamp decimal 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (500) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_statistic_leaderboard`  
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_statistic_leaderboard` 
                    SET
                        `status` = in_status
                        , `username` = in_username
                        , `key` = in_key
                        , `stat_value_formatted` = in_stat_value_formatted
                        , `profile_id` = in_profile_id
                        , `rank` = in_rank
                        , `rank_change` = in_rank_change
                        , `game_id` = in_game_id
                        , `active` = in_active
                        , `rank_total_count` = in_rank_total_count
                        , `data` = in_data
                        , `stat_value` = in_stat_value
                        , `uuid` = in_uuid
                        , `date_modified` = in_date_modified
                        , `level` = in_level
                        , `timestamp` = in_timestamp
                        , `date_created` = in_date_created
                        , `type` = in_type
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_statistic_leaderboard`
                    (
                        `status`
                        , `username`
                        , `key`
                        , `stat_value_formatted`
                        , `profile_id`
                        , `rank`
                        , `rank_change`
                        , `game_id`
                        , `active`
                        , `rank_total_count`
                        , `data`
                        , `stat_value`
                        , `uuid`
                        , `date_modified`
                        , `level`
                        , `timestamp`
                        , `date_created`
                        , `type`
                    )
                    VALUES
                    (
                        in_status
                        , in_username
                        , in_key
                        , in_stat_value_formatted
                        , in_profile_id
                        , in_rank
                        , in_rank_change
                        , in_game_id
                        , in_active
                        , in_rank_total_count
                        , in_data
                        , in_stat_value
                        , in_uuid
                        , in_date_modified
                        , in_level
                        , in_timestamp
                        , in_date_created
                        , in_type
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_statistic_leaderboard_set_uuid_profile_id_game_id_time`;
delimiter $$
CREATE PROCEDURE `usp_game_statistic_leaderboard_set_uuid_profile_id_game_id_time`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_username VARCHAR (500) 
    , in_key BINARY(16) 
    , in_stat_value_formatted VARCHAR (500) 
    , in_profile_id BINARY(16) 
    , in_rank INTEGER 
    , in_rank_change INTEGER 
    , in_game_id BINARY(16) 
    , in_active int 
    , in_rank_total_count INTEGER 
    , in_data TEXT 
    , in_stat_value decimal 
    , in_uuid BINARY(16) 
    , in_date_modified TIMESTAMP 
    , in_level VARCHAR (500) 
    , in_timestamp decimal 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (500) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_statistic_leaderboard`  
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    AND `profile_id` = in_profile_id
                    AND `game_id` = in_game_id
                    AND `timestamp` = in_timestamp
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_statistic_leaderboard` 
                    SET
                        `status` = in_status
                        , `username` = in_username
                        , `key` = in_key
                        , `stat_value_formatted` = in_stat_value_formatted
                        , `profile_id` = in_profile_id
                        , `rank` = in_rank
                        , `rank_change` = in_rank_change
                        , `game_id` = in_game_id
                        , `active` = in_active
                        , `rank_total_count` = in_rank_total_count
                        , `data` = in_data
                        , `stat_value` = in_stat_value
                        , `uuid` = in_uuid
                        , `date_modified` = in_date_modified
                        , `level` = in_level
                        , `timestamp` = in_timestamp
                        , `date_created` = in_date_created
                        , `type` = in_type
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    AND `profile_id` = in_profile_id
                    AND `game_id` = in_game_id
                    AND `timestamp` = in_timestamp
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_statistic_leaderboard`
                    (
                        `status`
                        , `username`
                        , `key`
                        , `stat_value_formatted`
                        , `profile_id`
                        , `rank`
                        , `rank_change`
                        , `game_id`
                        , `active`
                        , `rank_total_count`
                        , `data`
                        , `stat_value`
                        , `uuid`
                        , `date_modified`
                        , `level`
                        , `timestamp`
                        , `date_created`
                        , `type`
                    )
                    VALUES
                    (
                        in_status
                        , in_username
                        , in_key
                        , in_stat_value_formatted
                        , in_profile_id
                        , in_rank
                        , in_rank_change
                        , in_game_id
                        , in_active
                        , in_rank_total_count
                        , in_data
                        , in_stat_value
                        , in_uuid
                        , in_date_modified
                        , in_level
                        , in_timestamp
                        , in_date_created
                        , in_type
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_statistic_leaderboard_set_profile_id_key`;
delimiter $$
CREATE PROCEDURE `usp_game_statistic_leaderboard_set_profile_id_key`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_username VARCHAR (500) 
    , in_key BINARY(16) 
    , in_stat_value_formatted VARCHAR (500) 
    , in_profile_id BINARY(16) 
    , in_rank INTEGER 
    , in_rank_change INTEGER 
    , in_game_id BINARY(16) 
    , in_active int 
    , in_rank_total_count INTEGER 
    , in_data TEXT 
    , in_stat_value decimal 
    , in_uuid BINARY(16) 
    , in_date_modified TIMESTAMP 
    , in_level VARCHAR (500) 
    , in_timestamp decimal 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (500) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_statistic_leaderboard`  
                    WHERE 1=1
                    AND `profile_id` = in_profile_id
                    AND `key` = in_key
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_statistic_leaderboard` 
                    SET
                        `status` = in_status
                        , `username` = in_username
                        , `key` = in_key
                        , `stat_value_formatted` = in_stat_value_formatted
                        , `profile_id` = in_profile_id
                        , `rank` = in_rank
                        , `rank_change` = in_rank_change
                        , `game_id` = in_game_id
                        , `active` = in_active
                        , `rank_total_count` = in_rank_total_count
                        , `data` = in_data
                        , `stat_value` = in_stat_value
                        , `uuid` = in_uuid
                        , `date_modified` = in_date_modified
                        , `level` = in_level
                        , `timestamp` = in_timestamp
                        , `date_created` = in_date_created
                        , `type` = in_type
                    WHERE 1=1
                    AND `profile_id` = in_profile_id
                    AND `key` = in_key
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_statistic_leaderboard`
                    (
                        `status`
                        , `username`
                        , `key`
                        , `stat_value_formatted`
                        , `profile_id`
                        , `rank`
                        , `rank_change`
                        , `game_id`
                        , `active`
                        , `rank_total_count`
                        , `data`
                        , `stat_value`
                        , `uuid`
                        , `date_modified`
                        , `level`
                        , `timestamp`
                        , `date_created`
                        , `type`
                    )
                    VALUES
                    (
                        in_status
                        , in_username
                        , in_key
                        , in_stat_value_formatted
                        , in_profile_id
                        , in_rank
                        , in_rank_change
                        , in_game_id
                        , in_active
                        , in_rank_total_count
                        , in_data
                        , in_stat_value
                        , in_uuid
                        , in_date_modified
                        , in_level
                        , in_timestamp
                        , in_date_created
                        , in_type
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_statistic_leaderboard_set_profile_id_key_timestamp`;
delimiter $$
CREATE PROCEDURE `usp_game_statistic_leaderboard_set_profile_id_key_timestamp`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_username VARCHAR (500) 
    , in_key BINARY(16) 
    , in_stat_value_formatted VARCHAR (500) 
    , in_profile_id BINARY(16) 
    , in_rank INTEGER 
    , in_rank_change INTEGER 
    , in_game_id BINARY(16) 
    , in_active int 
    , in_rank_total_count INTEGER 
    , in_data TEXT 
    , in_stat_value decimal 
    , in_uuid BINARY(16) 
    , in_date_modified TIMESTAMP 
    , in_level VARCHAR (500) 
    , in_timestamp decimal 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (500) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_statistic_leaderboard`  
                    WHERE 1=1
                    AND `profile_id` = in_profile_id
                    AND `key` = in_key
                    AND `timestamp` = in_timestamp
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_statistic_leaderboard` 
                    SET
                        `status` = in_status
                        , `username` = in_username
                        , `key` = in_key
                        , `stat_value_formatted` = in_stat_value_formatted
                        , `profile_id` = in_profile_id
                        , `rank` = in_rank
                        , `rank_change` = in_rank_change
                        , `game_id` = in_game_id
                        , `active` = in_active
                        , `rank_total_count` = in_rank_total_count
                        , `data` = in_data
                        , `stat_value` = in_stat_value
                        , `uuid` = in_uuid
                        , `date_modified` = in_date_modified
                        , `level` = in_level
                        , `timestamp` = in_timestamp
                        , `date_created` = in_date_created
                        , `type` = in_type
                    WHERE 1=1
                    AND `profile_id` = in_profile_id
                    AND `key` = in_key
                    AND `timestamp` = in_timestamp
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_statistic_leaderboard`
                    (
                        `status`
                        , `username`
                        , `key`
                        , `stat_value_formatted`
                        , `profile_id`
                        , `rank`
                        , `rank_change`
                        , `game_id`
                        , `active`
                        , `rank_total_count`
                        , `data`
                        , `stat_value`
                        , `uuid`
                        , `date_modified`
                        , `level`
                        , `timestamp`
                        , `date_created`
                        , `type`
                    )
                    VALUES
                    (
                        in_status
                        , in_username
                        , in_key
                        , in_stat_value_formatted
                        , in_profile_id
                        , in_rank
                        , in_rank_change
                        , in_game_id
                        , in_active
                        , in_rank_total_count
                        , in_data
                        , in_stat_value
                        , in_uuid
                        , in_date_modified
                        , in_level
                        , in_timestamp
                        , in_date_created
                        , in_type
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_statistic_leaderboard_set_key_profile_id_game_id_times`;
delimiter $$
CREATE PROCEDURE `usp_game_statistic_leaderboard_set_key_profile_id_game_id_times`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_username VARCHAR (500) 
    , in_key BINARY(16) 
    , in_stat_value_formatted VARCHAR (500) 
    , in_profile_id BINARY(16) 
    , in_rank INTEGER 
    , in_rank_change INTEGER 
    , in_game_id BINARY(16) 
    , in_active int 
    , in_rank_total_count INTEGER 
    , in_data TEXT 
    , in_stat_value decimal 
    , in_uuid BINARY(16) 
    , in_date_modified TIMESTAMP 
    , in_level VARCHAR (500) 
    , in_timestamp decimal 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (500) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_statistic_leaderboard`  
                    WHERE 1=1
                    AND `key` = in_key
                    AND `profile_id` = in_profile_id
                    AND `game_id` = in_game_id
                    AND `timestamp` = in_timestamp
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_statistic_leaderboard` 
                    SET
                        `status` = in_status
                        , `username` = in_username
                        , `key` = in_key
                        , `stat_value_formatted` = in_stat_value_formatted
                        , `profile_id` = in_profile_id
                        , `rank` = in_rank
                        , `rank_change` = in_rank_change
                        , `game_id` = in_game_id
                        , `active` = in_active
                        , `rank_total_count` = in_rank_total_count
                        , `data` = in_data
                        , `stat_value` = in_stat_value
                        , `uuid` = in_uuid
                        , `date_modified` = in_date_modified
                        , `level` = in_level
                        , `timestamp` = in_timestamp
                        , `date_created` = in_date_created
                        , `type` = in_type
                    WHERE 1=1
                    AND `key` = in_key
                    AND `profile_id` = in_profile_id
                    AND `game_id` = in_game_id
                    AND `timestamp` = in_timestamp
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_statistic_leaderboard`
                    (
                        `status`
                        , `username`
                        , `key`
                        , `stat_value_formatted`
                        , `profile_id`
                        , `rank`
                        , `rank_change`
                        , `game_id`
                        , `active`
                        , `rank_total_count`
                        , `data`
                        , `stat_value`
                        , `uuid`
                        , `date_modified`
                        , `level`
                        , `timestamp`
                        , `date_created`
                        , `type`
                    )
                    VALUES
                    (
                        in_status
                        , in_username
                        , in_key
                        , in_stat_value_formatted
                        , in_profile_id
                        , in_rank
                        , in_rank_change
                        , in_game_id
                        , in_active
                        , in_rank_total_count
                        , in_data
                        , in_stat_value
                        , in_uuid
                        , in_date_modified
                        , in_level
                        , in_timestamp
                        , in_date_created
                        , in_type
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_statistic_leaderboard_set_profile_id_game_id_key`;
delimiter $$
CREATE PROCEDURE `usp_game_statistic_leaderboard_set_profile_id_game_id_key`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_username VARCHAR (500) 
    , in_key BINARY(16) 
    , in_stat_value_formatted VARCHAR (500) 
    , in_profile_id BINARY(16) 
    , in_rank INTEGER 
    , in_rank_change INTEGER 
    , in_game_id BINARY(16) 
    , in_active int 
    , in_rank_total_count INTEGER 
    , in_data TEXT 
    , in_stat_value decimal 
    , in_uuid BINARY(16) 
    , in_date_modified TIMESTAMP 
    , in_level VARCHAR (500) 
    , in_timestamp decimal 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (500) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_statistic_leaderboard`  
                    WHERE 1=1
                    AND `profile_id` = in_profile_id
                    AND `game_id` = in_game_id
                    AND `key` = in_key
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_statistic_leaderboard` 
                    SET
                        `status` = in_status
                        , `username` = in_username
                        , `key` = in_key
                        , `stat_value_formatted` = in_stat_value_formatted
                        , `profile_id` = in_profile_id
                        , `rank` = in_rank
                        , `rank_change` = in_rank_change
                        , `game_id` = in_game_id
                        , `active` = in_active
                        , `rank_total_count` = in_rank_total_count
                        , `data` = in_data
                        , `stat_value` = in_stat_value
                        , `uuid` = in_uuid
                        , `date_modified` = in_date_modified
                        , `level` = in_level
                        , `timestamp` = in_timestamp
                        , `date_created` = in_date_created
                        , `type` = in_type
                    WHERE 1=1
                    AND `profile_id` = in_profile_id
                    AND `game_id` = in_game_id
                    AND `key` = in_key
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_statistic_leaderboard`
                    (
                        `status`
                        , `username`
                        , `key`
                        , `stat_value_formatted`
                        , `profile_id`
                        , `rank`
                        , `rank_change`
                        , `game_id`
                        , `active`
                        , `rank_total_count`
                        , `data`
                        , `stat_value`
                        , `uuid`
                        , `date_modified`
                        , `level`
                        , `timestamp`
                        , `date_created`
                        , `type`
                    )
                    VALUES
                    (
                        in_status
                        , in_username
                        , in_key
                        , in_stat_value_formatted
                        , in_profile_id
                        , in_rank
                        , in_rank_change
                        , in_game_id
                        , in_active
                        , in_rank_total_count
                        , in_data
                        , in_stat_value
                        , in_uuid
                        , in_date_modified
                        , in_level
                        , in_timestamp
                        , in_date_created
                        , in_type
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

-- ------------------------------------
-- DEL

-- ------------------------------------
-- MODEL: GameStatisticLeaderboard - game_statistic_leaderboard

                       
DROP PROCEDURE IF EXISTS `usp_game_statistic_leaderboard_del_uuid`;

delimiter $$
CREATE PROCEDURE `usp_game_statistic_leaderboard_del_uuid`
(
    in_uuid BINARY(16) 
)

BEGIN
    DELETE 
    FROM `game_statistic_leaderboard`
    WHERE 1=1                        
    AND "uuid" = in_uuid
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_game_statistic_leaderboard_del_key_game_id`;

delimiter $$
CREATE PROCEDURE `usp_game_statistic_leaderboard_del_key_game_id`
(
    in_key BINARY(16) 
    , in_game_id BINARY(16) 
)

BEGIN
    DELETE 
    FROM `game_statistic_leaderboard`
    WHERE 1=1                        
    AND "key" = in_key
    AND "game_id" = in_game_id
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_game_statistic_leaderboard_del_profile_id_game_id`;

delimiter $$
CREATE PROCEDURE `usp_game_statistic_leaderboard_del_profile_id_game_id`
(
    in_profile_id BINARY(16) 
    , in_game_id BINARY(16) 
)

BEGIN
    DELETE 
    FROM `game_statistic_leaderboard`
    WHERE 1=1                        
    AND "profile_id" = in_profile_id
    AND "game_id" = in_game_id
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_game_statistic_leaderboard_del_key_profile_id_game_id`;

delimiter $$
CREATE PROCEDURE `usp_game_statistic_leaderboard_del_key_profile_id_game_id`
(
    in_key BINARY(16) 
    , in_profile_id BINARY(16) 
    , in_game_id BINARY(16) 
)

BEGIN
    DELETE 
    FROM `game_statistic_leaderboard`
    WHERE 1=1                        
    AND "key" = in_key
    AND "profile_id" = in_profile_id
    AND "game_id" = in_game_id
    ;
END$$
delimiter ;
-- ------------------------------------
-- GET

-- ------------------------------------
-- MODEL: GameStatisticLeaderboard - game_statistic_leaderboard

                       
DROP PROCEDURE IF EXISTS `usp_game_statistic_leaderboard_get`;

delimiter $$
CREATE PROCEDURE `usp_game_statistic_leaderboard_get`
(
)                        
BEGIN
    SELECT
        `status`
        , `username`
        , `key`
        , `stat_value_formatted`
        , `profile_id`
        , `rank`
        , `rank_change`
        , `game_id`
        , `active`
        , `rank_total_count`
        , `data`
        , `stat_value`
        , `uuid`
        , `date_modified`
        , `level`
        , `timestamp`
        , `date_created`
        , `type`
    FROM `game_statistic_leaderboard`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_statistic_leaderboard_get_uuid`;

delimiter $$
CREATE PROCEDURE `usp_game_statistic_leaderboard_get_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `username`
        , `key`
        , `stat_value_formatted`
        , `profile_id`
        , `rank`
        , `rank_change`
        , `game_id`
        , `active`
        , `rank_total_count`
        , `data`
        , `stat_value`
        , `uuid`
        , `date_modified`
        , `level`
        , `timestamp`
        , `date_created`
        , `type`
    FROM `game_statistic_leaderboard`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_statistic_leaderboard_get_key`;

delimiter $$
CREATE PROCEDURE `usp_game_statistic_leaderboard_get_key`
(
    in_key BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `username`
        , `key`
        , `stat_value_formatted`
        , `profile_id`
        , `rank`
        , `rank_change`
        , `game_id`
        , `active`
        , `rank_total_count`
        , `data`
        , `stat_value`
        , `uuid`
        , `date_modified`
        , `level`
        , `timestamp`
        , `date_created`
        , `type`
    FROM `game_statistic_leaderboard`
    WHERE 1=1
    AND `key` = in_key
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_statistic_leaderboard_get_game_id`;

delimiter $$
CREATE PROCEDURE `usp_game_statistic_leaderboard_get_game_id`
(
    in_game_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `username`
        , `key`
        , `stat_value_formatted`
        , `profile_id`
        , `rank`
        , `rank_change`
        , `game_id`
        , `active`
        , `rank_total_count`
        , `data`
        , `stat_value`
        , `uuid`
        , `date_modified`
        , `level`
        , `timestamp`
        , `date_created`
        , `type`
    FROM `game_statistic_leaderboard`
    WHERE 1=1
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_statistic_leaderboard_get_key_game_id`;

delimiter $$
CREATE PROCEDURE `usp_game_statistic_leaderboard_get_key_game_id`
(
    in_key BINARY(16) 
    , in_game_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `username`
        , `key`
        , `stat_value_formatted`
        , `profile_id`
        , `rank`
        , `rank_change`
        , `game_id`
        , `active`
        , `rank_total_count`
        , `data`
        , `stat_value`
        , `uuid`
        , `date_modified`
        , `level`
        , `timestamp`
        , `date_created`
        , `type`
    FROM `game_statistic_leaderboard`
    WHERE 1=1
    AND `key` = in_key
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_statistic_leaderboard_get_profile_id_game_id`;

delimiter $$
CREATE PROCEDURE `usp_game_statistic_leaderboard_get_profile_id_game_id`
(
    in_profile_id BINARY(16) 
    , in_game_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `username`
        , `key`
        , `stat_value_formatted`
        , `profile_id`
        , `rank`
        , `rank_change`
        , `game_id`
        , `active`
        , `rank_total_count`
        , `data`
        , `stat_value`
        , `uuid`
        , `date_modified`
        , `level`
        , `timestamp`
        , `date_created`
        , `type`
    FROM `game_statistic_leaderboard`
    WHERE 1=1
    AND `profile_id` = in_profile_id
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_statistic_leaderboard_get_profile_id_game_id_timestamp`;

delimiter $$
CREATE PROCEDURE `usp_game_statistic_leaderboard_get_profile_id_game_id_timestamp`
(
    in_profile_id BINARY(16) 
    , in_game_id BINARY(16) 
    , in_timestamp decimal 
)
BEGIN
    SELECT
        `status`
        , `username`
        , `key`
        , `stat_value_formatted`
        , `profile_id`
        , `rank`
        , `rank_change`
        , `game_id`
        , `active`
        , `rank_total_count`
        , `data`
        , `stat_value`
        , `uuid`
        , `date_modified`
        , `level`
        , `timestamp`
        , `date_created`
        , `type`
    FROM `game_statistic_leaderboard`
    WHERE 1=1
    AND `profile_id` = in_profile_id
    AND `game_id` = in_game_id
    AND `timestamp` = in_timestamp
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_statistic_leaderboard_get_key_profile_id_game_id`;

delimiter $$
CREATE PROCEDURE `usp_game_statistic_leaderboard_get_key_profile_id_game_id`
(
    in_key BINARY(16) 
    , in_profile_id BINARY(16) 
    , in_game_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `username`
        , `key`
        , `stat_value_formatted`
        , `profile_id`
        , `rank`
        , `rank_change`
        , `game_id`
        , `active`
        , `rank_total_count`
        , `data`
        , `stat_value`
        , `uuid`
        , `date_modified`
        , `level`
        , `timestamp`
        , `date_created`
        , `type`
    FROM `game_statistic_leaderboard`
    WHERE 1=1
    AND `key` = in_key
    AND `profile_id` = in_profile_id
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_statistic_leaderboard_get_key_profile_id_game_id_times`;

delimiter $$
CREATE PROCEDURE `usp_game_statistic_leaderboard_get_key_profile_id_game_id_times`
(
    in_key BINARY(16) 
    , in_profile_id BINARY(16) 
    , in_game_id BINARY(16) 
    , in_timestamp decimal 
)
BEGIN
    SELECT
        `status`
        , `username`
        , `key`
        , `stat_value_formatted`
        , `profile_id`
        , `rank`
        , `rank_change`
        , `game_id`
        , `active`
        , `rank_total_count`
        , `data`
        , `stat_value`
        , `uuid`
        , `date_modified`
        , `level`
        , `timestamp`
        , `date_created`
        , `type`
    FROM `game_statistic_leaderboard`
    WHERE 1=1
    AND `key` = in_key
    AND `profile_id` = in_profile_id
    AND `game_id` = in_game_id
    AND `timestamp` = in_timestamp
    ;
END$$
delimiter ;

-- -----------------------------------------------------------------------------
-- PROCS

-- ------------------------------------
-- COUNT

-- ------------------------------------
-- MODEL: GameLiveQueue - game_live_queue

                       
DROP PROCEDURE IF EXISTS `usp_game_live_queue_count`;
delimiter $$
CREATE PROCEDURE `usp_game_live_queue_count`
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_live_queue`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_live_queue_count_uuid`;
delimiter $$
CREATE PROCEDURE `usp_game_live_queue_count_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_live_queue`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_live_queue_count_profile_id_game_id`;
delimiter $$
CREATE PROCEDURE `usp_game_live_queue_count_profile_id_game_id`
(
    in_profile_id BINARY(16) 
    , in_game_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_live_queue`
    WHERE 1=1
    AND `profile_id` = in_profile_id
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

-- ------------------------------------
-- BROWSE

-- ------------------------------------
-- MODEL: GameLiveQueue - game_live_queue

                       
DROP PROCEDURE IF EXISTS `usp_game_live_queue_browse_filter`;

delimiter $$
CREATE PROCEDURE `usp_game_live_queue_browse_filter`
(
    in_page int,
    in_page_size int,
    in_sort VARCHAR(500),
    in_filter VARCHAR(4000)
    
)
BEGIN
    DECLARE total_rows int;
    SET total_rows = 0;
        
    IF (in_page = 0) THEN
        SET in_page = 1;
    END IF;    
    
    IF (in_page_size = 0) THEN
       SET in_page_size = 10;
    END IF;
    
    IF (in_sort = NULL || in_sort = '') THEN
       SET in_sort = ' date_modified ASC ';
    END IF;
    
    SET @sfields = CONCAT('', '`status`');
    SET @sfields = CONCAT(@sfields, ', `data_stat`');
    SET @sfields = CONCAT(@sfields, ', `uuid`');
    SET @sfields = CONCAT(@sfields, ', `date_modified`');
    SET @sfields = CONCAT(@sfields, ', `active`');
    SET @sfields = CONCAT(@sfields, ', `date_created`');
    SET @sfields = CONCAT(@sfields, ', `game_id`');
    SET @sfields = CONCAT(@sfields, ', `profile_id`');
    SET @sfields = CONCAT(@sfields, ', `type`');
    SET @sfields = CONCAT(@sfields, ', `data_ad`');
    
    SET @stable = CONCAT('', ' FROM `game_live_queue` WHERE 1=1 ');
    
    SET @s = CONCAT(' ', @stable);
    SET @s = CONCAT(@s, ' ', in_filter);    
    
    SET @scount = CONCAT('SELECT COUNT(*) as `total_rows` ', @s, ' INTO @total_rows');
    
    PREPARE stmtcount FROM @scount;
    EXECUTE stmtcount;
    #SELECT @total_rows;
    SET total_rows = @total_rows;

    SET @sfields = CONCAT(total_rows, ' as `total_rows`, ', @sfields);
    SET @s = CONCAT('SELECT ', @sfields, @s);
    SET @s = CONCAT(@s, ' ORDER BY ', in_sort);
    SET @s = CONCAT(@s, ' LIMIT ', in_page);
    SET @s = CONCAT(@s, ',', in_page_size);    

    PREPARE stmt FROM @s;
    EXECUTE stmt;
    
END$$
delimiter ;
-- ------------------------------------
-- SET

-- ------------------------------------
-- MODEL: GameLiveQueue - game_live_queue

                       
DROP PROCEDURE IF EXISTS `usp_game_live_queue_set_uuid`;
delimiter $$
CREATE PROCEDURE `usp_game_live_queue_set_uuid`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_data_stat TEXT 
    , in_uuid BINARY(16) 
    , in_date_modified TIMESTAMP 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_game_id BINARY(16) 
    , in_profile_id BINARY(16) 
    , in_type VARCHAR (500) 
    , in_data_ad TEXT 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_live_queue`  
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_live_queue` 
                    SET
                        `status` = in_status
                        , `data_stat` = in_data_stat
                        , `uuid` = in_uuid
                        , `date_modified` = in_date_modified
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `game_id` = in_game_id
                        , `profile_id` = in_profile_id
                        , `type` = in_type
                        , `data_ad` = in_data_ad
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_live_queue`
                    (
                        `status`
                        , `data_stat`
                        , `uuid`
                        , `date_modified`
                        , `active`
                        , `date_created`
                        , `game_id`
                        , `profile_id`
                        , `type`
                        , `data_ad`
                    )
                    VALUES
                    (
                        in_status
                        , in_data_stat
                        , in_uuid
                        , in_date_modified
                        , in_active
                        , in_date_created
                        , in_game_id
                        , in_profile_id
                        , in_type
                        , in_data_ad
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_live_queue_set_profile_id_game_id`;
delimiter $$
CREATE PROCEDURE `usp_game_live_queue_set_profile_id_game_id`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_data_stat TEXT 
    , in_uuid BINARY(16) 
    , in_date_modified TIMESTAMP 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_game_id BINARY(16) 
    , in_profile_id BINARY(16) 
    , in_type VARCHAR (500) 
    , in_data_ad TEXT 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_live_queue`  
                    WHERE 1=1
                    AND `profile_id` = in_profile_id
                    AND `game_id` = in_game_id
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_live_queue` 
                    SET
                        `status` = in_status
                        , `data_stat` = in_data_stat
                        , `uuid` = in_uuid
                        , `date_modified` = in_date_modified
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `game_id` = in_game_id
                        , `profile_id` = in_profile_id
                        , `type` = in_type
                        , `data_ad` = in_data_ad
                    WHERE 1=1
                    AND `profile_id` = in_profile_id
                    AND `game_id` = in_game_id
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_live_queue`
                    (
                        `status`
                        , `data_stat`
                        , `uuid`
                        , `date_modified`
                        , `active`
                        , `date_created`
                        , `game_id`
                        , `profile_id`
                        , `type`
                        , `data_ad`
                    )
                    VALUES
                    (
                        in_status
                        , in_data_stat
                        , in_uuid
                        , in_date_modified
                        , in_active
                        , in_date_created
                        , in_game_id
                        , in_profile_id
                        , in_type
                        , in_data_ad
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

-- ------------------------------------
-- DEL

-- ------------------------------------
-- MODEL: GameLiveQueue - game_live_queue

                       
DROP PROCEDURE IF EXISTS `usp_game_live_queue_del_uuid`;

delimiter $$
CREATE PROCEDURE `usp_game_live_queue_del_uuid`
(
    in_uuid BINARY(16) 
)

BEGIN
    DELETE 
    FROM `game_live_queue`
    WHERE 1=1                        
    AND "uuid" = in_uuid
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_game_live_queue_del_profile_id_game_id`;

delimiter $$
CREATE PROCEDURE `usp_game_live_queue_del_profile_id_game_id`
(
    in_profile_id BINARY(16) 
    , in_game_id BINARY(16) 
)

BEGIN
    DELETE 
    FROM `game_live_queue`
    WHERE 1=1                        
    AND "profile_id" = in_profile_id
    AND "game_id" = in_game_id
    ;
END$$
delimiter ;
-- ------------------------------------
-- GET

-- ------------------------------------
-- MODEL: GameLiveQueue - game_live_queue

                       
DROP PROCEDURE IF EXISTS `usp_game_live_queue_get`;

delimiter $$
CREATE PROCEDURE `usp_game_live_queue_get`
(
)                        
BEGIN
    SELECT
        `status`
        , `data_stat`
        , `uuid`
        , `date_modified`
        , `active`
        , `date_created`
        , `game_id`
        , `profile_id`
        , `type`
        , `data_ad`
    FROM `game_live_queue`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_live_queue_get_uuid`;

delimiter $$
CREATE PROCEDURE `usp_game_live_queue_get_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `data_stat`
        , `uuid`
        , `date_modified`
        , `active`
        , `date_created`
        , `game_id`
        , `profile_id`
        , `type`
        , `data_ad`
    FROM `game_live_queue`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_live_queue_get_game_id`;

delimiter $$
CREATE PROCEDURE `usp_game_live_queue_get_game_id`
(
    in_game_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `data_stat`
        , `uuid`
        , `date_modified`
        , `active`
        , `date_created`
        , `game_id`
        , `profile_id`
        , `type`
        , `data_ad`
    FROM `game_live_queue`
    WHERE 1=1
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_live_queue_get_profile_id_game_id`;

delimiter $$
CREATE PROCEDURE `usp_game_live_queue_get_profile_id_game_id`
(
    in_profile_id BINARY(16) 
    , in_game_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `data_stat`
        , `uuid`
        , `date_modified`
        , `active`
        , `date_created`
        , `game_id`
        , `profile_id`
        , `type`
        , `data_ad`
    FROM `game_live_queue`
    WHERE 1=1
    AND `profile_id` = in_profile_id
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

-- -----------------------------------------------------------------------------
-- PROCS

-- ------------------------------------
-- COUNT

-- ------------------------------------
-- MODEL: GameLiveRecentQueue - game_live_recent_queue

                       
DROP PROCEDURE IF EXISTS `usp_game_live_recent_queue_count`;
delimiter $$
CREATE PROCEDURE `usp_game_live_recent_queue_count`
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_live_recent_queue`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_live_recent_queue_count_uuid`;
delimiter $$
CREATE PROCEDURE `usp_game_live_recent_queue_count_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_live_recent_queue`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_live_recent_queue_count_profile_id_game_id`;
delimiter $$
CREATE PROCEDURE `usp_game_live_recent_queue_count_profile_id_game_id`
(
    in_profile_id BINARY(16) 
    , in_game_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_live_recent_queue`
    WHERE 1=1
    AND `profile_id` = in_profile_id
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

-- ------------------------------------
-- BROWSE

-- ------------------------------------
-- MODEL: GameLiveRecentQueue - game_live_recent_queue

                       
DROP PROCEDURE IF EXISTS `usp_game_live_recent_queue_browse_filter`;

delimiter $$
CREATE PROCEDURE `usp_game_live_recent_queue_browse_filter`
(
    in_page int,
    in_page_size int,
    in_sort VARCHAR(500),
    in_filter VARCHAR(4000)
    
)
BEGIN
    DECLARE total_rows int;
    SET total_rows = 0;
        
    IF (in_page = 0) THEN
        SET in_page = 1;
    END IF;    
    
    IF (in_page_size = 0) THEN
       SET in_page_size = 10;
    END IF;
    
    IF (in_sort = NULL || in_sort = '') THEN
       SET in_sort = ' date_modified ASC ';
    END IF;
    
    SET @sfields = CONCAT('', '`status`');
    SET @sfields = CONCAT(@sfields, ', `username`');
    SET @sfields = CONCAT(@sfields, ', `code`');
    SET @sfields = CONCAT(@sfields, ', `display_name`');
    SET @sfields = CONCAT(@sfields, ', `name`');
    SET @sfields = CONCAT(@sfields, ', `date_modified`');
    SET @sfields = CONCAT(@sfields, ', `data`');
    SET @sfields = CONCAT(@sfields, ', `profile_id`');
    SET @sfields = CONCAT(@sfields, ', `uuid`');
    SET @sfields = CONCAT(@sfields, ', `game`');
    SET @sfields = CONCAT(@sfields, ', `game_id`');
    SET @sfields = CONCAT(@sfields, ', `active`');
    SET @sfields = CONCAT(@sfields, ', `date_created`');
    SET @sfields = CONCAT(@sfields, ', `type`');
    SET @sfields = CONCAT(@sfields, ', `description`');
    
    SET @stable = CONCAT('', ' FROM `game_live_recent_queue` WHERE 1=1 ');
    
    SET @s = CONCAT(' ', @stable);
    SET @s = CONCAT(@s, ' ', in_filter);    
    
    SET @scount = CONCAT('SELECT COUNT(*) as `total_rows` ', @s, ' INTO @total_rows');
    
    PREPARE stmtcount FROM @scount;
    EXECUTE stmtcount;
    #SELECT @total_rows;
    SET total_rows = @total_rows;

    SET @sfields = CONCAT(total_rows, ' as `total_rows`, ', @sfields);
    SET @s = CONCAT('SELECT ', @sfields, @s);
    SET @s = CONCAT(@s, ' ORDER BY ', in_sort);
    SET @s = CONCAT(@s, ' LIMIT ', in_page);
    SET @s = CONCAT(@s, ',', in_page_size);    

    PREPARE stmt FROM @s;
    EXECUTE stmt;
    
END$$
delimiter ;
-- ------------------------------------
-- SET

-- ------------------------------------
-- MODEL: GameLiveRecentQueue - game_live_recent_queue

                       
DROP PROCEDURE IF EXISTS `usp_game_live_recent_queue_set_uuid`;
delimiter $$
CREATE PROCEDURE `usp_game_live_recent_queue_set_uuid`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_username VARCHAR (500) 
    , in_code VARCHAR (255) 
    , in_display_name VARCHAR (255) 
    , in_name VARCHAR (255) 
    , in_date_modified TIMESTAMP 
    , in_data TEXT 
    , in_profile_id BINARY(16) 
    , in_uuid BINARY(16) 
    , in_game VARCHAR (500) 
    , in_game_id BINARY(16) 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (500) 
    , in_description VARCHAR (255) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_live_recent_queue`  
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_live_recent_queue` 
                    SET
                        `status` = in_status
                        , `username` = in_username
                        , `code` = in_code
                        , `display_name` = in_display_name
                        , `name` = in_name
                        , `date_modified` = in_date_modified
                        , `data` = in_data
                        , `profile_id` = in_profile_id
                        , `uuid` = in_uuid
                        , `game` = in_game
                        , `game_id` = in_game_id
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `type` = in_type
                        , `description` = in_description
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_live_recent_queue`
                    (
                        `status`
                        , `username`
                        , `code`
                        , `display_name`
                        , `name`
                        , `date_modified`
                        , `data`
                        , `profile_id`
                        , `uuid`
                        , `game`
                        , `game_id`
                        , `active`
                        , `date_created`
                        , `type`
                        , `description`
                    )
                    VALUES
                    (
                        in_status
                        , in_username
                        , in_code
                        , in_display_name
                        , in_name
                        , in_date_modified
                        , in_data
                        , in_profile_id
                        , in_uuid
                        , in_game
                        , in_game_id
                        , in_active
                        , in_date_created
                        , in_type
                        , in_description
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_live_recent_queue_set_profile_id_game_id`;
delimiter $$
CREATE PROCEDURE `usp_game_live_recent_queue_set_profile_id_game_id`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_username VARCHAR (500) 
    , in_code VARCHAR (255) 
    , in_display_name VARCHAR (255) 
    , in_name VARCHAR (255) 
    , in_date_modified TIMESTAMP 
    , in_data TEXT 
    , in_profile_id BINARY(16) 
    , in_uuid BINARY(16) 
    , in_game VARCHAR (500) 
    , in_game_id BINARY(16) 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (500) 
    , in_description VARCHAR (255) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_live_recent_queue`  
                    WHERE 1=1
                    AND `profile_id` = in_profile_id
                    AND `game_id` = in_game_id
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_live_recent_queue` 
                    SET
                        `status` = in_status
                        , `username` = in_username
                        , `code` = in_code
                        , `display_name` = in_display_name
                        , `name` = in_name
                        , `date_modified` = in_date_modified
                        , `data` = in_data
                        , `profile_id` = in_profile_id
                        , `uuid` = in_uuid
                        , `game` = in_game
                        , `game_id` = in_game_id
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `type` = in_type
                        , `description` = in_description
                    WHERE 1=1
                    AND `profile_id` = in_profile_id
                    AND `game_id` = in_game_id
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_live_recent_queue`
                    (
                        `status`
                        , `username`
                        , `code`
                        , `display_name`
                        , `name`
                        , `date_modified`
                        , `data`
                        , `profile_id`
                        , `uuid`
                        , `game`
                        , `game_id`
                        , `active`
                        , `date_created`
                        , `type`
                        , `description`
                    )
                    VALUES
                    (
                        in_status
                        , in_username
                        , in_code
                        , in_display_name
                        , in_name
                        , in_date_modified
                        , in_data
                        , in_profile_id
                        , in_uuid
                        , in_game
                        , in_game_id
                        , in_active
                        , in_date_created
                        , in_type
                        , in_description
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

-- ------------------------------------
-- DEL

-- ------------------------------------
-- MODEL: GameLiveRecentQueue - game_live_recent_queue

                       
DROP PROCEDURE IF EXISTS `usp_game_live_recent_queue_del_uuid`;

delimiter $$
CREATE PROCEDURE `usp_game_live_recent_queue_del_uuid`
(
    in_uuid BINARY(16) 
)

BEGIN
    DELETE 
    FROM `game_live_recent_queue`
    WHERE 1=1                        
    AND "uuid" = in_uuid
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_game_live_recent_queue_del_profile_id_game_id`;

delimiter $$
CREATE PROCEDURE `usp_game_live_recent_queue_del_profile_id_game_id`
(
    in_profile_id BINARY(16) 
    , in_game_id BINARY(16) 
)

BEGIN
    DELETE 
    FROM `game_live_recent_queue`
    WHERE 1=1                        
    AND "profile_id" = in_profile_id
    AND "game_id" = in_game_id
    ;
END$$
delimiter ;
-- ------------------------------------
-- GET

-- ------------------------------------
-- MODEL: GameLiveRecentQueue - game_live_recent_queue

                       
DROP PROCEDURE IF EXISTS `usp_game_live_recent_queue_get`;

delimiter $$
CREATE PROCEDURE `usp_game_live_recent_queue_get`
(
)                        
BEGIN
    SELECT
        `status`
        , `username`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `data`
        , `profile_id`
        , `uuid`
        , `game`
        , `game_id`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `game_live_recent_queue`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_live_recent_queue_get_uuid`;

delimiter $$
CREATE PROCEDURE `usp_game_live_recent_queue_get_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `username`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `data`
        , `profile_id`
        , `uuid`
        , `game`
        , `game_id`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `game_live_recent_queue`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_live_recent_queue_get_game_id`;

delimiter $$
CREATE PROCEDURE `usp_game_live_recent_queue_get_game_id`
(
    in_game_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `username`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `data`
        , `profile_id`
        , `uuid`
        , `game`
        , `game_id`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `game_live_recent_queue`
    WHERE 1=1
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_live_recent_queue_get_profile_id_game_id`;

delimiter $$
CREATE PROCEDURE `usp_game_live_recent_queue_get_profile_id_game_id`
(
    in_profile_id BINARY(16) 
    , in_game_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `username`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `data`
        , `profile_id`
        , `uuid`
        , `game`
        , `game_id`
        , `active`
        , `date_created`
        , `type`
        , `description`
    FROM `game_live_recent_queue`
    WHERE 1=1
    AND `profile_id` = in_profile_id
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

-- -----------------------------------------------------------------------------
-- PROCS

-- ------------------------------------
-- COUNT

-- ------------------------------------
-- MODEL: GameStatistic - game_statistic

                       
DROP PROCEDURE IF EXISTS `usp_game_statistic_count`;
delimiter $$
CREATE PROCEDURE `usp_game_statistic_count`
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_statistic`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_statistic_count_uuid`;
delimiter $$
CREATE PROCEDURE `usp_game_statistic_count_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_statistic`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_statistic_count_key`;
delimiter $$
CREATE PROCEDURE `usp_game_statistic_count_key`
(
    in_key VARCHAR (50) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_statistic`
    WHERE 1=1
    AND lower(`key`) = lower(in_key)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_statistic_count_game_id`;
delimiter $$
CREATE PROCEDURE `usp_game_statistic_count_game_id`
(
    in_game_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_statistic`
    WHERE 1=1
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_statistic_count_key_game_id`;
delimiter $$
CREATE PROCEDURE `usp_game_statistic_count_key_game_id`
(
    in_key VARCHAR (50) 
    , in_game_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_statistic`
    WHERE 1=1
    AND lower(`key`) = lower(in_key)
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_statistic_count_profile_id_game_id`;
delimiter $$
CREATE PROCEDURE `usp_game_statistic_count_profile_id_game_id`
(
    in_profile_id BINARY(16) 
    , in_game_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_statistic`
    WHERE 1=1
    AND `profile_id` = in_profile_id
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_statistic_count_key_profile_id_game_id`;
delimiter $$
CREATE PROCEDURE `usp_game_statistic_count_key_profile_id_game_id`
(
    in_key VARCHAR (50) 
    , in_profile_id BINARY(16) 
    , in_game_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_statistic`
    WHERE 1=1
    AND lower(`key`) = lower(in_key)
    AND `profile_id` = in_profile_id
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_statistic_count_key_profile_id_game_id_timestamp`;
delimiter $$
CREATE PROCEDURE `usp_game_statistic_count_key_profile_id_game_id_timestamp`
(
    in_key VARCHAR (50) 
    , in_profile_id BINARY(16) 
    , in_game_id BINARY(16) 
    , in_timestamp decimal 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_statistic`
    WHERE 1=1
    AND lower(`key`) = lower(in_key)
    AND `profile_id` = in_profile_id
    AND `game_id` = in_game_id
    AND `timestamp` = in_timestamp
    ;
END$$
delimiter ;

-- ------------------------------------
-- BROWSE

-- ------------------------------------
-- MODEL: GameStatistic - game_statistic

                       
DROP PROCEDURE IF EXISTS `usp_game_statistic_browse_filter`;

delimiter $$
CREATE PROCEDURE `usp_game_statistic_browse_filter`
(
    in_page int,
    in_page_size int,
    in_sort VARCHAR(500),
    in_filter VARCHAR(4000)
    
)
BEGIN
    DECLARE total_rows int;
    SET total_rows = 0;
        
    IF (in_page = 0) THEN
        SET in_page = 1;
    END IF;    
    
    IF (in_page_size = 0) THEN
       SET in_page_size = 10;
    END IF;
    
    IF (in_sort = NULL || in_sort = '') THEN
       SET in_sort = ' date_modified ASC ';
    END IF;
    
    SET @sfields = CONCAT('', '`status`');
    SET @sfields = CONCAT(@sfields, ', `username`');
    SET @sfields = CONCAT(@sfields, ', `timestamp`');
    SET @sfields = CONCAT(@sfields, ', `profile_id`');
    SET @sfields = CONCAT(@sfields, ', `key`');
    SET @sfields = CONCAT(@sfields, ', `active`');
    SET @sfields = CONCAT(@sfields, ', `game_id`');
    SET @sfields = CONCAT(@sfields, ', `data`');
    SET @sfields = CONCAT(@sfields, ', `stat_value`');
    SET @sfields = CONCAT(@sfields, ', `uuid`');
    SET @sfields = CONCAT(@sfields, ', `date_modified`');
    SET @sfields = CONCAT(@sfields, ', `level`');
    SET @sfields = CONCAT(@sfields, ', `date_created`');
    SET @sfields = CONCAT(@sfields, ', `type`');
    
    SET @stable = CONCAT('', ' FROM `game_statistic` WHERE 1=1 ');
    
    SET @s = CONCAT(' ', @stable);
    SET @s = CONCAT(@s, ' ', in_filter);    
    
    SET @scount = CONCAT('SELECT COUNT(*) as `total_rows` ', @s, ' INTO @total_rows');
    
    PREPARE stmtcount FROM @scount;
    EXECUTE stmtcount;
    #SELECT @total_rows;
    SET total_rows = @total_rows;

    SET @sfields = CONCAT(total_rows, ' as `total_rows`, ', @sfields);
    SET @s = CONCAT('SELECT ', @sfields, @s);
    SET @s = CONCAT(@s, ' ORDER BY ', in_sort);
    SET @s = CONCAT(@s, ' LIMIT ', in_page);
    SET @s = CONCAT(@s, ',', in_page_size);    

    PREPARE stmt FROM @s;
    EXECUTE stmt;
    
END$$
delimiter ;
-- ------------------------------------
-- SET

-- ------------------------------------
-- MODEL: GameStatistic - game_statistic

                       
DROP PROCEDURE IF EXISTS `usp_game_statistic_set_uuid`;
delimiter $$
CREATE PROCEDURE `usp_game_statistic_set_uuid`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_username VARCHAR (500) 
    , in_timestamp decimal 
    , in_profile_id BINARY(16) 
    , in_key VARCHAR (50) 
    , in_active int 
    , in_game_id BINARY(16) 
    , in_data TEXT 
    , in_stat_value decimal 
    , in_uuid BINARY(16) 
    , in_date_modified TIMESTAMP 
    , in_level VARCHAR (500) 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (500) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_statistic`  
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_statistic` 
                    SET
                        `status` = in_status
                        , `username` = in_username
                        , `timestamp` = in_timestamp
                        , `profile_id` = in_profile_id
                        , `key` = in_key
                        , `active` = in_active
                        , `game_id` = in_game_id
                        , `data` = in_data
                        , `stat_value` = in_stat_value
                        , `uuid` = in_uuid
                        , `date_modified` = in_date_modified
                        , `level` = in_level
                        , `date_created` = in_date_created
                        , `type` = in_type
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_statistic`
                    (
                        `status`
                        , `username`
                        , `timestamp`
                        , `profile_id`
                        , `key`
                        , `active`
                        , `game_id`
                        , `data`
                        , `stat_value`
                        , `uuid`
                        , `date_modified`
                        , `level`
                        , `date_created`
                        , `type`
                    )
                    VALUES
                    (
                        in_status
                        , in_username
                        , in_timestamp
                        , in_profile_id
                        , in_key
                        , in_active
                        , in_game_id
                        , in_data
                        , in_stat_value
                        , in_uuid
                        , in_date_modified
                        , in_level
                        , in_date_created
                        , in_type
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_statistic_set_uuid_profile_id_game_id_timestamp`;
delimiter $$
CREATE PROCEDURE `usp_game_statistic_set_uuid_profile_id_game_id_timestamp`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_username VARCHAR (500) 
    , in_timestamp decimal 
    , in_profile_id BINARY(16) 
    , in_key VARCHAR (50) 
    , in_active int 
    , in_game_id BINARY(16) 
    , in_data TEXT 
    , in_stat_value decimal 
    , in_uuid BINARY(16) 
    , in_date_modified TIMESTAMP 
    , in_level VARCHAR (500) 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (500) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_statistic`  
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    AND `profile_id` = in_profile_id
                    AND `game_id` = in_game_id
                    AND `timestamp` = in_timestamp
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_statistic` 
                    SET
                        `status` = in_status
                        , `username` = in_username
                        , `timestamp` = in_timestamp
                        , `profile_id` = in_profile_id
                        , `key` = in_key
                        , `active` = in_active
                        , `game_id` = in_game_id
                        , `data` = in_data
                        , `stat_value` = in_stat_value
                        , `uuid` = in_uuid
                        , `date_modified` = in_date_modified
                        , `level` = in_level
                        , `date_created` = in_date_created
                        , `type` = in_type
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    AND `profile_id` = in_profile_id
                    AND `game_id` = in_game_id
                    AND `timestamp` = in_timestamp
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_statistic`
                    (
                        `status`
                        , `username`
                        , `timestamp`
                        , `profile_id`
                        , `key`
                        , `active`
                        , `game_id`
                        , `data`
                        , `stat_value`
                        , `uuid`
                        , `date_modified`
                        , `level`
                        , `date_created`
                        , `type`
                    )
                    VALUES
                    (
                        in_status
                        , in_username
                        , in_timestamp
                        , in_profile_id
                        , in_key
                        , in_active
                        , in_game_id
                        , in_data
                        , in_stat_value
                        , in_uuid
                        , in_date_modified
                        , in_level
                        , in_date_created
                        , in_type
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_statistic_set_profile_id_key`;
delimiter $$
CREATE PROCEDURE `usp_game_statistic_set_profile_id_key`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_username VARCHAR (500) 
    , in_timestamp decimal 
    , in_profile_id BINARY(16) 
    , in_key VARCHAR (50) 
    , in_active int 
    , in_game_id BINARY(16) 
    , in_data TEXT 
    , in_stat_value decimal 
    , in_uuid BINARY(16) 
    , in_date_modified TIMESTAMP 
    , in_level VARCHAR (500) 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (500) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_statistic`  
                    WHERE 1=1
                    AND `profile_id` = in_profile_id
                    AND lower(`key`) = lower(in_key)
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_statistic` 
                    SET
                        `status` = in_status
                        , `username` = in_username
                        , `timestamp` = in_timestamp
                        , `profile_id` = in_profile_id
                        , `key` = in_key
                        , `active` = in_active
                        , `game_id` = in_game_id
                        , `data` = in_data
                        , `stat_value` = in_stat_value
                        , `uuid` = in_uuid
                        , `date_modified` = in_date_modified
                        , `level` = in_level
                        , `date_created` = in_date_created
                        , `type` = in_type
                    WHERE 1=1
                    AND `profile_id` = in_profile_id
                    AND lower(`key`) = lower(in_key)
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_statistic`
                    (
                        `status`
                        , `username`
                        , `timestamp`
                        , `profile_id`
                        , `key`
                        , `active`
                        , `game_id`
                        , `data`
                        , `stat_value`
                        , `uuid`
                        , `date_modified`
                        , `level`
                        , `date_created`
                        , `type`
                    )
                    VALUES
                    (
                        in_status
                        , in_username
                        , in_timestamp
                        , in_profile_id
                        , in_key
                        , in_active
                        , in_game_id
                        , in_data
                        , in_stat_value
                        , in_uuid
                        , in_date_modified
                        , in_level
                        , in_date_created
                        , in_type
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_statistic_set_profile_id_key_timestamp`;
delimiter $$
CREATE PROCEDURE `usp_game_statistic_set_profile_id_key_timestamp`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_username VARCHAR (500) 
    , in_timestamp decimal 
    , in_profile_id BINARY(16) 
    , in_key VARCHAR (50) 
    , in_active int 
    , in_game_id BINARY(16) 
    , in_data TEXT 
    , in_stat_value decimal 
    , in_uuid BINARY(16) 
    , in_date_modified TIMESTAMP 
    , in_level VARCHAR (500) 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (500) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_statistic`  
                    WHERE 1=1
                    AND `profile_id` = in_profile_id
                    AND lower(`key`) = lower(in_key)
                    AND `timestamp` = in_timestamp
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_statistic` 
                    SET
                        `status` = in_status
                        , `username` = in_username
                        , `timestamp` = in_timestamp
                        , `profile_id` = in_profile_id
                        , `key` = in_key
                        , `active` = in_active
                        , `game_id` = in_game_id
                        , `data` = in_data
                        , `stat_value` = in_stat_value
                        , `uuid` = in_uuid
                        , `date_modified` = in_date_modified
                        , `level` = in_level
                        , `date_created` = in_date_created
                        , `type` = in_type
                    WHERE 1=1
                    AND `profile_id` = in_profile_id
                    AND lower(`key`) = lower(in_key)
                    AND `timestamp` = in_timestamp
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_statistic`
                    (
                        `status`
                        , `username`
                        , `timestamp`
                        , `profile_id`
                        , `key`
                        , `active`
                        , `game_id`
                        , `data`
                        , `stat_value`
                        , `uuid`
                        , `date_modified`
                        , `level`
                        , `date_created`
                        , `type`
                    )
                    VALUES
                    (
                        in_status
                        , in_username
                        , in_timestamp
                        , in_profile_id
                        , in_key
                        , in_active
                        , in_game_id
                        , in_data
                        , in_stat_value
                        , in_uuid
                        , in_date_modified
                        , in_level
                        , in_date_created
                        , in_type
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_statistic_set_key_profile_id_game_id_timestamp`;
delimiter $$
CREATE PROCEDURE `usp_game_statistic_set_key_profile_id_game_id_timestamp`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_username VARCHAR (500) 
    , in_timestamp decimal 
    , in_profile_id BINARY(16) 
    , in_key VARCHAR (50) 
    , in_active int 
    , in_game_id BINARY(16) 
    , in_data TEXT 
    , in_stat_value decimal 
    , in_uuid BINARY(16) 
    , in_date_modified TIMESTAMP 
    , in_level VARCHAR (500) 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (500) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_statistic`  
                    WHERE 1=1
                    AND lower(`key`) = lower(in_key)
                    AND `profile_id` = in_profile_id
                    AND `game_id` = in_game_id
                    AND `timestamp` = in_timestamp
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_statistic` 
                    SET
                        `status` = in_status
                        , `username` = in_username
                        , `timestamp` = in_timestamp
                        , `profile_id` = in_profile_id
                        , `key` = in_key
                        , `active` = in_active
                        , `game_id` = in_game_id
                        , `data` = in_data
                        , `stat_value` = in_stat_value
                        , `uuid` = in_uuid
                        , `date_modified` = in_date_modified
                        , `level` = in_level
                        , `date_created` = in_date_created
                        , `type` = in_type
                    WHERE 1=1
                    AND lower(`key`) = lower(in_key)
                    AND `profile_id` = in_profile_id
                    AND `game_id` = in_game_id
                    AND `timestamp` = in_timestamp
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_statistic`
                    (
                        `status`
                        , `username`
                        , `timestamp`
                        , `profile_id`
                        , `key`
                        , `active`
                        , `game_id`
                        , `data`
                        , `stat_value`
                        , `uuid`
                        , `date_modified`
                        , `level`
                        , `date_created`
                        , `type`
                    )
                    VALUES
                    (
                        in_status
                        , in_username
                        , in_timestamp
                        , in_profile_id
                        , in_key
                        , in_active
                        , in_game_id
                        , in_data
                        , in_stat_value
                        , in_uuid
                        , in_date_modified
                        , in_level
                        , in_date_created
                        , in_type
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_statistic_set_profile_id_game_id_key`;
delimiter $$
CREATE PROCEDURE `usp_game_statistic_set_profile_id_game_id_key`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_username VARCHAR (500) 
    , in_timestamp decimal 
    , in_profile_id BINARY(16) 
    , in_key VARCHAR (50) 
    , in_active int 
    , in_game_id BINARY(16) 
    , in_data TEXT 
    , in_stat_value decimal 
    , in_uuid BINARY(16) 
    , in_date_modified TIMESTAMP 
    , in_level VARCHAR (500) 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (500) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_statistic`  
                    WHERE 1=1
                    AND `profile_id` = in_profile_id
                    AND `game_id` = in_game_id
                    AND lower(`key`) = lower(in_key)
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_statistic` 
                    SET
                        `status` = in_status
                        , `username` = in_username
                        , `timestamp` = in_timestamp
                        , `profile_id` = in_profile_id
                        , `key` = in_key
                        , `active` = in_active
                        , `game_id` = in_game_id
                        , `data` = in_data
                        , `stat_value` = in_stat_value
                        , `uuid` = in_uuid
                        , `date_modified` = in_date_modified
                        , `level` = in_level
                        , `date_created` = in_date_created
                        , `type` = in_type
                    WHERE 1=1
                    AND `profile_id` = in_profile_id
                    AND `game_id` = in_game_id
                    AND lower(`key`) = lower(in_key)
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_statistic`
                    (
                        `status`
                        , `username`
                        , `timestamp`
                        , `profile_id`
                        , `key`
                        , `active`
                        , `game_id`
                        , `data`
                        , `stat_value`
                        , `uuid`
                        , `date_modified`
                        , `level`
                        , `date_created`
                        , `type`
                    )
                    VALUES
                    (
                        in_status
                        , in_username
                        , in_timestamp
                        , in_profile_id
                        , in_key
                        , in_active
                        , in_game_id
                        , in_data
                        , in_stat_value
                        , in_uuid
                        , in_date_modified
                        , in_level
                        , in_date_created
                        , in_type
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

-- ------------------------------------
-- DEL

-- ------------------------------------
-- MODEL: GameStatistic - game_statistic

                       
DROP PROCEDURE IF EXISTS `usp_game_statistic_del_uuid`;

delimiter $$
CREATE PROCEDURE `usp_game_statistic_del_uuid`
(
    in_uuid BINARY(16) 
)

BEGIN
    DELETE 
    FROM `game_statistic`
    WHERE 1=1                        
    AND "uuid" = in_uuid
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_game_statistic_del_key_game_id`;

delimiter $$
CREATE PROCEDURE `usp_game_statistic_del_key_game_id`
(
    in_key VARCHAR (50) 
    , in_game_id BINARY(16) 
)

BEGIN
    DELETE 
    FROM `game_statistic`
    WHERE 1=1                        
    AND lower("key") = lower(in_key)
    AND "game_id" = in_game_id
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_game_statistic_del_profile_id_game_id`;

delimiter $$
CREATE PROCEDURE `usp_game_statistic_del_profile_id_game_id`
(
    in_profile_id BINARY(16) 
    , in_game_id BINARY(16) 
)

BEGIN
    DELETE 
    FROM `game_statistic`
    WHERE 1=1                        
    AND "profile_id" = in_profile_id
    AND "game_id" = in_game_id
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_game_statistic_del_key_profile_id_game_id`;

delimiter $$
CREATE PROCEDURE `usp_game_statistic_del_key_profile_id_game_id`
(
    in_key VARCHAR (50) 
    , in_profile_id BINARY(16) 
    , in_game_id BINARY(16) 
)

BEGIN
    DELETE 
    FROM `game_statistic`
    WHERE 1=1                        
    AND lower("key") = lower(in_key)
    AND "profile_id" = in_profile_id
    AND "game_id" = in_game_id
    ;
END$$
delimiter ;
-- ------------------------------------
-- GET

-- ------------------------------------
-- MODEL: GameStatistic - game_statistic

                       
DROP PROCEDURE IF EXISTS `usp_game_statistic_get_uuid`;

delimiter $$
CREATE PROCEDURE `usp_game_statistic_get_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `username`
        , `timestamp`
        , `profile_id`
        , `key`
        , `active`
        , `game_id`
        , `data`
        , `stat_value`
        , `uuid`
        , `date_modified`
        , `level`
        , `date_created`
        , `type`
    FROM `game_statistic`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_statistic_get_key`;

delimiter $$
CREATE PROCEDURE `usp_game_statistic_get_key`
(
    in_key VARCHAR (50) 
)
BEGIN
    SELECT
        `status`
        , `username`
        , `timestamp`
        , `profile_id`
        , `key`
        , `active`
        , `game_id`
        , `data`
        , `stat_value`
        , `uuid`
        , `date_modified`
        , `level`
        , `date_created`
        , `type`
    FROM `game_statistic`
    WHERE 1=1
    AND lower(`key`) = lower(in_key)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_statistic_get_game_id`;

delimiter $$
CREATE PROCEDURE `usp_game_statistic_get_game_id`
(
    in_game_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `username`
        , `timestamp`
        , `profile_id`
        , `key`
        , `active`
        , `game_id`
        , `data`
        , `stat_value`
        , `uuid`
        , `date_modified`
        , `level`
        , `date_created`
        , `type`
    FROM `game_statistic`
    WHERE 1=1
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_statistic_get_key_game_id`;

delimiter $$
CREATE PROCEDURE `usp_game_statistic_get_key_game_id`
(
    in_key VARCHAR (50) 
    , in_game_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `username`
        , `timestamp`
        , `profile_id`
        , `key`
        , `active`
        , `game_id`
        , `data`
        , `stat_value`
        , `uuid`
        , `date_modified`
        , `level`
        , `date_created`
        , `type`
    FROM `game_statistic`
    WHERE 1=1
    AND lower(`key`) = lower(in_key)
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_statistic_get_profile_id_game_id`;

delimiter $$
CREATE PROCEDURE `usp_game_statistic_get_profile_id_game_id`
(
    in_profile_id BINARY(16) 
    , in_game_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `username`
        , `timestamp`
        , `profile_id`
        , `key`
        , `active`
        , `game_id`
        , `data`
        , `stat_value`
        , `uuid`
        , `date_modified`
        , `level`
        , `date_created`
        , `type`
    FROM `game_statistic`
    WHERE 1=1
    AND `profile_id` = in_profile_id
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_statistic_get_profile_id_game_id_timestamp`;

delimiter $$
CREATE PROCEDURE `usp_game_statistic_get_profile_id_game_id_timestamp`
(
    in_profile_id BINARY(16) 
    , in_game_id BINARY(16) 
    , in_timestamp decimal 
)
BEGIN
    SELECT
        `status`
        , `username`
        , `timestamp`
        , `profile_id`
        , `key`
        , `active`
        , `game_id`
        , `data`
        , `stat_value`
        , `uuid`
        , `date_modified`
        , `level`
        , `date_created`
        , `type`
    FROM `game_statistic`
    WHERE 1=1
    AND `profile_id` = in_profile_id
    AND `game_id` = in_game_id
    AND `timestamp` = in_timestamp
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_statistic_get_key_profile_id_game_id`;

delimiter $$
CREATE PROCEDURE `usp_game_statistic_get_key_profile_id_game_id`
(
    in_key VARCHAR (50) 
    , in_profile_id BINARY(16) 
    , in_game_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `username`
        , `timestamp`
        , `profile_id`
        , `key`
        , `active`
        , `game_id`
        , `data`
        , `stat_value`
        , `uuid`
        , `date_modified`
        , `level`
        , `date_created`
        , `type`
    FROM `game_statistic`
    WHERE 1=1
    AND lower(`key`) = lower(in_key)
    AND `profile_id` = in_profile_id
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_statistic_get_key_profile_id_game_id_timestamp`;

delimiter $$
CREATE PROCEDURE `usp_game_statistic_get_key_profile_id_game_id_timestamp`
(
    in_key VARCHAR (50) 
    , in_profile_id BINARY(16) 
    , in_game_id BINARY(16) 
    , in_timestamp decimal 
)
BEGIN
    SELECT
        `status`
        , `username`
        , `timestamp`
        , `profile_id`
        , `key`
        , `active`
        , `game_id`
        , `data`
        , `stat_value`
        , `uuid`
        , `date_modified`
        , `level`
        , `date_created`
        , `type`
    FROM `game_statistic`
    WHERE 1=1
    AND lower(`key`) = lower(in_key)
    AND `profile_id` = in_profile_id
    AND `game_id` = in_game_id
    AND `timestamp` = in_timestamp
    ;
END$$
delimiter ;

-- -----------------------------------------------------------------------------
-- PROCS

-- ------------------------------------
-- COUNT

-- ------------------------------------
-- MODEL: GameStatisticMeta - game_statistic_meta

                       
DROP PROCEDURE IF EXISTS `usp_game_statistic_meta_count`;
delimiter $$
CREATE PROCEDURE `usp_game_statistic_meta_count`
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_statistic_meta`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_statistic_meta_count_uuid`;
delimiter $$
CREATE PROCEDURE `usp_game_statistic_meta_count_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_statistic_meta`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_statistic_meta_count_code`;
delimiter $$
CREATE PROCEDURE `usp_game_statistic_meta_count_code`
(
    in_code VARCHAR (255) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_statistic_meta`
    WHERE 1=1
    AND lower(`code`) = lower(in_code)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_statistic_meta_count_name`;
delimiter $$
CREATE PROCEDURE `usp_game_statistic_meta_count_name`
(
    in_name VARCHAR (255) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_statistic_meta`
    WHERE 1=1
    AND lower(`name`) = lower(in_name)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_statistic_meta_count_key`;
delimiter $$
CREATE PROCEDURE `usp_game_statistic_meta_count_key`
(
    in_key VARCHAR (50) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_statistic_meta`
    WHERE 1=1
    AND lower(`key`) = lower(in_key)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_statistic_meta_count_game_id`;
delimiter $$
CREATE PROCEDURE `usp_game_statistic_meta_count_game_id`
(
    in_game_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_statistic_meta`
    WHERE 1=1
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_statistic_meta_count_key_game_id`;
delimiter $$
CREATE PROCEDURE `usp_game_statistic_meta_count_key_game_id`
(
    in_key VARCHAR (50) 
    , in_game_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_statistic_meta`
    WHERE 1=1
    AND lower(`key`) = lower(in_key)
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

-- ------------------------------------
-- BROWSE

-- ------------------------------------
-- MODEL: GameStatisticMeta - game_statistic_meta

                       
DROP PROCEDURE IF EXISTS `usp_game_statistic_meta_browse_filter`;

delimiter $$
CREATE PROCEDURE `usp_game_statistic_meta_browse_filter`
(
    in_page int,
    in_page_size int,
    in_sort VARCHAR(500),
    in_filter VARCHAR(4000)
    
)
BEGIN
    DECLARE total_rows int;
    SET total_rows = 0;
        
    IF (in_page = 0) THEN
        SET in_page = 1;
    END IF;    
    
    IF (in_page_size = 0) THEN
       SET in_page_size = 10;
    END IF;
    
    IF (in_sort = NULL || in_sort = '') THEN
       SET in_sort = ' date_modified ASC ';
    END IF;
    
    SET @sfields = CONCAT('', '`status`');
    SET @sfields = CONCAT(@sfields, ', `sort`');
    SET @sfields = CONCAT(@sfields, ', `code`');
    SET @sfields = CONCAT(@sfields, ', `display_name`');
    SET @sfields = CONCAT(@sfields, ', `name`');
    SET @sfields = CONCAT(@sfields, ', `date_modified`');
    SET @sfields = CONCAT(@sfields, ', `data`');
    SET @sfields = CONCAT(@sfields, ', `uuid`');
    SET @sfields = CONCAT(@sfields, ', `store_count`');
    SET @sfields = CONCAT(@sfields, ', `key`');
    SET @sfields = CONCAT(@sfields, ', `game_id`');
    SET @sfields = CONCAT(@sfields, ', `active`');
    SET @sfields = CONCAT(@sfields, ', `date_created`');
    SET @sfields = CONCAT(@sfields, ', `type`');
    SET @sfields = CONCAT(@sfields, ', `order`');
    SET @sfields = CONCAT(@sfields, ', `description`');
    
    SET @stable = CONCAT('', ' FROM `game_statistic_meta` WHERE 1=1 ');
    
    SET @s = CONCAT(' ', @stable);
    SET @s = CONCAT(@s, ' ', in_filter);    
    
    SET @scount = CONCAT('SELECT COUNT(*) as `total_rows` ', @s, ' INTO @total_rows');
    
    PREPARE stmtcount FROM @scount;
    EXECUTE stmtcount;
    #SELECT @total_rows;
    SET total_rows = @total_rows;

    SET @sfields = CONCAT(total_rows, ' as `total_rows`, ', @sfields);
    SET @s = CONCAT('SELECT ', @sfields, @s);
    SET @s = CONCAT(@s, ' ORDER BY ', in_sort);
    SET @s = CONCAT(@s, ' LIMIT ', in_page);
    SET @s = CONCAT(@s, ',', in_page_size);    

    PREPARE stmt FROM @s;
    EXECUTE stmt;
    
END$$
delimiter ;
-- ------------------------------------
-- SET

-- ------------------------------------
-- MODEL: GameStatisticMeta - game_statistic_meta

                       
DROP PROCEDURE IF EXISTS `usp_game_statistic_meta_set_uuid`;
delimiter $$
CREATE PROCEDURE `usp_game_statistic_meta_set_uuid`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_sort INTEGER 
    , in_code VARCHAR (255) 
    , in_display_name VARCHAR (255) 
    , in_name VARCHAR (255) 
    , in_date_modified TIMESTAMP 
    , in_data TEXT 
    , in_uuid BINARY(16) 
    , in_store_count INTEGER 
    , in_key VARCHAR (50) 
    , in_game_id BINARY(16) 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (40) 
    , in_order VARCHAR (40) 
    , in_description VARCHAR (255) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_statistic_meta`  
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_statistic_meta` 
                    SET
                        `status` = in_status
                        , `sort` = in_sort
                        , `code` = in_code
                        , `display_name` = in_display_name
                        , `name` = in_name
                        , `date_modified` = in_date_modified
                        , `data` = in_data
                        , `uuid` = in_uuid
                        , `store_count` = in_store_count
                        , `key` = in_key
                        , `game_id` = in_game_id
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `type` = in_type
                        , `order` = in_order
                        , `description` = in_description
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_statistic_meta`
                    (
                        `status`
                        , `sort`
                        , `code`
                        , `display_name`
                        , `name`
                        , `date_modified`
                        , `data`
                        , `uuid`
                        , `store_count`
                        , `key`
                        , `game_id`
                        , `active`
                        , `date_created`
                        , `type`
                        , `order`
                        , `description`
                    )
                    VALUES
                    (
                        in_status
                        , in_sort
                        , in_code
                        , in_display_name
                        , in_name
                        , in_date_modified
                        , in_data
                        , in_uuid
                        , in_store_count
                        , in_key
                        , in_game_id
                        , in_active
                        , in_date_created
                        , in_type
                        , in_order
                        , in_description
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_statistic_meta_set_key_game_id`;
delimiter $$
CREATE PROCEDURE `usp_game_statistic_meta_set_key_game_id`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_sort INTEGER 
    , in_code VARCHAR (255) 
    , in_display_name VARCHAR (255) 
    , in_name VARCHAR (255) 
    , in_date_modified TIMESTAMP 
    , in_data TEXT 
    , in_uuid BINARY(16) 
    , in_store_count INTEGER 
    , in_key VARCHAR (50) 
    , in_game_id BINARY(16) 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (40) 
    , in_order VARCHAR (40) 
    , in_description VARCHAR (255) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_statistic_meta`  
                    WHERE 1=1
                    AND lower(`key`) = lower(in_key)
                    AND `game_id` = in_game_id
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_statistic_meta` 
                    SET
                        `status` = in_status
                        , `sort` = in_sort
                        , `code` = in_code
                        , `display_name` = in_display_name
                        , `name` = in_name
                        , `date_modified` = in_date_modified
                        , `data` = in_data
                        , `uuid` = in_uuid
                        , `store_count` = in_store_count
                        , `key` = in_key
                        , `game_id` = in_game_id
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `type` = in_type
                        , `order` = in_order
                        , `description` = in_description
                    WHERE 1=1
                    AND lower(`key`) = lower(in_key)
                    AND `game_id` = in_game_id
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_statistic_meta`
                    (
                        `status`
                        , `sort`
                        , `code`
                        , `display_name`
                        , `name`
                        , `date_modified`
                        , `data`
                        , `uuid`
                        , `store_count`
                        , `key`
                        , `game_id`
                        , `active`
                        , `date_created`
                        , `type`
                        , `order`
                        , `description`
                    )
                    VALUES
                    (
                        in_status
                        , in_sort
                        , in_code
                        , in_display_name
                        , in_name
                        , in_date_modified
                        , in_data
                        , in_uuid
                        , in_store_count
                        , in_key
                        , in_game_id
                        , in_active
                        , in_date_created
                        , in_type
                        , in_order
                        , in_description
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

-- ------------------------------------
-- DEL

-- ------------------------------------
-- MODEL: GameStatisticMeta - game_statistic_meta

                       
DROP PROCEDURE IF EXISTS `usp_game_statistic_meta_del_uuid`;

delimiter $$
CREATE PROCEDURE `usp_game_statistic_meta_del_uuid`
(
    in_uuid BINARY(16) 
)

BEGIN
    DELETE 
    FROM `game_statistic_meta`
    WHERE 1=1                        
    AND "uuid" = in_uuid
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_game_statistic_meta_del_key_game_id`;

delimiter $$
CREATE PROCEDURE `usp_game_statistic_meta_del_key_game_id`
(
    in_key VARCHAR (50) 
    , in_game_id BINARY(16) 
)

BEGIN
    DELETE 
    FROM `game_statistic_meta`
    WHERE 1=1                        
    AND lower("key") = lower(in_key)
    AND "game_id" = in_game_id
    ;
END$$
delimiter ;
-- ------------------------------------
-- GET

-- ------------------------------------
-- MODEL: GameStatisticMeta - game_statistic_meta

                       
DROP PROCEDURE IF EXISTS `usp_game_statistic_meta_get_uuid`;

delimiter $$
CREATE PROCEDURE `usp_game_statistic_meta_get_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `sort`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `data`
        , `uuid`
        , `store_count`
        , `key`
        , `game_id`
        , `active`
        , `date_created`
        , `type`
        , `order`
        , `description`
    FROM `game_statistic_meta`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_statistic_meta_get_code`;

delimiter $$
CREATE PROCEDURE `usp_game_statistic_meta_get_code`
(
    in_code VARCHAR (255) 
)
BEGIN
    SELECT
        `status`
        , `sort`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `data`
        , `uuid`
        , `store_count`
        , `key`
        , `game_id`
        , `active`
        , `date_created`
        , `type`
        , `order`
        , `description`
    FROM `game_statistic_meta`
    WHERE 1=1
    AND lower(`code`) = lower(in_code)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_statistic_meta_get_name`;

delimiter $$
CREATE PROCEDURE `usp_game_statistic_meta_get_name`
(
    in_name VARCHAR (255) 
)
BEGIN
    SELECT
        `status`
        , `sort`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `data`
        , `uuid`
        , `store_count`
        , `key`
        , `game_id`
        , `active`
        , `date_created`
        , `type`
        , `order`
        , `description`
    FROM `game_statistic_meta`
    WHERE 1=1
    AND lower(`name`) = lower(in_name)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_statistic_meta_get_key`;

delimiter $$
CREATE PROCEDURE `usp_game_statistic_meta_get_key`
(
    in_key VARCHAR (50) 
)
BEGIN
    SELECT
        `status`
        , `sort`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `data`
        , `uuid`
        , `store_count`
        , `key`
        , `game_id`
        , `active`
        , `date_created`
        , `type`
        , `order`
        , `description`
    FROM `game_statistic_meta`
    WHERE 1=1
    AND lower(`key`) = lower(in_key)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_statistic_meta_get_game_id`;

delimiter $$
CREATE PROCEDURE `usp_game_statistic_meta_get_game_id`
(
    in_game_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `sort`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `data`
        , `uuid`
        , `store_count`
        , `key`
        , `game_id`
        , `active`
        , `date_created`
        , `type`
        , `order`
        , `description`
    FROM `game_statistic_meta`
    WHERE 1=1
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_statistic_meta_get_key_game_id`;

delimiter $$
CREATE PROCEDURE `usp_game_statistic_meta_get_key_game_id`
(
    in_key VARCHAR (50) 
    , in_game_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `sort`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `data`
        , `uuid`
        , `store_count`
        , `key`
        , `game_id`
        , `active`
        , `date_created`
        , `type`
        , `order`
        , `description`
    FROM `game_statistic_meta`
    WHERE 1=1
    AND lower(`key`) = lower(in_key)
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

-- -----------------------------------------------------------------------------
-- PROCS

-- ------------------------------------
-- COUNT

-- ------------------------------------
-- MODEL: GameStatisticTimestamp - game_statistic_timestamp

                       
DROP PROCEDURE IF EXISTS `usp_game_statistic_timestamp_count`;
delimiter $$
CREATE PROCEDURE `usp_game_statistic_timestamp_count`
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_statistic_timestamp`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_statistic_timestamp_count_uuid`;
delimiter $$
CREATE PROCEDURE `usp_game_statistic_timestamp_count_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_statistic_timestamp`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_statistic_timestamp_count_key_profile_id_game_id_times`;
delimiter $$
CREATE PROCEDURE `usp_game_statistic_timestamp_count_key_profile_id_game_id_times`
(
    in_key VARCHAR (50) 
    , in_profile_id BINARY(16) 
    , in_game_id BINARY(16) 
    , in_timestamp TIMESTAMP 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_statistic_timestamp`
    WHERE 1=1
    AND lower(`key`) = lower(in_key)
    AND `profile_id` = in_profile_id
    AND `game_id` = in_game_id
    AND `timestamp` = in_timestamp
    ;
END$$
delimiter ;

-- ------------------------------------
-- BROWSE

-- ------------------------------------
-- MODEL: GameStatisticTimestamp - game_statistic_timestamp

                       
DROP PROCEDURE IF EXISTS `usp_game_statistic_timestamp_browse_filter`;

delimiter $$
CREATE PROCEDURE `usp_game_statistic_timestamp_browse_filter`
(
    in_page int,
    in_page_size int,
    in_sort VARCHAR(500),
    in_filter VARCHAR(4000)
    
)
BEGIN
    DECLARE total_rows int;
    SET total_rows = 0;
        
    IF (in_page = 0) THEN
        SET in_page = 1;
    END IF;    
    
    IF (in_page_size = 0) THEN
       SET in_page_size = 10;
    END IF;
    
    IF (in_sort = NULL || in_sort = '') THEN
       SET in_sort = ' date_modified ASC ';
    END IF;
    
    SET @sfields = CONCAT('', '`status`');
    SET @sfields = CONCAT(@sfields, ', `timestamp`');
    SET @sfields = CONCAT(@sfields, ', `uuid`');
    SET @sfields = CONCAT(@sfields, ', `key`');
    SET @sfields = CONCAT(@sfields, ', `date_modified`');
    SET @sfields = CONCAT(@sfields, ', `active`');
    SET @sfields = CONCAT(@sfields, ', `date_created`');
    SET @sfields = CONCAT(@sfields, ', `game_id`');
    SET @sfields = CONCAT(@sfields, ', `profile_id`');
    SET @sfields = CONCAT(@sfields, ', `type`');
    
    SET @stable = CONCAT('', ' FROM `game_statistic_timestamp` WHERE 1=1 ');
    
    SET @s = CONCAT(' ', @stable);
    SET @s = CONCAT(@s, ' ', in_filter);    
    
    SET @scount = CONCAT('SELECT COUNT(*) as `total_rows` ', @s, ' INTO @total_rows');
    
    PREPARE stmtcount FROM @scount;
    EXECUTE stmtcount;
    #SELECT @total_rows;
    SET total_rows = @total_rows;

    SET @sfields = CONCAT(total_rows, ' as `total_rows`, ', @sfields);
    SET @s = CONCAT('SELECT ', @sfields, @s);
    SET @s = CONCAT(@s, ' ORDER BY ', in_sort);
    SET @s = CONCAT(@s, ' LIMIT ', in_page);
    SET @s = CONCAT(@s, ',', in_page_size);    

    PREPARE stmt FROM @s;
    EXECUTE stmt;
    
END$$
delimiter ;
-- ------------------------------------
-- SET

-- ------------------------------------
-- MODEL: GameStatisticTimestamp - game_statistic_timestamp

                       
DROP PROCEDURE IF EXISTS `usp_game_statistic_timestamp_set_uuid`;
delimiter $$
CREATE PROCEDURE `usp_game_statistic_timestamp_set_uuid`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_timestamp TIMESTAMP 
    , in_uuid BINARY(16) 
    , in_key VARCHAR (50) 
    , in_date_modified TIMESTAMP 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_game_id BINARY(16) 
    , in_profile_id BINARY(16) 
    , in_type VARCHAR (500) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_statistic_timestamp`  
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_statistic_timestamp` 
                    SET
                        `status` = in_status
                        , `timestamp` = in_timestamp
                        , `uuid` = in_uuid
                        , `key` = in_key
                        , `date_modified` = in_date_modified
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `game_id` = in_game_id
                        , `profile_id` = in_profile_id
                        , `type` = in_type
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_statistic_timestamp`
                    (
                        `status`
                        , `timestamp`
                        , `uuid`
                        , `key`
                        , `date_modified`
                        , `active`
                        , `date_created`
                        , `game_id`
                        , `profile_id`
                        , `type`
                    )
                    VALUES
                    (
                        in_status
                        , in_timestamp
                        , in_uuid
                        , in_key
                        , in_date_modified
                        , in_active
                        , in_date_created
                        , in_game_id
                        , in_profile_id
                        , in_type
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_statistic_timestamp_set_key_profile_id_game_id_timesta`;
delimiter $$
CREATE PROCEDURE `usp_game_statistic_timestamp_set_key_profile_id_game_id_timesta`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_timestamp TIMESTAMP 
    , in_uuid BINARY(16) 
    , in_key VARCHAR (50) 
    , in_date_modified TIMESTAMP 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_game_id BINARY(16) 
    , in_profile_id BINARY(16) 
    , in_type VARCHAR (500) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_statistic_timestamp`  
                    WHERE 1=1
                    AND lower(`key`) = lower(in_key)
                    AND `profile_id` = in_profile_id
                    AND `game_id` = in_game_id
                    AND `timestamp` = in_timestamp
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_statistic_timestamp` 
                    SET
                        `status` = in_status
                        , `timestamp` = in_timestamp
                        , `uuid` = in_uuid
                        , `key` = in_key
                        , `date_modified` = in_date_modified
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `game_id` = in_game_id
                        , `profile_id` = in_profile_id
                        , `type` = in_type
                    WHERE 1=1
                    AND lower(`key`) = lower(in_key)
                    AND `profile_id` = in_profile_id
                    AND `game_id` = in_game_id
                    AND `timestamp` = in_timestamp
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_statistic_timestamp`
                    (
                        `status`
                        , `timestamp`
                        , `uuid`
                        , `key`
                        , `date_modified`
                        , `active`
                        , `date_created`
                        , `game_id`
                        , `profile_id`
                        , `type`
                    )
                    VALUES
                    (
                        in_status
                        , in_timestamp
                        , in_uuid
                        , in_key
                        , in_date_modified
                        , in_active
                        , in_date_created
                        , in_game_id
                        , in_profile_id
                        , in_type
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

-- ------------------------------------
-- DEL

-- ------------------------------------
-- MODEL: GameStatisticTimestamp - game_statistic_timestamp

                       
DROP PROCEDURE IF EXISTS `usp_game_statistic_timestamp_del_uuid`;

delimiter $$
CREATE PROCEDURE `usp_game_statistic_timestamp_del_uuid`
(
    in_uuid BINARY(16) 
)

BEGIN
    DELETE 
    FROM `game_statistic_timestamp`
    WHERE 1=1                        
    AND "uuid" = in_uuid
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_game_statistic_timestamp_del_key_profile_id_game_id_timesta`;

delimiter $$
CREATE PROCEDURE `usp_game_statistic_timestamp_del_key_profile_id_game_id_timesta`
(
    in_key VARCHAR (50) 
    , in_profile_id BINARY(16) 
    , in_game_id BINARY(16) 
    , in_timestamp TIMESTAMP 
)

BEGIN
    DELETE 
    FROM `game_statistic_timestamp`
    WHERE 1=1                        
    AND lower("key") = lower(in_key)
    AND "profile_id" = in_profile_id
    AND "game_id" = in_game_id
    AND "timestamp" = in_timestamp
    ;
END$$
delimiter ;
-- ------------------------------------
-- GET

-- ------------------------------------
-- MODEL: GameStatisticTimestamp - game_statistic_timestamp

                       
DROP PROCEDURE IF EXISTS `usp_game_statistic_timestamp_get_uuid`;

delimiter $$
CREATE PROCEDURE `usp_game_statistic_timestamp_get_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `timestamp`
        , `uuid`
        , `key`
        , `date_modified`
        , `active`
        , `date_created`
        , `game_id`
        , `profile_id`
        , `type`
    FROM `game_statistic_timestamp`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_statistic_timestamp_get_key_profile_id_game_id_timesta`;

delimiter $$
CREATE PROCEDURE `usp_game_statistic_timestamp_get_key_profile_id_game_id_timesta`
(
    in_key VARCHAR (50) 
    , in_profile_id BINARY(16) 
    , in_game_id BINARY(16) 
    , in_timestamp TIMESTAMP 
)
BEGIN
    SELECT
        `status`
        , `timestamp`
        , `uuid`
        , `key`
        , `date_modified`
        , `active`
        , `date_created`
        , `game_id`
        , `profile_id`
        , `type`
    FROM `game_statistic_timestamp`
    WHERE 1=1
    AND lower(`key`) = lower(in_key)
    AND `profile_id` = in_profile_id
    AND `game_id` = in_game_id
    AND `timestamp` = in_timestamp
    ;
END$$
delimiter ;

-- -----------------------------------------------------------------------------
-- PROCS

-- ------------------------------------
-- COUNT

-- ------------------------------------
-- MODEL: GameKeyMeta - game_key_meta

                       
DROP PROCEDURE IF EXISTS `usp_game_key_meta_count`;
delimiter $$
CREATE PROCEDURE `usp_game_key_meta_count`
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_key_meta`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_key_meta_count_uuid`;
delimiter $$
CREATE PROCEDURE `usp_game_key_meta_count_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_key_meta`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_key_meta_count_code`;
delimiter $$
CREATE PROCEDURE `usp_game_key_meta_count_code`
(
    in_code VARCHAR (255) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_key_meta`
    WHERE 1=1
    AND lower(`code`) = lower(in_code)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_key_meta_count_name`;
delimiter $$
CREATE PROCEDURE `usp_game_key_meta_count_name`
(
    in_name VARCHAR (255) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_key_meta`
    WHERE 1=1
    AND lower(`name`) = lower(in_name)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_key_meta_count_key`;
delimiter $$
CREATE PROCEDURE `usp_game_key_meta_count_key`
(
    in_key VARCHAR (50) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_key_meta`
    WHERE 1=1
    AND lower(`key`) = lower(in_key)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_key_meta_count_game_id`;
delimiter $$
CREATE PROCEDURE `usp_game_key_meta_count_game_id`
(
    in_game_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_key_meta`
    WHERE 1=1
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_key_meta_count_key_game_id`;
delimiter $$
CREATE PROCEDURE `usp_game_key_meta_count_key_game_id`
(
    in_key VARCHAR (50) 
    , in_game_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_key_meta`
    WHERE 1=1
    AND lower(`key`) = lower(in_key)
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

-- ------------------------------------
-- BROWSE

-- ------------------------------------
-- MODEL: GameKeyMeta - game_key_meta

                       
DROP PROCEDURE IF EXISTS `usp_game_key_meta_browse_filter`;

delimiter $$
CREATE PROCEDURE `usp_game_key_meta_browse_filter`
(
    in_page int,
    in_page_size int,
    in_sort VARCHAR(500),
    in_filter VARCHAR(4000)
    
)
BEGIN
    DECLARE total_rows int;
    SET total_rows = 0;
        
    IF (in_page = 0) THEN
        SET in_page = 1;
    END IF;    
    
    IF (in_page_size = 0) THEN
       SET in_page_size = 10;
    END IF;
    
    IF (in_sort = NULL || in_sort = '') THEN
       SET in_sort = ' date_modified ASC ';
    END IF;
    
    SET @sfields = CONCAT('', '`status`');
    SET @sfields = CONCAT(@sfields, ', `sort`');
    SET @sfields = CONCAT(@sfields, ', `code`');
    SET @sfields = CONCAT(@sfields, ', `display_name`');
    SET @sfields = CONCAT(@sfields, ', `name`');
    SET @sfields = CONCAT(@sfields, ', `date_modified`');
    SET @sfields = CONCAT(@sfields, ', `data`');
    SET @sfields = CONCAT(@sfields, ', `level`');
    SET @sfields = CONCAT(@sfields, ', `uuid`');
    SET @sfields = CONCAT(@sfields, ', `key_level`');
    SET @sfields = CONCAT(@sfields, ', `store_count`');
    SET @sfields = CONCAT(@sfields, ', `key`');
    SET @sfields = CONCAT(@sfields, ', `game_id`');
    SET @sfields = CONCAT(@sfields, ', `active`');
    SET @sfields = CONCAT(@sfields, ', `date_created`');
    SET @sfields = CONCAT(@sfields, ', `type`');
    SET @sfields = CONCAT(@sfields, ', `order`');
    SET @sfields = CONCAT(@sfields, ', `key_stat`');
    SET @sfields = CONCAT(@sfields, ', `description`');
    
    SET @stable = CONCAT('', ' FROM `game_key_meta` WHERE 1=1 ');
    
    SET @s = CONCAT(' ', @stable);
    SET @s = CONCAT(@s, ' ', in_filter);    
    
    SET @scount = CONCAT('SELECT COUNT(*) as `total_rows` ', @s, ' INTO @total_rows');
    
    PREPARE stmtcount FROM @scount;
    EXECUTE stmtcount;
    #SELECT @total_rows;
    SET total_rows = @total_rows;

    SET @sfields = CONCAT(total_rows, ' as `total_rows`, ', @sfields);
    SET @s = CONCAT('SELECT ', @sfields, @s);
    SET @s = CONCAT(@s, ' ORDER BY ', in_sort);
    SET @s = CONCAT(@s, ' LIMIT ', in_page);
    SET @s = CONCAT(@s, ',', in_page_size);    

    PREPARE stmt FROM @s;
    EXECUTE stmt;
    
END$$
delimiter ;
-- ------------------------------------
-- SET

-- ------------------------------------
-- MODEL: GameKeyMeta - game_key_meta

                       
DROP PROCEDURE IF EXISTS `usp_game_key_meta_set_uuid`;
delimiter $$
CREATE PROCEDURE `usp_game_key_meta_set_uuid`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_sort INTEGER 
    , in_code VARCHAR (255) 
    , in_display_name VARCHAR (255) 
    , in_name VARCHAR (255) 
    , in_date_modified TIMESTAMP 
    , in_data TEXT 
    , in_level VARCHAR (500) 
    , in_uuid BINARY(16) 
    , in_key_level VARCHAR (50) 
    , in_store_count INTEGER 
    , in_key VARCHAR (50) 
    , in_game_id BINARY(16) 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (40) 
    , in_order VARCHAR (40) 
    , in_key_stat VARCHAR (50) 
    , in_description VARCHAR (255) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_key_meta`  
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_key_meta` 
                    SET
                        `status` = in_status
                        , `sort` = in_sort
                        , `code` = in_code
                        , `display_name` = in_display_name
                        , `name` = in_name
                        , `date_modified` = in_date_modified
                        , `data` = in_data
                        , `level` = in_level
                        , `uuid` = in_uuid
                        , `key_level` = in_key_level
                        , `store_count` = in_store_count
                        , `key` = in_key
                        , `game_id` = in_game_id
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `type` = in_type
                        , `order` = in_order
                        , `key_stat` = in_key_stat
                        , `description` = in_description
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_key_meta`
                    (
                        `status`
                        , `sort`
                        , `code`
                        , `display_name`
                        , `name`
                        , `date_modified`
                        , `data`
                        , `level`
                        , `uuid`
                        , `key_level`
                        , `store_count`
                        , `key`
                        , `game_id`
                        , `active`
                        , `date_created`
                        , `type`
                        , `order`
                        , `key_stat`
                        , `description`
                    )
                    VALUES
                    (
                        in_status
                        , in_sort
                        , in_code
                        , in_display_name
                        , in_name
                        , in_date_modified
                        , in_data
                        , in_level
                        , in_uuid
                        , in_key_level
                        , in_store_count
                        , in_key
                        , in_game_id
                        , in_active
                        , in_date_created
                        , in_type
                        , in_order
                        , in_key_stat
                        , in_description
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_key_meta_set_key_game_id`;
delimiter $$
CREATE PROCEDURE `usp_game_key_meta_set_key_game_id`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_sort INTEGER 
    , in_code VARCHAR (255) 
    , in_display_name VARCHAR (255) 
    , in_name VARCHAR (255) 
    , in_date_modified TIMESTAMP 
    , in_data TEXT 
    , in_level VARCHAR (500) 
    , in_uuid BINARY(16) 
    , in_key_level VARCHAR (50) 
    , in_store_count INTEGER 
    , in_key VARCHAR (50) 
    , in_game_id BINARY(16) 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (40) 
    , in_order VARCHAR (40) 
    , in_key_stat VARCHAR (50) 
    , in_description VARCHAR (255) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_key_meta`  
                    WHERE 1=1
                    AND lower(`key`) = lower(in_key)
                    AND `game_id` = in_game_id
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_key_meta` 
                    SET
                        `status` = in_status
                        , `sort` = in_sort
                        , `code` = in_code
                        , `display_name` = in_display_name
                        , `name` = in_name
                        , `date_modified` = in_date_modified
                        , `data` = in_data
                        , `level` = in_level
                        , `uuid` = in_uuid
                        , `key_level` = in_key_level
                        , `store_count` = in_store_count
                        , `key` = in_key
                        , `game_id` = in_game_id
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `type` = in_type
                        , `order` = in_order
                        , `key_stat` = in_key_stat
                        , `description` = in_description
                    WHERE 1=1
                    AND lower(`key`) = lower(in_key)
                    AND `game_id` = in_game_id
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_key_meta`
                    (
                        `status`
                        , `sort`
                        , `code`
                        , `display_name`
                        , `name`
                        , `date_modified`
                        , `data`
                        , `level`
                        , `uuid`
                        , `key_level`
                        , `store_count`
                        , `key`
                        , `game_id`
                        , `active`
                        , `date_created`
                        , `type`
                        , `order`
                        , `key_stat`
                        , `description`
                    )
                    VALUES
                    (
                        in_status
                        , in_sort
                        , in_code
                        , in_display_name
                        , in_name
                        , in_date_modified
                        , in_data
                        , in_level
                        , in_uuid
                        , in_key_level
                        , in_store_count
                        , in_key
                        , in_game_id
                        , in_active
                        , in_date_created
                        , in_type
                        , in_order
                        , in_key_stat
                        , in_description
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_key_meta_set_key_game_id_level`;
delimiter $$
CREATE PROCEDURE `usp_game_key_meta_set_key_game_id_level`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_sort INTEGER 
    , in_code VARCHAR (255) 
    , in_display_name VARCHAR (255) 
    , in_name VARCHAR (255) 
    , in_date_modified TIMESTAMP 
    , in_data TEXT 
    , in_level VARCHAR (500) 
    , in_uuid BINARY(16) 
    , in_key_level VARCHAR (50) 
    , in_store_count INTEGER 
    , in_key VARCHAR (50) 
    , in_game_id BINARY(16) 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (40) 
    , in_order VARCHAR (40) 
    , in_key_stat VARCHAR (50) 
    , in_description VARCHAR (255) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_key_meta`  
                    WHERE 1=1
                    AND lower(`key`) = lower(in_key)
                    AND `game_id` = in_game_id
                    AND lower(`level`) = lower(in_level)
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_key_meta` 
                    SET
                        `status` = in_status
                        , `sort` = in_sort
                        , `code` = in_code
                        , `display_name` = in_display_name
                        , `name` = in_name
                        , `date_modified` = in_date_modified
                        , `data` = in_data
                        , `level` = in_level
                        , `uuid` = in_uuid
                        , `key_level` = in_key_level
                        , `store_count` = in_store_count
                        , `key` = in_key
                        , `game_id` = in_game_id
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `type` = in_type
                        , `order` = in_order
                        , `key_stat` = in_key_stat
                        , `description` = in_description
                    WHERE 1=1
                    AND lower(`key`) = lower(in_key)
                    AND `game_id` = in_game_id
                    AND lower(`level`) = lower(in_level)
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_key_meta`
                    (
                        `status`
                        , `sort`
                        , `code`
                        , `display_name`
                        , `name`
                        , `date_modified`
                        , `data`
                        , `level`
                        , `uuid`
                        , `key_level`
                        , `store_count`
                        , `key`
                        , `game_id`
                        , `active`
                        , `date_created`
                        , `type`
                        , `order`
                        , `key_stat`
                        , `description`
                    )
                    VALUES
                    (
                        in_status
                        , in_sort
                        , in_code
                        , in_display_name
                        , in_name
                        , in_date_modified
                        , in_data
                        , in_level
                        , in_uuid
                        , in_key_level
                        , in_store_count
                        , in_key
                        , in_game_id
                        , in_active
                        , in_date_created
                        , in_type
                        , in_order
                        , in_key_stat
                        , in_description
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

-- ------------------------------------
-- DEL

-- ------------------------------------
-- MODEL: GameKeyMeta - game_key_meta

                       
DROP PROCEDURE IF EXISTS `usp_game_key_meta_del_uuid`;

delimiter $$
CREATE PROCEDURE `usp_game_key_meta_del_uuid`
(
    in_uuid BINARY(16) 
)

BEGIN
    DELETE 
    FROM `game_key_meta`
    WHERE 1=1                        
    AND "uuid" = in_uuid
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_game_key_meta_del_key_game_id`;

delimiter $$
CREATE PROCEDURE `usp_game_key_meta_del_key_game_id`
(
    in_key VARCHAR (50) 
    , in_game_id BINARY(16) 
)

BEGIN
    DELETE 
    FROM `game_key_meta`
    WHERE 1=1                        
    AND lower("key") = lower(in_key)
    AND "game_id" = in_game_id
    ;
END$$
delimiter ;
-- ------------------------------------
-- GET

-- ------------------------------------
-- MODEL: GameKeyMeta - game_key_meta

                       
DROP PROCEDURE IF EXISTS `usp_game_key_meta_get_uuid`;

delimiter $$
CREATE PROCEDURE `usp_game_key_meta_get_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `sort`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `data`
        , `level`
        , `uuid`
        , `key_level`
        , `store_count`
        , `key`
        , `game_id`
        , `active`
        , `date_created`
        , `type`
        , `order`
        , `key_stat`
        , `description`
    FROM `game_key_meta`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_key_meta_get_code`;

delimiter $$
CREATE PROCEDURE `usp_game_key_meta_get_code`
(
    in_code VARCHAR (255) 
)
BEGIN
    SELECT
        `status`
        , `sort`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `data`
        , `level`
        , `uuid`
        , `key_level`
        , `store_count`
        , `key`
        , `game_id`
        , `active`
        , `date_created`
        , `type`
        , `order`
        , `key_stat`
        , `description`
    FROM `game_key_meta`
    WHERE 1=1
    AND lower(`code`) = lower(in_code)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_key_meta_get_name`;

delimiter $$
CREATE PROCEDURE `usp_game_key_meta_get_name`
(
    in_name VARCHAR (255) 
)
BEGIN
    SELECT
        `status`
        , `sort`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `data`
        , `level`
        , `uuid`
        , `key_level`
        , `store_count`
        , `key`
        , `game_id`
        , `active`
        , `date_created`
        , `type`
        , `order`
        , `key_stat`
        , `description`
    FROM `game_key_meta`
    WHERE 1=1
    AND lower(`name`) = lower(in_name)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_key_meta_get_key`;

delimiter $$
CREATE PROCEDURE `usp_game_key_meta_get_key`
(
    in_key VARCHAR (50) 
)
BEGIN
    SELECT
        `status`
        , `sort`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `data`
        , `level`
        , `uuid`
        , `key_level`
        , `store_count`
        , `key`
        , `game_id`
        , `active`
        , `date_created`
        , `type`
        , `order`
        , `key_stat`
        , `description`
    FROM `game_key_meta`
    WHERE 1=1
    AND lower(`key`) = lower(in_key)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_key_meta_get_game_id`;

delimiter $$
CREATE PROCEDURE `usp_game_key_meta_get_game_id`
(
    in_game_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `sort`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `data`
        , `level`
        , `uuid`
        , `key_level`
        , `store_count`
        , `key`
        , `game_id`
        , `active`
        , `date_created`
        , `type`
        , `order`
        , `key_stat`
        , `description`
    FROM `game_key_meta`
    WHERE 1=1
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_key_meta_get_key_game_id`;

delimiter $$
CREATE PROCEDURE `usp_game_key_meta_get_key_game_id`
(
    in_key VARCHAR (50) 
    , in_game_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `sort`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `data`
        , `level`
        , `uuid`
        , `key_level`
        , `store_count`
        , `key`
        , `game_id`
        , `active`
        , `date_created`
        , `type`
        , `order`
        , `key_stat`
        , `description`
    FROM `game_key_meta`
    WHERE 1=1
    AND lower(`key`) = lower(in_key)
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_key_meta_get_code_level`;

delimiter $$
CREATE PROCEDURE `usp_game_key_meta_get_code_level`
(
    in_code VARCHAR (255) 
    , in_level VARCHAR (500) 
)
BEGIN
    SELECT
        `status`
        , `sort`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `data`
        , `level`
        , `uuid`
        , `key_level`
        , `store_count`
        , `key`
        , `game_id`
        , `active`
        , `date_created`
        , `type`
        , `order`
        , `key_stat`
        , `description`
    FROM `game_key_meta`
    WHERE 1=1
    AND lower(`code`) = lower(in_code)
    AND lower(`level`) = lower(in_level)
    ;
END$$
delimiter ;

-- -----------------------------------------------------------------------------
-- PROCS

-- ------------------------------------
-- COUNT

-- ------------------------------------
-- MODEL: GameLevel - game_level

                       
DROP PROCEDURE IF EXISTS `usp_game_level_count`;
delimiter $$
CREATE PROCEDURE `usp_game_level_count`
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_level`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_level_count_uuid`;
delimiter $$
CREATE PROCEDURE `usp_game_level_count_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_level`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_level_count_code`;
delimiter $$
CREATE PROCEDURE `usp_game_level_count_code`
(
    in_code VARCHAR (255) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_level`
    WHERE 1=1
    AND lower(`code`) = lower(in_code)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_level_count_name`;
delimiter $$
CREATE PROCEDURE `usp_game_level_count_name`
(
    in_name VARCHAR (255) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_level`
    WHERE 1=1
    AND lower(`name`) = lower(in_name)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_level_count_key`;
delimiter $$
CREATE PROCEDURE `usp_game_level_count_key`
(
    in_key VARCHAR (50) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_level`
    WHERE 1=1
    AND lower(`key`) = lower(in_key)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_level_count_game_id`;
delimiter $$
CREATE PROCEDURE `usp_game_level_count_game_id`
(
    in_game_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_level`
    WHERE 1=1
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_level_count_key_game_id`;
delimiter $$
CREATE PROCEDURE `usp_game_level_count_key_game_id`
(
    in_key VARCHAR (50) 
    , in_game_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_level`
    WHERE 1=1
    AND lower(`key`) = lower(in_key)
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

-- ------------------------------------
-- BROWSE

-- ------------------------------------
-- MODEL: GameLevel - game_level

                       
DROP PROCEDURE IF EXISTS `usp_game_level_browse_filter`;

delimiter $$
CREATE PROCEDURE `usp_game_level_browse_filter`
(
    in_page int,
    in_page_size int,
    in_sort VARCHAR(500),
    in_filter VARCHAR(4000)
    
)
BEGIN
    DECLARE total_rows int;
    SET total_rows = 0;
        
    IF (in_page = 0) THEN
        SET in_page = 1;
    END IF;    
    
    IF (in_page_size = 0) THEN
       SET in_page_size = 10;
    END IF;
    
    IF (in_sort = NULL || in_sort = '') THEN
       SET in_sort = ' date_modified ASC ';
    END IF;
    
    SET @sfields = CONCAT('', '`status`');
    SET @sfields = CONCAT(@sfields, ', `sort`');
    SET @sfields = CONCAT(@sfields, ', `code`');
    SET @sfields = CONCAT(@sfields, ', `display_name`');
    SET @sfields = CONCAT(@sfields, ', `name`');
    SET @sfields = CONCAT(@sfields, ', `date_modified`');
    SET @sfields = CONCAT(@sfields, ', `data`');
    SET @sfields = CONCAT(@sfields, ', `uuid`');
    SET @sfields = CONCAT(@sfields, ', `key`');
    SET @sfields = CONCAT(@sfields, ', `game_id`');
    SET @sfields = CONCAT(@sfields, ', `active`');
    SET @sfields = CONCAT(@sfields, ', `date_created`');
    SET @sfields = CONCAT(@sfields, ', `type`');
    SET @sfields = CONCAT(@sfields, ', `order`');
    SET @sfields = CONCAT(@sfields, ', `description`');
    
    SET @stable = CONCAT('', ' FROM `game_level` WHERE 1=1 ');
    
    SET @s = CONCAT(' ', @stable);
    SET @s = CONCAT(@s, ' ', in_filter);    
    
    SET @scount = CONCAT('SELECT COUNT(*) as `total_rows` ', @s, ' INTO @total_rows');
    
    PREPARE stmtcount FROM @scount;
    EXECUTE stmtcount;
    #SELECT @total_rows;
    SET total_rows = @total_rows;

    SET @sfields = CONCAT(total_rows, ' as `total_rows`, ', @sfields);
    SET @s = CONCAT('SELECT ', @sfields, @s);
    SET @s = CONCAT(@s, ' ORDER BY ', in_sort);
    SET @s = CONCAT(@s, ' LIMIT ', in_page);
    SET @s = CONCAT(@s, ',', in_page_size);    

    PREPARE stmt FROM @s;
    EXECUTE stmt;
    
END$$
delimiter ;
-- ------------------------------------
-- SET

-- ------------------------------------
-- MODEL: GameLevel - game_level

                       
DROP PROCEDURE IF EXISTS `usp_game_level_set_uuid`;
delimiter $$
CREATE PROCEDURE `usp_game_level_set_uuid`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_sort INTEGER 
    , in_code VARCHAR (255) 
    , in_display_name VARCHAR (255) 
    , in_name VARCHAR (255) 
    , in_date_modified TIMESTAMP 
    , in_data TEXT 
    , in_uuid BINARY(16) 
    , in_key VARCHAR (50) 
    , in_game_id BINARY(16) 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (40) 
    , in_order VARCHAR (40) 
    , in_description VARCHAR (255) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_level`  
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_level` 
                    SET
                        `status` = in_status
                        , `sort` = in_sort
                        , `code` = in_code
                        , `display_name` = in_display_name
                        , `name` = in_name
                        , `date_modified` = in_date_modified
                        , `data` = in_data
                        , `uuid` = in_uuid
                        , `key` = in_key
                        , `game_id` = in_game_id
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `type` = in_type
                        , `order` = in_order
                        , `description` = in_description
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_level`
                    (
                        `status`
                        , `sort`
                        , `code`
                        , `display_name`
                        , `name`
                        , `date_modified`
                        , `data`
                        , `uuid`
                        , `key`
                        , `game_id`
                        , `active`
                        , `date_created`
                        , `type`
                        , `order`
                        , `description`
                    )
                    VALUES
                    (
                        in_status
                        , in_sort
                        , in_code
                        , in_display_name
                        , in_name
                        , in_date_modified
                        , in_data
                        , in_uuid
                        , in_key
                        , in_game_id
                        , in_active
                        , in_date_created
                        , in_type
                        , in_order
                        , in_description
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_level_set_key_game_id`;
delimiter $$
CREATE PROCEDURE `usp_game_level_set_key_game_id`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_sort INTEGER 
    , in_code VARCHAR (255) 
    , in_display_name VARCHAR (255) 
    , in_name VARCHAR (255) 
    , in_date_modified TIMESTAMP 
    , in_data TEXT 
    , in_uuid BINARY(16) 
    , in_key VARCHAR (50) 
    , in_game_id BINARY(16) 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (40) 
    , in_order VARCHAR (40) 
    , in_description VARCHAR (255) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_level`  
                    WHERE 1=1
                    AND lower(`key`) = lower(in_key)
                    AND `game_id` = in_game_id
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_level` 
                    SET
                        `status` = in_status
                        , `sort` = in_sort
                        , `code` = in_code
                        , `display_name` = in_display_name
                        , `name` = in_name
                        , `date_modified` = in_date_modified
                        , `data` = in_data
                        , `uuid` = in_uuid
                        , `key` = in_key
                        , `game_id` = in_game_id
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `type` = in_type
                        , `order` = in_order
                        , `description` = in_description
                    WHERE 1=1
                    AND lower(`key`) = lower(in_key)
                    AND `game_id` = in_game_id
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_level`
                    (
                        `status`
                        , `sort`
                        , `code`
                        , `display_name`
                        , `name`
                        , `date_modified`
                        , `data`
                        , `uuid`
                        , `key`
                        , `game_id`
                        , `active`
                        , `date_created`
                        , `type`
                        , `order`
                        , `description`
                    )
                    VALUES
                    (
                        in_status
                        , in_sort
                        , in_code
                        , in_display_name
                        , in_name
                        , in_date_modified
                        , in_data
                        , in_uuid
                        , in_key
                        , in_game_id
                        , in_active
                        , in_date_created
                        , in_type
                        , in_order
                        , in_description
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

-- ------------------------------------
-- DEL

-- ------------------------------------
-- MODEL: GameLevel - game_level

                       
DROP PROCEDURE IF EXISTS `usp_game_level_del_uuid`;

delimiter $$
CREATE PROCEDURE `usp_game_level_del_uuid`
(
    in_uuid BINARY(16) 
)

BEGIN
    DELETE 
    FROM `game_level`
    WHERE 1=1                        
    AND "uuid" = in_uuid
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_game_level_del_key_game_id`;

delimiter $$
CREATE PROCEDURE `usp_game_level_del_key_game_id`
(
    in_key VARCHAR (50) 
    , in_game_id BINARY(16) 
)

BEGIN
    DELETE 
    FROM `game_level`
    WHERE 1=1                        
    AND lower("key") = lower(in_key)
    AND "game_id" = in_game_id
    ;
END$$
delimiter ;
-- ------------------------------------
-- GET

-- ------------------------------------
-- MODEL: GameLevel - game_level

                       
DROP PROCEDURE IF EXISTS `usp_game_level_get_uuid`;

delimiter $$
CREATE PROCEDURE `usp_game_level_get_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `sort`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `data`
        , `uuid`
        , `key`
        , `game_id`
        , `active`
        , `date_created`
        , `type`
        , `order`
        , `description`
    FROM `game_level`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_level_get_code`;

delimiter $$
CREATE PROCEDURE `usp_game_level_get_code`
(
    in_code VARCHAR (255) 
)
BEGIN
    SELECT
        `status`
        , `sort`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `data`
        , `uuid`
        , `key`
        , `game_id`
        , `active`
        , `date_created`
        , `type`
        , `order`
        , `description`
    FROM `game_level`
    WHERE 1=1
    AND lower(`code`) = lower(in_code)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_level_get_name`;

delimiter $$
CREATE PROCEDURE `usp_game_level_get_name`
(
    in_name VARCHAR (255) 
)
BEGIN
    SELECT
        `status`
        , `sort`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `data`
        , `uuid`
        , `key`
        , `game_id`
        , `active`
        , `date_created`
        , `type`
        , `order`
        , `description`
    FROM `game_level`
    WHERE 1=1
    AND lower(`name`) = lower(in_name)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_level_get_key`;

delimiter $$
CREATE PROCEDURE `usp_game_level_get_key`
(
    in_key VARCHAR (50) 
)
BEGIN
    SELECT
        `status`
        , `sort`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `data`
        , `uuid`
        , `key`
        , `game_id`
        , `active`
        , `date_created`
        , `type`
        , `order`
        , `description`
    FROM `game_level`
    WHERE 1=1
    AND lower(`key`) = lower(in_key)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_level_get_game_id`;

delimiter $$
CREATE PROCEDURE `usp_game_level_get_game_id`
(
    in_game_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `sort`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `data`
        , `uuid`
        , `key`
        , `game_id`
        , `active`
        , `date_created`
        , `type`
        , `order`
        , `description`
    FROM `game_level`
    WHERE 1=1
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_level_get_key_game_id`;

delimiter $$
CREATE PROCEDURE `usp_game_level_get_key_game_id`
(
    in_key VARCHAR (50) 
    , in_game_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `sort`
        , `code`
        , `display_name`
        , `name`
        , `date_modified`
        , `data`
        , `uuid`
        , `key`
        , `game_id`
        , `active`
        , `date_created`
        , `type`
        , `order`
        , `description`
    FROM `game_level`
    WHERE 1=1
    AND lower(`key`) = lower(in_key)
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

-- -----------------------------------------------------------------------------
-- PROCS

-- ------------------------------------
-- COUNT

-- ------------------------------------
-- MODEL: GameAchievement - game_achievement

                       
DROP PROCEDURE IF EXISTS `usp_game_achievement_count`;
delimiter $$
CREATE PROCEDURE `usp_game_achievement_count`
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_achievement`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_achievement_count_uuid`;
delimiter $$
CREATE PROCEDURE `usp_game_achievement_count_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_achievement`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_achievement_count_profile_id_key`;
delimiter $$
CREATE PROCEDURE `usp_game_achievement_count_profile_id_key`
(
    in_profile_id BINARY(16) 
    , in_key VARCHAR (50) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_achievement`
    WHERE 1=1
    AND `profile_id` = in_profile_id
    AND lower(`key`) = lower(in_key)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_achievement_count_username`;
delimiter $$
CREATE PROCEDURE `usp_game_achievement_count_username`
(
    in_username VARCHAR (500) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_achievement`
    WHERE 1=1
    AND lower(`username`) = lower(in_username)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_achievement_count_key_profile_id_game_id`;
delimiter $$
CREATE PROCEDURE `usp_game_achievement_count_key_profile_id_game_id`
(
    in_key VARCHAR (50) 
    , in_profile_id BINARY(16) 
    , in_game_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_achievement`
    WHERE 1=1
    AND lower(`key`) = lower(in_key)
    AND `profile_id` = in_profile_id
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_achievement_count_key_profile_id_game_id_timestamp`;
delimiter $$
CREATE PROCEDURE `usp_game_achievement_count_key_profile_id_game_id_timestamp`
(
    in_key VARCHAR (50) 
    , in_profile_id BINARY(16) 
    , in_game_id BINARY(16) 
    , in_timestamp decimal 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_achievement`
    WHERE 1=1
    AND lower(`key`) = lower(in_key)
    AND `profile_id` = in_profile_id
    AND `game_id` = in_game_id
    AND `timestamp` = in_timestamp
    ;
END$$
delimiter ;

-- ------------------------------------
-- BROWSE

-- ------------------------------------
-- MODEL: GameAchievement - game_achievement

                       
DROP PROCEDURE IF EXISTS `usp_game_achievement_browse_filter`;

delimiter $$
CREATE PROCEDURE `usp_game_achievement_browse_filter`
(
    in_page int,
    in_page_size int,
    in_sort VARCHAR(500),
    in_filter VARCHAR(4000)
    
)
BEGIN
    DECLARE total_rows int;
    SET total_rows = 0;
        
    IF (in_page = 0) THEN
        SET in_page = 1;
    END IF;    
    
    IF (in_page_size = 0) THEN
       SET in_page_size = 10;
    END IF;
    
    IF (in_sort = NULL || in_sort = '') THEN
       SET in_sort = ' date_modified ASC ';
    END IF;
    
    SET @sfields = CONCAT('', '`status`');
    SET @sfields = CONCAT(@sfields, ', `username`');
    SET @sfields = CONCAT(@sfields, ', `timestamp`');
    SET @sfields = CONCAT(@sfields, ', `completed`');
    SET @sfields = CONCAT(@sfields, ', `profile_id`');
    SET @sfields = CONCAT(@sfields, ', `key`');
    SET @sfields = CONCAT(@sfields, ', `active`');
    SET @sfields = CONCAT(@sfields, ', `game_id`');
    SET @sfields = CONCAT(@sfields, ', `achievement_value`');
    SET @sfields = CONCAT(@sfields, ', `data`');
    SET @sfields = CONCAT(@sfields, ', `uuid`');
    SET @sfields = CONCAT(@sfields, ', `date_modified`');
    SET @sfields = CONCAT(@sfields, ', `level`');
    SET @sfields = CONCAT(@sfields, ', `date_created`');
    SET @sfields = CONCAT(@sfields, ', `type`');
    
    SET @stable = CONCAT('', ' FROM `game_achievement` WHERE 1=1 ');
    
    SET @s = CONCAT(' ', @stable);
    SET @s = CONCAT(@s, ' ', in_filter);    
    
    SET @scount = CONCAT('SELECT COUNT(*) as `total_rows` ', @s, ' INTO @total_rows');
    
    PREPARE stmtcount FROM @scount;
    EXECUTE stmtcount;
    #SELECT @total_rows;
    SET total_rows = @total_rows;

    SET @sfields = CONCAT(total_rows, ' as `total_rows`, ', @sfields);
    SET @s = CONCAT('SELECT ', @sfields, @s);
    SET @s = CONCAT(@s, ' ORDER BY ', in_sort);
    SET @s = CONCAT(@s, ' LIMIT ', in_page);
    SET @s = CONCAT(@s, ',', in_page_size);    

    PREPARE stmt FROM @s;
    EXECUTE stmt;
    
END$$
delimiter ;
-- ------------------------------------
-- SET

-- ------------------------------------
-- MODEL: GameAchievement - game_achievement

                       
DROP PROCEDURE IF EXISTS `usp_game_achievement_set_uuid`;
delimiter $$
CREATE PROCEDURE `usp_game_achievement_set_uuid`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_username VARCHAR (500) 
    , in_timestamp decimal 
    , in_completed int 
    , in_profile_id BINARY(16) 
    , in_key VARCHAR (50) 
    , in_active int 
    , in_game_id BINARY(16) 
    , in_achievement_value decimal 
    , in_data TEXT 
    , in_uuid BINARY(16) 
    , in_date_modified TIMESTAMP 
    , in_level VARCHAR (500) 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (500) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_achievement`  
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_achievement` 
                    SET
                        `status` = in_status
                        , `username` = in_username
                        , `timestamp` = in_timestamp
                        , `completed` = in_completed
                        , `profile_id` = in_profile_id
                        , `key` = in_key
                        , `active` = in_active
                        , `game_id` = in_game_id
                        , `achievement_value` = in_achievement_value
                        , `data` = in_data
                        , `uuid` = in_uuid
                        , `date_modified` = in_date_modified
                        , `level` = in_level
                        , `date_created` = in_date_created
                        , `type` = in_type
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_achievement`
                    (
                        `status`
                        , `username`
                        , `timestamp`
                        , `completed`
                        , `profile_id`
                        , `key`
                        , `active`
                        , `game_id`
                        , `achievement_value`
                        , `data`
                        , `uuid`
                        , `date_modified`
                        , `level`
                        , `date_created`
                        , `type`
                    )
                    VALUES
                    (
                        in_status
                        , in_username
                        , in_timestamp
                        , in_completed
                        , in_profile_id
                        , in_key
                        , in_active
                        , in_game_id
                        , in_achievement_value
                        , in_data
                        , in_uuid
                        , in_date_modified
                        , in_level
                        , in_date_created
                        , in_type
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_achievement_set_uuid_key`;
delimiter $$
CREATE PROCEDURE `usp_game_achievement_set_uuid_key`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_username VARCHAR (500) 
    , in_timestamp decimal 
    , in_completed int 
    , in_profile_id BINARY(16) 
    , in_key VARCHAR (50) 
    , in_active int 
    , in_game_id BINARY(16) 
    , in_achievement_value decimal 
    , in_data TEXT 
    , in_uuid BINARY(16) 
    , in_date_modified TIMESTAMP 
    , in_level VARCHAR (500) 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (500) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_achievement`  
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    AND lower(`key`) = lower(in_key)
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_achievement` 
                    SET
                        `status` = in_status
                        , `username` = in_username
                        , `timestamp` = in_timestamp
                        , `completed` = in_completed
                        , `profile_id` = in_profile_id
                        , `key` = in_key
                        , `active` = in_active
                        , `game_id` = in_game_id
                        , `achievement_value` = in_achievement_value
                        , `data` = in_data
                        , `uuid` = in_uuid
                        , `date_modified` = in_date_modified
                        , `level` = in_level
                        , `date_created` = in_date_created
                        , `type` = in_type
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    AND lower(`key`) = lower(in_key)
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_achievement`
                    (
                        `status`
                        , `username`
                        , `timestamp`
                        , `completed`
                        , `profile_id`
                        , `key`
                        , `active`
                        , `game_id`
                        , `achievement_value`
                        , `data`
                        , `uuid`
                        , `date_modified`
                        , `level`
                        , `date_created`
                        , `type`
                    )
                    VALUES
                    (
                        in_status
                        , in_username
                        , in_timestamp
                        , in_completed
                        , in_profile_id
                        , in_key
                        , in_active
                        , in_game_id
                        , in_achievement_value
                        , in_data
                        , in_uuid
                        , in_date_modified
                        , in_level
                        , in_date_created
                        , in_type
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_achievement_set_profile_id_key`;
delimiter $$
CREATE PROCEDURE `usp_game_achievement_set_profile_id_key`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_username VARCHAR (500) 
    , in_timestamp decimal 
    , in_completed int 
    , in_profile_id BINARY(16) 
    , in_key VARCHAR (50) 
    , in_active int 
    , in_game_id BINARY(16) 
    , in_achievement_value decimal 
    , in_data TEXT 
    , in_uuid BINARY(16) 
    , in_date_modified TIMESTAMP 
    , in_level VARCHAR (500) 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (500) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_achievement`  
                    WHERE 1=1
                    AND `profile_id` = in_profile_id
                    AND lower(`key`) = lower(in_key)
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_achievement` 
                    SET
                        `status` = in_status
                        , `username` = in_username
                        , `timestamp` = in_timestamp
                        , `completed` = in_completed
                        , `profile_id` = in_profile_id
                        , `key` = in_key
                        , `active` = in_active
                        , `game_id` = in_game_id
                        , `achievement_value` = in_achievement_value
                        , `data` = in_data
                        , `uuid` = in_uuid
                        , `date_modified` = in_date_modified
                        , `level` = in_level
                        , `date_created` = in_date_created
                        , `type` = in_type
                    WHERE 1=1
                    AND `profile_id` = in_profile_id
                    AND lower(`key`) = lower(in_key)
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_achievement`
                    (
                        `status`
                        , `username`
                        , `timestamp`
                        , `completed`
                        , `profile_id`
                        , `key`
                        , `active`
                        , `game_id`
                        , `achievement_value`
                        , `data`
                        , `uuid`
                        , `date_modified`
                        , `level`
                        , `date_created`
                        , `type`
                    )
                    VALUES
                    (
                        in_status
                        , in_username
                        , in_timestamp
                        , in_completed
                        , in_profile_id
                        , in_key
                        , in_active
                        , in_game_id
                        , in_achievement_value
                        , in_data
                        , in_uuid
                        , in_date_modified
                        , in_level
                        , in_date_created
                        , in_type
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_achievement_set_key_profile_id_game_id`;
delimiter $$
CREATE PROCEDURE `usp_game_achievement_set_key_profile_id_game_id`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_username VARCHAR (500) 
    , in_timestamp decimal 
    , in_completed int 
    , in_profile_id BINARY(16) 
    , in_key VARCHAR (50) 
    , in_active int 
    , in_game_id BINARY(16) 
    , in_achievement_value decimal 
    , in_data TEXT 
    , in_uuid BINARY(16) 
    , in_date_modified TIMESTAMP 
    , in_level VARCHAR (500) 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (500) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_achievement`  
                    WHERE 1=1
                    AND lower(`key`) = lower(in_key)
                    AND `profile_id` = in_profile_id
                    AND `game_id` = in_game_id
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_achievement` 
                    SET
                        `status` = in_status
                        , `username` = in_username
                        , `timestamp` = in_timestamp
                        , `completed` = in_completed
                        , `profile_id` = in_profile_id
                        , `key` = in_key
                        , `active` = in_active
                        , `game_id` = in_game_id
                        , `achievement_value` = in_achievement_value
                        , `data` = in_data
                        , `uuid` = in_uuid
                        , `date_modified` = in_date_modified
                        , `level` = in_level
                        , `date_created` = in_date_created
                        , `type` = in_type
                    WHERE 1=1
                    AND lower(`key`) = lower(in_key)
                    AND `profile_id` = in_profile_id
                    AND `game_id` = in_game_id
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_achievement`
                    (
                        `status`
                        , `username`
                        , `timestamp`
                        , `completed`
                        , `profile_id`
                        , `key`
                        , `active`
                        , `game_id`
                        , `achievement_value`
                        , `data`
                        , `uuid`
                        , `date_modified`
                        , `level`
                        , `date_created`
                        , `type`
                    )
                    VALUES
                    (
                        in_status
                        , in_username
                        , in_timestamp
                        , in_completed
                        , in_profile_id
                        , in_key
                        , in_active
                        , in_game_id
                        , in_achievement_value
                        , in_data
                        , in_uuid
                        , in_date_modified
                        , in_level
                        , in_date_created
                        , in_type
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_achievement_set_key_profile_id_game_id_timestamp`;
delimiter $$
CREATE PROCEDURE `usp_game_achievement_set_key_profile_id_game_id_timestamp`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_username VARCHAR (500) 
    , in_timestamp decimal 
    , in_completed int 
    , in_profile_id BINARY(16) 
    , in_key VARCHAR (50) 
    , in_active int 
    , in_game_id BINARY(16) 
    , in_achievement_value decimal 
    , in_data TEXT 
    , in_uuid BINARY(16) 
    , in_date_modified TIMESTAMP 
    , in_level VARCHAR (500) 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (500) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_achievement`  
                    WHERE 1=1
                    AND lower(`key`) = lower(in_key)
                    AND `profile_id` = in_profile_id
                    AND `game_id` = in_game_id
                    AND `timestamp` = in_timestamp
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_achievement` 
                    SET
                        `status` = in_status
                        , `username` = in_username
                        , `timestamp` = in_timestamp
                        , `completed` = in_completed
                        , `profile_id` = in_profile_id
                        , `key` = in_key
                        , `active` = in_active
                        , `game_id` = in_game_id
                        , `achievement_value` = in_achievement_value
                        , `data` = in_data
                        , `uuid` = in_uuid
                        , `date_modified` = in_date_modified
                        , `level` = in_level
                        , `date_created` = in_date_created
                        , `type` = in_type
                    WHERE 1=1
                    AND lower(`key`) = lower(in_key)
                    AND `profile_id` = in_profile_id
                    AND `game_id` = in_game_id
                    AND `timestamp` = in_timestamp
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_achievement`
                    (
                        `status`
                        , `username`
                        , `timestamp`
                        , `completed`
                        , `profile_id`
                        , `key`
                        , `active`
                        , `game_id`
                        , `achievement_value`
                        , `data`
                        , `uuid`
                        , `date_modified`
                        , `level`
                        , `date_created`
                        , `type`
                    )
                    VALUES
                    (
                        in_status
                        , in_username
                        , in_timestamp
                        , in_completed
                        , in_profile_id
                        , in_key
                        , in_active
                        , in_game_id
                        , in_achievement_value
                        , in_data
                        , in_uuid
                        , in_date_modified
                        , in_level
                        , in_date_created
                        , in_type
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

-- ------------------------------------
-- DEL

-- ------------------------------------
-- MODEL: GameAchievement - game_achievement

                       
DROP PROCEDURE IF EXISTS `usp_game_achievement_del_uuid`;

delimiter $$
CREATE PROCEDURE `usp_game_achievement_del_uuid`
(
    in_uuid BINARY(16) 
)

BEGIN
    DELETE 
    FROM `game_achievement`
    WHERE 1=1                        
    AND "uuid" = in_uuid
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_game_achievement_del_profile_id_key`;

delimiter $$
CREATE PROCEDURE `usp_game_achievement_del_profile_id_key`
(
    in_profile_id BINARY(16) 
    , in_key VARCHAR (50) 
)

BEGIN
    DELETE 
    FROM `game_achievement`
    WHERE 1=1                        
    AND "profile_id" = in_profile_id
    AND lower("key") = lower(in_key)
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_game_achievement_del_uuid_key`;

delimiter $$
CREATE PROCEDURE `usp_game_achievement_del_uuid_key`
(
    in_uuid BINARY(16) 
    , in_key VARCHAR (50) 
)

BEGIN
    DELETE 
    FROM `game_achievement`
    WHERE 1=1                        
    AND "uuid" = in_uuid
    AND lower("key") = lower(in_key)
    ;
END$$
delimiter ;
-- ------------------------------------
-- GET

-- ------------------------------------
-- MODEL: GameAchievement - game_achievement

                       
DROP PROCEDURE IF EXISTS `usp_game_achievement_get_uuid`;

delimiter $$
CREATE PROCEDURE `usp_game_achievement_get_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `username`
        , `timestamp`
        , `completed`
        , `profile_id`
        , `key`
        , `active`
        , `game_id`
        , `achievement_value`
        , `data`
        , `uuid`
        , `date_modified`
        , `level`
        , `date_created`
        , `type`
    FROM `game_achievement`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_achievement_get_profile_id_key`;

delimiter $$
CREATE PROCEDURE `usp_game_achievement_get_profile_id_key`
(
    in_profile_id BINARY(16) 
    , in_key VARCHAR (50) 
)
BEGIN
    SELECT
        `status`
        , `username`
        , `timestamp`
        , `completed`
        , `profile_id`
        , `key`
        , `active`
        , `game_id`
        , `achievement_value`
        , `data`
        , `uuid`
        , `date_modified`
        , `level`
        , `date_created`
        , `type`
    FROM `game_achievement`
    WHERE 1=1
    AND `profile_id` = in_profile_id
    AND lower(`key`) = lower(in_key)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_achievement_get_username`;

delimiter $$
CREATE PROCEDURE `usp_game_achievement_get_username`
(
    in_username VARCHAR (500) 
)
BEGIN
    SELECT
        `status`
        , `username`
        , `timestamp`
        , `completed`
        , `profile_id`
        , `key`
        , `active`
        , `game_id`
        , `achievement_value`
        , `data`
        , `uuid`
        , `date_modified`
        , `level`
        , `date_created`
        , `type`
    FROM `game_achievement`
    WHERE 1=1
    AND lower(`username`) = lower(in_username)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_achievement_get_key`;

delimiter $$
CREATE PROCEDURE `usp_game_achievement_get_key`
(
    in_key VARCHAR (50) 
)
BEGIN
    SELECT
        `status`
        , `username`
        , `timestamp`
        , `completed`
        , `profile_id`
        , `key`
        , `active`
        , `game_id`
        , `achievement_value`
        , `data`
        , `uuid`
        , `date_modified`
        , `level`
        , `date_created`
        , `type`
    FROM `game_achievement`
    WHERE 1=1
    AND lower(`key`) = lower(in_key)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_achievement_get_game_id`;

delimiter $$
CREATE PROCEDURE `usp_game_achievement_get_game_id`
(
    in_game_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `username`
        , `timestamp`
        , `completed`
        , `profile_id`
        , `key`
        , `active`
        , `game_id`
        , `achievement_value`
        , `data`
        , `uuid`
        , `date_modified`
        , `level`
        , `date_created`
        , `type`
    FROM `game_achievement`
    WHERE 1=1
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_achievement_get_key_game_id`;

delimiter $$
CREATE PROCEDURE `usp_game_achievement_get_key_game_id`
(
    in_key VARCHAR (50) 
    , in_game_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `username`
        , `timestamp`
        , `completed`
        , `profile_id`
        , `key`
        , `active`
        , `game_id`
        , `achievement_value`
        , `data`
        , `uuid`
        , `date_modified`
        , `level`
        , `date_created`
        , `type`
    FROM `game_achievement`
    WHERE 1=1
    AND lower(`key`) = lower(in_key)
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_achievement_get_profile_id_game_id`;

delimiter $$
CREATE PROCEDURE `usp_game_achievement_get_profile_id_game_id`
(
    in_profile_id BINARY(16) 
    , in_game_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `username`
        , `timestamp`
        , `completed`
        , `profile_id`
        , `key`
        , `active`
        , `game_id`
        , `achievement_value`
        , `data`
        , `uuid`
        , `date_modified`
        , `level`
        , `date_created`
        , `type`
    FROM `game_achievement`
    WHERE 1=1
    AND `profile_id` = in_profile_id
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_achievement_get_profile_id_game_id_timestamp`;

delimiter $$
CREATE PROCEDURE `usp_game_achievement_get_profile_id_game_id_timestamp`
(
    in_profile_id BINARY(16) 
    , in_game_id BINARY(16) 
    , in_timestamp decimal 
)
BEGIN
    SELECT
        `status`
        , `username`
        , `timestamp`
        , `completed`
        , `profile_id`
        , `key`
        , `active`
        , `game_id`
        , `achievement_value`
        , `data`
        , `uuid`
        , `date_modified`
        , `level`
        , `date_created`
        , `type`
    FROM `game_achievement`
    WHERE 1=1
    AND `profile_id` = in_profile_id
    AND `game_id` = in_game_id
    AND `timestamp` = in_timestamp
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_achievement_get_key_profile_id_game_id`;

delimiter $$
CREATE PROCEDURE `usp_game_achievement_get_key_profile_id_game_id`
(
    in_key VARCHAR (50) 
    , in_profile_id BINARY(16) 
    , in_game_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `username`
        , `timestamp`
        , `completed`
        , `profile_id`
        , `key`
        , `active`
        , `game_id`
        , `achievement_value`
        , `data`
        , `uuid`
        , `date_modified`
        , `level`
        , `date_created`
        , `type`
    FROM `game_achievement`
    WHERE 1=1
    AND lower(`key`) = lower(in_key)
    AND `profile_id` = in_profile_id
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_achievement_get_key_profile_id_game_id_timestamp`;

delimiter $$
CREATE PROCEDURE `usp_game_achievement_get_key_profile_id_game_id_timestamp`
(
    in_key VARCHAR (50) 
    , in_profile_id BINARY(16) 
    , in_game_id BINARY(16) 
    , in_timestamp decimal 
)
BEGIN
    SELECT
        `status`
        , `username`
        , `timestamp`
        , `completed`
        , `profile_id`
        , `key`
        , `active`
        , `game_id`
        , `achievement_value`
        , `data`
        , `uuid`
        , `date_modified`
        , `level`
        , `date_created`
        , `type`
    FROM `game_achievement`
    WHERE 1=1
    AND lower(`key`) = lower(in_key)
    AND `profile_id` = in_profile_id
    AND `game_id` = in_game_id
    AND `timestamp` = in_timestamp
    ;
END$$
delimiter ;

-- -----------------------------------------------------------------------------
-- PROCS

-- ------------------------------------
-- COUNT

-- ------------------------------------
-- MODEL: GameAchievementMeta - game_achievement_meta

                       
DROP PROCEDURE IF EXISTS `usp_game_achievement_meta_count`;
delimiter $$
CREATE PROCEDURE `usp_game_achievement_meta_count`
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_achievement_meta`
    WHERE 1=1
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_achievement_meta_count_uuid`;
delimiter $$
CREATE PROCEDURE `usp_game_achievement_meta_count_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_achievement_meta`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_achievement_meta_count_code`;
delimiter $$
CREATE PROCEDURE `usp_game_achievement_meta_count_code`
(
    in_code VARCHAR (255) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_achievement_meta`
    WHERE 1=1
    AND lower(`code`) = lower(in_code)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_achievement_meta_count_name`;
delimiter $$
CREATE PROCEDURE `usp_game_achievement_meta_count_name`
(
    in_name VARCHAR (255) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_achievement_meta`
    WHERE 1=1
    AND lower(`name`) = lower(in_name)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_achievement_meta_count_key`;
delimiter $$
CREATE PROCEDURE `usp_game_achievement_meta_count_key`
(
    in_key VARCHAR (50) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_achievement_meta`
    WHERE 1=1
    AND lower(`key`) = lower(in_key)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_achievement_meta_count_game_id`;
delimiter $$
CREATE PROCEDURE `usp_game_achievement_meta_count_game_id`
(
    in_game_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_achievement_meta`
    WHERE 1=1
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_achievement_meta_count_key_game_id`;
delimiter $$
CREATE PROCEDURE `usp_game_achievement_meta_count_key_game_id`
(
    in_key VARCHAR (50) 
    , in_game_id BINARY(16) 
)
BEGIN
    SELECT
        COUNT(*) as count
    FROM `game_achievement_meta`
    WHERE 1=1
    AND lower(`key`) = lower(in_key)
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

-- ------------------------------------
-- BROWSE

-- ------------------------------------
-- MODEL: GameAchievementMeta - game_achievement_meta

                       
DROP PROCEDURE IF EXISTS `usp_game_achievement_meta_browse_filter`;

delimiter $$
CREATE PROCEDURE `usp_game_achievement_meta_browse_filter`
(
    in_page int,
    in_page_size int,
    in_sort VARCHAR(500),
    in_filter VARCHAR(4000)
    
)
BEGIN
    DECLARE total_rows int;
    SET total_rows = 0;
        
    IF (in_page = 0) THEN
        SET in_page = 1;
    END IF;    
    
    IF (in_page_size = 0) THEN
       SET in_page_size = 10;
    END IF;
    
    IF (in_sort = NULL || in_sort = '') THEN
       SET in_sort = ' date_modified ASC ';
    END IF;
    
    SET @sfields = CONCAT('', '`status`');
    SET @sfields = CONCAT(@sfields, ', `sort`');
    SET @sfields = CONCAT(@sfields, ', `code`');
    SET @sfields = CONCAT(@sfields, ', `display_name`');
    SET @sfields = CONCAT(@sfields, ', `name`');
    SET @sfields = CONCAT(@sfields, ', `game_stat`');
    SET @sfields = CONCAT(@sfields, ', `date_modified`');
    SET @sfields = CONCAT(@sfields, ', `data`');
    SET @sfields = CONCAT(@sfields, ', `level`');
    SET @sfields = CONCAT(@sfields, ', `uuid`');
    SET @sfields = CONCAT(@sfields, ', `points`');
    SET @sfields = CONCAT(@sfields, ', `key`');
    SET @sfields = CONCAT(@sfields, ', `game_id`');
    SET @sfields = CONCAT(@sfields, ', `active`');
    SET @sfields = CONCAT(@sfields, ', `date_created`');
    SET @sfields = CONCAT(@sfields, ', `type`');
    SET @sfields = CONCAT(@sfields, ', `leaderboard`');
    SET @sfields = CONCAT(@sfields, ', `description`');
    
    SET @stable = CONCAT('', ' FROM `game_achievement_meta` WHERE 1=1 ');
    
    SET @s = CONCAT(' ', @stable);
    SET @s = CONCAT(@s, ' ', in_filter);    
    
    SET @scount = CONCAT('SELECT COUNT(*) as `total_rows` ', @s, ' INTO @total_rows');
    
    PREPARE stmtcount FROM @scount;
    EXECUTE stmtcount;
    #SELECT @total_rows;
    SET total_rows = @total_rows;

    SET @sfields = CONCAT(total_rows, ' as `total_rows`, ', @sfields);
    SET @s = CONCAT('SELECT ', @sfields, @s);
    SET @s = CONCAT(@s, ' ORDER BY ', in_sort);
    SET @s = CONCAT(@s, ' LIMIT ', in_page);
    SET @s = CONCAT(@s, ',', in_page_size);    

    PREPARE stmt FROM @s;
    EXECUTE stmt;
    
END$$
delimiter ;
-- ------------------------------------
-- SET

-- ------------------------------------
-- MODEL: GameAchievementMeta - game_achievement_meta

                       
DROP PROCEDURE IF EXISTS `usp_game_achievement_meta_set_uuid`;
delimiter $$
CREATE PROCEDURE `usp_game_achievement_meta_set_uuid`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_sort INTEGER 
    , in_code VARCHAR (255) 
    , in_display_name VARCHAR (255) 
    , in_name VARCHAR (255) 
    , in_game_stat int 
    , in_date_modified TIMESTAMP 
    , in_data TEXT 
    , in_level VARCHAR (500) 
    , in_uuid BINARY(16) 
    , in_points INTEGER 
    , in_key VARCHAR (50) 
    , in_game_id BINARY(16) 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (40) 
    , in_leaderboard int 
    , in_description VARCHAR (255) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_achievement_meta`  
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_achievement_meta` 
                    SET
                        `status` = in_status
                        , `sort` = in_sort
                        , `code` = in_code
                        , `display_name` = in_display_name
                        , `name` = in_name
                        , `game_stat` = in_game_stat
                        , `date_modified` = in_date_modified
                        , `data` = in_data
                        , `level` = in_level
                        , `uuid` = in_uuid
                        , `points` = in_points
                        , `key` = in_key
                        , `game_id` = in_game_id
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `type` = in_type
                        , `leaderboard` = in_leaderboard
                        , `description` = in_description
                    WHERE 1=1
                    AND `uuid` = in_uuid
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_achievement_meta`
                    (
                        `status`
                        , `sort`
                        , `code`
                        , `display_name`
                        , `name`
                        , `game_stat`
                        , `date_modified`
                        , `data`
                        , `level`
                        , `uuid`
                        , `points`
                        , `key`
                        , `game_id`
                        , `active`
                        , `date_created`
                        , `type`
                        , `leaderboard`
                        , `description`
                    )
                    VALUES
                    (
                        in_status
                        , in_sort
                        , in_code
                        , in_display_name
                        , in_name
                        , in_game_stat
                        , in_date_modified
                        , in_data
                        , in_level
                        , in_uuid
                        , in_points
                        , in_key
                        , in_game_id
                        , in_active
                        , in_date_created
                        , in_type
                        , in_leaderboard
                        , in_description
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_achievement_meta_set_key_game_id`;
delimiter $$
CREATE PROCEDURE `usp_game_achievement_meta_set_key_game_id`
(
    in_set_type varchar(50)                      
    , in_status VARCHAR (255) 
    , in_sort INTEGER 
    , in_code VARCHAR (255) 
    , in_display_name VARCHAR (255) 
    , in_name VARCHAR (255) 
    , in_game_stat int 
    , in_date_modified TIMESTAMP 
    , in_data TEXT 
    , in_level VARCHAR (500) 
    , in_uuid BINARY(16) 
    , in_points INTEGER 
    , in_key VARCHAR (50) 
    , in_game_id BINARY(16) 
    , in_active int 
    , in_date_created TIMESTAMP 
    , in_type VARCHAR (40) 
    , in_leaderboard int 
    , in_description VARCHAR (255) 
)
BEGIN
    BEGIN
        SET @countItems = 0;
        SET @id = 0;
        
        BEGIN
            IF (in_set_type != 'full' AND in_set_type != 'insertonly' AND in_set_type != 'updateonly') THEN
                SET in_set_type = 'full';
            END IF;
        END;

	# IF TYPE IS FULL SET (COUNT CHECK, UPDATE, INSERT)
	# GET COUNT TO CHECK
	BEGIN
	    IF (in_set_type = 'full') THEN
                BEGIN
                    -- CHECK COUNT
                    SELECT COUNT(*) INTO @countItems
                    FROM  `game_achievement_meta`  
                    WHERE 1=1
                    AND lower(`key`) = lower(in_key)
                    AND `game_id` = in_game_id
                    ;
                END;
            END IF;
	END;

        BEGIN
            # UPDATE
            IF (@countItems > 0 AND in_set_type != 'insertonly')
                OR (@countItems = 0 AND in_set_type = 'updateonly') THEN
                BEGIN		
                    UPDATE `game_achievement_meta` 
                    SET
                        `status` = in_status
                        , `sort` = in_sort
                        , `code` = in_code
                        , `display_name` = in_display_name
                        , `name` = in_name
                        , `game_stat` = in_game_stat
                        , `date_modified` = in_date_modified
                        , `data` = in_data
                        , `level` = in_level
                        , `uuid` = in_uuid
                        , `points` = in_points
                        , `key` = in_key
                        , `game_id` = in_game_id
                        , `active` = in_active
                        , `date_created` = in_date_created
                        , `type` = in_type
                        , `leaderboard` = in_leaderboard
                        , `description` = in_description
                    WHERE 1=1
                    AND lower(`key`) = lower(in_key)
                    AND `game_id` = in_game_id
                    ;
                    SET @id = 1;
                END;
            END IF;
        END;
        BEGIN
            # INSERT
            IF (@countItems = 0 AND in_set_type != 'updateonly') THEN 			
                BEGIN			
                    INSERT INTO `game_achievement_meta`
                    (
                        `status`
                        , `sort`
                        , `code`
                        , `display_name`
                        , `name`
                        , `game_stat`
                        , `date_modified`
                        , `data`
                        , `level`
                        , `uuid`
                        , `points`
                        , `key`
                        , `game_id`
                        , `active`
                        , `date_created`
                        , `type`
                        , `leaderboard`
                        , `description`
                    )
                    VALUES
                    (
                        in_status
                        , in_sort
                        , in_code
                        , in_display_name
                        , in_name
                        , in_game_stat
                        , in_date_modified
                        , in_data
                        , in_level
                        , in_uuid
                        , in_points
                        , in_key
                        , in_game_id
                        , in_active
                        , in_date_created
                        , in_type
                        , in_leaderboard
                        , in_description
                    )
                    ;
                    SET @id = 1;                  
                END;
            END IF;
        END;     
        SELECT @id as id;
    END;
END$$
delimiter ;

-- ------------------------------------
-- DEL

-- ------------------------------------
-- MODEL: GameAchievementMeta - game_achievement_meta

                       
DROP PROCEDURE IF EXISTS `usp_game_achievement_meta_del_uuid`;

delimiter $$
CREATE PROCEDURE `usp_game_achievement_meta_del_uuid`
(
    in_uuid BINARY(16) 
)

BEGIN
    DELETE 
    FROM `game_achievement_meta`
    WHERE 1=1                        
    AND "uuid" = in_uuid
    ;
END$$
delimiter ;
DROP PROCEDURE IF EXISTS `usp_game_achievement_meta_del_key_game_id`;

delimiter $$
CREATE PROCEDURE `usp_game_achievement_meta_del_key_game_id`
(
    in_key VARCHAR (50) 
    , in_game_id BINARY(16) 
)

BEGIN
    DELETE 
    FROM `game_achievement_meta`
    WHERE 1=1                        
    AND lower("key") = lower(in_key)
    AND "game_id" = in_game_id
    ;
END$$
delimiter ;
-- ------------------------------------
-- GET

-- ------------------------------------
-- MODEL: GameAchievementMeta - game_achievement_meta

                       
DROP PROCEDURE IF EXISTS `usp_game_achievement_meta_get_uuid`;

delimiter $$
CREATE PROCEDURE `usp_game_achievement_meta_get_uuid`
(
    in_uuid BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `sort`
        , `code`
        , `display_name`
        , `name`
        , `game_stat`
        , `date_modified`
        , `data`
        , `level`
        , `uuid`
        , `points`
        , `key`
        , `game_id`
        , `active`
        , `date_created`
        , `type`
        , `leaderboard`
        , `description`
    FROM `game_achievement_meta`
    WHERE 1=1
    AND `uuid` = in_uuid
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_achievement_meta_get_code`;

delimiter $$
CREATE PROCEDURE `usp_game_achievement_meta_get_code`
(
    in_code VARCHAR (255) 
)
BEGIN
    SELECT
        `status`
        , `sort`
        , `code`
        , `display_name`
        , `name`
        , `game_stat`
        , `date_modified`
        , `data`
        , `level`
        , `uuid`
        , `points`
        , `key`
        , `game_id`
        , `active`
        , `date_created`
        , `type`
        , `leaderboard`
        , `description`
    FROM `game_achievement_meta`
    WHERE 1=1
    AND lower(`code`) = lower(in_code)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_achievement_meta_get_name`;

delimiter $$
CREATE PROCEDURE `usp_game_achievement_meta_get_name`
(
    in_name VARCHAR (255) 
)
BEGIN
    SELECT
        `status`
        , `sort`
        , `code`
        , `display_name`
        , `name`
        , `game_stat`
        , `date_modified`
        , `data`
        , `level`
        , `uuid`
        , `points`
        , `key`
        , `game_id`
        , `active`
        , `date_created`
        , `type`
        , `leaderboard`
        , `description`
    FROM `game_achievement_meta`
    WHERE 1=1
    AND lower(`name`) = lower(in_name)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_achievement_meta_get_key`;

delimiter $$
CREATE PROCEDURE `usp_game_achievement_meta_get_key`
(
    in_key VARCHAR (50) 
)
BEGIN
    SELECT
        `status`
        , `sort`
        , `code`
        , `display_name`
        , `name`
        , `game_stat`
        , `date_modified`
        , `data`
        , `level`
        , `uuid`
        , `points`
        , `key`
        , `game_id`
        , `active`
        , `date_created`
        , `type`
        , `leaderboard`
        , `description`
    FROM `game_achievement_meta`
    WHERE 1=1
    AND lower(`key`) = lower(in_key)
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_achievement_meta_get_game_id`;

delimiter $$
CREATE PROCEDURE `usp_game_achievement_meta_get_game_id`
(
    in_game_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `sort`
        , `code`
        , `display_name`
        , `name`
        , `game_stat`
        , `date_modified`
        , `data`
        , `level`
        , `uuid`
        , `points`
        , `key`
        , `game_id`
        , `active`
        , `date_created`
        , `type`
        , `leaderboard`
        , `description`
    FROM `game_achievement_meta`
    WHERE 1=1
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;

DROP PROCEDURE IF EXISTS `usp_game_achievement_meta_get_key_game_id`;

delimiter $$
CREATE PROCEDURE `usp_game_achievement_meta_get_key_game_id`
(
    in_key VARCHAR (50) 
    , in_game_id BINARY(16) 
)
BEGIN
    SELECT
        `status`
        , `sort`
        , `code`
        , `display_name`
        , `name`
        , `game_stat`
        , `date_modified`
        , `data`
        , `level`
        , `uuid`
        , `points`
        , `key`
        , `game_id`
        , `active`
        , `date_created`
        , `type`
        , `leaderboard`
        , `description`
    FROM `game_achievement_meta`
    WHERE 1=1
    AND lower(`key`) = lower(in_key)
    AND `game_id` = in_game_id
    ;
END$$
delimiter ;


